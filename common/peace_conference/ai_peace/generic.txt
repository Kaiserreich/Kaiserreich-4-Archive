# Scripted AI desire for peace actions.
# See documentation.info file for more detailed scripting information.

peace_ai_desires = {
	not_at_war_with_owner = {
		peace_action_type = { take_states liberate puppet force_government }
		enable = {
			NOT = { has_war_with = ROOT.FROM.FROM }
		}
		ai_desire = -1000
	}

	generic_influence_cutoff = { #Don't do ANYTHING outside influence range
		peace_action_type = { take_states puppet force_government liberate }
		enable = {
			check_variable = { global.pc_winners_array^num > 1 }
			ROOT.FROM.FROM.FROM = {
				pc_is_state_outside_influence_for_winner = ROOT
				NOT = { is_core_of = ROOT.FROM }
				NOT = { is_claimed_by = ROOT.FROM }
				NOT = { any_neighbor_state = { pc_is_state_claimed_by = ROOT.FROM } }
				NOT = {
					any_of_scopes = {
						array = global.pc_winners_array
						NOT = { ROOT.FROM.FROM.FROM = { pc_is_state_outside_influence_for_winner = PREV } }
						pc_is_winner = yes
						is_ally_with = ROOT.FROM
					}
				}
			}
			any_of_scopes = {
				array = global.pc_winners_array
				pc_is_winner = yes
				NOT = { ROOT.FROM.FROM.FROM = { pc_is_state_outside_influence_for_winner = PREV } }
				any_of_scopes = {
					array = global.pc_winners_array
					pc_is_winner = yes
					is_ally_with = PREV
					pc_current_score > 0
				}
			}
		}
		ai_desire = -1000
	}
}
