foreign_politics = {
	CHN_found_our_faction_decision = {
		icon = GFX_decision_chinese_flag
		allowed = { always = no } #FNG, QIE, SHX, fed unifiers
		visible = {
			is_in_faction = no
		}
		available = {
			surrender_progress < 0.1
			china_is_the_unifier_of_china_trigger = yes
		}
		fire_only_once = yes
		priority = 150
		cost = 50
		ai_will_do = { factor = 100 }
		complete_effect = {
			log = "[GetLogRoot]: Decision complete CHN_found_our_faction_decision"
			if = {
				limit = { tag = FNG }
				create_faction_from_template = { template = faction_template_china_generic name = faction_FNG_wuxing_protocol } #Wuxing Means 5-Star
			}
			else_if = {
				limit = { tag = QIE }
				create_faction_from_template = { template = faction_template_china_generic name = faction_QIE_league_of_free_asian_states }
			}
			else_if = {
				limit = { has_country_leader = { character = SHX_feng_yuxiang } }
				create_faction_from_template = { template = faction_template_china_generic name = faction_SHX_feng }
				country_event = shanxi_endgame_events.20 #Towards Global Revolution
			}
			else_if = {
				limit = { has_country_leader = { character = SHX_yan_xishan } }
				create_faction_from_template = { template = faction_template_china_generic name = faction_SHX_yan }
				country_event = shanxi_endgame_events.19 #Towards Non-Alignment
			}
			else_if = {
				limit = { CHN_asia_pacific_treaty_organisation_leaders_trigger = yes }
				create_faction_from_template = faction_template_china_federalists #Asia-Pacific Treaty Organisation
			}
			else_if = {
				limit = { CHN_asia_federation_leaders_trigger = yes }
				create_faction_from_template = { template = faction_template_china_federalists name = faction_UPC_the_asian_federation }
			}
			else = {
				create_faction_from_template = faction_template_china_generic #Asia-Pacific Security Pact
			}

			hidden_effect = {
				ROOT = { news_event = CHN.foreignpolicy.200 } #Foundation of X Faction
			}

			activate_targeted_decision = { target = BRM decision = china_invite_countries_to_faction }
			activate_targeted_decision = { target = KOR decision = china_invite_countries_to_faction }
			activate_targeted_decision = { target = INC decision = china_invite_countries_to_faction }
			activate_targeted_decision = { target = VIN decision = china_invite_countries_to_faction }
			activate_targeted_decision = { target = LAO decision = china_invite_countries_to_faction }
			activate_targeted_decision = { target = CAM decision = china_invite_countries_to_faction }
			activate_targeted_decision = { target = SIA decision = china_invite_countries_to_faction }
			activate_targeted_decision = { target = MAL decision = china_invite_countries_to_faction }
			activate_targeted_decision = { target = SAR decision = china_invite_countries_to_faction }
			activate_targeted_decision = { target = PHI decision = china_invite_countries_to_faction }
		}
		fixed_random_seed = no
	}

	CHN_invite_into_east_asian_community = {
		icon = GFX_decision_hol_attract_foreign_investors

		allowed = { always = no }
		available = {
			num_of_civilian_factories_available_for_projects > 2
		}
		visible = {
			FROM = {
				exists = yes
				is_ally_with = ROOT
				NOT = {
					has_country_flag = CHN_refuse_foreign_investment_flag
					has_idea = CHN_east_asian_community_member_idea
				}
				num_of_controlled_factories < 21
			}
		}

		cost = 40
		days_remove = 50
		fire_only_once = yes
		ai_will_do = { base = 30 }
		cancel_if_not_visible = yes
		target_non_existing = yes

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete CHN_invite_into_east_asian_community"
			FROM = {
				country_event = CHN.foreignpolicy.201 #China Offers Investment
			}
		}

		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove CHN_invite_into_east_asian_community"
			FROM = {
				add_ideas = CHN_east_asian_community_member_idea
				add_opinion_modifier = {
					target = ROOT
					modifier = KR_approves_of_govt
				}
			}
		}

		cancel_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision cancel CHN_invite_into_east_asian_community"
			ROOT = {
				add_political_power = 35
			}
		}
		fixed_random_seed = no
	}
}

UPC_elections_decision_category = {
	UPC_upcoming_federal_elections_timer = {
		allowed = {
			always = no
		}
		available = {
			hidden_trigger = { always = no }
		}
		cancel_trigger = {
			NOT = { has_country_flag = UPC_actively_holding_elections_flag }
		}
		icon = GFX_decision_government_up
		is_good = yes
		priority = 100 #Should be at the top
		days_mission_timeout = 30
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_upcoming_federal_elections_timer"
		}
		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout UPC_upcoming_federal_elections_timer"
			UPC_add_one_campaign_action_effect = yes
			mark_focus_tree_layout_dirty = yes
			#The side you aren't campaigning as gains 3% popularity and you lose 3% Dem Enthusiasm. This becomes 5% popularity if you stabilised the democratic system.
			if = {
				limit = { has_country_flag = UPC_stabilise_the_democratic_system_flag }
				if = {
					limit = { has_country_flag = UPC_is_campaigning_as_CDL }
					UPC_GRA_large_effect = yes
				}
				else = {
					UPC_CDL_large_effect = yes
				}
				custom_effect_tooltip = UPC_democratic_system_stabilised_tt
			}
			else = {
				UPC_sub_enthusiasm_medium_effect = yes
				if = {
					limit = { has_country_flag = UPC_is_campaigning_as_CDL }
					UPC_GRA_medium_effect = yes
				}
				else = {
					UPC_CDL_medium_effect = yes
				}
				custom_effect_tooltip = UPC_democratic_system_non_stabilised_tt
			}

			#Impact of Our Mobilisation Law
			#Being at peace empowers the moderates, significant militarisation angers and empowers the workers
			custom_effect_tooltip = UPC_election_mobilisation_law_impact_tt
			if = {
				limit = {
					has_idea = civilian_economy
				}
				UPC_DCP_medium_effect = yes
			}
			else_if = {
				limit = {
					has_idea = low_economic_mobilisation
				}
				UPC_DCP_small_effect = yes
			}
			else_if = {
				limit = {
					has_idea = partial_economic_mobilisation
				}
				UPC_KMT_small_effect = yes
			}
			else_if = {
				limit = {
					has_idea = war_economy
				}
				UPC_KMT_medium_effect = yes
			}
			else_if = {
				limit = {
					has_idea = tot_economic_mobilisation
				}
				UPC_KMT_medium_effect = yes
				UPC_CSP_small_effect = yes
				UPC_RAD_small_effect = yes
			}

			#Impact of Our Trade Law
			#Freer Trade = More Libs because commercial class and exposure to foreign ideas; closed economy empowers the nationalists
			custom_effect_tooltip = UPC_election_trade_law_impact_tt
			if = {
				limit = {
					OR = {
						has_idea = unequal_treaties
						has_idea = unequal_treaties_lesser
					}
				}
				#Empowers both the commercial class (which like libs) and the nationalists
				UPC_REP_medium_effect = yes
				UPC_YCP_medium_effect = yes
			}
			else_if = {
				limit = {
					has_idea = free_trade
				}
				UPC_REP_medium_effect = yes
			}
			else_if = {
				limit = {
					has_idea = export_focus
				}
				UPC_REP_small_effect = yes
			}
			else_if = {
				limit = {
					has_idea = limited_exports
				}
				UPC_YCP_small_effect = yes
			}
			else_if = {
				limit = {
					has_idea = closed_economy
				}
				UPC_YCP_medium_effect = yes
			}

			#Impact of Our Conscription
			#Lower conscription = more control of the central army. Higher conscription = forced to rely on local recruits more.
			custom_effect_tooltip = UPC_election_conscription_impact_tt
			if = {
				limit = {
					has_idea = disarmed_nation
				}
				#Well, you don't want to be too disarmed.
				UPC_STA_medium_effect = yes
				UPC_REG_medium_effect = yes
			}
			else_if = {
				limit = {
					has_idea = volunteer_only
				}
				UPC_STA_medium_effect = yes
			}
			else_if = {
				limit = {
					has_idea = limited_conscription
				}
				UPC_STA_small_effect = yes
			}
			else_if = {
				limit = {
					has_idea = extensive_conscription
				}
				UPC_REG_small_effect = yes
			}
			else_if = {
				limit = {
					has_idea = service_by_requirement
				}
				UPC_REG_medium_effect = yes
			}
			else_if = {
				limit = {
					has_idea = all_adults_serve
				}
				UPC_REG_medium_effect = yes
				UPC_KMT_small_effect = yes
				UPC_YCP_small_effect = yes
			}
			else_if = {
				limit = {
					has_idea = scraping_the_barrel
				}
				#We are hugely fucked at this point so gonna meme
				UPC_REG_large_effect = yes
				UPC_KMT_medium_effect = yes
				UPC_YCP_medium_effect = yes
			}

			#Now add to the month counter variable. This timer counts down backwards - starting with 6 and going down to 1.
			if = {
				limit = { check_variable = { UPC.campaign_timer_var > 1 } }
				#Keep repeating this for half a year (counting backwards from 6).
				activate_mission = UPC_upcoming_federal_elections_timer
			}
			else = {
				if = {
					limit = {
						tag = YUN
						#This can only happen during the first election
						NOT = {
							has_country_flag = UPC_GRA_won_first_elections_flag
							has_country_flag = UPC_CDL_won_first_elections_flag
						}
						#Needs to be above a certain threshold
						OR = {
							has_game_rule = { rule = YUN_UPC_path option = YUN_UPC_XIAOYING_AUTDEM }
							has_game_rule = { rule = YUN_UPC_path option = YUN_UPC_PATH_JIYAO_AUTDEM }
							AND = {
								NOT = { has_country_flag = UPC_depoliticise_the_military_flag }
								is_power_balance_in_range = {
									id = UPC_power_balance
									range = UPC_bop_developing_realism
								}
							}
							is_power_balance_in_range = {
								id = UPC_power_balance
								range = UPC_bop_bitter_realism
							}
						}
					}
					country_event = YUN.endgame.320 #Widely contested elections
					if = {
						limit = {
							has_game_rule = { rule = YUN_UPC_path option = YUN_UPC_XIAOYING_AUTDEM }
							has_game_rule = { rule = YUN_UPC_path option = YUN_UPC_PATH_JIYAO_AUTDEM }
						}
						custom_effect_tooltip = CHN_game_rule_rigged_warning_tt
					}
				}
				else_if = {
					limit = {
						tag = SZC
						#This can only happen during the first election
						NOT = {
							has_country_flag = UPC_GRA_won_first_elections_flag
							has_country_flag = UPC_CDL_won_first_elections_flag
						}
						#Needs to be above a certain threshold - gotta be emerging -30 -> +30
						OR = {
							has_game_rule = { rule = SZC_UPC_path option = SZC_UPC_PATH_AUTDEM }
							AND = {
								NOT = { has_country_flag = UPC_depoliticise_the_military_flag }
								OR = {
									is_power_balance_in_range = {
										id = UPC_power_balance
										range = UPC_bop_developing_realism
									}
									is_power_balance_in_range = {
										id = UPC_power_balance
										range = UPC_bop_growing_idealism
									}
								}
							}
							#If you depoliticise the military, you gain a lot of leeway
							is_power_balance_in_range = {
								id = UPC_power_balance
								range = UPC_bop_bitter_realism
							}
							is_power_balance_in_range = {
								id = UPC_power_balance
								range = UPC_bop_romantic_idealism
							}
						}
					}
					country_event = sichuan_events.620 #Last Light of Chinese Democracy
					if = {
						limit = {
							has_game_rule = { rule = SZC_UPC_path option = SZC_UPC_PATH_AUTDEM }
						}
						custom_effect_tooltip = CHN_game_rule_rigged_warning_tt
					}
				}
				else = {
					country_event = UPC.federalelections.001 #The National Assembly is Elected
				}
			}
			add_to_variable = { UPC.campaign_timer_var = -1 }
		}
		cancel_effect = {
			log = "[GetLogRoot]: Decision cancel UPC_upcoming_federal_elections_timer"
		}
		fixed_random_seed = no
	}
	UPC_elections_swap_sides_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_active_mission = UPC_upcoming_federal_elections_timer
		}
		icon = GFX_decision_government_down
		priority = 90 #Should be at the top
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 30 #Prevent the AI from spamming this.
		cost = 0 #You can do this as soon as the requirements are met.
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_elections_swap_sides_decision"
			if = {
				limit = {
					has_country_flag = UPC_is_campaigning_as_CDL
				}
				clr_country_flag = UPC_is_campaigning_as_CDL
				custom_effect_tooltip = UPC_will_campaign_as_GRA_tt
			}
			else = {
				set_country_flag = UPC_is_campaigning_as_CDL
				custom_effect_tooltip = UPC_will_campaign_as_CDL_tt
			}
		}
		fixed_random_seed = no
	}
	UPC_expand_our_ground_game_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_active_mission = UPC_upcoming_federal_elections_timer
		}
		icon = GFX_decision_generic_political_rally
		priority = 75
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		days_remove = 24 #Slightly shorter so if you miss it the first few days it'll still synch up to campaign but no meta-game advantage to timing it perfectly (6 months x 4 = 24 days).
		cost = 40
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_expand_our_ground_game_decision"
			UPC_add_one_campaign_action_effect = yes
		}
		remove_effect = {
			log = "[GetLogRoot]: Decision remove UPC_expand_our_ground_game_decision"
		}
		fixed_random_seed = no
	}
	UPC_leverage_presidential_powers_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_active_mission = UPC_upcoming_federal_elections_timer
		}
		available = {
			NOT = { has_country_flag = UPC_crackdown_on_electoral_fraud_flag }
		}
		icon = GFX_decision_generic_political_address
		priority = 75
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		days_remove = 24 #Slightly shorter so if you miss it the first few days it'll still synch up to campaign but no meta-game advantage to timing it perfectly (6 months x 4 = 24 days).
		custom_cost_text = UPC_5_enthusiasm_cost
		custom_cost_trigger = {
			check_variable = { global.UPC_democratic_enthusiasm_var > 0.04 }
		}
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_leverage_presidential_powers_decision"
			hidden_effect = {
				UPC_sub_enthusiasm_large_effect = yes
			}
			if = {
				limit = {
					UPC_incumbent_is_CDL_trigger = yes
				}
				UPC_CDL_large_effect = yes
			}
			else = {
				UPC_GRA_large_effect = yes
			}
		}
		remove_effect = {
			log = "[GetLogRoot]: Decision remove UPC_leverage_presidential_powers_decision"
		}
		fixed_random_seed = no
	}
	UPC_lean_on_our_military_ties_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_active_mission = UPC_upcoming_federal_elections_timer
		}
		available = {
			NOT = { has_country_flag = UPC_depoliticise_the_military_flag }
			OR = {
				has_country_leader = { character = GXC_chen_jiongming }
				has_country_leader = { character = YUN_tang_jiyao }
				has_country_leader = { character = HNN_zhao_hengti }
			}
		}
		icon = GFX_decision_generic_military
		priority = 75
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		days_remove = 24 #Slightly shorter so if you miss it the first few days it'll still synch up to campaign but no meta-game advantage to timing it perfectly (6 months x 4 = 24 days).
		custom_cost_trigger = {
			NOT = { command_power < 20 }
		}
		custom_cost_text = CP_20
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_lean_on_our_military_ties_decision"
			hidden_effect = {
				add_command_power = -20
			}
			if = {
				limit = {
					UPC_incumbent_is_CDL_trigger = yes
				}
				UPC_CDL_large_effect = yes
			}
			else = {
				UPC_GRA_large_effect = yes
			}
			UPC_STA_large_effect = yes
			UPC_sub_enthusiasm_medium_effect = yes
		}
		remove_effect = {
			log = "[GetLogRoot]: Decision remove UPC_lean_on_our_military_ties_decision"
		}
		fixed_random_seed = no
	}
	UPC_campaign_in_state_decision = {
		allowed = { always = no } #activated by effect
		visible = {
			OR = {
				owns_state = FROM #Do not count states owned by puppets just so we don't have to take into account their politics
				FROM = { state = 326 } #Hong Kong, represents the diaspora
			}
		}
		available = {
			if = {
				limit = {
					FROM = { NOT = { state = 326 } }
				}
				controls_state = FROM
			}
		}
		highlight_states = {
			highlight_state_targets = { state = FROM }
		}
		state_target = yes
		fire_only_once = yes #You can only campaign in a state once per cycle.
		icon = GFX_decision_hand_out
		priority = 50
		ai_will_do = { factor = 100 } #AI will just campaign randomly
		custom_cost_trigger = {
			check_variable = { UPC.campaign_actions_var > 0 }
		}
		custom_cost_text = UPC_01_campaign_action
		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_campaign_in_state_decision"
			hidden_effect = {
				subtract_from_variable = { UPC.campaign_actions_var = 1 }
			}
			if = {
				limit = {
					has_country_flag = UPC_direct_presidential_elections_flag
				}
				custom_effect_tooltip = UPC_direct_presidential_elections_impact_tt
				if = {
					limit = {
						has_country_flag = UPC_is_campaigning_as_CDL
					}
					UPC_CDL_large_effect = yes
				}
				else = {
					UPC_GRA_large_effect = yes
				}
			}
			else = {
				if = {
					limit = {
						has_country_flag = UPC_is_campaigning_as_CDL
					}
					UPC_CDL_medium_effect = yes
				}
				else = {
					UPC_GRA_medium_effect = yes
				}
			}
			random_list = {
				40 = {
					custom_effect_tooltip = UPC_elections_fire_province_based_event_effect_tt
					hidden_effect = {
						UPC_elections_fire_province_based_event_effect = yes
					}
				}
				20 = {
					modifier = {
						factor = 2
						has_country_flag = UPC_crackdown_on_electoral_fraud_flag
					}
					custom_effect_tooltip = UPC_elections_fire_interest_group_event_effect_tt
					hidden_effect = {
						UPC_elections_fire_interest_group_event_effect = yes
					}
				}
				40 = {
					modifier = {
						factor = 0.5
						has_country_flag = UPC_crackdown_on_electoral_fraud_flag
					}
					if = {
						limit = { has_country_flag = UPC_crackdown_on_electoral_fraud_flag }
						custom_effect_tooltip = UPC_elections_fire_election_challenges_event_reduced_tt
					}
					else = {
						custom_effect_tooltip = UPC_elections_fire_election_challenges_event_tt
					}
					hidden_effect = {
						UPC_elections_fire_election_challenges_event_effect = yes
					}
				}
			}
		}
		fixed_random_seed = no
	}

	#Coalition Decisions
	UPC_perils_of_a_minority_government_mission = {
		allowed = {
			always = no
		}
		available = {
			has_country_flag = UPC_has_a_majority_government_flag
		}
		cancel_trigger = {
			NOT = { has_country_flag = UPC_has_federalist_democracy_flag }
		}
		icon = GFX_decision_generic_speech
		is_good = yes
		priority = 60
		days_mission_timeout = 30
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_perils_of_a_minority_government_mission"
			UPC_add_enthusiasm_mega_effect = yes
		}
		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout UPC_perils_of_a_minority_government_mission"
			UPC_sub_enthusiasm_mega_effect = yes
			activate_mission = UPC_perils_of_a_minority_government_mission
		}
		cancel_effect = {
			log = "[GetLogRoot]: Decision cancel UPC_perils_of_a_minority_government_mission"
		}
		fixed_random_seed = no
	}
	UPC_form_a_government_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_country_flag = UPC_coalition_mechanic_unlock_flag
			NOT = { has_country_flag = UPC_has_a_majority_government_flag }
		}
		available = {
			UPC_has_governing_majority_trigger = yes
		}
		icon = GFX_decision_generic_flags
		priority = 60
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = 0
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_form_a_government_decision"
			set_country_flag = UPC_has_a_majority_government_flag
		}
		fixed_random_seed = no
	}
	UPC_annual_coalition_expectations_timer = {
		allowed = {
			always = no
		}
		available = {
			hidden_trigger = { always = no }
		}
		cancel_trigger = {
			NOT = { has_country_flag = UPC_has_federalist_democracy_flag }
		}
		icon = GFX_decision_generic_political_discourse
		is_good = yes
		priority = 100 #Should be at the top
		days_mission_timeout = 360 #Deliberately under a year so will complete by reelections.
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_annual_coalition_expectations_timer"
		}
		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout UPC_annual_coalition_expectations_timer"
			#Check Coalition Partner, if they have at least one promise, they will expect one per year.
			custom_effect_tooltip = UPC_annual_coalition_expectations_timer_tt
			#KMT
			if = {
				limit = { has_country_flag = UPC_KMT_in_governing_coalition_flag }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = UPC_party_coalition_year_effect_tt
					PARTY = UPC_KMT_party
				}
				if = {
					limit = {
						check_variable = { global.UPC_KMT_promises_var > 0 }
						NOT = { has_country_flag = UPC_KMT_coalition_progress_flag }
					}
					UPC_sub_enthusiasm_medium_effect = yes
					UPC_KMT_leaves_governing_coalition_effect = yes
				}
				else = {
					if = {
						limit = { has_country_flag = UPC_KMT_coalition_progress_flag }
						clr_country_flag = UPC_KMT_coalition_progress_flag
					}
					UPC_add_enthusiasm_medium_effect = yes
				}
			}
			#CDL
			if = {
				limit = { has_country_flag = UPC_CDL_in_governing_coalition_flag }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = UPC_party_coalition_year_effect_tt
					PARTY = UPC_CDL_party
				}
				if = {
					limit = {
						check_variable = { global.UPC_CDL_promises_var > 0 }
						NOT = { has_country_flag = UPC_CDL_coalition_progress_flag }
					}
					UPC_sub_enthusiasm_medium_effect = yes
					UPC_CDL_leaves_governing_coalition_effect = yes
				}
				else = {
					if = {
						limit = { has_country_flag = UPC_CDL_coalition_progress_flag }
						clr_country_flag = UPC_CDL_coalition_progress_flag
					}
					UPC_add_enthusiasm_medium_effect = yes
				}
			}
			#GRA
			if = {
				limit = { has_country_flag = UPC_GRA_in_governing_coalition_flag }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = UPC_party_coalition_year_effect_tt
					PARTY = UPC_GRA_party
				}
				if = {
					limit = {
						check_variable = { global.UPC_GRA_promises_var > 0 }
						NOT = { has_country_flag = UPC_GRA_coalition_progress_flag }
					}
					UPC_sub_enthusiasm_medium_effect = yes
					UPC_GRA_leaves_governing_coalition_effect = yes
				}
				else = {
					if = {
						limit = { has_country_flag = UPC_GRA_coalition_progress_flag }
						clr_country_flag = UPC_GRA_coalition_progress_flag
					}
					UPC_add_enthusiasm_medium_effect = yes
				}
			}
			#REP
			if = {
				limit = { has_country_flag = UPC_REP_in_governing_coalition_flag }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = UPC_party_coalition_year_effect_tt
					PARTY = UPC_REP_party
				}
				if = {
					limit = {
						check_variable = { global.UPC_REP_promises_var > 0 }
						NOT = { has_country_flag = UPC_REP_coalition_progress_flag }
					}
					UPC_sub_enthusiasm_medium_effect = yes
					UPC_REP_leaves_governing_coalition_effect = yes
				}
				else = {
					if = {
						limit = { has_country_flag = UPC_REP_coalition_progress_flag }
						clr_country_flag = UPC_REP_coalition_progress_flag
					}
					UPC_add_enthusiasm_medium_effect = yes
				}
			}
			#DCP
			if = {
				limit = { has_country_flag = UPC_DCP_in_governing_coalition_flag }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = UPC_party_coalition_year_effect_tt
					PARTY = UPC_DCP_party
				}
				if = {
					limit = {
						check_variable = { global.UPC_DCP_promises_var > 0 }
						NOT = { has_country_flag = UPC_DCP_coalition_progress_flag }
					}
					UPC_sub_enthusiasm_medium_effect = yes
					UPC_DCP_leaves_governing_coalition_effect = yes
				}
				else = {
					if = {
						limit = { has_country_flag = UPC_DCP_coalition_progress_flag }
						clr_country_flag = UPC_DCP_coalition_progress_flag
					}
					UPC_add_enthusiasm_medium_effect = yes
				}
			}
			#STA
			if = {
				limit = { has_country_flag = UPC_STA_in_governing_coalition_flag }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = UPC_party_coalition_year_effect_tt
					PARTY = UPC_STA_party
				}
				if = {
					limit = {
						check_variable = { global.UPC_STA_promises_var > 0 }
						NOT = { has_country_flag = UPC_STA_coalition_progress_flag }
					}
					UPC_sub_enthusiasm_medium_effect = yes
					UPC_STA_leaves_governing_coalition_effect = yes
				}
				else = {
					if = {
						limit = { has_country_flag = UPC_STA_coalition_progress_flag }
						clr_country_flag = UPC_STA_coalition_progress_flag
					}
					UPC_add_enthusiasm_medium_effect = yes
				}
			}
			#REG
			if = {
				limit = { has_country_flag = UPC_REG_in_governing_coalition_flag }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = UPC_party_coalition_year_effect_tt
					PARTY = UPC_REG_party
				}
				if = {
					limit = {
						check_variable = { global.UPC_REG_promises_var > 0 }
						NOT = { has_country_flag = UPC_REG_coalition_progress_flag }
					}
					UPC_sub_enthusiasm_medium_effect = yes
					UPC_REG_leaves_governing_coalition_effect = yes
				}
				else = {
					if = {
						limit = { has_country_flag = UPC_REG_coalition_progress_flag }
						clr_country_flag = UPC_REG_coalition_progress_flag
					}
					UPC_add_enthusiasm_medium_effect = yes
				}
			}
			#YCP
			if = {
				limit = { has_country_flag = UPC_YCP_in_governing_coalition_flag }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = {
					localization_key = UPC_party_coalition_year_effect_tt
					PARTY = UPC_YCP_party
				}
				if = {
					limit = {
						check_variable = { global.UPC_YCP_promises_var > 0 }
						NOT = { has_country_flag = UPC_YCP_coalition_progress_flag }
					}
					UPC_sub_enthusiasm_medium_effect = yes
					UPC_YCP_leaves_governing_coalition_effect = yes
				}
				else = {
					if = {
						limit = { has_country_flag = UPC_YCP_coalition_progress_flag }
						clr_country_flag = UPC_YCP_coalition_progress_flag
					}
					UPC_add_enthusiasm_medium_effect = yes
				}
			}

			#Next check, if you lack a governing majority, will have problems.
			if = {
				limit = { NOT = { UPC_has_governing_majority_trigger = yes } }
				UPC_sub_enthusiasm_mega_effect = yes
				UPC_reset_majority_government_effect = yes
			}

			#NOTE: This time counts up - starting with 1 and going down to 4
			#Now add to the month counter variable
			if = {
				limit = { check_variable = { UPC.term_year_timer < 4 } }
				#Keep repeating this for 4 years
				activate_mission = UPC_annual_coalition_expectations_timer
			}
			add_to_variable = { UPC.term_year_timer = 1 }
		}
		cancel_effect = {
			log = "[GetLogRoot]: Decision cancel UPC_annual_coalition_expectations_timer"
		}
		fixed_random_seed = no
	}
	UPC_coalition_with_the_KMT_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_country_flag = UPC_coalition_mechanic_unlock_flag
			NOT = {
				has_country_flag = UPC_election_ban_KMT_flag
				has_country_flag = UPC_KMT_in_governing_coalition_flag
				has_country_flag = UPC_has_a_majority_government_flag
			}
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = global.UPC_coalition_cost_var
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_coalition_with_the_KMT_decision"
			UPC_KMT_joins_governing_coalition_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_coalition_with_the_CDL_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_country_flag = UPC_coalition_mechanic_unlock_flag
			NOT = {
				has_country_flag = UPC_CDL_in_governing_coalition_flag
				UPC_incumbent_is_CDL_trigger = yes
				has_country_flag = UPC_has_a_majority_government_flag
			}
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = global.UPC_coalition_cost_var
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_coalition_with_the_CDL_decision"
			UPC_CDL_joins_governing_coalition_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_coalition_with_the_GRA_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_country_flag = UPC_coalition_mechanic_unlock_flag
			NOT = {
				has_country_flag = UPC_GRA_in_governing_coalition_flag
				UPC_incumbent_is_GRA_trigger = yes
				has_country_flag = UPC_has_a_majority_government_flag
			}
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = global.UPC_coalition_cost_var
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_coalition_with_the_GRA_decision"
			UPC_GRA_joins_governing_coalition_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_coalition_with_the_REP_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_country_flag = UPC_coalition_mechanic_unlock_flag
			NOT = {
				has_country_flag = UPC_REP_in_governing_coalition_flag
				has_country_flag = UPC_has_a_majority_government_flag
			}
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = global.UPC_coalition_cost_var
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_coalition_with_the_REP_decision"
			UPC_REP_joins_governing_coalition_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_coalition_with_the_DCP_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_country_flag = UPC_coalition_mechanic_unlock_flag
			NOT = {
				has_country_flag = UPC_DCP_in_governing_coalition_flag
				has_country_flag = UPC_has_a_majority_government_flag
			}
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = global.UPC_coalition_cost_var
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_coalition_with_the_DCP_decision"
			UPC_DCP_joins_governing_coalition_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_coalition_with_the_STA_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_country_flag = UPC_coalition_mechanic_unlock_flag
			NOT = {
				has_country_flag = UPC_STA_in_governing_coalition_flag
				has_country_flag = UPC_has_a_majority_government_flag
			}
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = global.UPC_coalition_cost_var
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_coalition_with_the_STA_decision"
			UPC_STA_joins_governing_coalition_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_coalition_with_the_REG_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_country_flag = UPC_coalition_mechanic_unlock_flag
			NOT = {
				has_country_flag = UPC_election_ban_REG_flag
				has_country_flag = UPC_REG_in_governing_coalition_flag
				has_country_flag = UPC_has_a_majority_government_flag
			}
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = global.UPC_coalition_cost_var
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_coalition_with_the_REG_decision"
			UPC_REG_joins_governing_coalition_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_coalition_with_the_YCP_decision = {
		allowed = {
			UPC_is_potential_UPC_tag_trigger = yes
		}
		visible = {
			has_country_flag = UPC_coalition_mechanic_unlock_flag
			NOT = {
				has_country_flag = UPC_election_ban_YCP_flag
				has_country_flag = UPC_YCP_in_governing_coalition_flag
				has_country_flag = UPC_has_a_majority_government_flag
			}
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = global.UPC_coalition_cost_var
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_coalition_with_the_YCP_decision"
			UPC_YCP_joins_governing_coalition_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_appease_the_KMT_repeatable_decision = {
		allowed = {
			always = no #Activated by Effect
		}
		visible = {
			has_country_flag = UPC_KMT_in_governing_coalition_flag
			has_country_flag = UPC_has_a_majority_government_flag
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = 50 #Pricey but cheaper than a 70 day focus
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_appease_the_KMT_repeatable_decision"
			UPC_KMT_large_effect = yes
			UPC_KMT_fulfill_coalition_promises_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_appease_the_CDL_repeatable_decision = {
		allowed = {
			always = no #Activated by Effect
		}
		visible = {
			has_country_flag = UPC_CDL_in_governing_coalition_flag
			has_country_flag = UPC_has_a_majority_government_flag
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = 50 #Pricey but cheaper than a 70 day focus
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_appease_the_CDL_repeatable_decision"
			UPC_CDL_large_effect = yes
			UPC_CDL_fulfill_coalition_promises_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_appease_the_GRA_repeatable_decision = {
		allowed = {
			always = no #Activated by Effect
		}
		visible = {
			has_country_flag = UPC_GRA_in_governing_coalition_flag
			has_country_flag = UPC_has_a_majority_government_flag
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = 50 #Pricey but cheaper than a 70 day focus
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_appease_the_GRA_repeatable_decision"
			UPC_GRA_large_effect = yes
			UPC_GRA_fulfill_coalition_promises_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_appease_the_REP_repeatable_decision = {
		allowed = {
			always = no #Activated by Effect
		}
		visible = {
			has_country_flag = UPC_REP_in_governing_coalition_flag
			has_country_flag = UPC_has_a_majority_government_flag
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = 50 #Pricey but cheaper than a 70 day focus
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_appease_the_REP_repeatable_decision"
			UPC_REP_large_effect = yes
			UPC_REP_fulfill_coalition_promises_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_appease_the_DCP_repeatable_decision = {
		allowed = {
			always = no #Activated by Effect
		}
		visible = {
			has_country_flag = UPC_DCP_in_governing_coalition_flag
			has_country_flag = UPC_has_a_majority_government_flag
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = 50 #Pricey but cheaper than a 70 day focus
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_appease_the_DCP_repeatable_decision"
			UPC_DCP_large_effect = yes
			UPC_DCP_fulfill_coalition_promises_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_appease_the_STA_repeatable_decision = {
		allowed = {
			always = no #Activated by Effect
		}
		visible = {
			has_country_flag = UPC_STA_in_governing_coalition_flag
			has_country_flag = UPC_has_a_majority_government_flag
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = 50 #Pricey but cheaper than a 70 day focus
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_appease_the_STA_repeatable_decision"
			UPC_STA_large_effect = yes
			UPC_STA_fulfill_coalition_promises_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_appease_the_REG_repeatable_decision = {
		allowed = {
			always = no #Activated by Effect
		}
		visible = {
			has_country_flag = UPC_REG_in_governing_coalition_flag
			has_country_flag = UPC_has_a_majority_government_flag
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = 50 #Pricey but cheaper than a 70 day focus
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_appease_the_REG_repeatable_decision"
			UPC_REG_large_effect = yes
			UPC_REG_fulfill_coalition_promises_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_appease_the_YCP_repeatable_decision = {
		allowed = {
			always = no #Activated by Effect
		}
		visible = {
			has_country_flag = UPC_YCP_in_governing_coalition_flag
			has_country_flag = UPC_has_a_majority_government_flag
		}
		available = {

		}
		icon = GFX_decision_generic_agreement
		priority = 50
		ai_will_do = { base = 0 }
		fire_only_once = no
		days_re_enable = 0
		cost = 50 #Pricey but cheaper than a 70 day focus
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_appease_the_YCP_repeatable_decision"
			UPC_YCP_large_effect = yes
			UPC_YCP_fulfill_coalition_promises_effect = yes
		}
		fixed_random_seed = no
	}
}

UPC_road_to_unification_decision_category = {
	UPC_building_the_unifying_army_mission = { #Timer to amass 250,000 troops
		allowed = { always = no }
		available = {
			ROOT = { has_army_manpower = { size > 249999 } }
		}
		fire_only_once = yes
		icon = GFX_decision_eng_blackshirt_march
		is_good = yes
		priority = 60
		days_mission_timeout = 360
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_building_the_unifying_army_mission"
			add_war_support = 0.15
		}
		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout UPC_building_the_unifying_army_mission"
		}
		fixed_random_seed = no
	}

	UPC_the_march_of_war_mission = { #Timer to amass > 9 mil factories
		allowed = { always = no }
		available = {
			ROOT = { num_of_military_factories > 9 }
		}
		fire_only_once = yes
		icon = GFX_decision_generic_agriculture
		is_good = yes
		priority = 50
		days_mission_timeout = 360
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_the_march_of_war_mission"
			add_war_support = 0.10
		}
		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout UPC_the_march_of_war_mission"
		}
		fixed_random_seed = no
	}

	UPC_exhaust_all_other_options_mission = { #Timer to exist/enter defensive war with Beijing
		allowed = { always = no }
		available = {
			ROOT = { has_defensive_war_with = var:608.owner }
		}
		fire_only_once = yes
		icon = GFX_decision_eng_trade_unions_support
		is_good = yes
		priority = 50
		days_mission_timeout = 365
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_exhaust_all_other_options_mission"
			add_war_support = 0.20
		}
		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout UPC_exhaust_all_other_options_mission"
		}
		fixed_random_seed = no
	}

	UPC_manipulate_the_regionalists = {
		allowed = { always = no }
		icon = GFX_decision_generic_prepare_civil_war
		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				has_equipment = { infantry_equipment > 20000 }
			}
		}
		visible = {
			if = {
				limit = { original_tag = FNG }
				FROM = {
					is_ally_of_ROOT = yes
					NOT = { is_subject_of = FNG }
				}
			}
		}
		fire_only_once = no
		days_remove = 180
		custom_cost_text = 300_guns
		custom_cost_trigger = {
			NOT = { has_equipment = { infantry_equipment < 300 } }
		}
		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_manipulate_the_regionalists"
			FROM = { add_war_support = -0.03 }
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -300
			}
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_manipulate_the_regionalists"
			#Mainly just have this so the player can more easily see when they can retake this decision.
		}
		fixed_random_seed = no
	}

	UPC_appeal_to_the_moderates = {
		allowed = { always = no }
		icon = GFX_decision_generic_political_discourse
		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				has_political_power > 199
			}
		}
		visible = {
			if = {
				limit = { original_tag = FNG }
				FROM = {
					is_ally_of_ROOT = yes
					NOT = { is_subject_of = FNG }
				}
			}
		}
		fire_only_once = no
		days_remove = 180
		cost = 30
		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_appeal_to_the_moderates"
			FROM = { add_war_support = -0.03 }
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_appeal_to_the_moderates"
			#Mainly just have this so the player can more easily see when they can retake this decision.
		}
		fixed_random_seed = no
	}

	UPC_intimidate_the_defeatists = {
		allowed = { always = no }
		icon = GFX_decision_oppression
		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				command_power > 80
			}
		}
		visible = {
			if = {
				limit = { original_tag = FNG }
				FROM = {
					is_ally_of_ROOT = yes
					NOT = { is_subject_of = FNG }
				}
			}
		}
		fire_only_once = no
		days_remove = 180
		custom_cost_text = CP_30
		custom_cost_trigger = {
			NOT = { command_power < 30 }
		}
		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_intimidate_the_defeatists"
			FROM = { add_war_support = -0.03 }
			hidden_effect = {
				add_command_power = -30
			}
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_intimidate_the_defeatists"
			#Mainly just have this so the player can more easily see when they can retake this decision.
		}
		fixed_random_seed = no
	}

	UPC_build_the_case_for_unification = {
		allowed = { always = no }
		icon = GFX_decision_chinese_flag
		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				has_political_power > 150
			}
		}
		fire_only_once = no
		days_remove = 180
		cost = 30
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_build_the_case_for_unification"
			add_war_support = 0.03
		}
		remove_effect = {
			log = "[GetLogRoot]: Decision remove UPC_build_the_case_for_unification"
			#Mainly just have this so the player can more easily see when they can retake this decision.
		}
		fixed_random_seed = no
	}

	UPC_strongarm_the_warlords = {
		allowed = { always = no }
		icon = GFX_decision_eng_trade_unions_demand
		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				command_power > 80
			}
		}
		fire_only_once = no
		days_remove = 180
		custom_cost_text = CP_30
		custom_cost_trigger = {
			NOT = { command_power < 30 }
		}
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_strongarm_the_warlords"
			add_war_support = 0.03
			hidden_effect = { add_command_power = -30 }
		}
		remove_effect = {
			log = "[GetLogRoot]: Decision remove UPC_strongarm_the_warlords"
			#Mainly just have this so the player can more easily see when they can retake this decision.
		}
		fixed_random_seed = no
	}

	UPC_silence_dissenters = {
		allowed = { always = no }
		icon = GFX_decision_generic_arrest
		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				has_stability > 0.90
			}
		}
		fire_only_once = no
		days_remove = 180
		custom_cost_text = stability3
		custom_cost_trigger = {
			has_stability > 0.03
		}
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_silence_dissenters"
			add_war_support = 0.03
			hidden_effect = { add_stability = -0.03 }
		}
		remove_effect = {
			log = "[GetLogRoot]: Decision remove UPC_silence_dissenters"
			#Mainly just have this so the player can more easily see when they can retake this decision.
		}
		fixed_random_seed = no
	}
	UPC_reassure_the_moderates = {
		allowed = { always = no }
		icon = GFX_decision_generic_speech
		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				has_manpower > 50000
			}
		}
		fire_only_once = no
		days_remove = 180
		custom_cost_text = UPC_spend_30000_manpower
		custom_cost_trigger = {
			NOT = { has_manpower < 30000 }
		}
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_reassure_the_moderates"
			add_war_support = 0.03
			hidden_effect = { add_manpower = -30000 }
		}
		remove_effect = {
			log = "[GetLogRoot]: Decision remove UPC_reassure_the_moderates"
			#Mainly just have this so the player can more easily see when they can retake this decision.
		}
		fixed_random_seed = no
	}
	UPC_sabotage_peace_talks = {
		allowed = { always = no }
		visible = {
			china_is_aligned_with_federalists = yes
		}
		icon = GFX_decision_generic_break_treaty
		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				check_variable = { global.UPC_democratic_enthusiasm_var > 0.55 }
			}
		}
		fire_only_once = no
		days_remove = 180
		custom_cost_text = UPC_3_enthusiasm_cost
		custom_cost_trigger = {
			check_variable = { global.UPC_democratic_enthusiasm_var > 0.02 }
		}
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_sabotage_peace_talks"
			add_war_support = 0.03
			UPC_sub_enthusiasm_medium_effect = yes
			add_days_mission_timeout = {
				mission = UPC_exhaust_all_other_options_mission
				days = -30
			}
		}
		remove_effect = {
			log = "[GetLogRoot]: Decision remove UPC_sabotage_peace_talks"
			#Mainly just have this so the player can more easily see when they can retake this decision.
		}
		fixed_random_seed = no
	}
	UPC_promise_a_new_era = {
		allowed = { always = no }
		visible = {
			NOT = { china_is_aligned_with_federalists = yes }
		}
		icon = GFX_decision_generic_political_address
		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				NOT = { check_variable = { party_popularity@ruling_party < 0.03 } }
			}
		}
		fire_only_once = no
		days_remove = 180
		custom_cost_text = ruling_party_3
		custom_cost_trigger = {
			NOT = { check_variable = { party_popularity@ruling_party < 0.03 } }
		}
		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_promise_a_new_era"
			add_war_support = 0.03
			set_temp_variable = { ideology_change_var = -0.03 }
			change_ruling_party_popularity = yes
			add_popularity = {
				ideology = social_democrat
				popularity = 0.01
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.01
			}
		}
		remove_effect = {
			log = "[GetLogRoot]: Decision remove UPC_promise_a_new_era"
			#Mainly just have this so the player can more easily see when they can retake this decision.
		}
		fixed_random_seed = no
	}

	UPC_twin_dragons_united_by_chance = {
		icon = generic_civil_support
		allowed = { always = no }

		visible = {
			OR = {
				country_exists = UPC
				country_exists = NPA
			}
		}
		available = {
			ROOT = {
				owns_state = 608 #Beijing
			}
			FROM = {
				has_war_support < 0.6
				is_ally_of_ROOT = yes #This should mean that they're in the CUF together.
			}
		}
		fire_only_once = yes

		cost = 100

		cancel_if_not_visible = yes
		ai_will_do = {
			base = 30
			modifier = {
				factor = 2
				strength_ratio = {
					tag = FROM
					ratio < 1.25
				}
			}
			modifier = {
				factor = 100
				has_game_rule = { rule = FNG_path option = FNG_PATH_TWIN_DRAGONS_AUTDEM }
			}
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_twin_dragons_united_by_chance"
			FROM = { country_event = { id = UPC.twindragonevents.001 days = 3 } } #An Offer From a Marshal
		}
		fixed_random_seed = no
	}
}

UPC_enthusiasm_decision_category = {
	UPC_challenge_the_UPC_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		available = {
			if = {
				limit = { tag = GXC }
			}
			else_if = {
				limit = { tag = YUN }
			}
			else_if = {
				limit = { tag = SZC }
			}
			else_if = {
				limit = { tag = HNN }
			}
		}
		icon = GFX_decision_UPC_PIP_flag
		visible = {
			is_subject_of = UPC
			china_is_aligned_with_federalists = yes #Both LKMT and RKMT should be able to access this decision.
		}
		fire_only_once = yes
		ai_will_do = { factor = 0 }
		cost = 100

		complete_effect = {
			log = "[GetLogRoot]: Decision complete UPC_challenge_the_UPC_decision"
			CHN_add_to_civil_war_preparation_effect = yes
		}
		fixed_random_seed = no
	}
	UPC_eliminate_UPC_pretenders_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		available = {
			has_war = no
			OR = {
				is_neighbor_of = FROM
				FROM = { any_neighbor_country = { is_subject_of = ROOT } }
				FROM = { any_subject_country = { is_neighbor_of = ROOT } }
			}
			if = {
				limit = { tag = YUN }
				has_completed_focus = YUN_a_new_national_protection_war
			}
		}
		icon = GFX_decision_UPC_PIP_flag
		visible = {
			if = {
				limit = { country_exists = UPC }
				can_declare_war_on = UPC
			}
			is_subject = no
			country_exists = UPC
			china_alignment_federalists = yes
		}
		cancel_if_not_visible = yes
		fire_only_once = no
		ai_will_do = { factor = 0 }

		cost = 50

		cancel_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision cancel UPC_eliminate_UPC_pretenders_decision"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_eliminate_UPC_pretenders_decision"
			setup_decision_attack_ai = yes
			if = {
				limit = {
					OR = {
						UPC = { decryption_progress = { target = ROOT value > 0.5 } }
						UPC = { intel_level_over = { target = ROOT army_intel > 0.5 } }
						AND = {
							NOT = { has_tech = basic_encryption }
							UPC = { has_tech = basic_decryption }
						}
						AND = {
							NOT = { has_tech = improved_encryption }
							UPC = { has_tech = improved_decryption }
						}
						AND = {
							NOT = { has_tech = advanced_encryption }
							UPC = { has_tech = advanced_decryption }
						}
					}
				}
				UPC = { country_event = { id = china_events.0 days = 7 } }    #warning event
			}
			else = {
				UPC = { country_event = { id = china_events.0 days = 13 } }   #warning event
			}
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_eliminate_UPC_pretenders_decision"
			clear_decision_attack_AI = yes
			UPC = {
				ROOT = {
					create_wargoal = {
						target = PREV
						type = annex_everything
					}
				}
			}
			add_stability = -0.20
			add_war_support = -0.20
		}
		fixed_random_seed = no
	}
	UPC_bolster_provincial_security_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		icon = GFX_decision_generic_police_action
		visible = {
			is_subject_of = UPC
		}
		available = {
			NOT = { has_country_flag = UPC_is_interacting_with_enthusiasm_flag }
		}
		fire_only_once = no
		ai_will_do = { factor = 0 }
		custom_cost_trigger = {
			check_variable = { global.UPC_democratic_enthusiasm_var > 0.03 }
		}
		custom_cost_text = UPC_3_enthusiasm_cost
		days_remove = 120

		modifier = {
			political_power_gain = 0.25
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_bolster_provincial_security_decision"
			set_country_flag = UPC_is_interacting_with_enthusiasm_flag
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_bolster_provincial_security_decision"
			clr_country_flag = UPC_is_interacting_with_enthusiasm_flag
			UPC = { country_event = UPC.enthusiasmmechanic.001 } #Rising Authoritarianism in [FROM.GetNameDef]!
			custom_effect_tooltip = UPC_enthusiasm_bank_withdrawl_tt
		}
		fixed_random_seed = no
	}

	UPC_implement_democratic_reforms_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		icon = GFX_decision_SWI_swiss_democratic_tradition_campaign
		visible = {
			is_subject_of = UPC
		}
		available = {
			NOT = { has_country_flag = UPC_is_interacting_with_enthusiasm_flag }
		}
		fire_only_once = no
		ai_will_do = { factor = 0 }
		cost = 10
		days_remove = 120

		modifier = {
			political_power_cost = 0.25
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_implement_democratic_reforms_decision"
			set_country_flag = UPC_is_interacting_with_enthusiasm_flag
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_implement_democratic_reforms_decision"
			clr_country_flag = UPC_is_interacting_with_enthusiasm_flag
			UPC = { country_event = UPC.enthusiasmmechanic.002 } #Democratic Implementation in [FROM.GetNameDef]
			custom_effect_tooltip = UPC_enthusiasm_bank_deposit_tt
		}
		fixed_random_seed = no
	}

	UPC_protect_provincial_rights_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		icon = GFX_decision_eng_trade_unions_demand
		visible = {
			is_subject_of = UPC
		}
		available = {
			NOT = { has_country_flag = UPC_is_interacting_with_enthusiasm_flag }
		}
		fire_only_once = no
		ai_will_do = { factor = 0 }
		custom_cost_trigger = {
			check_variable = { global.UPC_democratic_enthusiasm_var > 0.03 }
		}
		custom_cost_text = UPC_3_enthusiasm_cost
		days_remove = 120

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_protect_provincial_rights_decision"
			set_country_flag = UPC_is_interacting_with_enthusiasm_flag
			add_stability = 0.03
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_protect_provincial_rights_decision"
			clr_country_flag = UPC_is_interacting_with_enthusiasm_flag
			UPC = { country_event = UPC.enthusiasmmechanic.003 } #[FROM.GetNameDef] Affirms Provincial Rights!
			custom_effect_tooltip = UPC_enthusiasm_bank_withdrawl_tt
		}

		fixed_random_seed = no
	}

	UPC_follow_federal_policies_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		icon = GFX_decision_eng_trade_unions_support
		visible = {
			is_subject_of = UPC
		}
		available = {
			NOT = { has_country_flag = UPC_is_interacting_with_enthusiasm_flag }
		}
		fire_only_once = no
		ai_will_do = { factor = 0 }
		custom_cost_trigger = {
			has_stability > 0.05
		}
		custom_cost_text = RKT_decision_cost_stb_05

		days_remove = 120

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_follow_federal_policies_decision"
			set_country_flag = UPC_is_interacting_with_enthusiasm_flag
			hidden_effect = { add_stability = -0.05 }
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_follow_federal_policies_decision"
			clr_country_flag = UPC_is_interacting_with_enthusiasm_flag
			UPC = { country_event = UPC.enthusiasmmechanic.004 } #[FROM.GetAdjective] Support for the Federal Government!
			custom_effect_tooltip = UPC_enthusiasm_bank_deposit_tt
		}
		fixed_random_seed = no
	}

	UPC_stressing_our_neutrality_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		icon = GFX_decision_scales
		visible = {
			is_subject_of = UPC
		}
		available = {
			NOT = { has_country_flag = UPC_is_interacting_with_enthusiasm_flag }
		}
		fire_only_once = no
		ai_will_do = { factor = 0 }
		custom_cost_trigger = {
			check_variable = { global.UPC_democratic_enthusiasm_var > 0.03 }
		}
		custom_cost_text = UPC_3_enthusiasm_cost
		days_remove = 120

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_stressing_our_neutrality_decision"
			set_country_flag = UPC_is_interacting_with_enthusiasm_flag
			add_war_support = 0.03
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_stressing_our_neutrality_decision"
			clr_country_flag = UPC_is_interacting_with_enthusiasm_flag
			UPC = { country_event = UPC.enthusiasmmechanic.005 } #Growing Pacifism in [FROM.GetNameDef]!
			custom_effect_tooltip = UPC_enthusiasm_bank_withdrawl_tt
		}
		fixed_random_seed = no
	}

	UPC_support_for_unification_efforts_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		icon = GFX_decision_UPC_PIP_flag
		visible = {
			is_subject_of = UPC
		}
		available = {
			NOT = { has_country_flag = UPC_is_interacting_with_enthusiasm_flag }
		}
		fire_only_once = no
		ai_will_do = { factor = 0 }
		custom_cost_trigger = {
			has_war_support > 0.05
		}
		custom_cost_text = RKT_decision_cost_ws_05

		days_remove = 120

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_support_for_unification_efforts_decision"
			set_country_flag = UPC_is_interacting_with_enthusiasm_flag
			hidden_effect = { add_war_support = -0.05 }
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_support_for_unification_efforts_decision"
			clr_country_flag = UPC_is_interacting_with_enthusiasm_flag
			UPC = { country_event = UPC.enthusiasmmechanic.006 } #[FROM.GetNameDef] Calls for National Unification!
			custom_effect_tooltip = UPC_enthusiasm_bank_deposit_tt
		}
		fixed_random_seed = no
	}

	#Warlord Campaign Decisions
	UPC_warlord_supports_GRA_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		icon = GFX_decision_UPC_PIP_flag
		visible = {
			is_subject_of = UPC
			UPC = { has_country_flag = UPC_actively_holding_elections_flag }
		}
		available = {
			NOT = { has_country_flag = UPC_is_interacting_with_campaign_flag }
		}
		fire_only_once = no
		ai_will_do = {
			factor = 0

			modifier = {
				add = 100
				UPC_incumbent_is_GRA_trigger = yes
				has_political_power > 99
			}
		}
		cost = 50

		days_remove = 120

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_warlord_supports_GRA_decision"
			set_country_flag = UPC_is_interacting_with_campaign_flag
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_warlord_supports_GRA_decision"
			clr_country_flag = UPC_is_interacting_with_campaign_flag
			UPC = { country_event = UPC.federalelections.310 } #[FROM.GetNameDefCap] Supports the GRA!
			custom_effect_tooltip = UPC_campaign_denial_tt
		}
		fixed_random_seed = no
	}
	UPC_warlord_supports_CDL_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		icon = GFX_decision_generic_political_rally
		visible = {
			is_subject_of = UPC
			UPC = { has_country_flag = UPC_actively_holding_elections_flag }
		}
		available = {
			NOT = { has_country_flag = UPC_is_interacting_with_campaign_flag }
		}
		fire_only_once = no
		ai_will_do = {
			factor = 0

			modifier = {
				add = 100
				UPC_incumbent_is_CDL_trigger = yes
				has_political_power > 99
			}
		}
		cost = 50

		days_remove = 120

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_warlord_supports_CDL_decision"
			set_country_flag = UPC_is_interacting_with_campaign_flag
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_warlord_supports_CDL_decision"
			clr_country_flag = UPC_is_interacting_with_campaign_flag
			UPC = { country_event = UPC.federalelections.311 } #[FROM.GetNameDefCap] Supports the CDL!
			custom_effect_tooltip = UPC_campaign_denial_tt
		}
		fixed_random_seed = no
	}
	UPC_warlord_supports_liberals_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		icon = GFX_decision_chinese_flag
		visible = {
			is_subject_of = UPC
			UPC = { has_country_flag = UPC_actively_holding_elections_flag }
		}
		available = {
			NOT = { has_country_flag = UPC_is_interacting_with_campaign_flag }
		}
		fire_only_once = no
		ai_will_do = {
			factor = 0

			modifier = {
				add = 100
				china_alignment_chinese_southern_republican = yes
				has_political_power > 99
			}
		}
		cost = 50

		days_remove = 120

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_warlord_supports_liberals_decision"
			set_country_flag = UPC_is_interacting_with_campaign_flag
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_warlord_supports_liberals_decision"
			clr_country_flag = UPC_is_interacting_with_campaign_flag
			UPC = { country_event = UPC.federalelections.312 } #[FROM.GetNameDefCap] Supports the Liberals!
			custom_effect_tooltip = UPC_campaign_denial_tt
		}
		fixed_random_seed = no
	}
	UPC_warlord_supports_regionalism_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		icon = GFX_decision_generic_independence
		visible = {
			is_subject_of = UPC
			UPC = { has_country_flag = UPC_actively_holding_elections_flag }
		}
		available = {
			NOT = { has_country_flag = UPC_is_interacting_with_campaign_flag }
		}
		fire_only_once = no
		ai_will_do = {
			factor = 0

			modifier = {
				add = 100
				china_is_unaligned = yes
				has_political_power > 99
			}
		}
		custom_cost_trigger = {
			NOT = { command_power < 50 }
		}
		custom_cost_text = CP_50

		days_remove = 120

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_warlord_supports_regionalism_decision"
			set_country_flag = UPC_is_interacting_with_campaign_flag
			hidden_effect = {
				add_command_power = -50
			}
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_warlord_supports_regionalism_decision"
			clr_country_flag = UPC_is_interacting_with_campaign_flag
			UPC = { country_event = UPC.federalelections.313 } #[FROM.GetNameDefCap] Supports Regionalism!
			custom_effect_tooltip = UPC_campaign_denial_tt
		}
		fixed_random_seed = no
	}
	UPC_warlord_embrace_radicalism_decision = {
		allowed = { is_chinese_or_potential_chinese_tag = yes }
		icon = GFX_decision_lkmt_flag
		visible = {
			is_subject_of = UPC
			UPC = { has_country_flag = UPC_actively_holding_elections_flag }
		}
		available = {
			NOT = { has_country_flag = UPC_is_interacting_with_campaign_flag }
		}
		fire_only_once = no
		ai_will_do = { factor = 0 } #Would never
		custom_cost_trigger = {
			NOT = { command_power < 50 }
		}
		custom_cost_text = CP_50

		days_remove = 120

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_warlord_embrace_radicalism_decision"
			set_country_flag = UPC_is_interacting_with_campaign_flag
			hidden_effect = {
				add_command_power = -50
			}
		}
		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove UPC_warlord_embrace_radicalism_decision"
			clr_country_flag = UPC_is_interacting_with_campaign_flag
			UPC = { country_event = UPC.federalelections.314 } #[FROM.GetNameDefCap] Supports the Radicals!
			custom_effect_tooltip = UPC_campaign_denial_tt
		}
		fixed_random_seed = no
	}
}

chinese_unification = {
	UPC_enter_negotiations_with_guangzhou = {
		icon = generic_civil_support
		priority = 80

		allowed = {
			is_chinese_or_potential_chinese_tag = yes
		}

		visible = {
			NOT = {
				tag = UPC
				tag = NPA
			}
			owns_state = 608
		}
		targets = { UPC NPA }
		target_trigger = {
			FROM = {
				exists = yes
				has_completed_focus = UPC_the_path_of_negotiation
				has_country_flag = china_is_potential_government
				NOT = { has_war_with = ROOT }
			}
		}
		cost = 0
		fire_only_once = yes

		ai_will_do = { factor = 100 } #If available, will take this

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete UPC_enter_negotiations_with_guangzhou"
			activate_targeted_decision = { target = FROM decision = UPC_manipulate_the_regionalists }
			activate_targeted_decision = { target = FROM decision = UPC_appeal_to_the_moderates }
			activate_targeted_decision = { target = FROM decision = UPC_intimidate_the_defeatists }
			custom_effect_tooltip = tooltip_white_line
			country_event = { id = UPC.unificationtree.010 days = 1 } #Guangzhou Delegates Arrive
		}
		fixed_random_seed = no
	}
}
