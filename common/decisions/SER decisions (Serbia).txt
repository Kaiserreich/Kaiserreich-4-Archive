SER_1936_election_panel = {
	SER_black_monday_timer = {
		icon = generic_prepare_civil_war

		allowed = { always = no } #manually activated

		available = {
			custom_trigger_tooltip = {
				tooltip = SER_has_reduced_black_monday
				has_idea = SER_black_monday_2
			}
		}

		is_good = no
		fire_only_once = yes
		days_mission_timeout = 60

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_black_monday_timer"
			add_political_power = 50
			add_stability = 0.05
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SER_black_monday_timer"
			custom_effect_tooltip = SER_republicans_drop_socialists_gain
			add_to_variable = { SER_republican_strength = -10 }
			add_to_variable = { SER_socialist_strength = 10 }
		}
	}
	SER_revanchism_timer = {
		icon = generic_prepare_civil_war

		allowed = { always = no } #manually activated

		available = {
			OR = {
				has_completed_focus = SER_conscription
				has_completed_focus = SER_raise_reserve_divisions
				has_completed_focus = SER_leave_free_trade_area
				has_completed_focus = SER_Form_The_Military_Council
			}
		}

		is_good = no
		fire_only_once = yes
		days_mission_timeout = 45

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_revanchism_timer"
			add_manpower = 1500
			SER_reduce_scars = yes
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SER_revanchism_timer"
			custom_effect_tooltip = SER_radicals_gain_republicans_drop
			add_to_variable = { SER_republican_strength = -10 }
			add_to_variable = { SER_radical_strength = 10 }
		}
	}
}
SER_socialist_workers_decisions = {
	SER_prove_to_the_people = {
		icon = GFX_decision_generic_civil_support

		allowed = { always = no } #manually activated

		available = {
			SER_has_black_monday = no
			owns_state = 767
			has_completed_focus = SER_practical_action_programme
			OR = {
				has_completed_focus = SER_consolidate_taxation
				has_completed_focus = SER_health_insurance
				has_completed_focus = SER_democratize_courts_bureaucracy
			}
		}
		cancel_trigger = {
			NOT = { has_government = radical_socialist }
		}

		is_good = no
		days_mission_timeout = 365

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_prove_to_the_people"
			add_stability = 0.05
			add_to_variable = { SER_socialist_control = 1 }
			country_event = serbia.59
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SER_prove_to_the_people"
			if = {
				limit = {
					is_ai = yes
					has_game_rule = { rule = SER_path option = SER_PATH_RADSOC }
				}
				activate_mission = SER_prove_to_the_people
			}
			else = {
				country_event = serbia.63
			}
		}
	}
	SER_defang_the_army = {
		icon = GFX_decision_generic_army_support

		allowed = { always = no } #manually activated

		available = {
			if = {
				limit = { is_ai = no }
				has_army_experience < 50
			}
			owns_state = 767
			custom_trigger_tooltip = {
				tooltip = SER_konspiracija_under_level_2_tt
				national_populist < 0.1
			}
		}
		cancel_trigger = {
			NOT = { has_government = radical_socialist }
		}

		is_good = no
		days_mission_timeout = 365

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_defang_the_army"
			add_stability = 0.05
			add_to_variable = { SER_socialist_control = 1 }
			country_event = serbia.60
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SER_defang_the_army"
			if = {
				limit = {
					is_ai = yes
					has_game_rule = { rule = SER_path option = SER_PATH_RADSOC }
				}
				activate_mission = SER_defang_the_army
			}
			else = {
				country_event = serbia.63
			}
		}
	}
	SER_merge_the_coalition_parties = {
		icon = GFX_decision_generic_political_discourse

		allowed = { always = no } #manually activated

		available = {
			radical_socialist > 0.4
		}
		cancel_trigger = {
			NOT = { has_government = radical_socialist }
		}

		is_good = no
		days_mission_timeout = 365

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_merge_the_coalition_parties"
			add_stability = 0.05
			add_to_variable = { SER_socialist_control = 1 }
			country_event = serbia.61
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SER_merge_the_coalition_parties"
			if = {
				limit = {
					is_ai = yes
					has_game_rule = { rule = SER_path option = SER_PATH_RADSOC }
				}
				activate_mission = SER_merge_the_coalition_parties
			}
			else = {
				country_event = serbia.63
			}
		}
	}
	SER_complete_the_revolution = {
		icon = GFX_decision_generic_political_discourse

		allowed = { always = no } #manually activated

		available = {
			has_completed_focus = SER_Third_Revolution
		}
		cancel_trigger = {
			NOT = { has_government = radical_socialist }
		}

		is_good = no
		days_mission_timeout = 150

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SER_complete_the_revolution"
			if = {
				limit = {
					is_ai = yes
					has_game_rule = { rule = SER_path option = SER_PATH_RADSOC }
				}
				activate_mission = SER_complete_the_revolution
			}
			else = {
				hidden_effect = {
					remove_mission = SER_merge_the_coalition_parties
					remove_mission = SER_defang_the_army
					remove_mission = SER_prove_to_the_people
				}
				country_event = serbia.63
			}
		}
	}
}
SER_imro_decisions = {
	SER_IMRO_reb_lull_phase = {
		icon = generic_prepare_civil_war

		allowed = { always = no } #activated by effect

		available = {
			NOT = { has_war_with = MAC }
		}

		is_good = no
		selectable_mission = no
		days_mission_timeout = 90

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SER_IMRO_reb_lull_phase"
			activate_mission = SER_IMRO_reb_action_phase
			clr_global_flag = SER_imro_dont_attack
			hidden_effect = {
				country_event = { id = serbia.27 days = 2 }
			}
			hidden_effect = { # short buff to give IMRO a grace period
				if = {
					limit = {
						is_ai = no
					}
					MAC = {
						every_army_leader = {
							add_temporary_buff_to_units = {
								org_damage_multiplier = -0.5
								str_damage_multiplier = -0.5
								days = 30
							}
						}
					}
				}
			}
		}
	}
	SER_IMRO_reb_action_phase = {
		icon = generic_prepare_civil_war

		allowed = { always = no } #activated by effect

		available = {
			NOT = { has_war_with = MAC }
		}

		is_good = no
		selectable_mission = no
		days_mission_timeout = 90

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SER_IMRO_reb_action_phase"
			activate_mission = SER_IMRO_reb_lull_phase
			activate_mission = SER_IMRO_lull_phase_rounds
			hidden_effect = {
				country_event = serbia.230
				country_event = { id = serbia.24 days = 2 }
				MAC = {
					country_event = { id = serbia.24 days = 2 }
				}
			}
			if = {
				limit = {
					NOT = { has_global_flag = SER_imro_dont_attack }
					MAC = {
						surrender_progress < 1
					}
				}
				hidden_effect = {
					set_global_flag = SER_imro_dont_attack
					106 = { add_resistance = 20 }
					SER_IMRO_move_to_lull_phase = yes
					MAC = {
						set_state_controller = 106
					}
					SER = {
						set_province_controller = 11832
						set_province_controller = 3882
						set_province_controller = 867
						set_province_controller = 833
						set_province_controller = 11856
						set_province_controller = 3865
						set_province_controller = 974
						set_province_controller = 13560
						set_province_controller = 11857
						set_province_controller = 11868
					}
					if = {
						limit = {
							MAC = { num_divisions < 2 }
						}
						set_temp_variable = { IMRO_lacking_units = 4 }
						subtract_from_temp_variable = { IMRO_lacking_units = MAC.num_divisions }
						clamp_temp_variable = { var = IMRO_lacking_units min = 0 }
						106 = {
							create_unit = {
								division = "division_template = \"VMRO Diviziya\" start_experience_factor = 0.3"
								allow_spawning_on_enemy_provs = yes
								owner = MAC
								count = var:IMRO_lacking_units
								prioritize_location = 3833
							}
						}
					}
				}
			}
		}
	}
	SER_IMRO_lull_phase_rounds = {
		icon = generic_prepare_civil_war

		allowed = { always = no } #activated by effect

		available = {
			NOT = { has_war_with = MAC }
		}

		is_good = no
		selectable_mission = no
		days_mission_timeout = 29

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SER_IMRO_lull_phase_rounds"
			custom_effect_tooltip = SER_lull_phase_result_tt
			hidden_effect = {
				if = {
					limit = {
						OR = {
							AND = {
								has_global_flag = IMRO_attacks_north
								has_global_flag = SER_attacks_north
							}
							AND = {
								has_global_flag = IMRO_attacks_south
								has_global_flag = SER_attacks_south
							}
						}
					}
					country_event = serbia.25 # Serbian victory
				}
				else_if = {
					limit = {
						OR = {
							AND = {
								has_global_flag = IMRO_attacks_north
								has_global_flag = SER_attacks_south
							}
							AND = {
								has_global_flag = IMRO_attacks_south
								has_global_flag = SER_attacks_north
							}
						}
					}
					country_event = serbia.26 # IMRO victory
				}
				if = {
					limit = {
						check_variable = { IMRO_round_system < 3 }
					}
					activate_mission = SER_IMRO_lull_phase_rounds
					country_event = { id = serbia.24 days = 2 }
					MAC = {
						country_event = { id = serbia.24 days = 2 }
					}
					add_to_variable = { IMRO_round_system = 1 }
				}
				else = {
					set_variable = { IMRO_round_system = 1 }
				}
			}
			clr_global_flag = IMRO_attacks_north
			clr_global_flag = IMRO_attacks_south
			clr_global_flag = SER_attacks_north
			clr_global_flag = SER_attacks_south
		}
	}
	SER_IMRO_launch_offensive = {
		icon = GFX_decision_eng_blackshirt_march

		fire_only_once = no
		days_re_enable = 30

		visible = {
			has_active_mission = SER_IMRO_reb_action_phase
		}
		available = {
			if = {
				limit = {
					is_ai = no
				}
				106 = {
					resistance < 20
				}
			}
			NOT = { has_active_mission = SER_IMRO_lull_phase_rounds }
		}

		ai_will_do = {
			factor = 100
		}

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_IMRO_launch_offensive"
			106 = {
				custom_effect_tooltip = SER_IMRO_launch_offensive_tt
				SER_IMRO_move_to_action_phase = yes
			}
		}
	}
	SER_IMRO_lure_north = {
		icon = GFX_decision_eng_blackshirt_march

		fire_only_once = no
		days_re_enable = 30

		visible = {
			has_completed_focus = SER_lure_strategy
		}
		available = {
			NOT = {
				MAC = {
					has_completed_focus = IMRO_study_their_tactics
				}
				custom_trigger_tooltip = {
					tooltip = SER_IMRO_has_chosen_lure_tt
					OR = {
						has_global_flag = IMRO_lured_north
						has_global_flag = IMRO_lured_south
					}
				}
			}
		}

		ai_will_do = {
			factor = 100
		}

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_IMRO_lure_north"
			custom_effect_tooltip = SER_IMRO_lure_north_tt
			set_global_flag = { flag = IMRO_lured_north days = 180 value = 1 }
		}
	}
	SER_IMRO_lure_south = {
		icon = GFX_decision_eng_blackshirt_march

		fire_only_once = no
		days_re_enable = 30

		visible = {
			has_completed_focus = SER_lure_strategy
		}
		available = {
			NOT = {
				MAC = {
					has_completed_focus = IMRO_study_their_tactics
				}
				custom_trigger_tooltip = {
					tooltip = SER_IMRO_has_chosen_lure_tt
					OR = {
						has_global_flag = IMRO_lured_north
						has_global_flag = IMRO_lured_south
					}
				}
			}
		}

		ai_will_do = {
			factor = 100
		}

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_IMRO_lure_south"
			custom_effect_tooltip = SER_IMRO_lure_south_tt
			set_global_flag = { flag = IMRO_lured_south days = 180 value = 1 }
		}
	}
	SER_IMRO_spend_double_agent = {
		icon = GFX_decision_eng_blackshirt_march

		fire_only_once = no
		days_re_enable = 30

		visible = {
			has_completed_focus = SER_double_agents
			has_active_mission = SER_IMRO_lull_phase_rounds
			custom_trigger_tooltip = {
				tooltip = SER_IMRO_has_spent_less_than_three_double_agents_tt
				check_variable = { SER_spent_double_agents < 3 }
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_country_flag = SER_ai_limit_double_agents
			}
		}

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_IMRO_spend_double_agent"
			set_country_flag = { flag = SER_ai_limit_double_agents days = 90 value = 1 }
			add_to_variable = { SER_spent_double_agents = 1 }
			custom_effect_tooltip = SER_IMRO_spend_double_agent_tt
			clr_global_flag = IMRO_attacks_north
			clr_global_flag = IMRO_attacks_south
			clr_global_flag = SER_attacks_north
			clr_global_flag = SER_attacks_south
			set_global_flag = IMRO_attacks_north
			set_global_flag = SER_attacks_north
		}
	}
}

SER_konspiracija_decisions = {
	SER_swap_form_of_payment = {
		icon = GFX_decision_generic_break_treaty

		fire_only_once = no

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				factor = 0
				has_country_flag = SER_ai_limit_payment_swaps
			}
			modifier = {
				add = 10
				AND = {
					has_country_flag = SER_paying_with_np
					national_populist > 0.15
				}
			}
			modifier = {
				add = 10
				AND = {
					has_country_flag = SER_paying_with_pp
					OR = {
						political_power_daily < 0.5
						national_populist < 0.1
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_swap_form_of_payment"
			set_country_flag = { flag = SER_ai_limit_payment_swaps days = 90 value = 1 }
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				custom_effect_tooltip = SER_change_to_paying_with_np
				clr_country_flag = SER_paying_with_pp
				set_country_flag = SER_paying_with_np
			}
			else_if = {
				limit = { has_country_flag = SER_paying_with_np }
				custom_effect_tooltip = SER_change_to_paying_with_pp
				clr_country_flag = SER_paying_with_np
				set_country_flag = SER_paying_with_pp
			}
		}
	}
	SER_support_resistance_in_nis = {
		icon = GFX_decision_onmap_recruit_operative

		fire_only_once = no
		days_re_enable = 30

		available = {
			national_populist < 0.95
			custom_trigger_tooltip = {
				tooltip = SER_does_not_go_over_kons_maximum_tt
				OR = {
					has_country_flag = SER_paying_with_pp
					AND = {
						has_country_flag = SER_paying_with_np
						NOT = { has_country_flag = SER_curbed_konspiracija_control_flag }
					}
					AND = {
						has_country_flag = SER_paying_with_np
						national_populist < 0.13
					}
				}
			}
			NOT = {
				has_war_with = BUL
			}
		}

		visible = {
			SER_konspiracija_level_1_dec = yes
			767 = {
				is_controlled_by = BUL
				NOT = { is_core_of = BUL }
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_np
					national_populist > 0.1
				}
			}
			#this flag does three things- it first prevents AI from spamming decisions one after another
			##and it also prevents them from taking decisions while taking either focus SER_smoke_filled_room
			###or having SER_prodanovic_assassination_fallout mission active, and the time in between the focus and mission
			modifier = {
				factor = 0
				has_country_flag = SER_ai_insanity_check
			}
		}

		custom_cost_text = SER_50COMM_2NP
		custom_cost_trigger = {
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				command_power > 50
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_support_resistance_in_nis"
			set_country_flag = { flag = SER_ai_insanity_check days = 20 value = 1 }
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				add_command_power = -50
			}
			else_if = {
				limit = { has_country_flag = SER_paying_with_np }
				add_popularity = {
					ideology = national_populist
					popularity = 0.02
				}
				SER_recalculate_konspiracija = yes
			}
			BUL = {
				country_event = serbia.16
			}
			effect_tooltip = {
				767 = {
					add_resistance = 10
					add_resistance_target = {
						amount = 20
						occupier = BUL
						days = 120
						tooltip = SER_kons_rebellion_increase_rt_tt
					}
				}
				BUL = { add_stability = -0.02 }
			}
			hidden_effect = {
				if = {
					limit = {
						national_populist > 0.3
					}
					country_event = serflavor.23
				}
			}
		}
	}
	SER_tap_chetnik_associations = {
		icon = GFX_decision_eng_blackshirt_march

		fire_only_once = no
		days_re_enable = 30

		available = {
			national_populist < 0.95
			custom_trigger_tooltip = {
				tooltip = SER_does_not_go_over_kons_maximum_tt
				OR = {
					has_country_flag = SER_paying_with_pp
					AND = {
						has_country_flag = SER_paying_with_np
						NOT = { has_country_flag = SER_curbed_konspiracija_control_flag }
					}
					AND = {
						has_country_flag = SER_paying_with_np
						national_populist < 0.13
					}
				}
			}
		}

		visible = {
			SER_konspiracija_level_1_dec = yes
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_np
					national_populist > 0.1
				}
			}
			#this flag does three things- it first prevents AI from spamming decisions one after another
			##and it also prevents them from taking decisions while taking either focus SER_smoke_filled_room
			###or having SER_prodanovic_assassination_fallout mission active, and the time in between the focus and mission
			modifier = {
				factor = 0
				has_country_flag = SER_ai_insanity_check
			}
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_pp
					has_political_power < 100
				}
			}
		}

		ai_hint_pp_cost = 50
		custom_cost_text = SER_50PP_2NP
		custom_cost_trigger = {
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				has_political_power > 49.99
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_tap_chetnik_associations"
			set_country_flag = { flag = SER_ai_insanity_check days = 30 value = 1 }
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				add_political_power = -50
			}
			else_if = {
				limit = { has_country_flag = SER_paying_with_np }
				add_popularity = {
					ideology = national_populist
					popularity = 0.02
				}
				SER_recalculate_konspiracija = yes
			}
			add_manpower = 2500
			hidden_effect = {
				if = {
					limit = {
						national_populist > 0.3
					}
					country_event = serflavor.23
				}
			}
		}
	}
	SER_acquire_firearms = {
		icon = generic_prepare_civil_war

		fire_only_once = no
		days_re_enable = 30

		available = {
			national_populist < 0.95
			custom_trigger_tooltip = {
				tooltip = SER_does_not_go_over_kons_maximum_tt
				OR = {
					has_country_flag = SER_paying_with_pp
					AND = {
						has_country_flag = SER_paying_with_np
						NOT = { has_country_flag = SER_curbed_konspiracija_control_flag }
					}
					AND = {
						has_country_flag = SER_paying_with_np
						national_populist < 0.12
					}
				}
			}
		}

		visible = {
			SER_konspiracija_level_1_dec = yes
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_np
					national_populist > 0.1
				}
			}
			#this flag does three things- it first prevents AI from spamming decisions one after another
			##and it also prevents them from taking decisions while taking either focus SER_smoke_filled_room
			###or having SER_prodanovic_assassination_fallout mission active, and the time in between the focus and mission
			modifier = {
				factor = 0
				has_country_flag = SER_ai_insanity_check
			}
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_pp
					has_political_power < 100
				}
			}
		}

		ai_hint_pp_cost = 60
		custom_cost_text = SER_60PP_3NP
		custom_cost_trigger = {
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				has_political_power > 59.99
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_acquire_firearms"
			set_country_flag = { flag = SER_ai_insanity_check days = 30 value = 1 }
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				add_political_power = -60
			}
			else_if = {
				limit = { has_country_flag = SER_paying_with_np }
				add_popularity = {
					ideology = national_populist
					popularity = 0.03
				}
				SER_recalculate_konspiracija = yes
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 750
				producer = SER
			}
			hidden_effect = {
				if = {
					limit = {
						national_populist > 0.3
					}
					country_event = serflavor.23
				}
			}
		}
	}
	SER_reduce_war_scars = {
		icon = GFX_decision_generic_flags

		fire_only_once = no
		days_re_enable = 60

		available = {
			national_populist < 0.95
			custom_trigger_tooltip = {
				tooltip = SER_does_not_go_over_kons_maximum_tt
				OR = {
					has_country_flag = SER_paying_with_pp
					AND = {
						has_country_flag = SER_paying_with_np
						NOT = { has_country_flag = SER_curbed_konspiracija_control_flag }
					}
					AND = {
						has_country_flag = SER_paying_with_np
						national_populist < 0.11
					}
				}
			}
		}

		visible = {
			SER_konspiracija_level_2_dec = yes
			SER_has_scarred_nation = yes
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_np
					national_populist > 0.1
				}
			}
			#this flag does three things- it first prevents AI from spamming decisions one after another
			##and it also prevents them from taking decisions while taking either focus SER_smoke_filled_room
			###or having SER_prodanovic_assassination_fallout mission active, and the time in between the focus and mission
			modifier = {
				factor = 0
				has_country_flag = SER_ai_insanity_check
			}
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_pp
					has_political_power < 100
				}
			}
		}

		ai_hint_pp_cost = 75
		custom_cost_text = SER_75PP_4NP
		custom_cost_trigger = {
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				has_political_power > 74.99
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_reduce_war_scars"
			set_country_flag = { flag = SER_ai_insanity_check days = 30 value = 1 }
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				add_political_power = -75
			}
			else_if = {
				limit = { has_country_flag = SER_paying_with_np }
				add_popularity = {
					ideology = national_populist
					popularity = 0.04
				}
				SER_recalculate_konspiracija = yes
			}
			SER_reduce_scars = yes
			hidden_effect = {
				if = {
					limit = {
						national_populist > 0.3
					}
					country_event = serflavor.23
				}
			}
		}
	}
	SER_acquire_artillery = {
		icon = generic_prepare_civil_war

		fire_only_once = no
		days_re_enable = 60

		available = {
			national_populist < 0.95
			custom_trigger_tooltip = {
				tooltip = SER_does_not_go_over_kons_maximum_tt
				OR = {
					has_country_flag = SER_paying_with_pp
					AND = {
						has_country_flag = SER_paying_with_np
						NOT = { has_country_flag = SER_curbed_konspiracija_control_flag }
					}
					AND = {
						has_country_flag = SER_paying_with_np
						national_populist < 0.11
					}
				}
			}
			has_tech = gw_artillery
		}

		visible = {
			SER_konspiracija_level_3_dec = yes
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_np
					national_populist > 0.1
				}
			}
			#this flag does three things- it first prevents AI from spamming decisions one after another
			##and it also prevents them from taking decisions while taking either focus SER_smoke_filled_room
			###or having SER_prodanovic_assassination_fallout mission active, and the time in between the focus and mission
			modifier = {
				factor = 0
				has_country_flag = SER_ai_insanity_check
			}
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_pp
					has_political_power < 100
				}
			}
		}

		ai_hint_pp_cost = 75
		custom_cost_text = SER_75PP_4NP
		custom_cost_trigger = {
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				has_political_power > 74.99
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_acquire_artillery"
			set_country_flag = { flag = SER_ai_insanity_check days = 30 value = 1 }
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				add_political_power = -75
			}
			else_if = {
				limit = { has_country_flag = SER_paying_with_np }
				add_popularity = {
					ideology = national_populist
					popularity = 0.04
				}
				SER_recalculate_konspiracija = yes
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 200
				producer = SER
			}
			hidden_effect = {
				if = {
					limit = {
						national_populist > 0.3
					}
					country_event = serflavor.23
				}
			}
		}
	}
	SER_acquire_support_eq = {
		icon = GFX_decision_radio

		fire_only_once = no
		days_re_enable = 60

		available = {
			national_populist < 0.95
			custom_trigger_tooltip = {
				tooltip = SER_does_not_go_over_kons_maximum_tt
				OR = {
					has_country_flag = SER_paying_with_pp
					AND = {
						has_country_flag = SER_paying_with_np
						NOT = { has_country_flag = SER_curbed_konspiracija_control_flag }
					}
					AND = {
						has_country_flag = SER_paying_with_np
						national_populist < 0.11
					}
				}
			}
		}

		visible = {
			SER_konspiracija_level_3_dec = yes
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_np
					national_populist > 0.1
				}
			}
			#this flag does three things- it first prevents AI from spamming decisions one after another
			##and it also prevents them from taking decisions while taking either focus SER_smoke_filled_room
			###or having SER_prodanovic_assassination_fallout mission active, and the time in between the focus and mission
			modifier = {
				factor = 0
				has_country_flag = SER_ai_insanity_check
			}
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_pp
					has_political_power < 100
				}
			}
		}

		ai_hint_pp_cost = 75
		custom_cost_text = SER_75PP_4NP
		custom_cost_trigger = {
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				has_political_power > 74.99
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_acquire_support_eq"
			set_country_flag = { flag = SER_ai_insanity_check days = 30 value = 1 }
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				add_political_power = -75
			}
			else_if = {
				limit = { has_country_flag = SER_paying_with_np }
				add_popularity = {
					ideology = national_populist
					popularity = 0.04
				}
				SER_recalculate_konspiracija = yes
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 300
				producer = SER
			}
			hidden_effect = {
				if = {
					limit = {
						national_populist > 0.3
					}
					country_event = serflavor.23
				}
			}
		}
	}
	SER_acquire_tanks = {
		icon = GFX_decision_generic_tank

		fire_only_once = no
		days_re_enable = 80

		visible = {
			SER_konspiracija_level_4_dec = yes
		}
		available = {
			NOT = {
				has_idea = SER_treaty_of_wartholz
			}
			national_populist < 0.95
			custom_trigger_tooltip = {
				tooltip = SER_does_not_go_over_kons_maximum_tt
				OR = {
					has_country_flag = SER_paying_with_pp
					AND = {
						has_country_flag = SER_paying_with_np
						NOT = { has_country_flag = SER_curbed_konspiracija_control_flag }
					}
					AND = {
						has_country_flag = SER_paying_with_np
						national_populist < 0.10
					}
				}
			}
			has_design_based_on = light_tank_chassis
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_np
					national_populist > 0.1
				}
			}
			#this flag does three things- it first prevents AI from spamming decisions one after another
			##and it also prevents them from taking decisions while taking either focus SER_smoke_filled_room
			###or having SER_prodanovic_assassination_fallout mission active, and the time in between the focus and mission
			modifier = {
				factor = 0
				has_country_flag = SER_ai_insanity_check
			}
		}

		ai_hint_pp_cost = 100
		custom_cost_text = SER_100PP_5NP
		custom_cost_trigger = {
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				has_political_power > 99.99
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_acquire_tanks"
			set_country_flag = { flag = SER_ai_insanity_check days = 60 value = 1 }
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				add_political_power = -100
			}
			else_if = {
				limit = { has_country_flag = SER_paying_with_np }
				add_popularity = {
					ideology = national_populist
					popularity = 0.05
				}
				SER_recalculate_konspiracija = yes
			}
			add_equipment_to_stockpile = { type = light_tank_chassis amount = 300 producer = SER }
			hidden_effect = {
				if = {
					limit = { national_populist > 0.3 }
					country_event = serflavor.23
				}
			}
		}
	}
	SER_acquire_aircraft = {
		icon = GFX_decision_generic_air

		fire_only_once = no
		days_re_enable = 90

		visible = {
			SER_konspiracija_level_5_dec = yes
		}
		available = {
			has_design_based_on = small_plane_airframe
			NOT = { has_idea = SER_treaty_of_wartholz }
			national_populist < 0.95
			custom_trigger_tooltip = {
				tooltip = SER_does_not_go_over_kons_maximum_tt
				OR = {
					has_country_flag = SER_paying_with_pp
					AND = {
						has_country_flag = SER_paying_with_np
						NOT = { has_country_flag = SER_curbed_konspiracija_control_flag }
					}
					AND = {
						has_country_flag = SER_paying_with_np
						national_populist < 0.10
					}
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_np
					national_populist > 0.1
				}
			}
			#this flag does three things- it first prevents AI from spamming decisions one after another
			##and it also prevents them from taking decisions while taking either focus SER_smoke_filled_room
			###or having SER_prodanovic_assassination_fallout mission active, and the time in between the focus and mission
			modifier = {
				factor = 0
				has_country_flag = SER_ai_insanity_check
			}
		}

		ai_hint_pp_cost = 100
		custom_cost_text = SER_100PP_5NP
		custom_cost_trigger = {
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				has_political_power > 99.99
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_acquire_aircraft"
			set_country_flag = { flag = SER_ai_insanity_check days = 60 value = 1 }
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				add_political_power = -100
			}
			else_if = {
				limit = { has_country_flag = SER_paying_with_np }
				add_popularity = {
					ideology = national_populist
					popularity = 0.05
				}
				SER_recalculate_konspiracija = yes
			}
			add_equipment_to_stockpile = {
				type = small_plane_airframe
				amount = 50
				producer = SER
			}
			hidden_effect = {
				if = {
					limit = {
						national_populist > 0.3
					}
					country_event = serflavor.23
				}
			}
		}
	}
	SER_new_arsenals = {
		icon = GFX_decision_generic_industry

		fire_only_once = no
		days_re_enable = 120

		visible = {
			SER_konspiracija_level_5_dec = yes
			check_variable = { SER_commissioned_factories < 3 }
		}
		available = {
			NOT = {
				has_idea = SER_treaty_of_wartholz
			}
			national_populist < 0.95
			custom_trigger_tooltip = {
				tooltip = SER_does_not_go_over_kons_maximum_tt
				OR = {
					has_country_flag = SER_paying_with_pp
					AND = {
						has_country_flag = SER_paying_with_np
						NOT = { has_country_flag = SER_curbed_konspiracija_control_flag }
					}
					AND = {
						has_country_flag = SER_paying_with_np
						national_populist < 0.10
					}
				}
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				AND = {
					has_country_flag = SER_paying_with_np
					national_populist > 0.1
				}
			}
			#this flag does three things- it first prevents AI from spamming decisions one after another
			##and it also prevents them from taking decisions while taking either focus SER_smoke_filled_room
			###or having SER_prodanovic_assassination_fallout mission active, and the time in between the focus and mission
			modifier = {
				factor = 0
				has_country_flag = SER_ai_insanity_check
			}
		}

		ai_hint_pp_cost = 150
		custom_cost_text = SER_150PP_5NP
		custom_cost_trigger = {
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				has_political_power > 149.99
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_new_arsenals"
			set_country_flag = { flag = SER_ai_insanity_check days = 90 value = 1 }
			if = {
				limit = { has_country_flag = SER_paying_with_pp }
				add_political_power = -150
			}
			else_if = {
				limit = { has_country_flag = SER_paying_with_np }
				add_popularity = {
					ideology = national_populist
					popularity = 0.05
				}
				SER_recalculate_konspiracija = yes
			}
			add_one_random_military_factory = yes
			add_to_variable = { SER_commissioned_factories = 1 }
			hidden_effect = {
				if = {
					limit = {
						national_populist > 0.3
					}
					country_event = serflavor.23
				}
			}
		}
	}
}

SER_Economic_Development_decisions = {
	SER_Rural_Credit_Grants = {
		icon = generic_agriculture

		available = {
			num_of_civilian_factories_available_for_projects > 2
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
			FROM = { is_core_of = ROOT }
			has_completed_focus = SER_Rural_Credit_Banks
		}

		cost = 40
		days_remove = 90
		fire_only_once = yes

		state_target = yes
		target_array = core_states
		target_root_trigger = { has_completed_focus = SER_Rural_Credit_Banks }
		target_trigger = {
			FROM = { is_core_of = ROOT }
		}

		modifier = {
			civilian_factory_use = 3
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				num_of_civilian_factories_available_for_projects < 10
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_Rural_Credit_Grants target: [From.GetName]"
			FROM = {
				increase_state_category_by_one_level = yes
			}
		}
	}
}

political_actions = {
	SER_ready_for_war = {
		icon = eng_trade_unions_support

		allowed = {
			OR = {
				tag = ROM
				tag = ITA
				tag = POL
				tag = GRE
			}
		}

		available = {
			has_war = no
		}

		visible = {
			is_ai = no
			has_country_flag = SER_will_attack_austria
			FROM = { is_subject = no }
		}

		targets = { SER }
		target_trigger = {
			FROM = {
				is_subject = no
			}
		}

		cost = 0
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_ready_for_war target: [From.GetName]"
			custom_effect_tooltip = SER_ready_for_war_tooltip
			set_country_flag = SER_ready_to_attack
		}
	}

	### IMRO decisions ###
	SER_IMRO_victory = {
		icon = GFX_decision_eng_blackshirt_march

		allowed = { always = no } #activated by effect

		available = {
			OR = {
				controls_state = 106
				NOT = { has_war_with = SER }
				106 = { resistance > 99 }
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_IMRO_victory"
			SER_IMRO_disable_rebellion = yes
			if = {
				limit = {
					SER = { is_ai = no }
					BUL = { is_ai = yes }
				}
				SER = {
					white_peace_with_ROOT = yes
					country_event = serbia.31
				}
			}
			else = {
				drop_cosmetic_tag = yes
				SER = { country_event = serbia.310 }
			}
		}
	}
	SER_IMRO_open_conflict = {
		icon = GFX_decision_eng_blackshirt_march

		allowed = { always = no } #activated by effect

		available = {
			check_variable = { SER.enemies^num > 1 }
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_IMRO_open_conflict"
			SER_IMRO_disable_rebellion = yes
			drop_cosmetic_tag = yes
			SER = { country_event = serbia.310 }
		}
	}
	SER_IMRO_return_to_bulgaria = {
		icon = GFX_decision_eng_blackshirt_march

		allowed = { always = no } #activated by effect

		visible = {
			has_war = no
			country_exists = BUL
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_IMRO_return_to_bulgaria"
			BUL = {
				annex_country = { target = MAC transfer_troops = yes }
			}
		}
	}
	SER_IMRO_weapons_from_bulgaria = {
		icon = generic_prepare_civil_war

		allowed = { always = no } #activated by effect

		available = {
			hidden_trigger = { always = no }
		}

		cancel_trigger = {
			OR = {
				NOT = { has_war_with = SER }
				212 = {
					NOT = {
						has_dynamic_modifier = {
							modifier = SER_IMRO_occupation_of_pirin
						}
					}
				}
			}
		}

		is_good = yes
		selectable_mission = no
		days_mission_timeout = 14

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SER_IMRO_weapons_from_bulgaria"
			BUL = {
				send_equipment = {
					equipment = infantry_equipment
					amount = 50
					target = MAC
				}
			}
			if = {
				limit = {
					has_completed_focus = IMRO_appeal_for_aid
				}
				add_manpower = 200
			}
			if = {
				limit = {
					has_completed_focus = IMRO_establish_legal_system
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 25
					producer = SER
				}
			}
			activate_mission = SER_IMRO_weapons_from_bulgaria
		}
	}
}

foreign_politics = {
	SER_Purchase_HMS_Lion = {
		icon = generic_agriculture

		allowed = { tag = SER }

		available = {
			has_war = no
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}

		visible = {
			has_completed_focus = SER_YUG_Shipbuilding_Investments
			country_exists = ENT
			ENT = {
				is_subject = no
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 60
		days_remove = 60
		fire_only_once = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_political_power < 120
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_Purchase_HMS_Lion"
			ENT = {
				country_event = { id = serbia.55 days = 5 }
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_Purchase_HMS_Lion"
			custom_effect_tooltip = SER_if_ENT_agrees
			hidden_effect = {
				create_equipment_variant = {#TBC
					name = "Lion Class"
					type = ship_hull_heavy_1
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_1
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_1
						front_1_custom_slot = ship_heavy_battery_1
						mid_1_custom_slot = ship_secondaries_1
						mid_2_custom_slot = ship_anti_air_1
						rear_1_custom_slot = empty
					}
				}
			}
			if = {
				limit = { has_dlc_mtg = yes }
				create_ship = { name = "KB Lav" type = ship_hull_heavy_1 equipment_variant = "Lion Class" creator = SER }
			}
			else = {
				if = {
					limit = { NOT = { has_tech = early_battleship } }
					set_technology = { early_battleship = 1 }
				}
				create_ship = { name = "KB Lav" type = battleship_1 equipment_variant = "Weltkrieg Battleship" creator = SER }
			}
		}
	}
	SER_Join_Third_Internationale = {
		name = SER_Join_Faction
		icon = eng_trade_unions_support

		allowed = {
			tag = SER
		}

		available = {
			at_peace_or_same_enemies_as_FROM = yes
			NOT = { has_country_flag = SER_diplomatic_action }
			has_socialist_government = yes
			has_completed_focus = SER_Third_Revolution
			NOT = {
				has_completed_focus = SER_YUG_balkan_socialist_federation
			}
		}

		visible = {
			is_valid_peace_target = yes
			owns_state = 45 #Vojvodina
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { INT }
		target_root_trigger = {
			owns_state = 45 #Vojvodina
		}
		target_trigger = {
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 0
		days_remove = 7
		fire_only_once = yes

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					country_exists = GBR
					NOT = {
						country_exists = FRA
					}
					FRA = {
						has_socialist_government = no
					}
				}
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 0.05
				has_completed_focus = SER_Pact_of_Organisation
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_Join_Third_Internationale target: [From.GetName]"
			clr_global_flag = SER_keeping_the_pact
			set_country_flag = { flag = SER_diplomatic_action days = 10 value = 1 }
			if = {
				limit = { SOV = { is_faction_leader = yes } }
				SOV = { country_event = { id = serbia.38 days = 3 } }
			}
			else = {
				FROM = { country_event = { id = serbia.38 days = 3 } }
			}
		}
	}
	SER_Join_Russia = {
		name = SER_Join_Faction
		icon = eng_trade_unions_support

		allowed = {
			tag = SER
		}

		available = {
			at_peace_or_same_enemies_as_FROM = yes
			NOT = { has_country_flag = SER_diplomatic_action }
			NOT = {
				has_idea = SER_YUG_special_relationship_idea
			}
			has_socialist_government = no
			FROM = {
				same_government_type_as_ROOT = yes
				is_faction_leader = yes
			}
		}

		visible = {
			is_valid_peace_target = yes
			OR = {
				is_in_faction = no
				is_in_belgrade_pact = yes
			}
			owns_state = 45 #Vojvodina
			FROM = {
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { RUS }
		target_root_trigger = {
			owns_state = 45 #Vojvodina
		}
		target_trigger = {
			FROM = {
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 0
		days_remove = 7
		fire_only_once = yes

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				has_global_flag = SER_keeping_the_pact
				NOT = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
				}
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
				NOT = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
				}
			}
			modifier = {
				factor = 0
				has_elected_government = yes
				FROM = { has_authoritarian_government = yes }
			}
			modifier = {
				factor = 0.05
				has_completed_focus = SER_Pact_of_Organisation
				NOT = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
				}
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_RUS }
						BUL = {
							NOT = {
								is_in_faction_with = RUS
								has_socialist_government = yes
								AND = {
									has_government = authoritarian_democrat
									NOT = { has_country_leader = { character = BUL_alexander_stamboliyski } }
								}
							}
							is_valid_peace_target = yes
							exists = yes
						}
						if = {
							limit = {
								BUL = { has_democratic_government = yes }
							}
							FROM = { has_democratic_government = yes }
						}
						else_if = {
							limit = {
								BUL = { has_government = national_populist }
							}
							FROM = { has_authoritarian_government = yes }
						}
					}
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_KEEP }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_KEEP }
					AND = {
						OR = {
							has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
							has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
						}
						AUS = {
							exists = yes
							is_valid_peace_target = yes
						}
					}
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_INT_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_INT_BEATEN }
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_Join_Russia target: [From.GetName]"
			clr_global_flag = SER_keeping_the_pact
			set_country_flag = { flag = SER_diplomatic_action days = 10 value = 1 }
			FROM = {
				country_event = { id = serbia.38 days = 3 }
			}
		}
	}
	SER_Join_The_Entente = {
		name = SER_Join_Faction
		icon = eng_trade_unions_support

		allowed = {
			tag = SER
		}

		available = {
			at_peace_or_same_enemies_as_FROM = yes
			NOT = { has_country_flag = SER_diplomatic_action }
			NOT = {
				has_idea = SER_YUG_special_relationship_idea
			}
			OR = {
				AND = {
					has_country_leader = { character = SER_petar_ii }
					has_authoritarian_government = no
				}
				AND = {
					has_left_democratic_government = yes
					NOT = {
						has_country_leader = { character = SER_dragomir_vasic }
					}
				}
			}
		}

		visible = {
			is_valid_peace_target = yes
			owns_state = 45 #Vojvodina
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { ENT }
		target_root_trigger = {
			owns_state = 45 #Vojvodina
		}
		target_trigger = {
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 0
		days_remove = 7
		fire_only_once = yes

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				has_global_flag = SER_keeping_the_pact
				NOT = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_INT_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_INT_BEATEN }
				}
			}
			modifier = {
				factor = 0
				NOT = {
					country_exists = GBR
					var:126.controller = { is_in_faction_with = FROM } #London
					var:16.controller = { is_in_faction_with = FROM } #Paris
					var:21.controller = { is_in_faction_with = FROM } #Marseille
				}
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
				NOT = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_INT_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_INT_BEATEN }
				}
			}
			modifier = {
				factor = 0
				any_neighbor_country = { is_in_faction_with = GER }
				FROM = { has_war_with = GER }
				NOT = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_INT_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_INT_BEATEN }
				}
			}
			modifier = {
				factor = 0
				FROM = { has_authoritarian_government = yes }
			}
			modifier = {
				factor = 0.05
				has_completed_focus = SER_Pact_of_Organisation
				NOT = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_INT_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_INT_BEATEN }
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_KEEP }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_KEEP }
					AND = {
						OR = {
							has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
							has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
						}
						AUS = {
							exists = yes
							is_valid_peace_target = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_Join_The_Entente target: [From.GetName]"
			clr_global_flag = SER_keeping_the_pact
			set_country_flag = { flag = SER_diplomatic_action days = 10 value = 1 }
			FROM = {
				country_event = { id = serbia.38 days = 3 }
			}
		}
	}
	SER_Join_The_Reichspakt = {
		name = SER_Join_Faction
		icon = eng_trade_unions_support

		allowed = {
			tag = SER
		}

		available = {
			at_peace_or_same_enemies_as_FROM = yes
			NOT = { has_country_flag = SER_diplomatic_action }
			OR = {
				AND = {
					has_idea = SER_Petar_II_regency
					has_authoritarian_government = yes
				}
				AND = {
					has_country_leader = { character = SER_petar_ii }
					has_dictatorship_government = yes
				}
				AND = {
					has_country_leader = { character = SER_milan_stojadinovic }
					has_dictatorship_government = yes
				}
			}
			NOT = {
				GER = { is_in_faction_with = AUS }
			}
			NOT = {
				has_idea = SER_YUG_special_relationship_idea
			}
			if = {
				limit = {
					NOT = { country_exists = SOV }
				}
				any_neighbor_country = {
					OR = {
						is_in_faction_with = INT
						is_in_faction_with = SOV
					}
					has_war_with = SER
				}
			}
			else = {
				OR = {
					any_neighbor_country = {
						OR = {
							is_in_faction_with = INT
							is_in_faction_with = SOV
						}
						has_war_with = SER
					}
					5 = {
						controller = { is_in_faction_with = SOV } # Germany is losing and there is no Russia to protect us from syndies! better join now than regret later!
					}
				}
			}
		}

		visible = {
			is_valid_peace_target = yes
			owns_state = 45 #Vojvodina
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { GER }
		target_root_trigger = {
			owns_state = 45 #Vojvodina
		}
		target_trigger = {
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 0
		days_remove = 7
		fire_only_once = yes

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				has_global_flag = SER_keeping_the_pact
				NOT = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_INT_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_INT_BEATEN }
				}
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
				NOT = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_INT_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_INT_BEATEN }
				}
			}
			modifier = {
				factor = 0
				any_neighbor_country = { is_in_faction_with = RUS }
				FROM = { has_war_with = RUS }
				NOT = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_INT_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_INT_BEATEN }
				}
			}
			modifier = {
				factor = 0.05
				has_completed_focus = SER_Pact_of_Organisation
				NOT = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_INT_BEATEN }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_INT_BEATEN }
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_KEEP }
					has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_KEEP }
					AND = {
						OR = {
							has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_AUS_BEATEN }
							has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
						}
						AUS = {
							exists = yes
							is_valid_peace_target = yes
						}
					}
					AND = {
						OR = {
							has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_INT_BEATEN }
							has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_INT_BEATEN }
						}
						NOT = {
							country_exists = GBR
							var:126.controller = { is_in_faction_with = ENT } #London
							var:16.controller = { is_in_faction_with = ENT } #Paris
							var:21.controller = { is_in_faction_with = ENT } #Marseille
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_Join_The_Reichspakt target: [From.GetName]"
			clr_global_flag = SER_keeping_the_pact
			set_country_flag = { flag = SER_diplomatic_action days = 10 value = 1 }
			FROM = {
				country_event = { id = serbia.38 days = 3 }
			}
		}
	}
	SER_YUG_Topple_Tyrants = {
		icon = hol_draw_up_staff_plans
		allowed = { tag = SER }
		available = {
			OR = {
				is_owner_neighbor_of = FROM
				any_allied_country = { is_owner_neighbor_of = FROM }
			}
			has_left_democratic_government = yes
			FROM = {
				OR = {
					has_socialist_government = yes
					has_dictatorship_government = yes
				}
			}
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
		}

		targets = { BUL ROM ALB GRE HUN }
		target_root_trigger = {
			has_completed_focus = SER_YUG_balkans_guiding_light
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 10
		days_remove = 30
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened_cautious = yes
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_YUG_Topple_Tyrants target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_YUG_Topple_Tyrants target: [From.GetName]"
			FROM = { country_event = kr.political.30 } #warning event
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_Topple_Tyrants target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
	SER_YUG_Topple_Tyrants_2 = {
		icon = hol_draw_up_staff_plans
		name = SER_YUG_Topple_Tyrants
		allowed = { tag = SER }
		available = {
			OR = {
				is_owner_neighbor_of = FROM
				any_allied_country = { is_owner_neighbor_of = FROM }
			}
			has_left_democratic_government = yes
			FROM = {
				OR = {
					has_socialist_government = yes
					has_dictatorship_government = yes
				}
			}
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
		}

		targets = { AUS TUR ITA SRI SIC PAP SRD }
		target_root_trigger = {
			has_completed_focus = SER_YUG_anti_imperialist_vanguard
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 10
		days_remove = 30
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened_cautious = yes
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_YUG_Topple_Tyrants_2 target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_YUG_Topple_Tyrants_2 target: [From.GetName]"
			FROM = { country_event = kr.political.30 } #warning event
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_Topple_Tyrants_2 target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
	SER_YUG_Spread_Socialism = {
		icon = hol_draw_up_staff_plans
		allowed = { tag = SER }
		available = {
			OR = {
				is_owner_neighbor_of = FROM
				any_allied_country = { is_owner_neighbor_of = FROM }
			}
			has_socialist_government = yes
			FROM = { has_socialist_government = no }
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
		}

		targets = { BUL ROM ALB GRE HUN }
		target_root_trigger = {
			has_completed_focus = SER_YUG_liberate_balkan_socialists
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 10
		days_remove = 30
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened_cautious = yes
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_YUG_Spread_Socialism target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_YUG_Spread_Socialism target: [From.GetName]"
			FROM = { country_event = kr.political.30 } #warning event
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_Spread_Socialism target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
	SER_YUG_Southern_Expansion = {
		icon = generic_ignite_civil_war
		allowed = { tag = SER }

		available = {
			OR = {
				is_owner_neighbor_of = FROM
				any_allied_country = { is_owner_neighbor_of = FROM }
			}
		}

		visible = {
			is_subject = no
			FROM = {
				OR = {
					owns_state = 731 #Western Macedonia
					owns_state = 769 #Eastern Macedonia
				}
			}
		}

		cancel_trigger = {
			OR = {
				NOT = { can_declare_war_on = FROM }
				FROM = {
					NOT = {
						owns_state = 731 #Western Macedonia
						owns_state = 769 #Eastern Macedonia
					}
				}
			}
		}

		targets = { 731.OWNER 769.OWNER }
		target_root_trigger = {
			has_completed_focus = SER_YUG_greater_yugoslavia_south
		}
		target_trigger = {
			can_declare_war_on = FROM
			FROM = {
				OR = {
					owns_state = 731 #Western Macedonia
					owns_state = 769 #Eastern Macedonia
				}
			}
		}

		cost = 10
		days_remove = 30
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened_cautious = yes
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_YUG_Southern_Expansion target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_YUG_Southern_Expansion target: [From.GetName]"
			FROM = { country_event = kr.political.30 } #warning event
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_Southern_Expansion target: [From.GetName]"
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			clear_decision_attack_AI = yes
		}
	}
	SER_YUG_Invade_Albania = {
		icon = hol_draw_up_staff_plans
		allowed = { tag = SER }
		available = {
			OR = {
				is_owner_neighbor_of = FROM
				any_allied_country = { is_owner_neighbor_of = FROM }
			}
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
		}

		targets = { ALB }
		target_root_trigger = {
			OR = {
				has_completed_focus = SER_YUG_greater_yugoslavia_south
				has_completed_focus = SER_YUG_subjugate_albania
				has_completed_focus = SER_YUG_royal_subjugate_albania
			}
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 10
		days_remove = 25
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened_cautious = yes
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_YUG_Invade_Albania target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_YUG_Invade_Albania target: [From.GetName]"
			FROM = { country_event = kr.political.30 } #warning event
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_Invade_Albania target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
	SER_YUG_Invade_Bulgaria = {
		icon = hol_draw_up_staff_plans
		allowed = { tag = SER }
		available = {
			OR = {
				is_owner_neighbor_of = FROM
				any_allied_country = { is_owner_neighbor_of = FROM }
			}
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
		}

		targets = { BUL }
		target_root_trigger = {
			OR = {
				has_completed_focus = SER_YUG_greater_yugoslavia_east
				has_completed_focus = SER_YUG_subjugate_bulgaria
				has_completed_focus = SER_YUG_royal_subjugate_bulgaria
			}
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 10
		days_remove = 30
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened_cautious = yes
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_YUG_Invade_Bulgaria target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_YUG_Invade_Bulgaria target: [From.GetName]"
			FROM = { country_event = kr.political.30 } #warning event
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_Invade_Bulgaria target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
	SER_YUG_Western_Expansion = {
		icon = generic_ignite_civil_war
		allowed = { tag = SER }

		available = {
			OR = {
				is_owner_neighbor_of = FROM
				any_allied_country = { is_owner_neighbor_of = FROM }
			}
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			FROM = {
				OR = {
					owns_state = 488 #Trieste
					owns_state = 683 #Gorizia
					owns_state = 736 #Istria
				}
			}
		}

		cancel_trigger = {
			OR = {
				NOT = { can_declare_war_on = FROM }
				FROM = {
					NOT = {
						owns_state = 488 #Trieste
						owns_state = 683 #Gorizia
						owns_state = 736 #Istria
					}
				}
			}
		}

		targets = { 488.OWNER 683.OWNER 736.OWNER }
		target_root_trigger = {
			has_completed_focus = SER_YUG_greater_yugoslavia_west
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 10
		days_remove = 30
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened_cautious = yes
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_YUG_Western_Expansion target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_YUG_Western_Expansion target: [From.GetName]"
			FROM = { country_event = kr.political.30 } #warning event
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_Western_Expansion target: [From.GetName]"
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			clear_decision_attack_AI = yes
		}
	}
}

SER_Balkan_Research_Initiative_decisions = {
	SER_Invite_Country = {
		icon = generic_research

		allowed = { tag = SER }

		visible = {
			is_in_tech_sharing_group = balkan_research
			is_faction_leader = yes
			FROM = {
				exists = yes
				NOT = { is_in_tech_sharing_group = balkan_research }
				if = {
					limit = { tag = ITA }
					has_government = national_populist
					is_subject = no
					NOT = { has_war_with = ROOT }
				}
				else_if = {
					limit = { tag = POL }
					has_dictatorship_government = yes
					is_subject = no
					NOT = { has_war_with = ROOT }
				}
				else = {
					is_in_faction_with = ROOT
					if = {
						limit = { is_subject = yes }
						overlord = { is_in_tech_sharing_group = balkan_research }
					}
				}
			}
		}

		cost = 20
		days_remove = 10
		fire_only_once = yes

		targets = { ITA POL }
		target_array = faction_members
		target_root_trigger = { is_in_tech_sharing_group = balkan_research }
		target_trigger = {
			FROM = {
				NOT = { is_in_tech_sharing_group = balkan_research }
				if = {
					limit = { tag = ITA }
					has_government = national_populist
					is_subject = no
					NOT = { has_war_with = ROOT }
				}
				else_if = {
					limit = { tag = POL }
					has_dictatorship_government = yes
					is_subject = no
					NOT = { has_war_with = ROOT }
				}
				else = {
					is_in_faction_with = ROOT
					if = {
						limit = { is_subject = yes }
						overlord = { is_in_tech_sharing_group = balkan_research }
					}
				}
			}
		}

		ai_will_do = {
			factor = 20
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_Invite_Country target: [From.GetName]"
			FROM = { country_event = serbia.35 }
		}
	}
	SER_economic_council_decision = {
		icon = generic_agreement
		allowed = { tag = SER }
		available = {
			has_war = no
			is_in_faction_with = ROM
			NOT = { has_global_flag = BP_working_on_eco_union }
		}
		visible = {
			has_completed_focus = SER_Pact_of_Organisation
			NOT = {
				has_idea = BP_economic_council_1
				has_idea = BP_economic_council_2
				has_idea = BP_economic_council_3
				has_idea = BP_economic_council_upgraded_1
				has_idea = BP_economic_council_upgraded_2
				has_idea = BP_economic_council_upgraded_3
			}
		}

		cost = 50

		days_remove = 14
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_economic_council_decision"
			set_global_flag = BP_working_on_eco_union
			if = {
				limit = {
					NOT = {
						is_in_array = { global.balkan_economic_union = ROOT }
					}
				}
				add_to_array = { global.balkan_economic_union = ROOT }
			}
			if = {
				limit = {
					ROM = {
						has_war = no
					}
				}
				ROM = {
					country_event = { id = pact.300 days = 7 }
				}
			}
			if = {
				limit = {
					GRE = {
						has_war = no
					}
				}
				GRE = {
					country_event = { id = pact.300 days = 7 }
				}
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_economic_council_decision"
			country_event = pact.302
			clr_global_flag = BP_working_on_eco_union
		}
	}
	SER_economic_council_expansion = {
		icon = generic_agreement
		allowed = { tag = SER }
		available = {
			has_war = no
			is_in_faction_with = ROM
			NOT = { has_global_flag = BP_working_on_eco_union }
		}
		visible = {
			has_completed_focus = SER_Pact_of_Organisation
			OR = {
				has_idea = BP_economic_council_1
				has_idea = BP_economic_council_2
				has_idea = BP_economic_council_3
			}
			NOT = {
				has_idea = BP_economic_council_upgraded_1
				has_idea = BP_economic_council_upgraded_2
				has_idea = BP_economic_council_upgraded_3
			}
		}

		cost = 50

		days_remove = 30
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_economic_council_expansion"
			set_global_flag = BP_working_on_eco_union
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_economic_council_expansion"
			country_event = pact.304
			every_other_country = {
				limit = {
					OR = {
						has_idea = BP_economic_council_1
						has_idea = BP_economic_council_2
						has_idea = BP_economic_council_3
					}
				}
				country_event = pact.304
			}
			clr_global_flag = BP_working_on_eco_union
		}
	}
	SER_economic_council_application = {
		icon = generic_agreement

		allowed = {
			OR = {
				tag = ROM
				tag = GRE
			}
		}

		available = {
			has_war = no
			is_in_faction_with = SER
			NOT = { has_global_flag = BP_working_on_eco_union }
		}
		visible = {
			SER = {
				has_completed_focus = SER_Pact_of_Organisation
				OR = {
					has_idea = BP_economic_council_1
					has_idea = BP_economic_council_2
					has_idea = BP_economic_council_3
				}
			}
			NOT = {
				has_country_flag = BP_accepted_economic_union
			}
		}

		cost = 10

		days_remove = 14
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_economic_council_application"
			custom_effect_tooltip = BP_economic_integration_tt
			set_country_flag = BP_accepted_economic_union
			if = {
				limit = {
					NOT = {
						is_in_array = { global.balkan_economic_union = ROOT }
					}
				}
				add_to_array = { global.balkan_economic_union = ROOT }
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = { global.balkan_economic_union^num = 1 }
					}
					add_ideas = BP_economic_council_1
				}
				else_if = {
					limit = {
						check_variable = { global.balkan_economic_union^num = 2 }
					}
					add_ideas = BP_economic_council_2
				}
				else_if = {
					limit = {
						check_variable = { global.balkan_economic_union^num = 3 }
					}
					add_ideas = BP_economic_council_3
				}
				if = {
					limit = {
						SER = {
							OR = {
								has_idea = BP_economic_council_upgraded_1
								has_idea = BP_economic_council_upgraded_2
								has_idea = BP_economic_council_upgraded_3
							}
						}
					}
					if = {
						limit = { has_idea = BP_economic_council_1 }
						swap_ideas = {
							remove_idea = BP_economic_council_1
							add_idea = BP_economic_council_upgraded_1
						}
					}
					else_if = {
						limit = { has_idea = BP_economic_council_2 }
						swap_ideas = {
							remove_idea = BP_economic_council_2
							add_idea = BP_economic_council_upgraded_2
						}
					}
					else_if = {
						limit = { has_idea = BP_economic_council_3 }
						swap_ideas = {
							remove_idea = BP_economic_council_3
							add_idea = BP_economic_council_upgraded_3
						}
					}
				}
				SER = { country_event = pact.306 }
				if = {
					limit = {
						NOT = { tag = GRE }
						GRE = { has_country_flag = BP_accepted_economic_union }
					}
					GRE = { country_event = pact.306 }
				}
				if = {
					limit = {
						NOT = { tag = ROM }
						ROM = { has_country_flag = BP_accepted_economic_union }
					}
					ROM = { country_event = pact.306 }
				}
			}
		}
	}
}
SER_War_Plan_Drina_March_decisions = {
	SER_set_drina_targeted_state = {
		icon = GFX_decision_infiltrate_state

		available = {
			custom_trigger_tooltip = {
				tooltip = SER_has_enough_states_available_for_setting_plans_tt
				check_variable = { SER_states_available_for_setting_plans > 0 }
			}
		}
		visible = {
			can_declare_war_on = FROM.owner
			FROM = {
				NOT = {
					is_owned_by = ROOT
					is_controlled_by = ROOT
					has_state_flag = SER_drina_flagged_state
				}
			}
		}

		fire_only_once = no
		on_map_mode = map_only

		state_target = yes
		target_array = SER_drina_targets_array
		target_root_trigger = { has_completed_focus = SER_War_Plan_Drina_March }
		target_trigger = {
			FROM = {
				NOT = {
					is_owned_by = ROOT
					is_controlled_by = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 50
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_set_drina_targeted_state target: [From.GetName]"
			FROM = {
				set_state_flag = SER_drina_flagged_state
			}
			add_to_variable = { SER_states_available_for_setting_plans = -1 }
			custom_effect_tooltip = SER_drina_flagged_state_will_gain_tt
		}
	}
}

SER_The_Road_To_Unification_decisions = {
	SER_Integrate_Macedonia = {
		name = integrate_state
		icon = eng_trade_unions_support

		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				any_neighbor_state = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		cancel_trigger = {
			NOT = { controls_state = FROM }
		}

		cost = 80
		days_remove = 100
		fire_only_once = no
		on_map_mode = map_only

		state_target = yes
		targets = { 106 }
		target_root_trigger = { has_completed_focus = SER_The_Congress_Of_Belgrade }
		target_trigger = {
			FROM = {
				is_owned_and_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}

		ai_will_do = {
			factor = 50
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_Integrate_Macedonia target: [From.GetName]"
			add_political_power = 80
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_Integrate_Macedonia target: [From.GetName]"
			set_country_flag = SER_has_integrated_macedonia
			FROM = {
				if = {
					limit = { is_claimed_by = ROOT }
					remove_claim_by = ROOT
				}
				add_core_of = ROOT
			}
		}
	}
	SER_YUG_Integrate_State_Large = {
		name = integrate_state
		icon = eng_trade_unions_support

		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				any_neighbor_state = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		cancel_trigger = {
			NOT = { controls_state = FROM }
		}

		cost = SER_coring_decision_large?80
		days_remove = 100
		fire_only_once = no
		on_map_mode = map_only

		state_target = yes
		targets = { 104 109 }
		target_root_trigger = { SER_has_founded_yugoslavia = yes }
		target_trigger = {
			FROM = {
				is_owned_and_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}

		ai_will_do = {
			factor = 50
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_YUG_Integrate_State_Large target: [From.GetName]"
			add_political_power = SER_coring_decision_large?80
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_Integrate_State_Large target: [From.GetName]"
			FROM = {
				if = {
					limit = { is_claimed_by = ROOT }
					remove_claim_by = ROOT
				}
				add_core_of = ROOT
			}
		}
	}
	SER_Integrate_State_Medium = {
		name = integrate_state
		icon = eng_trade_unions_support

		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				any_neighbor_state = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		cancel_trigger = {
			NOT = { controls_state = FROM }
		}

		cost = SER_coring_decision_medium?60
		days_remove = 100
		fire_only_once = no
		on_map_mode = map_only

		state_target = yes
		targets = { 45 875 }
		target_trigger = {
			FROM = {
				is_owned_and_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}

		ai_will_do = {
			factor = 50
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_Integrate_State_Medium target: [From.GetName]"
			add_political_power = SER_coring_decision_medium?60
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_Integrate_State_Medium target: [From.GetName]"
			FROM = {
				if = {
					limit = { is_claimed_by = ROOT }
					remove_claim_by = ROOT
				}
				add_core_of = ROOT
			}
		}
	}
	SER_YUG_Integrate_State_Medium = {
		name = integrate_state
		icon = eng_trade_unions_support

		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				any_neighbor_state = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		cancel_trigger = {
			NOT = { controls_state = FROM }
		}

		cost = SER_coring_decision_medium?60
		days_remove = 100
		fire_only_once = no
		on_map_mode = map_only

		state_target = yes
		targets = { 102 103 736 683 }
		target_root_trigger = { SER_has_founded_yugoslavia = yes }
		target_trigger = {
			FROM = {
				is_owned_and_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}

		ai_will_do = {
			factor = 50
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_YUG_Integrate_State_Medium target: [From.GetName]"
			add_political_power = SER_coring_decision_medium?60
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_Integrate_State_Medium target: [From.GetName]"
			FROM = {
				if = {
					limit = { is_claimed_by = ROOT }
					remove_claim_by = ROOT
				}
				add_core_of = ROOT
			}
		}
	}
	SER_YUG_Integrate_State_Trieste = {
		name = integrate_state
		icon = eng_trade_unions_support

		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				any_neighbor_state = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		cancel_trigger = {
			OR = {
				NOT = { controls_state = FROM }
				has_left_democratic_government = no
			}
		}

		cost = SER_coring_decision_medium?60
		days_remove = 100
		fire_only_once = no
		on_map_mode = map_only

		state_target = yes
		targets = { 488 }
		target_root_trigger = { owns_state = 488 }
		target_trigger = {
			FROM = {
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
			has_left_democratic_government = yes
		}

		ai_will_do = {
			factor = 50
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_YUG_Integrate_State_Trieste target: [From.GetName]"
			add_political_power = SER_coring_decision_medium?60
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_Integrate_State_Trieste target: [From.GetName]"
			FROM = {
				if = {
					limit = { is_claimed_by = ROOT }
					remove_claim_by = ROOT
				}
				add_core_of = ROOT
			}
		}
	}
	SER_Integrate_State_Small = {
		name = integrate_state
		icon = eng_trade_unions_support

		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				any_neighbor_state = {
					is_owned_and_controlled_by = ROOT
					is_core_of = ROOT
				}
			}
		}

		cancel_trigger = {
			NOT = { controls_state = FROM }
		}

		cost = SER_coring_decision_small?40
		days_remove = 100
		fire_only_once = no
		on_map_mode = map_only

		state_target = yes
		targets = { 794 841 }
		target_trigger = {
			FROM = {
				is_owned_and_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}

		ai_will_do = {
			factor = 50
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_Integrate_State_Small target: [From.GetName]"
			add_political_power = SER_coring_decision_small?40
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_Integrate_State_Small target: [From.GetName]"
			FROM = {
				if = {
					limit = { is_claimed_by = ROOT }
					remove_claim_by = ROOT
				}
				add_core_of = ROOT
			}
		}
	}
	SER_YUG_Integrate_State_Small = {
		name = integrate_state
		icon = eng_trade_unions_support

		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				any_neighbor_state = {
					is_owned_and_controlled_by = ROOT
					is_core_of = ROOT
				}
			}
		}

		cancel_trigger = {
			NOT = { controls_state = FROM }
		}

		cost = SER_coring_decision_small?40
		days_remove = 100
		fire_only_once = no
		on_map_mode = map_only

		state_target = yes
		targets = { 163 }
		target_root_trigger = { SER_has_founded_yugoslavia = yes }
		target_trigger = {
			FROM = {
				is_owned_and_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}

		ai_will_do = {
			factor = 50
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_YUG_Integrate_State_Small target: [From.GetName]"
			add_political_power = SER_coring_decision_small?40
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_Integrate_State_Small target: [From.GetName]"
			FROM = {
				if = {
					limit = { is_claimed_by = ROOT }
					remove_claim_by = ROOT
				}
				add_core_of = ROOT
			}
		}
	}
	SER_YUG_Integrate_Bulgarian_State = {
		name = integrate_state
		icon = generic_flags

		available = {
			has_stability > 0
			FROM = {
				is_fully_controlled_by = ROOT
				any_neighbor_state = {
					is_core_of = ROOT
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		cancel_trigger = {
			NOT = { controls_state = FROM }
		}

		cost = 100
		days_remove = 150
		fire_only_once = no
		on_map_mode = map_only

		state_target = yes
		targets = { 48 77 211 212 770 771 990 1089 }
		target_root_trigger = {
			OR = {
				has_completed_focus = SER_YUG_soc_integrate_bulgaria
				has_completed_focus = SER_YUG_greater_yugoslavia
			}
		}
		target_trigger = {
			FROM = {
				is_owned_and_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_YUG_Integrate_Bulgarian_State target: [From.GetName]"
			add_political_power = 100
			add_stability = 0.06
			FROM = { add_resistance = -40 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_YUG_Integrate_Bulgarian_State target: [From.GetName]"
			FROM = { add_resistance = 40 }
			add_stability = -0.06
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_Integrate_Bulgarian_State target: [From.GetName]"
			add_stability = 0.03
			FROM = {
				add_resistance = -40
				if = {
					limit = { is_claimed_by = ROOT }
					remove_claim_by = ROOT
				}
				add_core_of = ROOT
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
	SER_Attack_Austria = {
		icon = eng_puppet_usa
		priority = 1000

		available = {
			SER_has_stabilized_macedonia = yes
			if = {
				limit = { is_in_faction_with = RUS }
				RUS = { has_war_with = GER }
				OR = {
					is_in_faction_with = UKR
					NOT = { country_exists = UKR }
					UKR = { has_capitulated = yes }
				}
			}
			else_if = {
				limit = { is_in_faction_with = INT }
				INT = { has_war_with = GER }
			}
			else_if = {
				limit = { is_in_faction_with = SOV }
				SOV = { has_war_with = GER }
			}
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			109 = { owner = { is_ally_with = FROM } } #Central Croatia
			FROM = { is_subject = no }
		}

		cancel_trigger = {
			OR = {
				is_subject = yes
				NOT = { can_declare_war_on = FROM }
				NOT = { 109 = { owner = { is_ally_with = FROM } } } #Central Croatia
				FROM = { is_subject = yes }
			}
		}

		cost = 0
		days_remove = 20
		fire_only_once = yes
		war_with_target_on_remove = yes
		cancel_if_not_visible = yes

		targets = { AUS }
		target_root_trigger = { has_completed_focus = SER_Together_Against_Austria }
		target_trigger = {
			can_declare_war_on = FROM
			FROM = { is_subject = no }
			109 = { owner = { is_ally_with = FROM } } #Central Croatia
		}

		ai_will_do = {
			factor = 1000
			# don't do anything if already involved elsewhere
			modifier = {
				factor = 0
				alliance_strength_ratio < 1
			}
			# wait for AI ROM to prepare the revolt if Austria and its allies aren't losing and no other countries are waiting to help
			modifier = {
				factor = 0
				is_in_faction_with = ROM
				check_variable = { ROM.revolt < 4 }
				ROM = {
					is_ai = yes
					has_country_flag = ROM_funded_separatist
				}
				NOT = {
					AND = {
						POL = { has_country_flag = SER_will_attack_austria }
						SER = { has_country_flag = SER_will_attack_austria }
					}
					FROM = { surrender_progress > 0.10 }
					FROM = {
						is_in_faction = yes
						is_faction_leader = no
						faction_leader = { surrender_progress > 0.10 }
					}
				}
			}
			# don't attack if a player isn't ready
			modifier = {
				factor = 0
				any_of_scopes = {
					array = ROOT.SER_will_attack_austria
					is_ai = no
					NOT = { has_country_flag = SER_ready_to_attack }
				}
			}
			# don't attack Austria unless it's vulnerable or other countries are waiting to help
			modifier = {
				factor = 0
				FROM = {
					NOT = {
						any_enemy_country = { is_actual_major = yes }
						AND = {
							POL = { has_country_flag = SER_will_attack_austria }
							SER = { has_country_flag = SER_will_attack_austria }
						}
					}
					OR = {
						AND = {
							strength_ratio = { tag = ROOT ratio > 1 }
							OR = {
								enemies_strength_ratio < 1
								surrender_progress < 0.1
							}
						}
						AND = {
							is_in_faction = yes
							is_faction_leader = no
							faction_leader = {
								strength_ratio = { tag = ROOT ratio > 0.8 }
								OR = {
									enemies_strength_ratio < 1
									surrender_progress < 0.1
								}
							}
						}
						AND = {
							is_subject = yes
							overlord = {
								strength_ratio = { tag = ROOT ratio > 0.8 }
								OR = {
									enemies_strength_ratio < 1
									surrender_progress < 0.1
								}
							}
						}
					}
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SER_Attack_Austria target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_Attack_Austria target: [From.GetName]"
			if = {
				limit = { is_ai = yes }
				country_event = serbia.32
			}
			every_other_country = {
				limit = { has_country_flag = SER_will_attack_austria }
				country_event = serbia.32
			}
			FROM = { country_event = serbia.33 } #warning event
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_Attack_Austria target: [From.GetName]"
			log = "KR_Event_Logging;PACT IN 2WK;[GetDateText]"
			hidden_effect = {
				every_other_country = {
					limit = { has_country_flag = added_AI_strategies_@ROOT }
					clr_country_flag = added_AI_strategies_@ROOT
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -100
					}
					ROOT = {
						add_ai_strategy = {
							type = prepare_for_war
							id = PREV
							value = 100
						}
					}
				}
				country_event = { id = serbia.999 days = 3 }
				country_event = { id = serflavor.37 days = 3 }
			}
			every_other_country = {
				limit = { has_country_flag = SER_will_attack_austria }
				country_event = serbia.34
			}
			add_ai_strategy = {
				type = prepare_for_war
				id = FROM
				value = -100
			}
			FROM = {
				add_ai_strategy = {
					type = prepare_for_war
					id = ROOT
					value = -100
				}
			}
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			if = {
				limit = {
					var:109.owner = {
						NOT = { is_ally_with = FROM }
					}
					can_declare_war_on = 109.owner
				}
				declare_war_on = {
					target = 109.owner
					type = annex_everything
				}
			}
			if = {
				limit = {
					FROM = { tag = AUS }
					can_declare_war_on = HUN
					HUN = { has_war_with = FROM }
				}
				declare_war_on = {
					target = HUN
					type = annex_everything
				}
			}
		}
	}
	SER_Form_Yugoslavia = {
		icon = generic_flags
		priority = 200

		available = {
			NOT = { country_exists = CRO }
			45 = { is_owned_by_ROOT_or_subject = yes } #Vojvodina
			109 = { is_owned_by_ROOT_or_subject = yes } #Central Croatia
			102 = { is_owned_by_ROOT_or_subject = yes } #Carniola
			104 = { is_owned_by_ROOT_or_subject = yes } #Bosnia
			105 = { is_owned_by_ROOT_or_subject = yes } #Montenegro
			if = {
				limit = { has_completed_focus = SER_Together_Against_Austria }
				106 = { is_owned_by_ROOT_or_subject = yes } #Macedonia
			}
			if = {
				limit = { has_socialist_government = yes }
				has_completed_focus = SER_Third_Revolution
			}
		}

		visible = {
			is_subject = no
		}

		fire_only_once = yes

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				AND = {
					OR = {
						has_game_rule = { rule = SER_path option = SER_PATH_MONARCHY_SOCLIB }
						has_game_rule = { rule = SER_path option = SER_PATH_MONARCHY_SOCCON }
					}
					has_government = paternal_autocrat
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_Form_Yugoslavia"
			log = "KR_Event_Logging;YUGOSLAVIA FORMED;[GetDateText]"
			if = {
				limit = {
					OR = {
						has_country_leader = { character = SER_petar_ii }
						has_country_leader = { character = SER_petar_zivkovic }
						has_country_leader = { character = SER_milan_stojadinovic }
					}
					has_dictatorship_government = yes
				}
				if = {
					limit = {
						has_country_leader = { character = SER_milan_stojadinovic }
					}
					set_cosmetic_tag = YUG_rep
				}
				else = {
					set_cosmetic_tag = YUG_mon
				}
				set_country_flag = YUG_integral_yugoslavia_formed
				complete_national_focus = SER_YUG_integral_yugoslavia
				set_party_name = {
					ideology = paternal_autocrat
					long_name = SER_YUG_royal_paternal_autocrat_party_long
					name = SER_YUG_royal_paternal_autocrat_party
				}
				if = {
					limit = {
						has_country_leader = { character = SER_petar_ii }
					}
					set_party_name = {
						ideology = authoritarian_democrat
						long_name = SER_YUG_royal_paternal_autocrat_party_long
						name = SER_YUG_royal_paternal_autocrat_party
					}
					set_party_name = {
						ideology = national_populist
						long_name = SER_YUG_royal_paternal_autocrat_party_long
						name = SER_YUG_royal_paternal_autocrat_party
					}
				}
			}
			else_if = {
				limit = {
					has_country_leader = { character = SER_petar_ii }
					has_dictatorship_government = no
				}
				set_cosmetic_tag = YUG_mon
				set_country_flag = YUG_royal_federal_yugoslavia_formed
				complete_national_focus = SER_YUG_royal_federation
			}
			else_if = {
				limit = {
					OR = {
						has_government = social_democrat
						has_government = social_liberal
					}
					national_populist < 0.15
				}
				set_cosmetic_tag = YUG_fed
				set_country_flag = YUG_usy_formed
				complete_national_focus = SER_YUG_united_states
				meta_effect = {
					text = {
						add_country_leader_role = {
							character = SER_temporary_national_representation
							country_leader = {
								ideology = [RULING_PARTY_TAG]
							}
							promote_leader = yes
						}
					}
					RULING_PARTY_TAG = "[Root.GetRulingIdeologySubtype]"
				}
			}
			else_if = {
				limit = {
					has_socialist_government = yes
				}
				set_cosmetic_tag = YUG_fed
				set_country_flag = YUG_balkan_socialist_federation_formed
				complete_national_focus = SER_YUG_balkan_federalism
			}
			else = {
				if = { #telling republican path players that they will get this YUG if they have over 15% national_populist popularity
					limit = {
						OR = {
							has_government = social_democrat
							has_government = social_liberal
						}
					}
					custom_effect_tooltip = SER_YUG_republican_gets_three_named_nation
				}
				set_cosmetic_tag = YUG_rep
				set_country_flag = YUG_three_named_nation_formed
				complete_national_focus = SER_YUG_three_named_nation
				meta_effect = {
					text = {
						add_country_leader_role = {
							character = SER_temporary_national_representation
							country_leader = {
								ideology = [RULING_PARTY_TAG]
							}
							promote_leader = yes
						}
					}
					RULING_PARTY_TAG = "[Root.GetRulingIdeologySubtype]"
				}
			}
			if = { # To be moved to the first Yugoslav election event
				limit = { has_democratic_government = yes }
				hidden_effect = {
					meta_effect = {
						text = {
							set_politics = {
								ruling_party = var:current_party_ideology_group
								last_election = "[CURRENT_DATE]"
								election_frequency = 4
								elections_allowed = yes
							}
						}
						CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
					}
				}
			}
			remove_ideas = SER_open_rearmament
			remove_ideas = SER_scarred_nation_1
			hidden_effect = {
				remove_ideas = {
					SER_scarred_nation_01
					SER_scarred_nation_2
					SER_scarred_nation_3
					SER_scarred_nation_4
				}
			}
			news_event = worldnews.119
			mark_focus_tree_layout_dirty = yes
			YUG_set_up_yugoslavia_minigame = yes
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_idea = SER_konspiracija_idea
						}
					}
					set_party_name = {
						ideology = national_populist
						long_name = SER_YUG_national_populist_party_long
						name = SER_YUG_national_populist_party
					}
				}
				if = {
					limit = {
						NOT = {
							has_government = authoritarian_democrat
						}
					}
					set_party_name = {
						ideology = authoritarian_democrat
						long_name = SER_YUG_national_populist_party_long
						name = SER_YUG_national_populist_party
					}
				}
				if = {
					limit = {
						national_populist > 0.3
						is_ai = no
						has_idea = SER_konspiracija_idea
					}
					country_event = { id = serbia.73 days = 7 }
				}
				else = {
					country_event = { id = yugoslavia.2 days = 30 random_days = 10 }
					country_event = { id = yugoslavia.3 days = 40 random_days = 10 }
					country_event = { id = yugoslavia.6 days = 120 random_days = 30 }
					country_event = { id = yugoslavia.10 days = 200 random_days = 30 }
					country_event = { id = yugoslavia.11 days = 40 random_days = 10 }
					country_event = { id = yugmechanics.4 days = 60 }
				}
			}
		}
	}
	SER_Dusan_Proclamation = {
		icon = generic_prepare_civil_war

		visible = {
			OR = {
				has_country_leader = { character = SER_petar_ii }
				has_country_leader = { character = SER_petar_zivkovic }
			}
			has_war_with = TUR
			controls_state = 773 # Konstantinyye
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_Dusan_Proclamation"
			country_event = serflavor.26
		}
	}
}
SER_contain_konspiracija_decisions = {
	SER_prodanovic_assassination_fallout = {
		icon = generic_prepare_civil_war

		activation = {
			always = no
		}
		available = {
			hidden_trigger = { always = no }
		}
		cancel_trigger = {
			NOT = {
				has_idea = SER_konspiracija_idea
			}
		}

		selectable_mission = no
		is_good = no
		days_mission_timeout = 120

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SER_prodanovic_assassination_fallout"
			set_country_flag = SER_enshrined_konspiracija_control_flag # cannot take anti Konspiracija foci, minimum 11% natpop
			if = {
				limit = { has_idea = SER_ideologically_charged_army }
				remove_ideas = SER_ideologically_charged_army
			}
			if = {
				limit = { has_idea = SER_republican_guard }
				remove_ideas = SER_republican_guard
			}
			hidden_effect = {
				country_event = { id = serbia.20 days = 2 } # You fucked up, Konspiracija wins
			}
		}
	}
	SER_prodanovic_blame_konspiracija = {
		icon = GFX_decision_onmap_recruit_operative

		fire_only_once = yes
		cost = 0

		visible = {
			has_active_mission = SER_prodanovic_assassination_fallout
		}

		ai_will_do = {
			base = 1000
			modifier = {
				factor = 0
				set_temp_variable = { SER_temp_comparison_var = ROOT.party_popularity@national_populist }
				multiply_temp_variable = { SER_temp_comparison_var = -1 }
				check_variable = { SER.SER_prodanovic_natpop_loss > SER_temp_comparison_var }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_prodanovic_blame_konspiracija"
			effect_tooltip = {
				add_popularity = {
					ideology = national_populist
					popularity = SER_prodanovic_natpop_loss
				}
			}
			custom_effect_tooltip = SER_prodanovic_assassination_kons_response_tt
			# DON'T WORRY, IT'S ALL PART OF ERWIN'S FAILSAFE PLAN!
			hidden_effect = {
				set_temp_variable = { SER_temp_comparison_var = ROOT.party_popularity@national_populist }
				multiply_temp_variable = { SER_temp_comparison_var = -1 }
				if = {
					limit = {
						check_variable = { SER.SER_prodanovic_natpop_loss > SER_temp_comparison_var }
					}
					set_country_flag = SER_you_fucked_up_response_flag
					country_event = serbia.20
				}
				else = {
					country_event = serbia.19
				}
			}
		}
	}
	SER_prodanovic_other_clue_1 = {
		icon = GFX_decision_onmap_recruit_operative

		fire_only_once = yes
		cost = 40
		days_remove = 14

		visible = {
			has_active_mission = SER_prodanovic_assassination_fallout
		}

		ai_will_do = {
			factor = 150
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_prodanovic_other_clue_1"
			subtract_from_variable = { SER_prodanovic_natpop_loss = 0.02 }
			custom_effect_tooltip = SER_prodanovic_assassination_gain_clue_tt
		}
	}
	SER_prodanovic_other_clue_2 = {
		icon = GFX_decision_onmap_recruit_operative

		fire_only_once = yes
		cost = 40
		days_remove = 14

		visible = {
			has_active_mission = SER_prodanovic_assassination_fallout
		}

		ai_will_do = {
			factor = 150
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_prodanovic_other_clue_2"
			subtract_from_variable = { SER_prodanovic_natpop_loss = 0.02 }
			custom_effect_tooltip = SER_prodanovic_assassination_gain_clue_tt
		}
	}
	SER_prodanovic_clue_1 = {
		icon = GFX_decision_onmap_recruit_operative

		fire_only_once = yes
		cost = 25
		days_remove = 14

		visible = {
			has_active_mission = SER_prodanovic_assassination_fallout
		}

		ai_will_do = {
			factor = 150
		}
		modifier = {
			political_power_cost = 0.25
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_prodanovic_clue_1"
			random_list = {
				90 = {
					subtract_from_variable = { SER_prodanovic_natpop_loss = 0.02 }
					custom_effect_tooltip = SER_prodanovic_assassination_gain_clue_tt
				}
				10 = {
					custom_effect_tooltip = SER_prodanovic_assassination_no_effect_tt
				}
			}
			set_country_flag = SER_prodanovic_clue_1_gained
		}
	}
	SER_prodanovic_clue_2 = {
		icon = GFX_decision_onmap_recruit_operative

		fire_only_once = yes
		cost = 25
		days_remove = 14

		visible = {
			has_active_mission = SER_prodanovic_assassination_fallout
			has_country_flag = SER_prodanovic_clue_1_gained
		}

		ai_will_do = {
			factor = 150
		}
		modifier = {
			political_power_cost = 0.25
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_prodanovic_clue_2"
			random_list = {
				75 = {
					subtract_from_variable = { SER_prodanovic_natpop_loss = 0.02 }
					custom_effect_tooltip = SER_prodanovic_assassination_gain_clue_tt
				}
				25 = {
					custom_effect_tooltip = SER_prodanovic_assassination_no_effect_tt
				}
			}
			set_country_flag = SER_prodanovic_clue_2_gained
		}
	}
	SER_prodanovic_clue_3 = {
		icon = GFX_decision_onmap_recruit_operative

		fire_only_once = yes
		cost = 25
		days_remove = 14

		visible = {
			has_active_mission = SER_prodanovic_assassination_fallout
			has_country_flag = SER_prodanovic_clue_2_gained
		}

		ai_will_do = {
			factor = 150
		}
		modifier = {
			political_power_cost = 0.25
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_prodanovic_clue_3"
			random_list = {
				65 = {
					subtract_from_variable = { SER_prodanovic_natpop_loss = 0.03 }
					custom_effect_tooltip = SER_prodanovic_assassination_gain_clue_tt
				}
				35 = {
					custom_effect_tooltip = SER_prodanovic_assassination_no_effect_tt
				}
			}
		}
	}
	SER_prodanovic_clue_4 = {
		icon = GFX_decision_onmap_recruit_operative

		fire_only_once = yes
		cost = 25
		days_remove = 14

		visible = {
			has_active_mission = SER_prodanovic_assassination_fallout
			has_country_flag = SER_prodanovic_clue_2_gained
		}

		ai_will_do = {
			factor = 150
		}
		modifier = {
			political_power_cost = 0.25
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_prodanovic_clue_4"
			random_list = {
				50 = {
					subtract_from_variable = { SER_prodanovic_natpop_loss = 0.03 }
					custom_effect_tooltip = SER_prodanovic_assassination_gain_clue_tt
				}
				50 = {
					custom_effect_tooltip = SER_prodanovic_assassination_no_effect_tt
				}
			}
		}
	}
	SER_remove_nedic = {
		icon = GFX_decision_onmap_recruit_operative

		fire_only_once = yes
		cost = 40

		visible = {
			has_completed_focus = SER_promote_young_officers
			has_character = SER_milutin_nedic
			has_idea = SER_konspiracija_idea
			custom_trigger_tooltip = {
				tooltip = SER_not_disabled_anti_kons_foci_tt
				NOT = {
					OR = {
						has_active_mission = SER_prodanovic_assassination_fallout
						has_country_flag = SER_enshrined_konspiracija_control_flag
					}
				}
			}
		}

		ai_will_do = {
			factor = 150
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_remove_nedic"
			effect_tooltip = { retire_character = SER_milutin_nedic }
			hidden_effect = {
				SER_milutin_nedic = {
					demote_leader = yes
					set_nationality = XXA
				}
			}
			add_popularity = {
				ideology = national_populist
				popularity = -0.04
			}
			if = {
				limit = { has_idea = SER_ideologically_charged_army }
				modify_timed_idea = {
					idea = SER_ideologically_charged_army
					days = 100
				}
			}
			else = {
				add_timed_idea = {
					idea = SER_ideologically_charged_army
					days = 100
				}
			}
		}
	}
	SER_remove_ilic = {
		icon = GFX_decision_onmap_recruit_operative

		fire_only_once = yes
		cost = 40

		visible = {
			has_completed_focus = SER_promote_young_officers
			has_character = SER_bogoljub_ilic
			has_idea = SER_konspiracija_idea
			custom_trigger_tooltip = {
				tooltip = SER_not_disabled_anti_kons_foci_tt
				NOT = {
					OR = {
						has_active_mission = SER_prodanovic_assassination_fallout
						has_country_flag = SER_enshrined_konspiracija_control_flag
					}
				}
			}
		}

		ai_will_do = {
			factor = 150
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_remove_ilic"
			effect_tooltip = { retire_character = SER_bogoljub_ilic }
			hidden_effect = {
				SER_bogoljub_ilic = {
					demote_leader = yes
					set_nationality = XXA
				}
			}
			add_popularity = {
				ideology = national_populist
				popularity = -0.04
			}
			if = {
				limit = { has_idea = SER_ideologically_charged_army }
				modify_timed_idea = {
					idea = SER_ideologically_charged_army
					days = 100
				}
			}
			else = {
				add_timed_idea = {
					idea = SER_ideologically_charged_army
					days = 100
				}
			}
		}
	}
	SER_remove_vukcevic = {
		icon = GFX_decision_onmap_recruit_operative

		fire_only_once = yes
		cost = 40

		visible = {
			has_completed_focus = SER_promote_young_officers
			has_character = SER_dragoljub_mihailovic
			has_idea = SER_konspiracija_idea
			custom_trigger_tooltip = {
				tooltip = SER_not_disabled_anti_kons_foci_tt
				NOT = {
					OR = {
						has_active_mission = SER_prodanovic_assassination_fallout
						has_country_flag = SER_enshrined_konspiracija_control_flag
					}
				}
			}
		}

		ai_will_do = {
			factor = 150
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SER_remove_vukcevic"
			retire_character = SER_dragoljub_mihailovic
			add_popularity = {
				ideology = national_populist
				popularity = -0.04
			}
			if = {
				limit = { has_idea = SER_ideologically_charged_army }
				modify_timed_idea = {
					idea = SER_ideologically_charged_army
					days = 100
				}
			}
			else = {
				add_timed_idea = {
					idea = SER_ideologically_charged_army
					days = 100
				}
			}
		}
	}
}
SER_fighting_domestic_enemies = {
	SER_fight_the_konspiracija = {# fight konspirajia
		icon = GFX_decision_generic_industry
		available = {
			NOT = {
				has_decision = SER_fight_monarchists_remnants
				has_decision = SER_fight_socialists_terrorists
			}
		}
		visible = {
			OR = {
				has_idea = SER_domestic_enemies_1
				has_idea = SER_domestic_enemies_2
				has_idea = SER_domestic_enemies_3
			}
			OR = {
				has_completed_focus = SER_deal_with_domestic_enemies
			}
		}

		cost = 20

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_fight_the_konspiracija"
			if = {
				limit = { has_idea = SER_domestic_enemies_1 }
				swap_ideas = {
					remove_idea = SER_domestic_enemies_1
					add_idea = SER_domestic_enemies_2
				}
			}
			else_if = {
				limit = { has_idea = SER_domestic_enemies_2 }
				swap_ideas = {
					remove_idea = SER_domestic_enemies_2
					add_idea = SER_domestic_enemies_3
				}
			}
			else_if = {
				limit = { has_idea = SER_domestic_enemies_3 }
				remove_ideas = SER_domestic_enemies_3

			}
		}
	}

	SER_fight_monarchists_remnants = {
		icon = GFX_decision_generic_industry
		available = {
			NOT = {
				has_decision = SER_fight_socialists_terrorists
				has_decision = SER_fight_the_konspiracija
			}
		}
		visible = {
			OR = {
				has_idea = SER_domestic_enemies_1
				has_idea = SER_domestic_enemies_2
				has_idea = SER_domestic_enemies_3
			}
			OR = {
				has_completed_focus = SER_deal_with_domestic_enemies
			}
		}

		cost = 20

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_fight_monarchists_remnants"
			if = {
				limit = { has_idea = SER_domestic_enemies_1 }
				swap_ideas = {
					remove_idea = SER_domestic_enemies_1
					add_idea = SER_domestic_enemies_2
				}
			}
			else_if = {
				limit = { has_idea = SER_domestic_enemies_2 }
				swap_ideas = {
					remove_idea = SER_domestic_enemies_2
					add_idea = SER_domestic_enemies_3
				}
			}
			else_if = {
				limit = { has_idea = SER_domestic_enemies_3 }
				remove_ideas = SER_domestic_enemies_3
			}
		}
	}
	SER_fight_socialists_terrorists = {
		icon = GFX_decision_generic_industry
		available = {
			NOT = {
				has_decision = SER_fight_monarchists_remnants
				has_decision = SER_fight_the_konspiracija
			}
		}
		visible = {
			OR = {
				has_idea = SER_domestic_enemies_1
				has_idea = SER_domestic_enemies_2
				has_idea = SER_domestic_enemies_3
			}
			OR = {
				has_completed_focus = SER_deal_with_domestic_enemies
			}
		}

		cost = 20

		fire_only_once = yes
		days_remove = 50

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_fight_socialists_terrorists"
			if = {
				limit = { has_idea = SER_domestic_enemies_1 }
				swap_ideas = {
					remove_idea = SER_domestic_enemies_1
					add_idea = SER_domestic_enemies_2
				}
			}
			else_if = {
				limit = { has_idea = SER_domestic_enemies_2 }
				swap_ideas = {
					remove_idea = SER_domestic_enemies_2
					add_idea = SER_domestic_enemies_3
				}
			}
			else_if = {
				limit = { has_idea = SER_domestic_enemies_3 }
				remove_ideas = SER_domestic_enemies_3
			}
		}
	}
}
SER_yugoslavia_ethnic_relations_decisions = {
	# "Hey Aug, why did you make each point of patronage expenditure a separate decision instead of creating a repeating decision to increase your expenditure, thus increasing your code size like tenfold"
	# Well you see, young coder who is trekking through Serbia rework code for some reason
	# I wanted each level to have a differently coloured number, and this was the quickest way to do it
	# Well actually having six separate decisions also makes pressing the button flow faster but the first answer makes it funnier
	YUG_rounds_system_mission = {
		icon = generic_prepare_civil_war
		priority = 120

		allowed = { always = no } #manually activated

		available = {
			hidden_trigger = { always = no }
		}
		cancel_trigger = {
			SER_has_not_founded_yugoslavia = yes
		}

		selectable_mission = no
		is_good = yes
		days_mission_timeout = 90

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout YUG_rounds_system_mission"
			YUG_refresh_yugoslavia_minigame = yes
		}
	}
	YUG_serbia_expenditure_0 = {
		icon = GFX_decision_generic_nationalism
		priority = 200

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_serbia = YUG_AI_target_serbia }
			}
			modifier = {
				factor = YUG_AI_factor_serbia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_serbia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_serbia_expenditure_0"
			custom_effect_tooltip = YUG_patronage_spending_SER
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_serbia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_serbia_expenditure_1 target = event_target:SER_dummy }
				remove_targeted_decision = { decision = YUG_serbia_expenditure_0 target = event_target:SER_dummy }
				set_variable = { YUG_decision_counter_serbia = 1 }
			}
		}
	}
	YUG_serbia_expenditure_1 = {
		icon = GFX_decision_generic_nationalism
		priority = 200

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_serbia = YUG_AI_target_serbia }
			}
			modifier = {
				factor = YUG_AI_factor_serbia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_serbia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_serbia_expenditure_1"
			custom_effect_tooltip = YUG_patronage_spending_SER
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_serbia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_serbia_expenditure_2 target = event_target:SER_dummy }
				remove_targeted_decision = { decision = YUG_serbia_expenditure_1 target = event_target:SER_dummy }
				set_variable = { YUG_decision_counter_serbia = 2 }
			}
		}
	}
	YUG_serbia_expenditure_2 = {
		icon = GFX_decision_generic_nationalism
		priority = 200

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_serbia = YUG_AI_target_serbia }
			}
			modifier = {
				factor = YUG_AI_factor_serbia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_serbia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_serbia_expenditure_2"
			custom_effect_tooltip = YUG_patronage_spending_SER
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_serbia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_serbia_expenditure_3 target = event_target:SER_dummy }
				remove_targeted_decision = { decision = YUG_serbia_expenditure_2 target = event_target:SER_dummy }
				set_variable = { YUG_decision_counter_serbia = 3 }
			}
		}
	}
	YUG_serbia_expenditure_3 = {
		icon = GFX_decision_generic_nationalism
		priority = 200

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_serbia = YUG_AI_target_serbia }
			}
			modifier = {
				factor = YUG_AI_factor_serbia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_serbia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_serbia_expenditure_3"
			custom_effect_tooltip = YUG_patronage_spending_SER
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_serbia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_serbia_expenditure_4 target = event_target:SER_dummy }
				remove_targeted_decision = { decision = YUG_serbia_expenditure_3 target = event_target:SER_dummy }
				set_variable = { YUG_decision_counter_serbia = 4 }
			}
		}
	}
	YUG_serbia_expenditure_4 = {
		icon = GFX_decision_generic_nationalism
		priority = 200

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_serbia = YUG_AI_target_serbia }
			}
			modifier = {
				factor = YUG_AI_factor_serbia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_serbia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_serbia_expenditure_4"
			custom_effect_tooltip = YUG_patronage_spending_SER
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_serbia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_serbia_expenditure_5 target = event_target:SER_dummy }
				remove_targeted_decision = { decision = YUG_serbia_expenditure_4 target = event_target:SER_dummy }
				set_variable = { YUG_decision_counter_serbia = 5 }
			}
		}
	}
	YUG_serbia_expenditure_5 = {
		icon = GFX_decision_generic_nationalism
		priority = 200

		allowed = { always = no } #manually activated

		available = {
			custom_trigger_tooltip = {
				tooltip = YUG_patronage_spending_maximum_five
				always = no
			}
		}

		target_non_existing = yes
	}

	YUG_croatia_expenditure_0 = {
		icon = GFX_decision_generic_nationalism
		priority = 180

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_croatia = YUG_AI_target_croatia }
			}
			modifier = {
				factor = YUG_AI_factor_croatia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_croatia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_croatia_expenditure_0"
			custom_effect_tooltip = YUG_patronage_spending_CRO
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_croatia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_croatia_expenditure_1 target = CRO }
				remove_targeted_decision = { decision = YUG_croatia_expenditure_0 target = CRO }
				set_variable = { YUG_decision_counter_croatia = 1 }
			}
		}
	}
	YUG_croatia_expenditure_1 = {
		icon = GFX_decision_generic_nationalism
		priority = 180

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_croatia = YUG_AI_target_croatia }
			}
			modifier = {
				factor = YUG_AI_factor_croatia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_croatia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_croatia_expenditure_1"
			custom_effect_tooltip = YUG_patronage_spending_CRO
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_croatia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_croatia_expenditure_2 target = CRO }
				remove_targeted_decision = { decision = YUG_croatia_expenditure_1 target = CRO }
				set_variable = { YUG_decision_counter_croatia = 2 }
			}
		}
	}
	YUG_croatia_expenditure_2 = {
		icon = GFX_decision_generic_nationalism
		priority = 180

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_croatia = YUG_AI_target_croatia }
			}
			modifier = {
				factor = YUG_AI_factor_croatia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_croatia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_croatia_expenditure_2"
			custom_effect_tooltip = YUG_patronage_spending_CRO
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_croatia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_croatia_expenditure_3 target = CRO }
				remove_targeted_decision = { decision = YUG_croatia_expenditure_2 target = CRO }
				set_variable = { YUG_decision_counter_croatia = 3 }
			}
		}
	}
	YUG_croatia_expenditure_3 = {
		icon = GFX_decision_generic_nationalism
		priority = 180

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_croatia = YUG_AI_target_croatia }
			}
			modifier = {
				factor = YUG_AI_factor_croatia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_croatia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_croatia_expenditure_3"
			custom_effect_tooltip = YUG_patronage_spending_CRO
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_croatia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_croatia_expenditure_4 target = CRO }
				remove_targeted_decision = { decision = YUG_croatia_expenditure_3 target = CRO }
				set_variable = { YUG_decision_counter_croatia = 4 }
			}
		}
	}
	YUG_croatia_expenditure_4 = {
		icon = GFX_decision_generic_nationalism
		priority = 180

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_croatia = YUG_AI_target_croatia }
			}
			modifier = {
				factor = YUG_AI_factor_croatia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_croatia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_croatia_expenditure_4"
			custom_effect_tooltip = YUG_patronage_spending_CRO
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_croatia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_croatia_expenditure_5 target = CRO }
				remove_targeted_decision = { decision = YUG_croatia_expenditure_4 target = CRO }
				set_variable = { YUG_decision_counter_croatia = 5 }
			}
		}
	}
	YUG_croatia_expenditure_5 = {
		icon = GFX_decision_generic_nationalism
		priority = 180

		allowed = { always = no } #manually activated

		available = {
			custom_trigger_tooltip = {
				tooltip = YUG_patronage_spending_maximum_five
				always = no
			}
		}

		target_non_existing = yes
	}

	YUG_bosnia_expenditure_0 = {
		icon = GFX_decision_generic_nationalism
		priority = 160

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_bosnia = YUG_AI_target_bosnia }
			}
			modifier = {
				factor = YUG_AI_factor_bosnia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_bosnia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_bosnia_expenditure_0"
			custom_effect_tooltip = YUG_patronage_spending_BOS
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_bosnia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_bosnia_expenditure_1 target = BOS }
				remove_targeted_decision = { decision = YUG_bosnia_expenditure_0 target = BOS }
				set_variable = { YUG_decision_counter_bosnia = 1 }
			}
		}
	}
	YUG_bosnia_expenditure_1 = {
		icon = GFX_decision_generic_nationalism
		priority = 160

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_bosnia = YUG_AI_target_bosnia }
			}
			modifier = {
				factor = YUG_AI_factor_bosnia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_bosnia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_bosnia_expenditure_1"
			custom_effect_tooltip = YUG_patronage_spending_BOS
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_bosnia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_bosnia_expenditure_2 target = BOS }
				remove_targeted_decision = { decision = YUG_bosnia_expenditure_1 target = BOS }
				set_variable = { YUG_decision_counter_bosnia = 2 }
			}
		}
	}
	YUG_bosnia_expenditure_2 = {
		icon = GFX_decision_generic_nationalism
		priority = 160

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_bosnia = YUG_AI_target_bosnia }
			}
			modifier = {
				factor = YUG_AI_factor_bosnia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_bosnia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_bosnia_expenditure_2"
			custom_effect_tooltip = YUG_patronage_spending_BOS
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_bosnia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_bosnia_expenditure_3 target = BOS }
				remove_targeted_decision = { decision = YUG_bosnia_expenditure_2 target = BOS }
				set_variable = { YUG_decision_counter_bosnia = 3 }
			}
		}
	}
	YUG_bosnia_expenditure_3 = {
		icon = GFX_decision_generic_nationalism
		priority = 160

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_bosnia = YUG_AI_target_bosnia }
			}
			modifier = {
				factor = YUG_AI_factor_bosnia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_bosnia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_bosnia_expenditure_3"
			custom_effect_tooltip = YUG_patronage_spending_BOS
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_bosnia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_bosnia_expenditure_4 target = BOS }
				remove_targeted_decision = { decision = YUG_bosnia_expenditure_3 target = BOS }
				set_variable = { YUG_decision_counter_bosnia = 4 }
			}
		}
	}
	YUG_bosnia_expenditure_4 = {
		icon = GFX_decision_generic_nationalism
		priority = 160

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_bosnia = YUG_AI_target_bosnia }
			}
			modifier = {
				factor = YUG_AI_factor_bosnia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_bosnia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_bosnia_expenditure_4"
			custom_effect_tooltip = YUG_patronage_spending_BOS
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_bosnia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_bosnia_expenditure_5 target = BOS }
				remove_targeted_decision = { decision = YUG_bosnia_expenditure_4 target = BOS }
				set_variable = { YUG_decision_counter_bosnia = 5 }
			}
		}
	}
	YUG_bosnia_expenditure_5 = {
		icon = GFX_decision_generic_nationalism
		priority = 160

		allowed = { always = no } #manually activated

		available = {
			custom_trigger_tooltip = {
				tooltip = YUG_patronage_spending_maximum_five
				always = no
			}
		}

		target_non_existing = yes
	}

	YUG_slovenia_expenditure_0 = {
		icon = GFX_decision_generic_nationalism
		priority = 140

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_slovenia = YUG_AI_target_slovenia }
			}
			modifier = {
				factor = YUG_AI_factor_slovenia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_slovenia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_slovenia_expenditure_0"
			custom_effect_tooltip = YUG_patronage_spending_SLO
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_slovenia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_slovenia_expenditure_1 target = SLV }
				remove_targeted_decision = { decision = YUG_slovenia_expenditure_0 target = SLV }
				set_variable = { YUG_decision_counter_slovenia = 1 }
			}
		}
	}
	YUG_slovenia_expenditure_1 = {
		icon = GFX_decision_generic_nationalism
		priority = 140

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_slovenia = YUG_AI_target_slovenia }
			}
			modifier = {
				factor = YUG_AI_factor_slovenia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_slovenia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_slovenia_expenditure_1"
			custom_effect_tooltip = YUG_patronage_spending_SLO
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_slovenia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_slovenia_expenditure_2 target = SLV }
				remove_targeted_decision = { decision = YUG_slovenia_expenditure_1 target = SLV }
				set_variable = { YUG_decision_counter_slovenia = 2 }
			}
		}
	}
	YUG_slovenia_expenditure_2 = {
		icon = GFX_decision_generic_nationalism
		priority = 140

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_slovenia = YUG_AI_target_slovenia }
			}
			modifier = {
				factor = YUG_AI_factor_slovenia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_slovenia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_slovenia_expenditure_2"
			custom_effect_tooltip = YUG_patronage_spending_SLO
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_slovenia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_slovenia_expenditure_3 target = SLV }
				remove_targeted_decision = { decision = YUG_slovenia_expenditure_2 target = SLV }
				set_variable = { YUG_decision_counter_slovenia = 3 }
			}
		}
	}
	YUG_slovenia_expenditure_3 = {
		icon = GFX_decision_generic_nationalism
		priority = 140

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_slovenia = YUG_AI_target_slovenia }
			}
			modifier = {
				factor = YUG_AI_factor_slovenia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_slovenia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_slovenia_expenditure_3"
			custom_effect_tooltip = YUG_patronage_spending_SLO
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_slovenia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_slovenia_expenditure_4 target = SLV }
				remove_targeted_decision = { decision = YUG_slovenia_expenditure_3 target = SLV }
				set_variable = { YUG_decision_counter_slovenia = 4 }
			}
		}
	}
	YUG_slovenia_expenditure_4 = {
		icon = GFX_decision_generic_nationalism
		priority = 140

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_slovenia = YUG_AI_target_slovenia }
			}
			modifier = {
				factor = YUG_AI_factor_slovenia #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_slovenia #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_slovenia_expenditure_4"
			custom_effect_tooltip = YUG_patronage_spending_SLO
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_slovenia = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_slovenia_expenditure_5 target = SLV }
				remove_targeted_decision = { decision = YUG_slovenia_expenditure_4 target = SLV }
				set_variable = { YUG_decision_counter_slovenia = 5 }
			}
		}
	}
	YUG_slovenia_expenditure_5 = {
		icon = GFX_decision_generic_nationalism
		priority = 140

		allowed = { always = no } #manually activated

		available = {
			custom_trigger_tooltip = {
				tooltip = YUG_patronage_spending_maximum_five
				always = no
			}
		}

		target_non_existing = yes
	}

	YUG_other_expenditure_0 = {
		icon = GFX_decision_generic_nationalism
		priority = 120

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_other = YUG_AI_target_other }
			}
			modifier = {
				factor = YUG_AI_factor_other #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_other #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_other_expenditure_0"
			custom_effect_tooltip = YUG_patronage_spending_OTH
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_other = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_other_expenditure_1 target = ALB }
				remove_targeted_decision = { decision = YUG_other_expenditure_0 target = ALB }
				set_variable = { YUG_decision_counter_other = 1 }
			}
		}
	}
	YUG_other_expenditure_1 = {
		icon = GFX_decision_generic_nationalism
		priority = 120

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_other = YUG_AI_target_other }
			}
			modifier = {
				factor = YUG_AI_factor_other #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_other #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_other_expenditure_1"
			custom_effect_tooltip = YUG_patronage_spending_OTH
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_other = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_other_expenditure_2 target = ALB }
				remove_targeted_decision = { decision = YUG_other_expenditure_1 target = ALB }
				set_variable = { YUG_decision_counter_other = 2 }
			}
		}
	}
	YUG_other_expenditure_2 = {
		icon = GFX_decision_generic_nationalism
		priority = 120

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_other = YUG_AI_target_other }
			}
			modifier = {
				factor = YUG_AI_factor_other #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_other #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_other_expenditure_2"
			custom_effect_tooltip = YUG_patronage_spending_OTH
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_other = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_other_expenditure_3 target = ALB }
				remove_targeted_decision = { decision = YUG_other_expenditure_2 target = ALB }
				set_variable = { YUG_decision_counter_other = 3 }
			}
		}
	}
	YUG_other_expenditure_3 = {
		icon = GFX_decision_generic_nationalism
		priority = 120

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_other = YUG_AI_target_other }
			}
			modifier = {
				factor = YUG_AI_factor_other #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_other #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_other_expenditure_3"
			custom_effect_tooltip = YUG_patronage_spending_OTH
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_other = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_other_expenditure_4 target = ALB }
				remove_targeted_decision = { decision = YUG_other_expenditure_3 target = ALB }
				set_variable = { YUG_decision_counter_other = 4 }
			}
		}
	}
	YUG_other_expenditure_4 = {
		icon = GFX_decision_generic_nationalism
		priority = 120

		allowed = { always = no } #manually activated

		target_non_existing = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				check_variable = { YUG_pc_expenditure_other = YUG_AI_target_other }
			}
			modifier = {
				factor = YUG_AI_factor_other #5 -> 2.5 -> 1.67 -> 1.25 -> 1 depending on the turn's requirements
			}
			modifier = {
				factor = YUG_AI_focus_other #10-1 depending on the current relation leve
			}
		}

		custom_cost_text = YUG_1PC
		custom_cost_trigger = {
			check_variable = { YUG_political_capital > 0 }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete YUG_other_expenditure_4"
			custom_effect_tooltip = YUG_patronage_spending_OTH
			subtract_from_variable = { YUG_political_capital = 1 }
			add_to_variable = { YUG_pc_expenditure_other = 1 }
			hidden_effect = {
				activate_targeted_decision = { decision = YUG_other_expenditure_5 target = ALB }
				remove_targeted_decision = { decision = YUG_other_expenditure_4 target = ALB }
				set_variable = { YUG_decision_counter_other = 5 }
			}
		}
	}
	YUG_other_expenditure_5 = {
		icon = GFX_decision_generic_nationalism
		priority = 120

		allowed = { always = no } #manually activated

		available = {
			custom_trigger_tooltip = {
				tooltip = YUG_patronage_spending_maximum_five
				always = no
			}
		}

		target_non_existing = yes
	}

	SER_YUG_redraw_borders = {
		icon = generic_flags

		available = {
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
			FROM = { is_core_of = ROOT }
			OR = {
				has_completed_focus = SER_YUG_referendum_federalism
				has_completed_focus = SER_YUG_royal_referendum_federalism
			}
			NOT = {
				has_completed_focus = SER_YUG_brotherhood_and_unity
			}
		}

		cost = 50
		fire_only_once = yes

		state_target = yes
		targets = { 106 765 163 109 104 } # Macedonia, Kosovo, two Croatian states, Bosnia
		target_root_trigger = {
			OR = {
				has_completed_focus = SER_YUG_referendum_federalism
				has_completed_focus = SER_YUG_royal_referendum_federalism
			}
		}
		target_trigger = {
			FROM = { is_core_of = ROOT }
		}

		ai_will_do = {
			factor = 20
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_redraw_borders target: [From.GetName]"
			if = {
				limit = {
					FROM = {
						OR = {
							state = 106
							state = 765
						}
					}
				}
				set_variable = { YUG_other_pp_requirement = 0 }
				custom_effect_tooltip = SER_YUG_other_zero_demand_tt
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							state = 163
							state = 109
						}
					}
				}
				set_variable = { YUG_croatia_pp_requirement = 0 }
				custom_effect_tooltip = SER_YUG_croatia_zero_demand_tt
			}
			else_if = {
				limit = {
					FROM = {
						state = 104
					}
				}
				set_variable = { YUG_bosnia_pp_requirement = 0 }
				custom_effect_tooltip = SER_YUG_bosnia_zero_demand_tt
			}
		}
	}
	SER_YUG_denationalisation_campaign = {
		icon = generic_flags

		available = {
			controls_state = FROM
			FROM = { is_core_of = ROOT }
		}

		visible = {
			owns_state = FROM
			has_completed_focus = SER_YUG_soc_denationalization
			NOT = {
				has_completed_focus = SER_YUG_brotherhood_and_unity
			}
		}

		cost = 70
		fire_only_once = yes

		state_target = yes
		targets = { 106 109 104 102 107 } # Macedonia, Croatia, Bosnia, Slovenia, Serbia
		target_root_trigger = { has_completed_focus = SER_YUG_soc_denationalization }
		target_trigger = {
			FROM = { is_core_of = ROOT }
		}

		ai_will_do = {
			factor = 20
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_denationalisation_campaign target: [From.GetName]"
			if = {
				limit = {
					FROM = {
						state = 106
					}
				}
				set_temp_variable = { gained_pp_per_turn = YUG_pc_expenditure_other }
				clamp_temp_variable = { var = gained_pp_per_turn max = 3 }
				custom_effect_tooltip = YUG_modify_pp_gain_increase_tt
				add_to_variable = { YUG_political_capital_gain = gained_pp_per_turn }
				set_variable = { YUG_pc_expenditure_other = 0 }
				custom_effect_tooltip = SER_YUG_other_zero_expenditure_tt
				YUG_update_expenditure_missions_other = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 109
					}
				}
				set_temp_variable = { gained_pp_per_turn = YUG_pc_expenditure_croatia }
				clamp_temp_variable = { var = gained_pp_per_turn max = 3 }
				custom_effect_tooltip = YUG_modify_pp_gain_increase_tt
				add_to_variable = { YUG_political_capital_gain = gained_pp_per_turn }
				set_variable = { YUG_pc_expenditure_croatia = 0 }
				custom_effect_tooltip = SER_YUG_croatia_zero_expenditure_tt
				YUG_update_expenditure_missions_croatia = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 104
					}
				}
				set_temp_variable = { gained_pp_per_turn = YUG_pc_expenditure_bosnia }
				clamp_temp_variable = { var = gained_pp_per_turn max = 3 }
				custom_effect_tooltip = YUG_modify_pp_gain_increase_tt
				add_to_variable = { YUG_political_capital_gain = gained_pp_per_turn }
				set_variable = { YUG_pc_expenditure_bosnia = 0 }
				custom_effect_tooltip = SER_YUG_bosnia_zero_expenditure_tt
				YUG_update_expenditure_missions_bosnia = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 102
					}
				}
				set_temp_variable = { gained_pp_per_turn = YUG_pc_expenditure_slovenia }
				clamp_temp_variable = { var = gained_pp_per_turn max = 3 }
				custom_effect_tooltip = YUG_modify_pp_gain_increase_tt
				add_to_variable = { YUG_political_capital_gain = gained_pp_per_turn }
				set_variable = { YUG_pc_expenditure_slovenia = 0 }
				custom_effect_tooltip = SER_YUG_slovenia_zero_expenditure_tt
				YUG_update_expenditure_missions_slovenia = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 107
					}
				}
				set_temp_variable = { gained_pp_per_turn = YUG_pc_expenditure_serbia }
				clamp_temp_variable = { var = gained_pp_per_turn max = 3 }
				custom_effect_tooltip = YUG_modify_pp_gain_increase_tt
				add_to_variable = { YUG_political_capital_gain = gained_pp_per_turn }
				set_variable = { YUG_pc_expenditure_serbia = 0 }
				custom_effect_tooltip = SER_YUG_serbia_zero_expenditure_tt
				YUG_update_expenditure_missions_serbia = yes
			}
		}
	}
	SER_YUG_integralism_campaign = {
		icon = generic_flags

		available = {
			controls_state = FROM
			FROM = { is_core_of = ROOT }
		}

		visible = {
			owns_state = FROM
			has_completed_focus = SER_YUG_defeat_tribalism
			NOT = {
				has_completed_focus = SER_YUG_brotherhood_and_unity
			}
		}

		cost = 40
		fire_only_once = yes

		state_target = yes
		targets = { 106 109 104 102 107 } # Macedonia, Croatia, Bosnia, Slovenia, Serbia
		target_root_trigger = { has_completed_focus = SER_YUG_defeat_tribalism }
		target_trigger = {
			FROM = { is_core_of = ROOT }
		}

		ai_will_do = {
			factor = 20
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_integralism_campaign target: [From.GetName]"
			if = {
				limit = {
					FROM = {
						state = 106
					}
				}
				set_temp_variable = { gained_pp_per_turn = -1 }
				custom_effect_tooltip = YUG_modify_pp_gain_decrease_tt
				add_to_variable = { YUG_political_capital_gain = gained_pp_per_turn }
				clamp_variable = { var = YUG_political_capital_gain min = 0 }
				if = {
					limit = {
						check_variable = { YUG_other_relations_level < 8 }
					}
					set_temp_variable = { checked_state = 5 }
					set_temp_variable = { ethnic_situation = 3 }
					custom_effect_tooltip = YUG_other_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
				else_if = {
					limit = {
						check_variable = { YUG_other_relations_level < 9 }
					}
					set_temp_variable = { checked_state = 5 }
					set_temp_variable = { ethnic_situation = 2 }
					custom_effect_tooltip = YUG_bosnia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
				else_if = {
					limit = {
						check_variable = { YUG_other_relations_level < 10 }
					}
					set_temp_variable = { checked_state = 5 }
					set_temp_variable = { ethnic_situation = 1 }
					custom_effect_tooltip = YUG_other_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
			}
			else_if = {
				limit = {
					FROM = {
						state = 109
					}
				}
				set_temp_variable = { gained_pp_per_turn = -1 }
				custom_effect_tooltip = YUG_modify_pp_gain_decrease_tt
				add_to_variable = { YUG_political_capital_gain = gained_pp_per_turn }
				clamp_variable = { var = YUG_political_capital_gain min = 0 }
				if = {
					limit = {
						check_variable = { YUG_croatia_relations_level < 8 }
					}
					set_temp_variable = { checked_state = 2 }
					set_temp_variable = { ethnic_situation = 3 }
					custom_effect_tooltip = YUG_croatia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
				else_if = {
					limit = {
						check_variable = { YUG_croatia_relations_level < 9 }
					}
					set_temp_variable = { checked_state = 2 }
					set_temp_variable = { ethnic_situation = 2 }
					custom_effect_tooltip = YUG_croatia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
				else_if = {
					limit = {
						check_variable = { YUG_croatia_relations_level < 10 }
					}
					set_temp_variable = { checked_state = 2 }
					set_temp_variable = { ethnic_situation = 1 }
					custom_effect_tooltip = YUG_croatia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
			}
			else_if = {
				limit = {
					FROM = {
						state = 104
					}
				}
				set_temp_variable = { gained_pp_per_turn = -1 }
				custom_effect_tooltip = YUG_modify_pp_gain_decrease_tt
				add_to_variable = { YUG_political_capital_gain = gained_pp_per_turn }
				clamp_variable = { var = YUG_political_capital_gain min = 0 }
				if = {
					limit = {
						check_variable = { YUG_bosnia_relations_level < 8 }
					}
					set_temp_variable = { checked_state = 3 }
					set_temp_variable = { ethnic_situation = 3 }
					custom_effect_tooltip = YUG_bosnia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
				else_if = {
					limit = {
						check_variable = { YUG_bosnia_relations_level < 9 }
					}
					set_temp_variable = { checked_state = 3 }
					set_temp_variable = { ethnic_situation = 2 }
					custom_effect_tooltip = YUG_bosnia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
				else_if = {
					limit = {
						check_variable = { YUG_bosnia_relations_level < 10 }
					}
					set_temp_variable = { checked_state = 3 }
					set_temp_variable = { ethnic_situation = 1 }
					custom_effect_tooltip = YUG_bosnia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
			}
			else_if = {
				limit = {
					FROM = {
						state = 102
					}
				}
				set_temp_variable = { gained_pp_per_turn = -1 }
				custom_effect_tooltip = YUG_modify_pp_gain_decrease_tt
				add_to_variable = { YUG_political_capital_gain = gained_pp_per_turn }
				clamp_variable = { var = YUG_political_capital_gain min = 0 }
				if = {
					limit = {
						check_variable = { YUG_slovenia_relations_level < 8 }
					}
					set_temp_variable = { checked_state = 4 }
					set_temp_variable = { ethnic_situation = 3 }
					custom_effect_tooltip = YUG_slovenia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
				else_if = {
					limit = {
						check_variable = { YUG_slovenia_relations_level < 9 }
					}
					set_temp_variable = { checked_state = 4 }
					set_temp_variable = { ethnic_situation = 2 }
					custom_effect_tooltip = YUG_slovenia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
				else_if = {
					limit = {
						check_variable = { YUG_slovenia_relations_level < 10 }
					}
					set_temp_variable = { checked_state = 4 }
					set_temp_variable = { ethnic_situation = 1 }
					custom_effect_tooltip = YUG_slovenia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
			}
			else_if = {
				limit = {
					FROM = {
						state = 107
					}
				}
				set_temp_variable = { gained_pp_per_turn = -1 }
				custom_effect_tooltip = YUG_modify_pp_gain_decrease_tt
				add_to_variable = { YUG_political_capital_gain = gained_pp_per_turn }
				clamp_variable = { var = YUG_political_capital_gain min = 0 }
				if = {
					limit = {
						check_variable = { YUG_serbia_relations_level < 8 }
					}
					set_temp_variable = { checked_state = 1 }
					set_temp_variable = { ethnic_situation = 3 }
					custom_effect_tooltip = YUG_serbia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
				else_if = {
					limit = {
						check_variable = { YUG_serbia_relations_level < 9 }
					}
					set_temp_variable = { checked_state = 1 }
					set_temp_variable = { ethnic_situation = 2 }
					custom_effect_tooltip = YUG_serbia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
				else_if = {
					limit = {
						check_variable = { YUG_serbia_relations_level < 10 }
					}
					set_temp_variable = { checked_state = 1 }
					set_temp_variable = { ethnic_situation = 1 }
					custom_effect_tooltip = YUG_serbia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
			}
		}
	}
	SER_YUG_economic_centralisation = {
		icon = generic_flags

		available = {
			controls_state = FROM
			FROM = { is_core_of = ROOT }
			check_variable = { ROOT.YUG_political_capital > 2 }
		}

		visible = {
			owns_state = FROM
			has_completed_focus = SER_YUG_political_centralisation
			NOT = {
				has_completed_focus = SER_YUG_brotherhood_and_unity
			}
		}

		cost = 70
		fire_only_once = yes

		state_target = yes
		targets = { 106 109 104 102 107 } # Macedonia, Croatia, Bosnia, Slovenia, Serbia
		target_root_trigger = { has_completed_focus = SER_YUG_political_centralisation }
		target_trigger = {
			FROM = { is_core_of = ROOT }
		}

		ai_will_do = {
			factor = 20
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SER_YUG_economic_centralisation target: [From.GetName]"
			set_temp_variable = { pp_loss = 3 }
			custom_effect_tooltip = YUG_pp_loss_tt
			subtract_from_variable = { YUG_political_capital = pp_loss }
			clamp_variable = { var = YUG_political_capital min = 0 }
			FROM = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
}

