foreign_politics = {
	#################
	### Bharatiya ###
	#################
	HND_attack_rivals = {
		name = attack_country
		icon = generic_prepare_civil_war

		allowed = { always = no }

		available = {
			is_neighbor_of = FROM
			NOT = { has_non_aggression_pact_with = FROM }
			NOT = { has_guaranteed = FROM }
		}

		cancel_trigger = {
			OR = {
				NOT = { can_declare_war_on = FROM }
				is_subject = yes
				NOT = { is_neighbor_of = FROM }
				has_non_aggression_pact_with = FROM
				has_guaranteed = FROM
			}
		}

		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 0
		days_remove = 30
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_country_leader = { character = HND_mohandas_karamchand_gandhi }
			}
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				FROM = { is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel HND_attack_rivals target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete HND_attack_rivals target: [From.GetName]"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove HND_attack_rivals target: [From.GetName]"
			clear_decision_attack_AI = yes
			india_add_war_fever_idea_effect = yes
			declare_war_on = {
				type = annex_everything
				target = FROM
			}
			india_spawn_rebellions_effect = yes
		}
	}

	###################
	### British Raj ###
	###################
	RAJ_attack_bharatiya = {
		name = attack_country
		icon = generic_prepare_civil_war

		allowed = { always = no }

		available = {
			is_neighbor_of = FROM
			NOT = { has_non_aggression_pact_with = FROM }
			NOT = { has_guaranteed = FROM }
		}

		cancel_trigger = {
			OR = {
				NOT = { can_declare_war_on = FROM }
				is_subject = yes
				NOT = { is_neighbor_of = FROM }
				has_non_aggression_pact_with = FROM
				has_guaranteed = FROM
			}
		}

		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 0
		days_remove = 30
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = HND_lucknow option = DEFAULT } }
				NOT = { has_country_flag = RAJ_lucknow_denied }
			}
			modifier = {
				factor = 0 #wait for Gandhi to propose Lucknow
				has_government = social_democrat
				HND = {
					has_country_leader = { character = HND_mohandas_karamchand_gandhi }
					NOT = { focus_progress = { focus = HND_home_guard progress > 0 } }
					NOT = { has_completed_focus = HND_reunite_india }
					NOT = { has_war_with = PRF }
					OR = {
						has_country_flag = RAJ_lucknow_agreed
						NOT = { has_country_flag = RAJ_lucknow_denied }
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOT = { has_war_with = INR }
					NOT = { has_war_with = PRF }
				}
				OR = {
					country_is_in_dangerous_war = yes
					if = {
						limit = { FROM = { has_country_leader = { character = HND_mohandas_karamchand_gandhi } } }
						PRF = { any_home_area_neighbor_country = { has_war_with = PREV } }
					}
					else = {
						FROM = { is_stronger_than_ROOT_and_not_vulnerable = yes }
					}
					AND = {
						is_in_faction_with = ENT
						ENT = { country_is_in_dangerous_war = yes }
					}
					AND = {
						is_in_faction_with = NFA
						NFA = { NFA_has_any_african_revolts = yes }
					}
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel RAJ_attack_bharatiya target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete RAJ_attack_bharatiya target: [From.GetName]"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove RAJ_attack_bharatiya target: [From.GetName]"
			clear_decision_attack_AI = yes
			india_add_war_fever_idea_effect = yes
			declare_war_on = {
				type = annex_everything
				target = FROM
			}
			india_spawn_rebellions_effect = yes
		}
	}
	RAJ_attack_princes = {
		name = attack_country
		icon = generic_prepare_civil_war

		allowed = { always = no }

		available = {
			is_neighbor_of = FROM
			NOT = { has_non_aggression_pact_with = FROM }
			NOT = { has_guaranteed = FROM }
		}

		cancel_trigger = {
			OR = {
				NOT = { can_declare_war_on = FROM }
				is_subject = yes
				NOT = { is_neighbor_of = FROM }
				has_non_aggression_pact_with = FROM
				has_guaranteed = FROM
			}
		}

		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 0
		days_remove = 30
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				country_exists = HND
				HND = { has_capitulated = no }
			}
			modifier = {
				factor = 0
				FROM = { is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				is_in_faction_with = ENT
				ENT = { country_is_in_dangerous_war = yes }
			}
			modifier = {
				factor = 0
				is_in_faction_with = NFA
				NFA = { NFA_has_any_african_revolts = yes }
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel RAJ_attack_princes target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete RAJ_attack_princes target: [From.GetName]"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove RAJ_attack_princes target: [From.GetName]"
			clear_decision_attack_AI = yes
			india_add_war_fever_idea_effect = yes
			declare_war_on = {
				type = annex_everything
				target = FROM
			}
			india_spawn_rebellions_effect = yes
		}
	}

	###########################
	### Princely Federation ###
	###########################
	PRF_attack_bharatiya = {
		name = attack_country
		icon = generic_prepare_civil_war

		allowed = { always = no }

		available = {
			is_neighbor_of = FROM
			NOT = { has_non_aggression_pact_with = FROM }
			NOT = { has_guaranteed = FROM }
		}

		cancel_trigger = {
			OR = {
				NOT = { can_declare_war_on = FROM }
				is_subject = yes
				NOT = { is_neighbor_of = FROM }
				has_non_aggression_pact_with = FROM
				has_guaranteed = FROM
			}
		}

		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 0
		days_remove = 30
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				FROM = {
					NOT = { has_war_with = INR }
					NOT = { has_war_with = RAJ }
				}
				OR = {
					country_is_in_dangerous_war = yes
					if = {
						limit = {
							FROM = { has_country_leader = { character = HND_mohandas_karamchand_gandhi } }
							NOT = { RAJ = { has_government = social_democrat } }
						}
						RAJ = { any_home_area_neighbor_country = { has_war_with = PREV } }
					}
					else = {
						FROM = { is_stronger_than_ROOT_and_not_vulnerable = yes }
					}
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel PRF_attack_bharatiya target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete PRF_attack_bharatiya target: [From.GetName]"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove PRF_attack_bharatiya target: [From.GetName]"
			clear_decision_attack_AI = yes
			india_add_war_fever_idea_effect = yes
			declare_war_on = {
				type = annex_everything
				target = FROM
			}
			india_spawn_rebellions_effect = yes
		}
	}
	PRF_attack_raj = {
		name = attack_country
		icon = generic_prepare_civil_war

		allowed = { always = no }

		available = {
			is_neighbor_of = FROM
			NOT = { has_non_aggression_pact_with = FROM }
			NOT = { has_guaranteed = FROM }
		}

		cancel_trigger = {
			OR = {
				NOT = { can_declare_war_on = FROM }
				is_subject = yes
				NOT = { is_neighbor_of = FROM }
				has_non_aggression_pact_with = FROM
				has_guaranteed = FROM
			}
		}

		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 0
		days_remove = 30
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				country_exists = HND
				HND = { has_capitulated = no }
			}
			modifier = {
				factor = 0
				FROM = { is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel PRF_attack_raj target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete PRF_attack_raj target: [From.GetName]"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove PRF_attack_raj target: [From.GetName]"
			clear_decision_attack_AI = yes
			india_add_war_fever_idea_effect = yes
			declare_war_on = {
				type = annex_everything
				target = FROM
			}
			india_spawn_rebellions_effect = yes
		}
	}

	########################
	### Shared Decisions ###
	########################

	india_invade_tawang_decision = {
		icon = generic_prepare_civil_war

		allowed = { always = no }

		available = {
			is_neighbor_of = FROM
			NOT = { has_non_aggression_pact_with = FROM }
			if = {
				limit = { FROM = { is_subject = yes } }
				NOT = { has_non_aggression_pact_with = FROM.overlord }
			}
			if = {
				limit = { FROM = { is_in_faction = yes } }
				NOT = { has_non_aggression_pact_with = FROM.faction_leader }
			}
			NOT = { has_guaranteed = FROM }
		}

		cancel_trigger = {
			OR = {
				NOT = { can_declare_war_on = FROM }
				is_subject = yes
				NOT = { is_neighbor_of = FROM }
				has_non_aggression_pact_with = FROM
				has_guaranteed = FROM
			}
		}

		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 0
		days_remove = 30
		war_with_target_on_remove = yes

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				FROM = { is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel india_invade_tawang_decision target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete india_invade_tawang_decision target: [From.GetName]"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove india_invade_tawang_decision target: [From.GetName]"
			clear_decision_attack_AI = yes
			india_claim_tibet_effect = yes
		}
	}

	india_invade_aksai_chin_decision = {
		icon = generic_prepare_civil_war

		allowed = { always = no }

		available = {
			is_neighbor_of = FROM
			NOT = { has_non_aggression_pact_with = FROM }
			if = {
				limit = { FROM = { is_subject = yes } }
				NOT = { has_non_aggression_pact_with = FROM.overlord }
			}
			if = {
				limit = { FROM = { is_in_faction = yes } }
				NOT = { has_non_aggression_pact_with = FROM.faction_leader }
			}
			NOT = { has_guaranteed = FROM }
		}

		cancel_trigger = {
			OR = {
				NOT = { can_declare_war_on = FROM }
				is_subject = yes
				NOT = { is_neighbor_of = FROM }
				has_non_aggression_pact_with = FROM
				has_guaranteed = FROM
			}
		}

		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 0
		days_remove = 30
		war_with_target_on_remove = yes

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				FROM = { is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel india_invade_aksai_chin_decision target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete india_invade_aksai_chin_decision target: [From.GetName]"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove india_invade_aksai_chin_decision target: [From.GetName]"
			clear_decision_attack_AI = yes
			india_claim_aksai_chin_effect = yes
		}
	}

}

operations = {
	NEP_hold_out_vs_india = {
		icon = generic_ignite_civil_war

		allowed = { tag = NEP }

		activation = {
			has_war_with = FROM
			is_valid_peace_target = yes
			has_capitulated = no
		}

		available = {
			has_capitulated = yes
		}

		cancel_trigger = {
			OR = {
				is_valid_peace_target = no
				NOT = { has_war_with = FROM }
			}
		}

		is_good = yes
		fire_only_once = no
		days_mission_timeout = 180

		targets = { HND PRF RAJ BHU }
		target_trigger = {
			has_war_with = FROM
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout NEP_hold_out_vs_india target: [From.GetName]"
			effect_tooltip = {
				FROM = { country_event = nepal.20 }
			}
		}
	}

	NEP_defeat_nepal = {
		icon = generic_ignite_civil_war

		allowed = {
			OR = {
				tag = HND
				tag = RAJ
				tag = PRF
				tag = BHU
			}
		}

		activation = {
			has_war_with = NEP
			NEP = {
				is_valid_peace_target = yes
				has_capitulated = no
			}
		}

		available = {
			NEP = { has_capitulated = yes }
		}

		cancel_trigger = {
			OR = {
				NEP = { is_valid_peace_target = no }
				NOT = { has_war_with = NEP }
			}
		}

		is_good = no
		fire_only_once = no
		days_mission_timeout = 180

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout NEP_defeat_nepal"
			country_event = nepal.20
		}
	}

	NEP_defeat_india = {
		icon = generic_ignite_civil_war

		allowed = { tag = NEP }

		available = {
			surrender_progress < 0.20
			FROM = { surrender_progress > 0.40 }
		}

		visible = {
			has_war_with = FROM
			is_valid_peace_target = yes
		}

		cost = 0
		fire_only_once = yes

		targets = { RAJ PRF HND }
		target_trigger = {
			has_war_with = FROM
		}

		ai_will_do = { factor = 100 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete NEP_defeat_india target: [From.GetName]"
			add_political_power = 100
			add_stability = 0.10
			FROM = { select_correct_peace_event_receiver = yes }
			var:target = { country_event = nepal.10 }
		}
	}
}
