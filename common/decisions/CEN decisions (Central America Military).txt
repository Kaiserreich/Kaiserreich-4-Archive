########################################
## Military Central America Decisions ##
##		By Wladyslaw Sikorski		  ##
########################################

CENmil_politicc = {
	CENmil_combat_corruption = { ## Ubico Decision
		icon = GFX_decision_generic_break_treaty
		available = {
			has_stability > 0.3
		}
		visible = {
			has_completed_focus = CENmil_military_centralism
		}
		days_re_enable = 150
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_political_power > 50
			}
		}
		cost = 50
		days_remove = 50
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_combat_corruption"
			add_popularity = {
				ideology = paternal_autocrat
				popularity = -0.04
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_combat_corruption"
			add_stability = 0.05
			add_war_support = 0.05
		}
	}
	CENmil_more_ubiquistas = { ## Ubico Decision
		icon = GFX_decision_generic_civil_support
		available = {
			has_completed_focus = CENmil_replace_bureaucrats
		}
		visible = {
			has_completed_focus = CENmil_military_centralism
		}
		ai_will_do = { factor = 100 }
		days_re_enable = 100
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_more_ubiquistas"
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.02
			}
			add_political_power = 25
			add_stability = -0.04
		}
	}
	CENmil_public_works = { ## Ubico Decision
		icon = GFX_decision_generic_industry
		available = {
			has_stability > 0.4
		}
		visible = {
			has_completed_focus = CENmil_military_centralism
		}
		ai_will_do = { factor = 100 }
		cost = 100
		days_remove = 120
		fire_only_once = yes
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_public_works"
			313 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	CENmil_travel_casual = { ## Ubico Decision
		icon = GFX_decision_generic_nationalism
		available = {
			has_stability > 0.35
			has_war = no
		}
		visible = {
			has_country_flag = cenmil_ubico_inaugurated
		}
		days_re_enable = 100
		ai_will_do = { factor = 100 }
		cost = 25
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_travel_casual"
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.02
			}
		}
	}
	CENmil_travel_big_time = { ## Ubico Decision
		icon = GFX_decision_generic_nationalism
		available = {
			has_stability > 0.4
			has_war = no
		}
		visible = {
			has_country_flag = cenmil_ubico_inaugurated
		}
		fire_only_once = yes
		ai_will_do = { factor = 100 }
		cost = 50
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_travel_big_time"
			country_event = cenmil.37
		}
	}

	CENmil_visit_US = { ## Somoza Decision
		icon = GFX_decision_generic_political_discourse
		available = {
			has_global_flag = USA_civil_war_over_flag
		}
		visible = {
			has_completed_focus = CENmil_military_control
			NOT = { has_country_flag = CENmil_grand_visit_done }
			OR = {
				country_exists = USA
				country_exists = TEX
			}
		}
		ai_will_do = { factor = 100 }
		cost = 100
		days_remove = 20
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_visit_US"
			custom_effect_tooltip = CENmil_grand_visit_done_tt
			if = {
				limit = {
					country_exists = USA
				}

				add_opinion_modifier = {
					target = USA
					modifier = CENmil_somoza_visited
				}
				reverse_add_opinion_modifier = {
					target = USA
					modifier = CENmil_somoza_visited
				}
			}
			if = {
				limit = {
					country_exists = TEX
				}

				add_opinion_modifier = {
					target = TEX
					modifier = CENmil_somoza_visited
				}
				reverse_add_opinion_modifier = {
					target = TEX
					modifier = CENmil_somoza_visited
				}
			}
			set_country_flag = CENmil_grand_visit_done
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_visit_US"
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.1
			}
		}
	}
	CENmil_visit_GER = { ## Somoza Decision
		icon = GFX_decision_generic_political_discourse
		available = {
			GER = { has_war = no }
		}
		visible = {
			has_completed_focus = CENmil_military_control
			NOT = { has_country_flag = CENmil_grand_visit_done }
			country_exists = GER
		}
		ai_will_do = { factor = 10 }
		cost = 100
		days_remove = 20
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_visit_GER"
			custom_effect_tooltip = CENmil_grand_visit_done_tt
			add_opinion_modifier = {
				target = GER
				modifier = CENmil_somoza_visited
			}
			reverse_add_opinion_modifier = {
				target = GER
				modifier = CENmil_somoza_visited
			}
			set_country_flag = CENmil_grand_visit_done
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_visit_GER"
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.1
			}
		}
	}
	CENmil_visit_ENT = { ## Somoza Decision
		icon = GFX_decision_generic_political_discourse
		available = {
			ENT = {
				NOT = {
					has_war_with = CSA
					has_war_with = TEX
					has_war_with = USA
				}
			}
		}
		visible = {
			has_completed_focus = CENmil_military_control
			NOT = { has_country_flag = CENmil_grand_visit_done }
			country_exists = ENT
		}
		ai_will_do = { factor = 10 }
		cost = 100
		days_remove = 20
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_visit_ENT"
			custom_effect_tooltip = CENmil_grand_visit_done_tt
			add_opinion_modifier = {
				target = ENT
				modifier = CENmil_somoza_visited
			}
			reverse_add_opinion_modifier = {
				target = ENT
				modifier = CENmil_somoza_visited
			}
			set_country_flag = CENmil_grand_visit_done
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_visit_ENT"
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.1
			}
		}
	}
	CENmil_backing_from_world_power = { ## Somoza Decision
		icon = GFX_decision_generic_operation
		available = {
			has_country_flag = CENmil_grand_visit_done
		}
		visible = {
			has_completed_focus = CENmil_military_control
		}
		ai_will_do = { factor = 100 }
		days_re_enable = 92
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_backing_from_world_power"
			add_war_support = -0.03
			add_political_power = 50
		}
	}
	CENmil_block_enemies = { ## Somoza Decision
		icon = GFX_decision_generic_prepare_civil_war
		available = {
			has_completed_focus = CENmil_economic_control
			authoritarian_democrat < 0.60
		}
		visible = {
			has_completed_focus = CENmil_military_control
		}
		ai_will_do = { factor = 100 }
		days_re_enable = 120
		cost = 50
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_block_enemies"
			add_stability = -0.01
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.05
			}
			add_popularity = {
				ideology = social_conservative
				popularity = -0.01
			}
			add_popularity = {
				ideology = market_liberal
				popularity = -0.01
			}
			add_popularity = {
				ideology = social_liberal
				popularity = -0.01
			}
			add_popularity = {
				ideology = social_democrat
				popularity = -0.01
			}
		}
	}
	CENmil_eat_more_land = { ## Somoza Decision
		icon = GFX_decision_generic_operation
		available = {
			has_completed_focus = CENmil_national_monopoly
			authoritarian_democrat < 0.70
		}
		visible = {
			has_completed_focus = CENmil_military_control
		}
		ai_will_do = { factor = 100 }
		days_re_enable = 150
		cost = 40
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_eat_more_land"
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.02
			}
			custom_effect_tooltip = cenmil_influence_m2_tt
			hidden_effect = {
				add_to_variable = {
					var = UFC_power
					value = -2
				}
				CA_SET_UFC_VAR = yes
			}
		}
	}

	CENmil_soft_loans = { ## Hernandez Decision
		icon = GFX_decision_generic_nationalism
		available = {
			national_populist < 0.60
		}
		visible = {
			has_completed_focus = CENmil_military_state
		}
		ai_will_do = { factor = 100 }
		days_re_enable = 150
		cost = 75
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_soft_loans"
			add_popularity = {
				ideology = national_populist
				popularity = 0.02
			}
			add_stability = 0.05
		}
	}
	CENmil_affordable_housing = { ## Hernandez Decision
		icon = GFX_decision_generic_construction
		available = {
			has_completed_focus = CENmil_centralized_union
			national_populist < 0.6
		}
		visible = {
			has_completed_focus = CENmil_military_state
		}
		ai_will_do = { factor = 100 }
		days_re_enable = 140
		cost = 75
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_affordable_housing"
			add_popularity = {
				ideology = national_populist
				popularity = 0.02
			}
			add_stability = 0.02
			random_owned_controlled_state = {
				limit = { is_core_of = ROOT }
				increase_state_category_by_one_level = yes
			}
		}
	}
	CENmil_combat_debt = { ## Hernandez Decision
		icon = GFX_decision_generic_industry
		visible = {
			has_completed_focus = CENmil_military_state
		}
		ai_will_do = { factor = 100 }
		days_remove = 100
		days_re_enable = 225
		cost = 20
		modifier = {
			political_power_factor = -0.2
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_combat_debt"
			add_political_power = 40
			add_war_support = 0.02
			add_stability = 0.02
		}
	}
	CENmil_combat_crime = { ## Hernandez Decision
		icon = GFX_decision_generic_prepare_civil_war
		available = {
			has_completed_focus = CENmil_trump_wall
			national_populist < 0.6
		}
		visible = {
			has_completed_focus = CENmil_military_state
		}
		ai_will_do = { factor = 100 }
		days_remove = 100
		days_re_enable = 225
		cost = 50
		modifier = {
			political_power_factor = -0.1
			conscription_factor = -0.1
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_combat_crime"
			add_popularity = {
				ideology = national_populist
				popularity = 0.02
			}
			add_stability = 0.05
		}
	}
}

CENmil_economic_decisions = {
	CENmil_major_strike_decision = {
		icon = GFX_decision_generic_prepare_civil_war
		visible = {
			OR = {
				has_idea = CENmil_major_strike
				has_idea = CENmil_major_strike2
			}
		}
		ai_will_do = { factor = 100 }
		cost = 50
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_major_strike_decision"
			country_event = cenmil.252
		}
	}
	CENmil_major_port_strike_decision = {
		icon = GFX_decision_generic_prepare_civil_war
		visible = {
			OR = {
				has_idea = CENmil_major_port_strike
				has_idea = CENmil_major_port_strike2
			}
		}
		ai_will_do = { factor = 100 }
		cost = 50
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_major_port_strike_decision"
			country_event = cenmil.255
		}
	}
	CENmil_major_rail_strike_decision = {
		icon = GFX_decision_generic_prepare_civil_war
		visible = {
			OR = {
				has_idea = CENmil_major_rail_strike
				has_idea = CENmil_major_rail_strike2
			}
		}
		ai_will_do = { factor = 100 }
		cost = 50
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_major_rail_strike_decision"
			country_event = cenmil.259
		}
	}
	CENmil_land_grants = {
		icon = GFX_decision_generic_political_discourse
		visible = {
			has_completed_focus = CENmil_ufc_attacc
		}
		days_re_enable = 100
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_political_power > 50
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_land_grants"
			add_political_power = 50
			custom_effect_tooltip = cenmil_influence_p3_tt
			hidden_effect = {
				add_to_variable = {
					var = UFC_power
					value = 3
				}

				CA_SET_UFC_VAR = yes
			}
		}
	}
	CENmil_promote_investments = {
		icon = GFX_decision_generic_construction
		visible = {
			has_completed_focus = CENmil_laissez_faire
		}
		days_re_enable = 150
		fixed_random_seed = no
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_political_power > 50
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_promote_investments"
			random_list = {
				33 = {
					add_one_random_civilian_factory = yes
				}
				33 = {
					add_one_random_dockyard = yes
				}
				34 = {
					add_political_power = 100
				}
			}
			custom_effect_tooltip = cenmil_influence_p5_tt
			hidden_effect = {
				add_to_variable = {
					var = UFC_power
					value = 5
				}
				CA_SET_UFC_VAR = yes
			}
		}
	}
	CENmil_buy_up_stuff = {
		icon = GFX_decision_generic_break_treaty
		available = {
			NOT = {
				has_idea = CENmil_economic_instability_idea
			}
			custom_trigger_tooltip = {
				tooltip = cenmil_didnt_fuck_companies_too_hard_tt
				check_variable = {
					var = UFC_power
					value = 20
					compare = greater_than
				}
			}
		}
		visible = {
			has_completed_focus = CENmil_interventionism
		}
		days_re_enable = 100
		ai_will_do = {
			factor = 25
			modifier = {
				factor = 0
				has_political_power < 100
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_buy_up_stuff"
			add_political_power = -100
			custom_effect_tooltip = cenmil_influence_m3_tt
			hidden_effect = {
				add_to_variable = {
					var = UFC_power
					value = -3
				}

				CA_SET_UFC_VAR = yes
			}
		}
	}
	CENmil_nationalize_stuff = {
		icon = GFX_decision_generic_nationalism
		available = {
			has_idea = CENmil_economic_instability_idea
		}
		visible = {
			has_completed_focus = CENmil_interventionism
		}
		fire_only_once = yes
		ai_will_do = { base = 0 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_nationalize_stuff"
			add_stability = -0.1
			add_political_power = 50
			custom_effect_tooltip = cenmil_nationalized_stuff_tt
			custom_effect_tooltip = cenmil_influence_m10_tt
			hidden_effect = {
				add_to_variable = {
					var = UFC_power
					value = -10
				}

				CA_SET_UFC_VAR = yes
			}
		}
	}
}

CENmil_infrastructure_decisions = {
	CENmil_clarify_irca = {
		icon = GFX_decision_generic_operation
		cost = 25
		fire_only_once = yes
		ai_will_do = { factor = 100 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_clarify_irca"
			country_event = cenmil.220	### Clarify status of IRCA
		}
	}
	CENmil_plan_trans_central_american_rail = {
		icon = GFX_decision_generic_decision
		available = {
			has_country_flag = CENmil_clarified_irca_flag
		}
		cost = 0
		fire_only_once = yes
		ai_will_do = { factor = 100 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_plan_trans_central_american_rail"
			country_event = cenmil.221	### Who'll pay?
		}
	}
	CENmil_expand_irca_rails = {
		icon = GFX_decision_generic_construction
		available = {
			has_country_flag = CENmil_clarified_funding_flag
		}
		visible = {
			has_country_flag = CENmil_clarified_irca_flag
		}
		fire_only_once = yes
		days_remove = 100
		ai_will_do = { factor = 100 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_expand_irca_rails"
			add_ideas = CENmil_trans_ca_rail_1
			313 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			314 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			hidden_effect = {
				country_event = { id = cenmil.222 days = 5 }
				set_country_flag = CENmil_ca_rail_1_finished_flag
				clr_country_flag = CENmil_clarified_irca_flag
				clr_country_flag = CENmil_clarified_funding_flag
			}
		}
	}
	CENmil_tegucigalpa_rails = {
		icon = GFX_decision_generic_construction
		available = {
			has_country_flag = CENmil_clarified_rail_2_flag
			312 = {
				OR = {
					is_owned_by = CEN
					owner = { is_subject_of = CEN }
				}
			}
		}
		visible = {
			has_country_flag = CENmil_ca_rail_1_finished_flag
		}
		fire_only_once = yes
		days_remove = 75
		ai_will_do = { factor = 100 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_tegucigalpa_rails"
			swap_ideas = {
				add_idea = CENmil_trans_ca_rail_2
				remove_idea = CENmil_trans_ca_rail_1
			}
			312 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			hidden_effect = {
				country_event = { id = cenmil.223 days = 5 }
				country_event = { id = cenmil.260 days = 100 }
				set_country_flag = CENmil_ca_rail_2_finished_flag
				clr_country_flag = CENmil_clarified_rail_2_flag
			}
		}
	}
	CENmil_managua_rails = {
		icon = GFX_decision_generic_construction
		available = {
			has_country_flag = CENmil_clarified_rail_3_flag
			317 = {
				OR = {
					is_owned_by = CEN
					owner = { is_subject_of = CEN }
				}
			}
		}
		visible = {
			has_country_flag = CENmil_ca_rail_2_finished_flag
		}
		fire_only_once = yes
		days_remove = 110
		ai_will_do = { factor = 100 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_managua_rails"
			swap_ideas = {
				add_idea = CENmil_trans_ca_rail_3
				remove_idea = CENmil_trans_ca_rail_2
			}
			317 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			hidden_effect = {
				country_event = { id = cenmil.225 days = 5 }
				country_event = { id = cenmil.261 days = 75 }
				set_country_flag = CENmil_ca_rail_3_finished_flag
				clr_country_flag = CENmil_clarified_rail_3_flag
			}
		}
	}
	CENmil_san_jose_rails = {
		icon = GFX_decision_generic_construction
		available = {
			OR = {
				AND = {
					has_country_flag = CENmil_permission_rail_4_flag
					NOT = {
						has_war_with = COS
					}
				}
				AND = {
					316 = {
						OR = {
							is_owned_by = CEN
							owner = { is_subject_of = CEN }
						}
					}
					has_country_flag = CENmil_clarified_rail_4_flag
				}
			}
		}
		visible = {
			has_country_flag = CENmil_ca_rail_3_finished_flag
		}
		fire_only_once = yes
		days_remove = 125
		ai_will_do = { factor = 100 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_san_jose_rails"
			swap_ideas = {
				add_idea = CENmil_trans_ca_rail_4
				remove_idea = CENmil_trans_ca_rail_3
			}
			317 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			316 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			hidden_effect = {
				country_event = { id = cenmil.229 days = 5 }
				set_country_flag = CENmil_ca_rail_4_finished_flag
				clr_country_flag = CENmil_clarified_rail_4_flag
			}
		}
	}
	CENmil_panama_rails = {
		icon = GFX_decision_generic_construction
		available = {
			OR = {
				AND = {
					has_country_flag = CENmil_permission_rail_5_flag
					NOT = { has_war_with = PAN }
				}
				AND = {
					304 = { is_owned_by_ROOT_or_subject = yes }
					has_country_flag = CENmil_clarified_rail_5_flag
				}
			}
		}
		visible = {
			has_country_flag = CENmil_ca_rail_4_finished_flag
		}
		fire_only_once = yes
		days_remove = 125
		ai_will_do = { factor = 100 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_panama_rails"
			swap_ideas = {
				add_idea = CENmil_trans_ca_rail_5
				remove_idea = CENmil_trans_ca_rail_4
			}
			316 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			304 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			clr_country_flag = CENmil_clarified_rail_5_flag
		}
	}
	CENmil_belize_rails = {
		icon = GFX_decision_generic_construction
		available = {
			has_country_flag = CENmil_ca_rail_1_finished_flag
			311 = {
				OR = {
					is_owned_by = CEN
					owner = { is_subject_of = CEN }
				}
			}
		}
		visible = {
			has_completed_focus = CENmil_roads_and_rails
		}
		cost = 25
		fire_only_once = yes
		days_remove = 40
		ai_will_do = { factor = 100 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_belize_rails"
			311 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	CENmil_atlantic_rails = {
		icon = GFX_decision_generic_construction
		available = {
			has_country_flag = CENmil_ca_rail_3_finished_flag
			312 = {
				OR = {
					is_owned_by = CEN
					owner = { is_subject_of = CEN }
				}
			}
			1071 = {
				OR = {
					is_owned_by = CEN
					owner = { is_subject_of = CEN }
				}
			}
		}
		visible = {
			has_completed_focus = CENmil_roads_and_rails
		}
		cost = 25
		fire_only_once = yes
		days_remove = 75
		ai_will_do = { factor = 100 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_atlantic_rails"
			312 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			1071 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	CENmil_central_american_highway_1 = {
		icon = GFX_decision_generic_construction
		available = {
			312 = {
				OR = {
					is_owned_by = CEN
					owner = { is_subject_of = CEN }
				}
			}
			317 = {
				OR = {
					is_owned_by = CEN
					owner = { is_subject_of = CEN }
				}
			}
		}
		visible = {
			has_completed_focus = CENmil_roads_and_rails
		}
		cost = 50
		fire_only_once = yes
		days_remove = 250
		ai_will_do = { factor = 100 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_central_american_highway_1"
			313 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			314 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			312 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			317 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	CENmil_central_american_highway_2 = {
		icon = GFX_decision_generic_construction
		available = {
			OR = {
				316 = { is_owned_by_ROOT_or_subject = yes }
				has_country_flag = CENmil_permission_rail_4_flag
			}
			OR = {
				304 = { is_owned_by_ROOT_or_subject = yes }
				has_country_flag = CENmil_permission_rail_5_flag
			}
		}
		visible = {
			has_completed_focus = CENmil_roads_and_rails
		}
		cost = 50
		fire_only_once = yes
		days_remove = 250
		ai_will_do = { factor = 100 }
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_central_american_highway_2"
			316 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			304 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
}

CENmil_foreign_policy_decisions = {
	CENmil_civil_war_volunteers = {
		icon = GFX_decision_generic_tank

		available = {
			has_war = no
		}

		visible = {
			CSA = {
				OR = {
					has_war_with = TEX
					has_war_with = USA
				}
			}
		}

		cost = 10
		fire_only_once = yes

		ai_will_do = { factor = 100 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_civil_war_volunteers"
			country_event = cenmil.200	### Volunteers to TEX or USA
		}
	}
	CENmil_protection_US = {
		icon = GFX_decision_generic_decision

		available = {
			NOT = { has_country_flag = CENmil_asked_for_stuff }
			if = {
				limit = {
					NOT = {
						is_ai = yes
						has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ACW_VICTOR }
					}
				}
				FROM = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
			}
		}

		visible = {
			has_global_flag = USA_civil_war_over_flag
			has_guarantor = no
			is_in_faction = no
			FROM = {
				exists = yes
				is_subject = no
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { USA TEX PSA }
		target_root_trigger = { has_global_flag = USA_civil_war_over_flag }
		target_trigger = {
			FROM = {
				is_subject = no
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 10
		fire_only_once = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_GER }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT_BELIZE }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ACW_VICTOR }
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_protection_US target: [From.GetName]"
			FROM = { country_event = cenmil.201 } # Asking for guarantee
			custom_effect_tooltip = cenmil_you_may_only_ask_one_tt
		}
	}
	CENmil_join_faction_US = {
		icon = GFX_decision_generic_nationalism

		available = {
			NOT = { has_country_flag = CENmil_asked_for_stuff }
			FROM = {
				OR = {
					has_guaranteed = ROOT
					has_opinion = {
						target = ROOT
						value > 99
					}
				}
			}
		}

		visible = {
			has_global_flag = USA_civil_war_over_flag
			is_in_faction = no
			FROM = {
				is_in_faction = yes
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { USA TEX PSA }
		target_root_trigger = { has_global_flag = USA_civil_war_over_flag }
		target_trigger = {
			FROM = {
				is_in_faction = yes
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				FROM = { is_in_faction = no }
				OR = {
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_GER }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT_BELIZE }
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_join_faction_US target: [From.GetName]"
			FROM = { country_event = cenmil.202 }
		}
	}
	CENmil_status_british_honduras = {
		icon = GFX_decision_border_war

		available = {
			has_full_control_of_state = 311
			NOT = { has_war_with = FROM }
		}

		visible = {
			owns_state = 311
			311 = { is_core_of = WIF }
			FROM = {
				is_in_faction_with = ENT
				has_socialist_government = no
			}
		}

		targets = { WIF }
		target_root_trigger = {
			owns_state = 311
			311 = { is_core_of = WIF }
		}
		target_trigger = {
			FROM = {
				is_in_faction_with = ENT
				has_socialist_government = no
			}
		}

		cost = 25
		fire_only_once = yes

		highlight_states = {
			highlight_state_targets = { state = 311 }
		}

		ai_will_do = {
			base = 1
			modifier = {
				factor = 10
				AND = {
					MEX = { has_socialist_government = yes }
					NOT = { has_global_flag = USA_civil_war_over_flag }
				}
			}
			modifier = {
				factor = 100
				has_global_flag = USA_civil_war_over_flag
				country_exists = CSA
			}
			modifier = {
				factor = 100
				OR = {
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT_BELIZE }
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_status_british_honduras target: [From.GetName]"
			country_event = cenmil.203	# What do we tell the WIF?
		}
	}
	CENmil_protection_ENT = {
		icon = GFX_decision_generic_decision

		available = {
			NOT = { has_country_flag = CENmil_asked_for_stuff }
			OR = {
				NOT = { owns_state = 311 }
				NOT = { 311 = { is_core_of = WIF } }
				NOT = { WIF = { is_in_faction_with = FROM } }
			}
			if = {
				limit = {
					NOT = {
						is_ai = yes
						OR = {
							has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT }
							has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT_BELIZE }
						}
					}
				}
				FROM = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
			}
		}

		visible = {
			has_guarantor = no
			is_in_faction = no
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { ENT }
		target_root_trigger = { has_guarantor = no }
		target_trigger = {
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 15
		fire_only_once = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_global_flag = USA_civil_war_over_flag
				NOT = { country_exists = CSA }
				NOT = {
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT_BELIZE }
				}
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.4 }
				NOT = {
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT_BELIZE }
				}
			}
			modifier = {
				factor = 5
				AND = {
					MEX = { has_socialist_government = yes }
					NOT = { has_global_flag = USA_civil_war_over_flag }
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_GER }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ACW_VICTOR }
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_protection_ENT target: [From.GetName]"
			FROM = { country_event = cenmil.201 }	# Asking for guarantee
			custom_effect_tooltip = cenmil_you_may_only_ask_one_tt
		}
	}
	CENmil_join_faction_ENT = {
		icon = GFX_decision_generic_nationalism

		available = {
			NOT = { has_country_flag = CENmil_asked_for_stuff }
			OR = {
				FROM = { has_guaranteed = ROOT } #guaranteed by ENT
				any_other_country = { #backup for if ENT leadership has been taken over since CEN requested the guarantee
					is_ally_with = FROM
					has_guaranteed = ROOT
				}
			}
			at_peace_or_same_enemies_as_FROM = yes
		}

		visible = {
			is_in_faction = no
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { ENT }
		target_root_trigger = { is_in_faction = no }
		target_trigger = {
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_global_flag = USA_civil_war_over_flag
				NOT = { country_exists = CSA }
				NOT = {
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT_BELIZE }
				}
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.4 }
				NOT = {
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT_BELIZE }
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_GER }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ACW_VICTOR }
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_join_faction_ENT target: [From.GetName]"
			FROM = { country_event = cenmil.202 }
		}
	}
	CENmil_protection_GER = {
		icon = GFX_decision_generic_decision
		available = {
			NOT = { has_country_flag = CENmil_asked_for_stuff }
			if = {
				limit = {
					NOT = {
						is_ai = yes
						has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_GER }
					}
				}
				FROM = {
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
			}
		}

		visible = {
			has_guarantor = no
			is_in_faction = no
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { GER }
		target_root_trigger = { has_guarantor = no }
		target_trigger = {
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 20
		fire_only_once = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_global_flag = USA_civil_war_over_flag
				NOT = { country_exists = CSA }
				NOT = { has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_GER } }
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.4 }
				NOT = { has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_GER } }
			}
			modifier = {  ### Germany is too far away to help
				factor = 0
				FROM = {
					NOT = { is_in_faction_with = COS }
				}
				NOT = { has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_GER } }
			}
			modifier = {
				factor = 5
				OR = {
					AND = {
						MEX = { has_socialist_government = yes }
						NOT = { has_global_flag = USA_civil_war_over_flag }
					}
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_GER }
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT_BELIZE }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ACW_VICTOR }
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_protection_GER target: [From.GetName]"
			FROM = { country_event = cenmil.201 } # Asking for guarantee
			custom_effect_tooltip = cenmil_you_may_only_ask_one_tt
		}
	}
	CENmil_join_faction_GER = {
		icon = GFX_decision_generic_nationalism

		available = {
			NOT = { has_country_flag = CENmil_asked_for_stuff }
			OR = {
				FROM = { has_guaranteed = ROOT } #guaranteed by GER
				any_other_country = { #backup for if GER leadership has somehow been taken over since CEN requested the guarantee
					is_ally_with = FROM
					has_guaranteed = ROOT
				}
			}
			at_peace_or_same_enemies_as_FROM = yes
		}

		visible = {
			is_in_faction = no
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { GER }
		target_root_trigger = { is_in_faction = no }
		target_trigger = {
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_global_flag = USA_civil_war_over_flag
				NOT = { country_exists = CSA }
				NOT = { has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_GER } }
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.4 }
				NOT = { has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_GER } }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ENT_BELIZE }
					has_game_rule = { rule = CEN_forpol option = CEN_FORPOL_ACW_VICTOR }
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_join_faction_GER target: [From.GetName]"
			FROM = { country_event = cenmil.202 }
		}
	}

	CENmil_buy_guns = {
		icon = GFX_decision_generic_industry

		visible = {
			has_completed_focus = CENmil_arms_deals
			country_exists = GER
			NOT = { has_war_with = GER }
		}

		cost = 50
		days_remove = 50
		days_re_enable = 150

		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				stockpile_ratio = { archetype = infantry_equipment ratio < 1 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_buy_guns"
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000
				producer = GER
			}
		}
	}
	CENmil_buy_artillery = {
		icon = GFX_decision_ger_military_buildup

		visible = {
			has_completed_focus = CENmil_arms_deals
			country_exists = RUS
			NOT = { has_war_with = RUS }
		}

		cost = 75
		days_remove = 50
		days_re_enable = 150

		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				stockpile_ratio = { archetype = artillery_equipment ratio < 1 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_buy_artillery"
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 100
				producer = RUS
			}
		}
	}
	CENmil_buy_tanks = { #This' a bad deal eh
		icon = GFX_decision_generic_tank

		visible = {
			has_completed_focus = CENmil_arms_deals
			country_exists = NFA
			NOT = { has_war_with = NFA }
		}

		cost = 100
		days_remove = 50
		days_re_enable = 150

		ai_will_do = {
			base = 1
			modifier = {
				add = 100
				stockpile_ratio = { archetype = light_tank_chassis ratio < 1 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_buy_tanks"
			add_equipment_to_stockpile = { type = light_tank_chassis amount = 25 producer = NFA }
		}
	}
	CENmil_buy_planes = {
		icon = GFX_decision_generic_air

		visible = {
			has_completed_focus = CENmil_arms_deals
			country_exists = ENT
			ENT = { has_design_based_on = small_plane_airframe }
			NOT = { has_war_with = ENT }
		}

		cost = 100
		days_remove = 50
		days_re_enable = 150

		ai_will_do = {
			base = 1
			modifier = {
				add = 100
				stockpile_ratio = { archetype = small_plane_airframe ratio < 1 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_buy_planes"
			add_equipment_to_stockpile = {
				type = small_plane_airframe
				amount = 40
				producer = ENT
			}
		}
	}
}

CENmil_restoring_the_old_union_decisions = {
	CENmil_core_british_honduras = {
		icon = GFX_decision_generic_nationalism

		available = {
			has_full_control_of_state = 311
			311 = {
				NOT = { is_core_of = WIF }
			}
		}

		visible = {
			owns_state = 311
			311 = {
				NOT = { is_core_of = ROOT }
			}
		}

		cost = 0
		days_remove = 100
		fire_only_once = yes

		ai_will_do = { factor = 100 }

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_core_british_honduras"
			add_state_core = 311
		}
	}
	CENmil_take_costa_rica = {
		icon = GFX_decision_generic_nationalism

		available = {
			is_neighbor_of = FROM
			custom_trigger_tooltip = {
				tooltip = cenmil_window_of_opportunity_tt
				OR = {
					country_exists = CSA
					NOT = { has_global_flag = USA_civil_war_over_flag }
					var:361.owner = { has_war_with = ENT }
					var:361.owner = { has_war_with = MEX }
				}
			}
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
		}

		targets = { COS }
		target_root_trigger = { has_authoritarian_government = yes }
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 0
		days_remove = 25
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					has_country_flag = imminent_war
				}
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 1.0 }
			}
			modifier = {
				factor = 0
				FROM = {
					is_in_faction = yes
					faction_leader = { surrender_progress < 0.4 }
				}
			}
			modifier = {
				factor = 0
				FROM = {
					is_subject = yes
					overlord = {
						strength_ratio = { tag = ROOT ratio > 0.8 }
						surrender_progress < 0.1
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					has_guarantor = yes
					any_of_scopes = {
						array = guarantor_array
						has_guaranteed = PREV
						OR = {
							strength_ratio = { tag = ROOT ratio > 0.8 }
							is_in_faction = yes
						}
					}
				}
			}
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = CEN_forpol option = DEFAULT } }
				is_in_faction = no
				is_subject = no
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel CENmil_take_costa_rica target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_take_costa_rica target: [From.GetName]"
			setup_decision_attack_AI = yes
			FROM = { country_event = cenmil.307 }	#warning event
			add_state_claim = 316 #Costa Rica
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_take_costa_rica target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
	CENmil_take_panama = {
		icon = GFX_decision_generic_ignite_civil_war

		available = {
			is_neighbor_of = FROM
			custom_trigger_tooltip = {
				tooltip = cenmil_window_of_opportunity_tt
				OR = {
					country_exists = CSA
					NOT = { has_global_flag = USA_civil_war_over_flag }
					var:361.owner = { has_war_with = ENT }
					var:361.owner = { has_war_with = MEX }
				}
			}
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
		}

		targets = { PAN }
		target_root_trigger = { has_authoritarian_government = yes }
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 0
		days_remove = 25
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					has_country_flag = imminent_war
				}
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 1.0 }
			}
			modifier = {
				factor = 0
				FROM = {
					is_in_faction = yes
					faction_leader = { surrender_progress < 0.4 }
				}
			}
			modifier = {
				factor = 0
				FROM = {
					is_subject = yes
					overlord = {
						strength_ratio = { tag = ROOT ratio > 0.8 }
						surrender_progress < 0.1
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					has_guarantor = yes
					any_of_scopes = {
						array = guarantor_array
						has_guaranteed = PREV
						OR = {
							strength_ratio = { tag = ROOT ratio > 0.8 }
							is_in_faction = yes
						}
					}
				}
			}
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = CEN_forpol option = DEFAULT } }
				is_in_faction = no
				is_subject = no
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel CENmil_take_panama target: [From.GetName]"
			clear_decision_attack_AI = yes
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete CENmil_take_panama target: [From.GetName]"
			setup_decision_attack_AI = yes
			FROM = { country_event = cenmil.308 }	#warning event
			add_state_claim = 304 #Panama
			add_state_claim = 685 #Panama Canal
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CENmil_take_panama target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
}

