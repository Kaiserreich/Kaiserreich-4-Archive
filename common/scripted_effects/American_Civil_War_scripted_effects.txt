USA_initial_events = {
	USA = {
		country_event = { id = amcivwar.311 hours = 8 } #MacArthur's Warning
		country_event = { id = amcivwar.300 days = 3 } #New England riots
		country_event = { id = amcivwar.312 days = 25 } #Deadline Running Out
	}
	JAP = {
		country_event = { id = japfor.225 days = 30 }
	}
	if = {
		limit = { has_country_flag = USA_ACW_compromise_rejected }
		country_event = { id = amcivwar.322 days = 7 } #North Carolina
		country_event = { id = amcivwar.324 days = 9 } #Tennessee
		country_event = { id = amcivwar.329 days = 12 } #Southern Texas
		country_event = { id = amcivwar.334 days = 15 } #Kentucky
		country_event = { id = amcivwar.335 days = 20 } #Virginia
	}
	else_if = {
		limit = { has_country_flag = USA_ACW_austerity_rejected }
		country_event = { id = amcivwar.320 days = 5 } #Minnesota
		country_event = { id = amcivwar.326 days = 9 } #New York/New Jersey
		country_event = { id = amcivwar.330 days = 12 } #Iowa
		country_event = { id = amcivwar.332 days = 15 } #Missouri
		country_event = { id = amcivwar.333 days = 20 } #Buffalo
	}
	else_if = {
		limit = { NOT = { has_government = paternal_autocrat } }
		random_other_country = {
			limit = { is_ai = yes }
			country_event = { id = amcivwar.301 days = 5 } #Minnesota
			country_event = { id = amcivwar.302 days = 7 } #North Carolina
			country_event = { id = amcivwar.303 days = 9 } #Tennessee
			country_event = { id = amcivwar.304 days = 12 } #New York/New Jersey
			country_event = { id = amcivwar.306 days = 18 } #Southern Texas
			country_event = { id = amcivwar.307 days = 20 } #Iowa
		}
	}
}

CSA_initial_events = {
	CSA = {
		if = {
			limit = {
				USA = { has_country_flag = USA_reed_was_president }
			}
			add_timed_idea = {
				idea = CSA_righteous_nation
				days = 90
			}
		}
		if = {
			limit = { AST = { has_socialist_government = yes } }
			remove_opinion_modifier = { target = AST modifier = embargo }
		}
		country_event = { id = csa.150 days = 6 } # Initialization event
		country_event = { id = amcivwar.43 days = 14 } # Revolutionary Staff Leader
		country_event = { id = amcivwar.44 days = 21 } # Revolutionary Staff Leader
		country_event = { id = amcivwar.45 days = 28 } # Leader of the People's Air Force
		country_event = { id = amcivwar.30 days = 40 random_days = 10 } # Dealing with the Rich
		country_event = { id = amcivwar.38 days = 70 random_days = 20 } # Revolutionary Propaganda
		country_event = { id = amcivwar.36 days = 100 random_days = 20 } # Internal Conflicts
		country_event = { id = amcivwar.40 days = 130 random_days = 20 } # Protecting against Saboteurs
		country_event = { id = amcivwar.41 days = 160 random_days = 20 } # Red Terror
		country_event = { id = amcivwar.41 days = 245 random_days = 20 } # Winter Resource Allocation Program
	}
	set_global_flag = USA_CSA_existed
}

TEX_initial_events = {
	TEX = {
		if = {
			limit = {
				USA = { has_country_flag = USA_long_was_president }
			}
			add_timed_idea = {
				idea = TEX_righteous_nation
				days = 90
			}
		}
		country_event = { id = unionstate.150 days = 7 } #Initial Events
		country_event = { id = amcivwar.50 days = 14 } # Chief of Staff
		country_event = { id = amcivwar.51 days = 21 } # Chief of Army
		country_event = { id = amcivwar.53 days = 28 } # Chief of Air Force
		country_event = { id = amcivwar.52 days = 35 } # Chief of Navy
		country_event = { id = amcivwar.46 days = 40 random = 240 } # Appeal to Reason
		country_event = { id = amcivwar.48 days = 60 random = 480 } # Pledge of Alliegence

	}
	set_global_flag = USA_TEX_existed
}

PSA_initial_events = {
	PSA = {
		country_event = { id = pacificstates.150 days = 1 } #Initial Events
		country_event = { id = amcivwar.77 days = 7 } #Chief of Staff
		country_event = { id = amcivwar.78 days = 14 } #Chief of Army
		country_event = { id = amcivwar.80 days = 21 } #Chief of Air Force
		country_event = { id = amcivwar.79 days = 28 } #Chief of Navy
	}
	set_global_flag = USA_PSA_existed
}

USA_release_CSA = {
	hidden_effect = {
		CSA = {
			add_state_core = 395
			add_state_core = 394
			add_state_core = 393
			add_state_core = 396
			add_state_core = 261
			add_state_core = 360
			add_state_core = 929
			add_state_core = 975
			set_cosmetic_tag = CSA_ACW
		}

		USA = {
			CSA = { transfer_technology_without_doctrines = yes }
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
			if = {
				limit = { has_country_flag = USA_assassinated_long }
				CSA = {
					add_political_power = 100
					add_manpower = 75000
				}
			}
			if = {
				limit = { has_country_flag = USA_ACW_austerity_rejected }
				CSA = {
					add_political_power = 100
					add_manpower = 150000
					add_war_support = 0.10
					add_stability = 0.15
				}
			}
			set_political_party = { ideology = totalist popularity = 0 }
			set_political_party = { ideology = syndicalist popularity = 0 }
			set_political_party = { ideology = radical_socialist popularity = 0 }
		}

		every_owned_state = {
			limit = { is_core_of = CSA }
			CSA = { transfer_state = PREV }
			teleport_armies = {
				limit = { tag = USA }
				to_state_array = owned_controlled_states
			}
		}

		every_state = {
			limit = {
				is_core_of = USA
				NOT = {
					is_core_of = CSA
					is_claimed_by = CSA
					state = 630 #Johnston Atoll
					state = 631 #Midway
					state = 632 #Wake
					state = 638 #Guam
					state = 685 #Panama Canal
					state = 686 #Puerto Rico
					state = 726 #Samoa
					state = 727 #Line Islands
					state = 818 #Guantanamo
				}
			}
			add_claim_by = CSA
		}

		every_owned_state = {
			limit = {
				is_owned_by = USA
				OR = {
					is_new_england = yes
					state = 358 #New York City
					state = 359 #New Jersey
				}
			}
			set_demilitarized_zone = yes
		}

		every_unit_leader = {
			limit = {
				OR = {
					has_id = 60 #Smedley Butler
					has_id = 61 #Herbert Holdridge
				}
			}
			set_nationality = CSA
		}

		send_equipment_fraction = { target = CSA value = 0.35 }
		CSA = {
			every_owned_state = { USA_remove_support_modifiers_from_state = yes }
			if = {
				limit = { has_template = "Revolutionary Militia" }
				delete_unit_template_and_units = { division_template = "Revolutionary Militia" }
			}
			if = {
				limit = { has_template = "Mounted Revolutionary Militia" }
				delete_unit_template_and_units = { division_template = "Mounted Revolutionary Militia" }
			}
			if = {
				limit = { has_template = "Revolutionary Garrison" }
				delete_unit_template_and_units = { division_template = "Revolutionary Garrison" }
			}
			if = {
				limit = { has_template = "Revolutionary Continental Army" }
				delete_unit_template_and_units = { division_template = "Revolutionary Continental Army" }
			}
			if = {
				limit = { has_template = "Red Guard" }
				delete_unit_template_and_units = { division_template = "Red Guard" }
			}
			if = {
				limit = { has_template = "Revolutionary Armor" }
				delete_unit_template_and_units = { division_template = "Revolutionary Armor" }
			}
			if = {
				limit = { has_template = "Revolutionary Heavy Armor" }
				delete_unit_template_and_units = { division_template = "Revolutionary Heavy Armor" }
			}
			if = {
				limit = { has_template = "Revolutionary Mobile Divisions" }
				delete_unit_template_and_units = { division_template = "Revolutionary Mobile Divisions" }
			}
			if = {
				limit = { has_template = "CSA Resistance" }
				delete_unit_template_and_units = { division_template = "CSA Resistance" }
			}
			event_target:CSA_Smedley_Butler = {
				promote_leader = yes
				remove_unit_leader_trait = recently_promoted
			}
			load_oob = "USA_civil_war_csa_army"
			country_event = { id = amcivwar.337 days = 1 }
			add_ideas = CSA_red_guard_militias_1
			if = {
				limit = {
					USA = { has_country_flag = USA_reed_was_president }
				}
				add_stability = -0.25
			}
			else = {
				add_stability = -0.35
			}
			if = {
				limit = { has_template = "National Guard Division" }
				delete_unit_template_and_units = { division_template = "National Guard Division" }
			}
			if = {
				limit = { has_template = "Infantry Division" }
				delete_unit_template_and_units = { division_template = "Infantry Division" }
			}
			if = {
				limit = { has_template = "Cavalry Division" }
				delete_unit_template_and_units = { division_template = "Cavalry Division" }
			}
			if = {
				limit = { has_template = "Armored Division" }
				delete_unit_template_and_units = { division_template = "Armored Division" }
			}
			if = {
				limit = { has_template = "Heavy Armor Division" }
				delete_unit_template_and_units = { division_template = "Heavy Armor Division" }
			}
			if = {
				limit = { has_template = "Marine Division" }
				delete_unit_template_and_units = { division_template = "Marine Division" }
			}
			if = {
				limit = { has_template = "Panama Canal Garrison" }
				delete_unit_template_and_units = { division_template = "Panama Canal Garrison" }
			}
			if = {
				limit = { has_template = "Motorized Division" }
				delete_unit_template_and_units = { division_template = "Motorized Division" }
			}
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
		}
		
		391 = { set_demilitarized_zone = yes }
		392 = { set_demilitarized_zone = yes }
		if = {
			limit = {
				OR = {
					has_country_flag = USA_assassinated_long
					has_country_flag = USA_ACW_austerity_rejected
				}
			}
			373 = { set_demilitarized_zone = yes } #Missouri
		}
	}
}

USA_release_TEX = {
	hidden_effect = {
		TEX = {
			add_state_core = 371
			add_state_core = 372
			add_state_core = 374
			add_state_core = 375
			add_state_core = 370
			add_state_core = 367
			add_state_core = 365
			add_state_core = 364
			add_state_core = 366
			add_state_core = 833
			set_cosmetic_tag = TEX_ACW
			set_country_flag = John_S_McCain_dead
		}

		USA = {
			TEX = { transfer_technology_without_doctrines = yes }
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
			if = {
				limit = { has_country_flag = USA_assassinated_reed }
				TEX = {
					add_political_power = 100
					add_manpower = 75000
				}
			}
			if = {
				limit = { has_country_flag = USA_ACW_compromise_rejected }
				TEX = {
					add_political_power = 100
					add_manpower = 150000
					add_war_support = 0.10
					add_stability = 0.15
				}
			}
			set_country_flag = Joseph_'Lightning_Joe'_Lawton_Collins_dead
			set_political_party = { ideology = authoritarian_democrat popularity = 0 }
			if = {
				limit = {
					NOT = { has_government = paternal_autocrat }
				}
				set_political_party = { ideology = paternal_autocrat popularity = 0 }
			}
			set_political_party = { ideology = national_populist popularity = 0 }
		}

		every_owned_state = {
			limit = { is_core_of = TEX }
			TEX = { transfer_state = PREV }
			teleport_armies = {
				limit = { tag = USA }
				to_state_array = owned_controlled_states
			}
		}

		every_state = {
			limit = {
				is_core_of = USA
				NOT = {
					is_core_of = TEX
					is_claimed_by = TEX
					state = 630 #Johnston Atoll
					state = 631 #Midway
					state = 632 #Wake
					state = 638 #Guam
					state = 685 #Panama Canal
					state = 686 #Puerto Rico
					state = 726 #Samoa
					state = 727 #Line Islands
					state = 818 #Guantanamo
				}
			}
			add_claim_by = TEX
		}

		every_unit_leader = {
			limit = {
				OR = {
					has_id = 57 #George S. Patton
					has_id = 59 #George Van Horn Mosely
					has_id = 988 #Fox Conner
				}
			}
			set_nationality = TEX
		}

		set_global_flag = ACW_southern_vps_changed
		set_victory_points = { province = 7552 value = 50 } #New Orleans
		set_victory_points = { province = 1453 value = 15 } #Baton Rouge
		set_victory_points = { province = 12735 value = 15 } #Birmingham
		set_victory_points = { province = 492 value = 15 } #Montgomery
		set_victory_points = { province = 4565 value = 15 } #Jackson
		set_victory_points = { province = 10407 value = 15 } #Tallahassee
		set_victory_points = { province = 7480 value = 10 } #Montgomery
		set_victory_points = { province = 11975 value = 10 } #Savannah
		set_victory_points = { province = 12489 value = 10 } #Little Rock
		set_victory_points = { province = 4464 value = 10 } #Biloxi
		set_victory_points = { province = 7480 value = 10 } #Mobile

		send_equipment_fraction = { target = TEX value = 0.35 }
		TEX = {
			every_owned_state = { USA_remove_support_modifiers_from_state = yes }
			if = {
				limit = { has_template = "AUS Militia" }
				delete_unit_template_and_units = { division_template = "AUS Militia" }
			}
			if = {
				limit = { has_template = "Mounted AUS Militia" }
				delete_unit_template_and_units = { division_template = "Mounted AUS Militia" }
			}
			if = {
				limit = { has_template = "AUS Garrison" }
				delete_unit_template_and_units = { division_template = "AUS Garrison" }
			}
			if = {
				limit = { has_template = "AUS Infantry Division" }
				delete_unit_template_and_units = { division_template = "AUS Infantry Division" }
			}
			if = {
				limit = { has_template = "AUS Motorized Division" }
				delete_unit_template_and_units = { division_template = "AUS Motorized Division" }
			}
			if = {
				limit = { has_template = "AUS Resistance" }
				delete_unit_template_and_units = { division_template = "AUS Resistance" }
			}
			random_unit_leader = {
				limit = { has_id = 59 }
				promote_leader = yes
				add_unit_leader_trait = thorough_planner
				add_unit_leader_trait = logistics_wizard
				remove_unit_leader_trait = recently_promoted
			}
			random_unit_leader = {
				limit = { has_id = 57 }
				promote_leader = yes
				remove_unit_leader_trait = recently_promoted
			}
			load_oob = "USA_civil_war_aus_army"
			371 = {
				create_unit = {
					division = "name = \"Long's Minutemen\" division_template = \"AUS Garrison\"  start_experience_factor = 1.0"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 7552 #New Orleans
					owner = TEX
					id = 1000
				}
			}
			375 = {
				create_unit = {
					division = "name = \"1st Mounted Minutemen\" division_template = \"Mounted AUS Militia\"  start_experience_factor = 0.3"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 10337 #Houston
					owner = TEX
					id = 1000
				}
			}
			if = {
				limit = { USA = { has_country_flag = USA_long_was_president } }
				365 = {
					create_unit = {
						division = "name = \"8th Minutemen Infantry\" division_template = \"AUS Infantry Division\" start_experience_factor = 0.6 start_experience_factor = 1.0"
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 12384 #Atlanta
						owner = TEX
					}
				}
				371 = {
					create_unit = {
						division = "name = \"9th Minutemen Infantry\" division_template = \"AUS Infantry Division\" start_experience_factor = 0.6 start_experience_factor = 1.0"
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 7552 #New Orleans
						owner = TEX
					}
				}
				375 = {
					create_unit = {
						division = "name = \"10th Minutemen Infantry\" division_template = \"AUS Infantry Division\" start_experience_factor = 0.6 start_experience_factor = 1.0"
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 10337 #Houston
						owner = TEX
					}
				}
			}
			country_event = { id = amcivwar.336 days = 1 }
			if = {
				limit = { has_template = "Infantry Division" }
				delete_unit_template_and_units = { division_template = "Infantry Division" }
			}
			if = {
				limit = { has_template = "Panama Canal Garrison" }
				delete_unit_template_and_units = { division_template = "Panama Canal Garrison" }
			}
			if = {
				limit = { has_template = "Motorized Division" }
				delete_unit_template_and_units = { division_template = "Motorized Division" }
			}
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
		}
		
		363 = { set_demilitarized_zone = yes } #North Carolina
		368 = { set_demilitarized_zone = yes } #Tennessee
		833 = { set_demilitarized_zone = yes } #South Texas
		
		if = {
			limit = {
				OR = {
					has_country_flag = USA_assassinated_reed
					has_country_flag = USA_ACW_compromise_rejected
				}
			}
			362 = { set_demilitarized_zone = yes } #Virginia
			369 = { set_demilitarized_zone = yes } #Kentucky
		}
	}
}

USA_release_PSA = {
	hidden_effect = {
		set_global_flag = ACW_pacific_states_revolted

		set_political_party = { ideology = social_democrat popularity = 0 }

		set_temp_variable = { USA_soclib_popularity = party_popularity_100@social_liberal }
		divide_temp_variable = { USA_soclib_popularity = 3 }
		set_political_party = { ideology = social_liberal popularity = USA_soclib_popularity }

		set_temp_variable = { USA_marlib_popularity = party_popularity_100@market_liberal }
		divide_temp_variable = { USA_marlib_popularity = 2 }
		set_political_party = { ideology = market_liberal popularity = USA_marlib_popularity }

		add_popularity = { ideology = paternal_autocrat popularity = 0.15 }

		PSA = {
			add_state_core = 829
			add_state_core = 798
			add_state_core = 797
			add_state_core = 378
			add_state_core = 385
			add_state_core = 386
			add_state_core = 463
			set_cosmetic_tag = PSA_ACW
			transfer_technology_without_doctrines = yes
		}

		every_owned_state = {
			limit = { is_core_of = PSA }
			PSA = { transfer_state = PREV }
			teleport_armies = {
				limit = { tag = USA }
				to_state_array = owned_controlled_states
			}
		}

		every_state = {
			limit = {
				is_core_of = USA
				NOT = {
					is_core_of = PSA
					is_claimed_by = PSA
					state = 630 #Johnston Atoll
					state = 631 #Midway
					state = 632 #Wake
					state = 638 #Guam
					state = 685 #Panama Canal
					state = 686 #Puerto Rico
					state = 726 #Samoa
					state = 727 #Line Islands
					state = 818 #Guantanamo
				}
			}
			add_claim_by = PSA
		}

		every_unit_leader = {
			limit = {
				OR = {
					has_id = 58 #Henry H. Arnold
					has_id = 64 #George Marshall
					has_id = 989 #John Lesesne DeWitt
				}
			}
			set_nationality = PSA
		}
		every_navy_leader = {
			limit = {
				OR = {
					has_id = 62 #Chester W. Nimitz
					has_id = 990 #William D. Leahy
					has_id = 65 #Ernest King
				}
			}
			set_nationality = PSA
		}

		USA = {
			set_country_flag = Alexander_Vandegrift_dead
			set_country_flag = James_Harold_Doolittle_dead
			set_country_flag = George_Catlett_Marshall_Jr_dead
			set_country_flag = Chester_William_Nimitz_Sr_dead
			set_country_flag = Ernest_Joseph_King_dead
			set_country_flag = William_Daniel_Leahy_dead
			clr_country_flag = Frank_Jack_Fletcher_dead
			clr_country_flag = William_Halsey_Jr_dead
			clr_country_flag = Thomas_Charles_Hart_dead
		}

		PSA = {
			if = {
				limit = { has_template = "Mounted PSA Militia" }
				delete_unit_template_and_units = { division_template = "Mounted PSA Militia" }
			}
			if = {
				limit = { has_template = "PSA Militia" }
				delete_unit_template_and_units = { division_template = "PSA Militia" }
			}
			if = {
				limit = { has_template = "PSA Garrison" }
				delete_unit_template_and_units = { division_template = "PSA Garrison" }
			}
			if = {
				limit = { has_template = "PSA Infantry Division" }
				delete_unit_template_and_units = { division_template = "PSA Infantry Division" }
			}
			if = {
				limit = { has_template = "PSA Motorized Division" }
				delete_unit_template_and_units = { division_template = "PSA Motorized Division" }
			}
			if = {
				limit = { has_template = "PSA Resistance" }
				delete_unit_template_and_units = { division_template = "PSA Resistance" }
			}
			random_unit_leader = {
				limit = { has_id = 989 } #John DeWitt
				promote_leader = yes
				remove_unit_leader_trait = recently_promoted
			}
			load_oob = "USA_civil_war_psa_army"
			378 = {
				create_unit = {
					division = "name = \"California State Guard\" division_template = \"PSA Garrison\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 9713 #Sacramento
					owner = PSA
					id = 1000
				}
				create_unit = {
					division = "name = \"4th California National Guard\" division_template = \"PSA Garrison\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 9713 #Sacramento
					owner = PSA
					id = 1000
				}
			}
			385 = {
				create_unit = {
					division = "name = \"Oregon State Guard\" division_template = \"PSA Garrison\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 3513 #Portland
					owner = PSA
					id = 1000
				}
				create_unit = {
					division = "name = \"1st Oregon National Guard\" division_template = \"PSA Garrison\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 3513 #Portland
					owner = PSA
					id = 1000
				}
				create_unit = {
					division = "name = \"2nd Oregon National Guard\" division_template = \"PSA Garrison\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 4328 #Salem
					owner = PSA
					id = 1000
				}
			}
			386 = {
				create_unit = {
					division = "name = \"Washington State Guard\" division_template = \"PSA Garrison\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 7386 #Olympia
					owner = PSA
					id = 1000
				}
				create_unit = {
					division = "name = \"1st Washington National Guard\" division_template = \"PSA Garrison\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 7315 #Seattle
					owner = PSA
					id = 1000
				}
				create_unit = {
					division = "name = \"2nd Washington National Guard\" division_template = \"PSA Garrison\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 7386 #Olympia
					owner = PSA
					id = 1000
				}
			}
			797 = {
				create_unit = {
					division = "name = \"1st California National Guard\" division_template = \"PSA Garrison\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 9671 #San Francisco
					owner = PSA
					id = 1000
				}
				create_unit = {
					division = "name = \"5th California National Guard\" division_template = \"PSA Garrison\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 9671 #San Francisco
					owner = PSA
					id = 1000
				}
			}
			798 = {
				create_unit = {
					division = "name = \"2nd California National Guard\" division_template = \"PSA Garrison\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 9814 #Los Angeles
					owner = PSA
					id = 1000
				}
				create_unit = {
					division = "name = \"3rd California National Guard\" division_template = \"PSA Garrison\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 1562 #San Diego
					owner = PSA
					id = 1000
				}
			}
			if = {
				limit = { has_template = "Infantry Division" }
				delete_unit_template_and_units = { division_template = "Infantry Division" }
			}
			if = {
				limit = { has_template = "Panama Canal Garrison" }
				delete_unit_template_and_units = { division_template = "Panama Canal Garrison" }
			}
			if = {
				limit = { has_template = "Motorized Division" }
				delete_unit_template_and_units = { division_template = "Motorized Division" }
			}
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
		}

		# Pacific Fleet
		transfer_ship = { prefer_name = "USS Utah" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Arkansas" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Wyoming" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Texas" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS South Carolina" type = SH_battleship target = XXA }
		transfer_ship = { prefer_name = "USS Nevada" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Oklahoma" type = battleship target = XXA }

		transfer_ship = { prefer_name = "USS Lexington" type = battle_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Saratoga" type = battle_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Pensacola" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Salt Lake City" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Omaha" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Milwaukee" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Raleigh" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Detroit" type = heavy_cruiser target = XXA }

		transfer_ship = { prefer_name = "USS Winslow" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Abel P. Upshur" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Hunt" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Welborn C. Wood" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS George E. Badger" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Branch" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Herndon" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Clemson" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Dahlgren" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Goldsborough" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Semmes" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Satterlee" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Greer" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Ward" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Claxton" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Hamilton" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Tarbell" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Yarnall" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Upshur" type = destroyer target = XXA }


		#ADD DESTROYER LEADER FROM PRODUCTION
		transfer_ship = { prefer_name = "USS Taylor" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Schley" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Chew" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Williams" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Crane" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Rathburne" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Sigourney" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Gregory" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Stringham" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Colhoun" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS McKean" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Fairfax" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Wickes" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Philip" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Evans" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Little" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Mason" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Jacob Jones" type = destroyer target = XXA }


		# Pacific Submarine Fleet
		transfer_ship = { prefer_name = "USS R11" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R12" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R13" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R14" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R15" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R16" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R17" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R18" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R19" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R20" type = submarine target = XXA }


		# Pacific Reserve Fleet
		transfer_ship = { prefer_name = "USS Charlotte" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Missoula" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Huron" type = heavy_cruiser target = XXA }

		transfer_ship = { prefer_name = "USS Salem" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Caldwell" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Craven" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Gwin" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Conner" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Stockton" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Manley" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Ballard" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Champlin" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Mugford" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Hazelwood" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Hart" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Ingraham" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Stribling" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Murray" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Israel" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Luce" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Maury" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Lansdale" type = destroyer target = XXA }

		transfer_ship = { prefer_name = "USS S1" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S4" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S11" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S12" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S13" type = submarine target = XXA }


		# Asiatic Fleet
		transfer_ship = { prefer_name = "USS Augusta" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Marblehead" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Cincinnati" type = heavy_cruiser target = XXA }

		transfer_ship = { prefer_name = "USS Langley" type = carrier target = XXA }
		send_equipment = {
			type = cv_fighter_equipment
			amount = 20
			target = XXA
		}
		send_equipment = {
			type = cv_CAS_equipment
			amount = 10
			target = XXA
		}
		send_equipment = {
			type = cv_nav_bomber_equipment
			amount = 10
			target = XXA
		}

		#ADD DESTROYER LEADER FROM PRODUCTION
		transfer_ship = { prefer_name = "USS Alden" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Whipple" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Edsall" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Stewart" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Barker" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Paul Jones" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Parrott" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Bulmer" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS John D. Ford" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Pope" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Peary" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Pillsbury" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Radford" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Gamble" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Badger" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Twiggs" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Babbitt" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Graham" type = destroyer target = XXA }

		transfer_ship = { prefer_name = "USS S3" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S7" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S8" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S9" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S24" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S25" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S26" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S27" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S28" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S29" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S30" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S31" type = submarine target = XXA }

		PSA = {
			annex_country = { target = XXA }
			load_oob = ACW_PSA_naval
		}
	}
}

USA_civil_war_begins = {
	hidden_effect = {
		set_country_flag = USA_industrial_companies_allowed_NEE
		set_country_flag = USA_weapon_companies_allowed_NEE
		set_country_flag = USA_heavy_equipment_companies_allowed_NEE
		set_country_flag = USA_naval_companies_allowed_NEE
		set_country_flag = USA_aviation_companies_allowed_NEE
		if = {
			limit = {
				NOT = { country_exists = CSA }
			}
			set_country_flag = USA_industrial_companies_allowed_CSA
			set_country_flag = USA_weapon_companies_allowed_CSA
			set_country_flag = USA_heavy_equipment_companies_allowed_CSA
			set_country_flag = USA_naval_companies_allowed_CSA
			set_country_flag = USA_aviation_companies_allowed_CSA
		}
		if = {
			limit = {
				NOT = { country_exists = TEX }
			}
			set_country_flag = USA_industrial_companies_allowed_TEX
			set_country_flag = USA_weapon_companies_allowed_TEX
			set_country_flag = USA_heavy_equipment_companies_allowed_TEX
			set_country_flag = USA_naval_companies_allowed_TEX
			set_country_flag = USA_aviation_companies_allowed_TEX
		}
		if = {
			limit = {
				NOT = { country_exists = PSA }
			}
			set_country_flag = USA_industrial_companies_allowed_PSA
			set_country_flag = USA_weapon_companies_allowed_PSA
			set_country_flag = USA_heavy_equipment_companies_allowed_PSA
			set_country_flag = USA_naval_companies_allowed_PSA
			set_country_flag = USA_aviation_companies_allowed_PSA
		}
		set_global_flag = USA_civil_war_begun_flag

		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 364 #South Carolina
					state = 365 #Georgia
					state = 369 #Kentucky
					state = 370 #Mississippi
					state = 374 #Oklahoma
					state = 377 #Arizona
					state = 382 #Colorado
					state = 383 #Kansas
					state = 391 #Minnesota
					state = 394 #Wisconsin
					state = 833 #Southern Texas
				}
			}
			remove_building = { type = industrial_complex level = 1 }
			add_building_construction = { type = arms_factory level = 1 instant_build = yes }
		}
		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 360 #Philadelphia
					state = 359 #New Jersey
					state = 362 #Virginia
					state = 363 #North Carolina
					state = 366 #Florida
					state = 367 #Alabama
					state = 371 #Louisiana
					state = 392 #Iowa
					state = 929 #West Virginia
				}
			}
			remove_building = { type = industrial_complex level = 2 }
			add_building_construction = { type = arms_factory level = 2 instant_build = yes }
		}
		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 368 #Tennessee
					state = 395 #Illinois
				}
			}
			remove_building = { type = industrial_complex level = 3 }
			add_building_construction = { type = arms_factory level = 3 instant_build = yes }
		}
		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 373 #Missouri
					state = 378 #Northern California
					state = 393 #Michigan
				}
			}
			remove_building = { type = industrial_complex level = 4 }
			add_building_construction = { type = arms_factory level = 4 instant_build = yes }
		}
		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 261 #Ohio
					state = 375 #Northern Texas
					state = 361 #Maryland
					state = 396 #Indiana
					state = 797 #San Francisco
					state = 798 #Los Angeles
					state = 975 #Pittsburgh
				}
			}
			remove_building = { type = industrial_complex level = 5 }
			add_building_construction = { type = arms_factory level = 5 instant_build = yes }
		}

		#declarations of war
		if = {
			limit = { country_exists = CSA }
			CSA = { declare_war_on = { target = USA type = annex_everything	} }
		}
		if = {
			limit = { country_exists = TEX }
			TEX = { declare_war_on = { target = USA type = annex_everything	} }
		}
		if = {
			limit = {
				country_exists = CSA
				country_exists = TEX
			}
			CSA = { declare_war_on = { target = TEX type = annex_everything	} }
		}
		if = {
			limit = { country_exists = PSA }
			CSA = { declare_war_on = { target = PSA type = annex_everything	} }
			TEX = { declare_war_on = { target = PSA type = annex_everything	} }
			PSA = { declare_war_on = { target = USA type = annex_everything	} }
		}

		if = {
			limit = { country_exists = CSA }
			CSA = {
				country_event = { id = amcivwar.313 days = 1 }
				country_event = { id = amcivwar.90 days = 90 }
				add_ideas = amcivwar_idea_CSA
				if = {
					limit = { USA = { has_country_flag = USA_ACW_austerity_rejected } }
					add_timed_idea = { idea = ACW_fired_up days = 180 }
					activate_mission = ACW_move_quickly
				}
			}
		}
		if = {
			limit = { country_exists = TEX }
			TEX = {
				country_event = { id = amcivwar.90 days = 90 }
				add_ideas = amcivwar_idea_TEX
				if = {
					limit = { USA = { has_country_flag = USA_ACW_compromise_rejected } }
					add_timed_idea = { idea = ACW_fired_up days = 180 }
					activate_mission = ACW_move_quickly
				}
			}
		}
		if = {
			limit = { country_exists = PSA }
			PSA = {
				country_event = { id = amcivwar.90 days = 90 }
				add_ideas = amcivwar_idea_PSA
			}
		}
		
		# spawn siege of NYC units
		if = {
			limit = {
				has_government = paternal_autocrat
				owns_state = 359
				country_exists = CSA
			}
			create_USA_infantry_template = yes
			796 = {
				create_unit = {
					division = "name = \"Connecticut National Guard\" division_template = \"Army Loyalists\"  start_experience_factor = 0.3"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 10731
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Albany National Guard\" division_template = \"Army Loyalists\"  start_experience_factor = 0.3"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 3894
					owner = ROOT
				}
			}
			359 = {
				create_unit = {
					division = "name = \"Newark National Guard\" division_template = \"Army Loyalists\"  start_experience_factor = 0.3"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 6882
					owner = ROOT
					id = 1000
				}
			}
			CSA = { create_CSA_militia_template = yes }
			358 = {
				create_unit = {
					division = "name = \"Jersey 'Devils'\" division_template = \"Revolutionary Militia\"  start_experience_factor = 1.0"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 10814
					owner = CSA
					id = 1000
				}
				create_unit = {
					division = "name = \"Bronx 'Yankees'\" division_template = \"Revolutionary Militia\"  start_experience_factor = 0.6"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 10814
					owner = CSA
					id = 1000
				}
				create_unit = {
					division = "name = \"New York 'Reds'\" division_template = \"Revolutionary Militia\"  start_experience_factor = 0.2"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 3878
					owner = CSA
					id = 1000
				}
				create_unit = {
					division = "name = \"Brooklyn 'Teamsters'\" division_template = \"Revolutionary Militia\"  start_experience_factor = 0.2"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 3878
					owner = CSA
					id = 1000
				}
			}
		}

		# remove USA cores in uncontrolled territory
		every_state = {
			limit = { is_core_of = USA }
			if = {
				limit = {
					OR = {
						is_controlled_by = CSA
						is_controlled_by = TEX
						is_controlled_by = PSA
					}
				}
				remove_core_of = USA
				add_claim_by = USA
			}
		}

		USA = {
			country_event = { id = hawaii.1 days = 1 random = 72 } # Hawaii Rebels
			country_event = { id = amcivwar.61 days = 2 random = 72 } # Conscription
			country_event = { id = amcivwar.63 days = 2 random = 72 } # Panama Garrison
			country_event = { id = amcivwar.62 days = 30 } # Recall the China Marines?
			if = {
				limit = {
					NOT = {
						has_country_flag = USA_assassinated_reed
						has_country_flag = USA_ACW_compromise_rejected
						has_country_flag = USA_assassinated_long
						has_country_flag = USA_ACW_austerity_rejected
					}
				}
				country_event = { id = amcivwar.90 days = 90 }
			}
			add_ideas = amcivwar_idea_USA
		}
		CSA = {
			country_event = { id = amcivwar.35 days = 40 random = 1896 } # Female Soldiers
			country_event = { id = amcivwar.34 days = 60 random = 2856 } # Red Witches
			country_event = { id = amcivwar.32 days = 120 random = 5712 } # Life During Wartime
		}
		PSA = {
			country_event = { id = amcivwar.62 days = 30 } # Recall the China Marines?
		}

		# remove guarantees
		if = {
			limit = { GUA = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = GUA relation = guarantee active = no }
		}
		if = {
			limit = { ELS = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = ELS relation = guarantee active = no }
		}
		if = {
			limit = { HON = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = HON relation = guarantee active = no }
		}
		if = {
			limit = { COS = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = COS relation = guarantee active = no }
		}
		if = {
			limit = { "PAN" = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = "PAN" relation = guarantee active = no }
		}
		if = {
			limit = { LEC = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = LEC relation = guarantee active = no }
		}
		if = {
			limit = { HAI = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = HAI relation = guarantee active = no }
		}
		if = {
			limit = { DOM = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = DOM relation = guarantee active = no }
		}
		if = {
			limit = { HAI = { gives_military_access_to = USA } }
			diplomatic_relation = { country = HAI relation = military_access active = no }
		}
		if = {
			limit = { DOM = { gives_military_access_to = USA } }
			diplomatic_relation = { country = DOM relation = military_access active = no }
		}

		# Canada receives notification
		CAN = {
			country_event = { id = amcivwar.150 hours = 8 }
			country_event = { id = amcivwar.151 days = 7 hours = 8 }
		}

		# USA colony events
		"LIB" = { country_event = { id = amcivwar.212 hours = 8 } }
		"PHI" = { country_event = { id = amcivwar.226 hours = 8 } }

		USA = {
			country_event = { id = amcivwar.71 days = 7 } #Chief of Staff
			country_event = { id = amcivwar.72 days = 14 } #Chief of Army
			country_event = { id = amcivwar.74 days = 21 } #Chief of Air Force
			country_event = { id = amcivwar.73 days = 28 } #Chief of Navy
			country_event = { id = amcivwar.65 days = 40 random = 240 } # Martial Law?
			country_event = { id = amcivwar.64 days = 90 random = 240 } # Hardtransfer_ship of the civil war
			country_event = { id = amcivwar.66 days = 120 random = 480 } # Loyalist Terror
			country_event = { id = amcivwar.67 days = 150 random = 480 } # Native American Code talkers
			country_event = { id = amcivwar.69 days = 180 random = 480 } # Double V Campaign
			country_event = { id = amcivwar.70 days = 200 random = 480 } # Militarize the WASPs?

			news_event = { id = ustates.1000 hours = 4 } #main news event
		}

		# ACW related events for non-US nations
		PAN = {
			country_event = { id = panama.5 days = 2 }
		}
		COS = {
			country_event = { id = cos.23 days = 5 random_days = 15 }
		}
		BOL = {
			country_event = { id = bol.21 days = 10 random_days = 5 }
		}
		NIC = {
			country_event = { id = nic.41 days = 7 }
		}
		HON = {
			country_event = { id = honduras.101 days = 10 }
		}
		CHL = {
			country_event = { id = chl.13 days = 5 }
		}
		PAR = {
			country_event = { id = par.10 days = 5 }
		}
		BRA = {
			country_event = { id = bra.108 days = 20 random_days = 20 } #Volunteers to the ACW
			country_event = { id = bra.203 days = 45 random_days = 180 } #Refugees from the ACW
			country_event = { id = bra.215 days = 90 random = 270 } #Increasing German Alignment
		}
		HOL = {
			country_event = { id = holpostel.43 days = 45 random_days = 45 }
		}
		QIE = {
			if = {
				limit = {
					has_country_leader = {
						name = "Hu Shih"
						ruling_only = yes
					}
				}
				country_event = { id = qieflavor.10  days = 30 random_days = 4 } #Edith Clifford Williams
			}
		}
		GXC = {
			country_event = { id = lng.17 days = 10 random_days = 20 } #Chen questioned as 2ACW rages
		}
		PAL = {
			country_event = pal.5
		}
	}
}

USA_civil_war_ends = {
	hidden_effect = {
		if = {
			limit = { NOT = { has_global_flag = USA_civil_war_over_flag } }
			USA = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						USA_civil_war_aftermath_idea
						USA_civil_war_depression_idea
					}
				}
			}
			TEX = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						USA_civil_war_aftermath_idea
						USA_civil_war_depression_idea
					}
				}
			}
			CSA = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						USA_civil_war_aftermath_idea
						USA_civil_war_depression_idea
					}
				}
			}
			PSA = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						USA_civil_war_aftermath_idea
						USA_civil_war_depression_idea
					}
				}
			}

			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 364
						state = 365
						state = 369
						state = 370
						state = 377
						state = 382
						state = 383
						state = 391
						state = 833
					}
				}
				remove_building = { type = arms_factory level = 1 }
			}
			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 359
						state = 361
						state = 362
						state = 363
						state = 366
						state = 371
						state = 372
						state = 374
						state = 392
						state = 393
					}
				}
				remove_building = { type = arms_factory level = 2 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 367
						state = 368
						state = 395
						state = 798
					}
				}
				remove_building = { type = arms_factory level = 3 }
				add_building_construction = { type = industrial_complex level = 2 instant_build = yes }
			}
			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 360
						state = 373
						state = 797
						state = 929
					}
				}
				remove_building = { type = arms_factory level = 4 }
				add_building_construction = { type = industrial_complex level = 3 instant_build = yes }
			}
			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 261
						state = 375
						state = 394
						state = 396
					}
				}
				remove_building = { type = arms_factory level = 5 }
				add_building_construction = { type = industrial_complex level = 4 instant_build = yes }
			}
			378 = {
				if = {
					limit = { owner = { is_american_tag = yes } }
					remove_building = { type = arms_factory level = 6 }
					add_building_construction = { type = industrial_complex level = 5 instant_build = yes }
				}
			}
			829 = {
				if = {
					limit = { owner = { is_american_tag = yes } }
					remove_building = { type = arms_factory level = 7 }
					add_building_construction = { type = industrial_complex level = 6 instant_build = yes }
				}
			}
			set_global_flag = USA_civil_war_over_flag
			MEX = {
				country_event = { id = mexico.135 days = 60 random_days = 300 }
			}
			IRE = {
				country_event = { id = ire.209 days = 2 random_days = 5 }
			}
			BRA = {
				country_event = { id = bra.204 days = 15 random_days = 45 } #The Last Democracy?
				country_event = { id = bra.205 days = 30 random_days = 90 } #Send Osvaldo Aranha to the United States?
			}
		}
	}
}

USA_demobilize_forces = {
	CSA = {
		delete_unit = { id = 1000 }
		if = {
			limit = { has_template = "Revolutionary Militia" }
			delete_unit_template_and_units = { division_template = "Revolutionary Militia" }
		}
		if = {
			limit = { has_template = "Revolutionary Garrison" }
			delete_unit_template_and_units = { division_template = "Revolutionary Garrison" disband = yes }
		}
		if = {
			limit = { has_template = "Mounted Revolutionary Militia" }
			delete_unit_template_and_units = { division_template = "Mounted Revolutionary Militia" }
		}
		if = {
			limit = { has_template = "Amerikavrijwilligers" }
			delete_unit_template_and_units = { division_template = "Amerikavrijwilligers" disband = yes }
		}
		if = {
			limit = { has_template = "German Militia Division" }
			delete_unit_template_and_units = { division_template = "German Militia Division" disband = yes }
		}
		if = {
			limit = { has_template = "Irish Volunteers" }
			delete_unit_template_and_units = { division_template = "Irish Volunteers" disband = yes }
		}
		if = {
			limit = { has_template = "Brazilian Volunteers" }
			delete_unit_template_and_units = { division_template = "Brazilian Volunteers" disband = yes }
		}
		if = {
			limit = { has_template = "CSA Resistance" }
			delete_unit_template_and_units = { division_template = "CSA Resistance" }
		}
		if = {
			limit = { has_template = "Brazilian Volunteers" }
			delete_unit_template_and_units = { division_template = "Brazilian Volunteers" }
		}
	}
	TEX = {
		delete_unit = { id = 1000 }
		if = {
			limit = { has_template = "AUS Militia" }
			delete_unit_template_and_units = { division_template = "AUS Militia" }
		}
		if = {
			limit = { has_template = "Mounted AUS Militia" }
			delete_unit_template_and_units = { division_template = "Mounted AUS Militia" }
		}
		if = {
			limit = { has_template = "AUS Garrison" }
			delete_unit_template_and_units = { division_template = "AUS Garrison" disband = yes }
		}
		if = {
			limit = { has_template = "AUS Resistance" }
			delete_unit_template_and_units = { division_template = "AUS Resistance" }
		}
		if = {
			limit = { has_template = "Brazilian Volunteers" }
			delete_unit_template_and_units = { division_template = "Brazilian Volunteers" disband = yes }
		}
	}
	USA = {
		delete_unit = { id = 1000 }
		if = {
			limit = { has_template = "Loyalist Militia" }
			delete_unit_template_and_units = { division_template = "Loyalist Militia" }
		}
		if = {
			limit = { has_template = "Loyalist Garrison" }
			delete_unit_template_and_units = { division_template = "Loyalist Garrison" disband = yes }
		}
		if = {
			limit = { has_template = "Mounted Loyalists" }
			delete_unit_template_and_units = { division_template = "Mounted Loyalists" disband = yes }
		}
		if = {
			limit = { has_template = "Loyalist Motorized Guard" }
			delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" disband = yes }
		}
		if = {
			limit = { has_template = "Irish Volunteers" }
			delete_unit_template_and_units = { division_template = "Irish Volunteers" disband = yes }
		}
		if = {
			limit = { has_template = "Brazilian Volunteers" }
			delete_unit_template_and_units = { division_template = "Brazilian Volunteers" disband = yes }
		}
		if = {
			limit = { has_template = "USA Resistance" }
			delete_unit_template_and_units = { division_template = "USA Resistance" }
		}
	}
	PSA = {
		delete_unit = { id = 1000 }
		if = {
			limit = { has_template = "Mounted PSA Militia" }
			delete_unit_template_and_units = { division_template = "Mounted PSA Militia" }
		}
		if = {
			limit = { has_template = "PSA Militia" }
			delete_unit_template_and_units = { division_template = "PSA Militia" }
		}
		if = {
			limit = { has_template = "PSA Garrison" }
			delete_unit_template_and_units = { division_template = "PSA Garrison" disband = yes }
		}
		if = {
			limit = { has_template = "Brazilian Volunteers" }
			delete_unit_template_and_units = { division_template = "Brazilian Volunteers" disband = yes }
		}
		if = {
			limit = { has_template = "PSA Resistance" }
			delete_unit_template_and_units = { division_template = "PSA Resistance" }
		}
	}
}

remove_ACW_claims = {
	hidden_effect = {
		every_state = {
			limit = {
				OR = {
					is_claimed_by = USA
					is_claimed_by = CSA
					is_claimed_by = PSA
					is_claimed_by = TEX
					is_claimed_by = NEE
					is_claimed_by = HAW
				}
			}
			if = {
				limit = {
					NOT = { country_exists = USA }
				}
				remove_claim_by = USA
			}
			if = {
				limit = {
					NOT = { country_exists = CSA }
				}
				remove_claim_by = CSA
			}
			if = {
				limit = {
					NOT = { country_exists = PSA }
				}
				remove_claim_by = PSA
			}
			if = {
				limit = {
					NOT = { country_exists = TEX }
				}
				remove_claim_by = TEX
			}
			if = {
				limit = {
					NOT = { country_exists = NEE }
				}
				remove_claim_by = NEE
			}
			if = {
				limit = {
					NOT = { country_exists = HAW }
				}
				remove_claim_by = HAW
			}
		}
	}
}

remove_ACW_cores_on_state = {
	hidden_effect = {
		if = {
			limit = { has_global_flag = USA_civil_war_over_flag }
			if = {
				limit = {
					ROOT = {
						NOT = {
							has_idea = USA_federalist_resistance1
							has_idea = USA_federalist_resistance2
							has_idea = USA_federalist_resistance3
							has_idea = USA_federalist_resistance4
						}
					}
				}
				if = {
					limit = { NOT = { country_exists = USA } }
					remove_core_of = USA
				}
				if = {
					limit = { NOT = { country_exists = PSA } }
					remove_core_of = PSA
				}
				if = {
					limit = { NOT = { country_exists = NEE } }
					remove_core_of = NEE
				}
			}
			if = {
				limit = {
					NOT = { country_exists = CSA }
					ROOT = {
						NOT = { 
							has_idea = USA_socialist_resistance1
							has_idea = USA_socialist_resistance2
							has_idea = USA_socialist_resistance3
							has_idea = USA_socialist_resistance4
						}
					}
				}
				remove_core_of = CSA
			}
			if = {
				limit = {
					NOT = { country_exists = TEX }
					ROOT = {
						NOT = { 
							has_idea = USA_longist_resistance1
							has_idea = USA_longist_resistance2
							has_idea = USA_longist_resistance3
							has_idea = USA_longist_resistance4
						}
					}
				}
				remove_core_of = TEX
			}
		}
	}
}

CSA_add_units = {
	add_to_variable = { var = unit_count value = 1 }

	if = {
		limit = { check_variable = { unit_count < 6 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Revolutionary Continental Army\" start_experience_factor = 0.3"
				owner = CSA
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 8 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Revolutionary Mobile Divisions\" start_experience_factor = 0.3"
				owner = CSA
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 9 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Mounted Revolutionary Militia\" start_experience_factor = 0.3"
				owner = CSA
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 11 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Revolutionary Garrison\" start_experience_factor = 0.3"
				owner = CSA
			}
		}
	}

	subtract_from_variable = { var = strength value = 1 }
	if = {
		limit = { check_variable = { strength > 0.99 } }
		CSA_add_units = yes
	}
}

TEX_add_units = {
	add_to_variable = { var = unit_count value = 1 }

	if = {
		limit = { check_variable = { unit_count < 6 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"AUS Infantry Division\" start_experience_factor = 0.3"
				owner = TEX
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 8 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"AUS Motorized Division\" start_experience_factor = 0.3"
				owner = TEX
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 9 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Mounted AUS Militia\" start_experience_factor = 0.3"
				owner = TEX
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 11 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"AUS Garrison\" start_experience_factor = 0.3"
				owner = TEX
			}
		}
	}

	subtract_from_variable = { var = strength value = 1 }
	if = {
		limit = { check_variable = { strength > 0.99 } }
		TEX_add_units = yes
	}
}

USA_restore_deleted_factories_CSA = {
	hidden_effect = {
		261 = { #Ohio
			if = {
				limit = { industrial_complex < 8 }
				set_temp_variable = { ohio_factories = 8 }
				subtract_from_temp_variable = { ohio_factories = 261.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = ohio_factories instant_build = yes }
			}
		}
		360 = { #Philadelphia
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { philadelphia_factories = 3 }
				subtract_from_temp_variable = { philadelphia_factories = 360.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = philadelphia_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 5 }
				set_temp_variable = { philadelphia_dockyards = 5 }
				subtract_from_temp_variable = { philadelphia_dockyards = 360.building_level@dockyard }
				add_building_construction = { type = industrial_complex level = philadelphia_dockyards instant_build = yes }
			}
		}
		393 = { #Michigan
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 8 }
				set_temp_variable = { michigan_factories = 8 }
				subtract_from_temp_variable = { michigan_factories = 393.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = michigan_factories instant_build = yes }
			}
		}
		394 = { #Wisconsin
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { wisconsin_factories = 3 }
				subtract_from_temp_variable = { wisconsin_factories = 394.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = wisconsin_factories instant_build = yes }
			}
		}
		395 = { #Illinois
			if = {
				limit = { industrial_complex < 11 }
				set_temp_variable = { illinois_factories = 11 }
				subtract_from_temp_variable = { illinois_factories = 395.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = illinois_factories instant_build = yes }
			}
		}
		396 = { #Indiana
			if = {
				limit = { industrial_complex < 8 }
				set_temp_variable = { indiana_factories = 8 }
				subtract_from_temp_variable = { indiana_factories = 396.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = indiana_factories instant_build = yes }
			}
		}
		929 = { #West Virginia
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { west_virginia_factories = 2 }
				subtract_from_temp_variable = { west_virginia_factories = 929.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = west_virginia_factories instant_build = yes }
			}
		}
		975 = { #Pittsburgh
			if = {
				limit = { industrial_complex < 8 }
				set_temp_variable = { pittsburgh_factories = 8 }
				subtract_from_temp_variable = { pittsburgh_factories = 975.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = pittsburgh_factories instant_build = yes }
			}
		}
	}
}

USA_restore_deleted_factories_TEX = {
	hidden_effect = {
		364 = { #South Carolina
			if = {
				limit = { dockyard < 1 }
				add_building_construction = { type = dockyard level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
		}
		365 = { #Georgia
			if = {
				limit = { dockyard < 1 }
				add_building_construction = { type = dockyard level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { georgia_factories = 3 }
				subtract_from_temp_variable = { georgia_factories = 365.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = georgia_factories instant_build = yes }
			}
		}
		366 = { #Florida
			if = {
				limit = { industrial_complex < 4 }
				set_temp_variable = { florida_factories = 4 }
				subtract_from_temp_variable = { florida_factories = 366.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = florida_factories instant_build = yes }
			}
		}
		367 = { #Alabama
			if = {
				limit = { industrial_complex < 5 }
				set_temp_variable = { alabama_factories = 5 }
				subtract_from_temp_variable = { alabama_factories = 367.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = alabama_factories instant_build = yes }
			}
		}
		370 = { #Mississippi
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { mississippi_factories = 3 }
				subtract_from_temp_variable = { mississippi_factories = 370.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = mississippi_factories instant_build = yes }
			}
		}
		371 = { #Louisiana
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 5 }
				set_temp_variable = { louisiana_factories = 5 }
				subtract_from_temp_variable = { louisiana_factories = 371.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = louisiana_factories instant_build = yes }
			}
		}
		372 = { #Arkansas
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { arkansas_factories = 2 }
				subtract_from_temp_variable = { arkansas_factories = 372.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = arkansas_factories instant_build = yes }
			}
		}
		374 = { #Oklahoma
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
		375 = { #Northern Texas
			if = {
				limit = { industrial_complex < 8 }
				set_temp_variable = { northern_texas_factories = 8 }
				subtract_from_temp_variable = { northern_texas_factories = 375.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = northern_texas_factories instant_build = yes }
			}
		}
		833 = { #Southern Texas
			if = {
				limit = { industrial_complex < 4 }
				set_temp_variable = { southern_texas_factories = 4 }
				subtract_from_temp_variable = { southern_texas_factories = 833.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = southern_texas_factories instant_build = yes }
			}
			if = {
				limit = {
					USA = {
						has_completed_focus = USA_gwbill_succeeds
						has_country_flag = USA_southtexas_order
					}
					dockyard < 2
				}
				set_temp_variable = { southern_texas_dockyards = 2 }
				subtract_from_temp_variable = { southern_texas_dockyards = 833.building_level@dockyard }
				add_building_construction = { type = dockyard level = southern_texas_dockyards instant_build = yes }
			}
		}
	}
}

USA_restore_deleted_factories_PSA = {
	hidden_effect = {
		829 = { #Southern California
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { southern_california_factories = 3 }
				subtract_from_temp_variable = { southern_california_factories = 829.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = southern_california_factories instant_build = yes }
			}
		}
		379 = { #Northern California
			if = {
				limit = { industrial_complex < 9 }
				set_temp_variable = { northern_california_factories = 9 }
				subtract_from_temp_variable = { northern_california_factories = 379.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = northern_california_factories instant_build = yes }
			}
		}
		798 = { #Los Angeles
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 7 }
				set_temp_variable = { los_angeles_factories = 7 }
				subtract_from_temp_variable = { los_angeles_factories = 798.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = los_angeles_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 4 }
				set_temp_variable = { los_angeles_dockyards = 4 }
				subtract_from_temp_variable = { los_angeles_dockyards = 798.building_level@dockyard }
				add_building_construction = { type = dockyard level = los_angeles_dockyards instant_build = yes }
			}
		}
		797 = { #San Francisco
			if = {
				limit = { industrial_complex < 6 }
				set_temp_variable = { san_francisco_factories = 6 }
				subtract_from_temp_variable = { san_francisco_factories = 797.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = san_francisco_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 5 }
				set_temp_variable = { san_francisco_dockyards = 5 }
				subtract_from_temp_variable = { san_francisco_dockyards = 797.building_level@dockyard }
				add_building_construction = { type = dockyard level = san_francisco_dockyards instant_build = yes }
			}
		}
		385 = { #Oregon
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
		386 = { #Washington
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { washington_factories = 2 }
				subtract_from_temp_variable = { washington_factories = 386.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = washington_factories instant_build = yes }
			}
		}
	}
}

USA_restore_deleted_factories_USA = {
	hidden_effect = {
		391 = { #Minnesota
			if = {
				limit = { industrial_complex < 1 }
				set_temp_variable = { minnesota_factories = 1 }
				if = {
					limit = {
						USA = {
							has_completed_focus = USA_gwbill_succeeds
							has_country_flag = USA_minnesota_order
						}
					}
					add_to_temp_variable = { minnesota_factories = 1 }
					if = {
						limit = { arms_factory < 1 }
						add_building_construction = { type = arms_factory level = 1 instant_build = yes }
					}
				}
				subtract_from_temp_variable = { minnesota_factories = 391.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = minnesota_factories instant_build = yes }
			}
		}
		392 = { #Iowa
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { iowa_factories = 2 }
				if = {
					limit = {
						USA = {
							has_completed_focus = USA_gwbill_succeeds
							has_country_flag = USA_iowa_order
						}
					}
					add_to_temp_variable = { iowa_factories = 1 }
					if = {
						limit = { arms_factory < 1 }
						add_building_construction = { type = arms_factory level = 1 instant_build = yes }
					}
				}
				subtract_from_temp_variable = { iowa_factories = 392.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = iowa_factories instant_build = yes }
			}
		}
		363 = { #North Carolina
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { north_carolina_factories = 3 }
				subtract_from_temp_variable = { north_carolina_factories = 363.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = north_carolina_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 2 }
				set_temp_variable = { north_carolina_dockyards = 2 }
				subtract_from_temp_variable = { north_carolina_dockyards = 363.building_level@dockyard }
				add_building_construction = { type = dockyard level = north_carolina_dockyards instant_build = yes }
			}
		}
		368 = { #Tennessee
			if = {
				limit = { industrial_complex < 5 }
				set_temp_variable = { tennessee_factories = 5 }
				if = {
					limit = {
						USA = {
							has_completed_focus = USA_gwbill_succeeds
							has_country_flag = USA_tennessee_order
						}
					}
					add_to_temp_variable = { tennessee_factories = 1 }
					if = {
						limit = { arms_factory < 1 }
						add_building_construction = { type = arms_factory level = 1 instant_build = yes }
					}
				}
				subtract_from_temp_variable = { tennessee_factories = 368.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = tennessee_factories instant_build = yes }
			}
		}
		359 = { #New Jersey
			if = {
				limit = { industrial_complex < 4 }
				set_temp_variable = { new_jersey_factories = 4 }
				subtract_from_temp_variable = { new_jersey_factories = 359.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = new_jersey_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 2 }
				set_temp_variable = { new_jersey_dockyards = 2 }
				subtract_from_temp_variable = { new_jersey_dockyards = 359.building_level@dockyard }
				add_building_construction = { type = dockyard level = new_jersey_dockyards instant_build = yes }
			}
		}
		358 = { #New York
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { new_york_factories = 2 }
				subtract_from_temp_variable = { new_york_factories = 358.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = new_york_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 7 }
				set_temp_variable = { new_york_dockyards = 7 }
				if = {
					limit = {
						USA = {
							has_completed_focus = USA_gwbill_succeeds
							has_country_flag = USA_new_york_order
						}
					}
					add_to_temp_variable = { new_york_dockyards = 2 }
				}
				subtract_from_temp_variable = { new_york_dockyards = 358.building_level@dockyard }
				add_building_construction = { type = dockyard level = new_york_dockyards instant_build = yes }
			}
		}
		373 = { #Missouri
			if = {
				limit = { industrial_complex < 6 }
				set_temp_variable = { missouri_factories = 6 }
				subtract_from_temp_variable = { missouri_factories = 373.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = missouri_factories instant_build = yes }
			}
		}
		369 = { #Kentucky
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { kentucky_factories = 3 }
				subtract_from_temp_variable = { kentucky_factories = 369.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = kentucky_factories instant_build = yes }
			}
		}
		362 = { #Virginia
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 4 }
				set_temp_variable = { virginia_factories = 4 }
				subtract_from_temp_variable = { virginia_factories = 362.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = virginia_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 3 }
				set_temp_variable = { virginia_dockyards = 3 }
				subtract_from_temp_variable = { virginia_dockyards = 362.building_level@dockyard }
				add_building_construction = { type = dockyard level = virginia_dockyards instant_build = yes }
			}
		}
		361 = { #Maryland
			if = {
				limit = { industrial_complex < 7 }
				set_temp_variable = { maryland_factories = 7 }
				subtract_from_temp_variable = { maryland_factories = 361.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = maryland_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 2 }
				set_temp_variable = { maryland_dockyards = 2 }
				subtract_from_temp_variable = { maryland_dockyards = 361.building_level@dockyard }
				add_building_construction = { type = dockyard level = maryland_dockyards instant_build = yes }
			}
		}
		383 = { #Kansas
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
		384 = { #Nebraska
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
		382 = { #Colorado
			if = {
				limit = { industrial_complex < 1 }
				set_temp_variable = { colorado_factories = 1 }
				if = {
					limit = {
						USA = {
							has_completed_focus = USA_gwbill_succeeds
							OR = {
								has_country_flag = USA_minnesota_order
								has_country_flag = USA_iowa_order
								has_country_flag = USA_tennessee_order
							}
						}
					}
					add_to_temp_variable = { colorado_factories = 1 }
				}
				subtract_from_temp_variable = { colorado_factories = 382.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = colorado_factories instant_build = yes }
			}
		}
		384 = { #Arizona
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
	}
	if = {
		limit = {
			USA = {
				NOT = { has_government = paternal_autocrat }
			}
		}
		USA_restore_deleted_factories_PSA = yes
	}
	if = {
		limit = {
			USA = { owns_state = 932 } #Massachusetts
		}
		USA_restore_deleted_factories_NEE = yes
	}
}

USA_restore_deleted_factories_NEE = {
	hidden_effect = {
		357 = { #Maine
			if = {
				limit = { dockyard < 1 }
				add_building_construction = { type = dockyard level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { maine_factories = 2 }
				subtract_from_temp_variable = { maine_factories = 357.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = maine_factories instant_build = yes }
			}
		}
		796 = { #Albany
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { albany_factories = 3 }
				subtract_from_temp_variable = { albany_factories = 796.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = albany_factories instant_build = yes }
			}
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
		}
		930 = { #Buffalo
			if = {
				limit = { industrial_complex < 4 }
				set_temp_variable = { buffalo_factories = 4 }
				subtract_from_temp_variable = { buffalo_factories = 930.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = buffalo_factories instant_build = yes }
			}
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
		}
		931 = { #Connecticut
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { dockyard < 2 }
				set_temp_variable = { connecticut_dockyards = 2 }
				subtract_from_temp_variable = { connecticut_dockyards = 931.building_level@dockyard }
				add_building_construction = { type = dockyard level = connecticut_dockyards instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 4 }
				set_temp_variable = { connecticut_factories = 4 }
				subtract_from_temp_variable = { connecticut_factories = 931.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = connecticut_factories instant_build = yes }
			}
		}
		932 = { #Massachusetts
			if = {
				limit = { dockyard < 2 }
				set_temp_variable = { massachussets_dockyards = 2 }
				subtract_from_temp_variable = { massachussets_dockyards = 932.building_level@dockyard }
				add_building_construction = { type = dockyard level = massachussets_dockyards instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { massachussets_factories = 2 }
				subtract_from_temp_variable = { massachussets_factories = 932.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = massachussets_factories instant_build = yes }
			}
			if = {
				limit = { arms_factory < 2 }
				set_temp_variable = { massachussets_arms_factories = 2 }
				subtract_from_temp_variable = { massachussets_arms_factories = 932.building_level@arms_factory }
				add_building_construction = { type = arms_factory level = massachussets_arms_factories instant_build = yes }
			}
		}
		933 = { #New Hampshire
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
		934 = { #Vermont
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
		935 = { #Rhode Island
			if = {
				limit = { dockyard < 1 }
				add_building_construction = { type = dockyard level = 1 instant_build = yes }
			}
		}
	}
}

ACW_navy_redistribution_CSA = {
	hidden_effect = {

		# Atlantic Battle Fleet
		transfer_ship = { prefer_name = "USS Indiana" type = SH_battleship target = XXA }
		transfer_ship = { prefer_name = "USS Montana" type = SH_battleship target = XXA }

		transfer_ship = { prefer_name = "USS Mississippi" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Idaho" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS California" type = battleship target = XXA }

		transfer_ship = { prefer_name = "USS Constitution" type = battle_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Chicago" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Trenton" type = heavy_cruiser target = XXA }

		transfer_ship = { prefer_name = "USS Des Moines" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Chattanooga" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Saint Louis" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Charleston" type = heavy_cruiser target = XXA }

		transfer_ship = { prefer_name = "USS Selfridge" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS McCormick" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Truxtun" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Hatfield" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Brooks" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Gilmer" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Fox" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Smith Thompson" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Tracy" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Borie" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Ludlow" type = destroyer target = XXA }

		# Atlantic Submarine Fleet
		transfer_ship = { prefer_name = "USS O1" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O2" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O3" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O4" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O5" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O6" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O7" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O8" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O9" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O10" type = submarine target = XXA }
		PSA = {
		# Pacific Fleet
			transfer_ship = { prefer_name = "USS Wyoming" type = battleship target = XXA }
			transfer_ship = { prefer_name = "USS Caldwell" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Craven" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Gwin" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Conner" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Stockton" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Manley" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Ward" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Claxton" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Hamilton" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Tarbell" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Yarnall" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Upshur" type = destroyer target = XXA }
		}
		if = {
			limit = {
				NOT = { country_exists = TEX }
			}

			transfer_ship = { prefer_name = "USS Tennessee" type = battleship target = XXA }
			transfer_ship = { prefer_name = "USS Maryland" type = battleship target = XXA }

			transfer_ship = { prefer_name = "USS Ranger" type = carrier target = XXA }
			send_equipment = {
				type = cv_fighter_equipment
				amount = 24
				target = XXA
			}
			send_equipment = {
				type = cv_CAS_equipment
				amount = 18
				target = XXA
			}
			send_equipment = {
				type = cv_nav_bomber_equipment
				amount = 18
				target = XXA
			}

			transfer_ship = { prefer_name = "USS Northampton" type = heavy_cruiser target = XXA }
			transfer_ship = { prefer_name = "USS Chester" type = heavy_cruiser target = XXA }
			transfer_ship = { prefer_name = "USS Houston" type = heavy_cruiser target = XXA }
			transfer_ship = { prefer_name = "USS Pueblo" type = heavy_cruiser target = XXA }
			transfer_ship = { prefer_name = "USS Cleveland" type = heavy_cruiser target = XXA }

			transfer_ship = { prefer_name = "USS Birmingham" type = heavy_cruiser target = XXA }
			transfer_ship = { prefer_name = "USS McKee" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Robinson" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Ringgold" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Harding" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Gridley" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Bell" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Kimberly" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Dyer" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Stevens" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Hovey" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Long" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Broome" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Alexander Dallas" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Chandler" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Southard" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Belknap" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS MacLeish" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Simpson" type = destroyer target = XXA }

			# Atlantic Submarine Fleet
			transfer_ship = { prefer_name = "USS Barracuda" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS Bass" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS Bonita" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS Cachalot" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS Cuttlefish" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS Doplhin" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS Porpoise" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS Pike" type = submarine target = XXA }
			PSA = {
			# Pacific Fleet
				transfer_ship = { prefer_name = "USS Oklahoma" type = battleship target = XXA }
				transfer_ship = { prefer_name = "USS Omaha" type = heavy_cruiser target = XXA }
				transfer_ship = { prefer_name = "USS Ballard" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Champlin" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Mugford" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Hazelwood" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Hart" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Ingraham" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Taylor" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Schley" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Chew" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Colhoun" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS McKean" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Fairfax" type = destroyer target = XXA }
			}
		}
		CSA = {
			if = {
				limit = {
					country_exists = CSA
				}
				annex_country = { target = XXA }
				load_oob = ACW_CSA_naval
			}
			else_if = {
				limit = {
					NOT = { country_exists = CSA }
				}
				annex_country = { target = XXA }
				load_oob = ACW_CSA_naval_alone
			}
		}
		USA = {
			if = {
				limit = {
					country_exists = CSA
				}
				destroy_ships = {
					type = destroyer
					count = 4
				}
				destroy_ships = {
					type = ship_hull_submarine
					count = 2
				}
				destroy_ships = {
					type = ship_hull_cruiser
					count = 1
				}
			}
			else_if = {
				limit = {
					country_exists = CSA
					NOT = { country_exists = PSA }
				}
				destroy_ships = {
					type = destroyer
					count = 26
				}
				destroy_ships = {
					type = ship_hull_submarine
					count = 10
				}
				destroy_ships = {
					type = light_cruiser
					count = 10
				}
				destroy_ships = {
					type = ship_hull_cruiser
					count = 5
				}
				destroy_ships = {
					type = ship_hull_heavy
					count = 1
				}
			}
			else_if = {
				limit = {
					country_exists = CSA
					NOT = { country_exists = TEX }
				}
				destroy_ships = {
					type = destroyer
					count = 29
				}
				destroy_ships = {
					type = ship_hull_submarine
					count = 21
				}
				destroy_ships = {
					type = light_cruiser
					count = 13
				}
				destroy_ships = {
					type = ship_hull_cruiser
					count = 9
				}
				destroy_ships = {
					type = ship_hull_heavy
					count = 2
				}
			}
		}
		PSA = {
			if = {
				limit = {
					country_exists = PSA
				}
				destroy_ships = {
					type = destroyer
					count = 12
				}
				destroy_ships = {
					type = light_cruiser
					count = 3
				}
			}
		}
	}
}

ACW_navy_redistribution_TEX = {
	hidden_effect = {

		every_navy_leader = {
			limit = {
				OR = {
					has_id = 66 #Samuel Murray Robinson
					has_id = 992 #James O. Richardson
					has_id = 993 #David W. Bagley
					has_id = 994 #John McCain Sr.
				}
			}
			set_nationality = TEX
		}

		USA = {
			set_country_flag = Samuel_Murray_Robinson_dead
			clr_country_flag = Thomas_C_Kinkaid_dead
		}

			# Atlantic Battle Fleet

		transfer_ship = { prefer_name = "USS Tennessee" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Maryland" type = battleship target = XXA }

		transfer_ship = { prefer_name = "USS Ranger" type = carrier target = XXA }
		send_equipment = {
			type = cv_fighter_equipment
			amount = 24
			target = XXA
		}
		send_equipment = {
			type = cv_CAS_equipment
			amount = 18
			target = XXA
		}
		send_equipment = {
			type = cv_nav_bomber_equipment
			amount = 18
			target = XXA
		}

		transfer_ship = { prefer_name = "USS Northampton" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Chester" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Houston" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Pueblo" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Cleveland" type = heavy_cruiser target = XXA }

		transfer_ship = { prefer_name = "USS Birmingham" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS McKee" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Robinson" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Ringgold" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Harding" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Gridley" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Bell" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Kimberly" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Dyer" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Stevens" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Hovey" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Long" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Broome" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Alexander Dallas" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Chandler" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Southard" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Belknap" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS MacLeish" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Simpson" type = destroyer target = XXA }

			# Atlantic Submarine Fleet
		transfer_ship = { prefer_name = "USS Barracuda" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS Bass" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS Bonita" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS Cachalot" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS Cuttlefish" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS Doplhin" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS Porpoise" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS Pike" type = submarine target = XXA }

		PSA = {
			# Pacific Fleet
			transfer_ship = { prefer_name = "USS Oklahoma" type = battleship target = XXA }
			transfer_ship = { prefer_name = "USS Omaha" type = heavy_cruiser target = XXA }
			transfer_ship = { prefer_name = "USS Ballard" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Champlin" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Mugford" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Hazelwood" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Hart" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Ingraham" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Taylor" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Schley" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Chew" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Colhoun" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS McKean" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Fairfax" type = destroyer target = XXA }
		}
		if = {
			limit = {
				NOT = { country_exists = CSA }
			}

				# Atlantic Battle Fleet
			transfer_ship = { prefer_name = "USS Indiana" type = SH_battleship target = XXA }

			transfer_ship = { prefer_name = "USS Mississippi" type = battleship target = XXA }
			transfer_ship = { prefer_name = "USS Idaho" type = battleship target = XXA }
			transfer_ship = { prefer_name = "USS California" type = battleship target = XXA }

			transfer_ship = { prefer_name = "USS Constitution" type = battle_cruiser target = XXA }
			transfer_ship = { prefer_name = "USS Chicago" type = heavy_cruiser target = XXA }
			transfer_ship = { prefer_name = "USS Trenton" type = heavy_cruiser target = XXA }

			transfer_ship = { prefer_name = "USS Selfridge" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS McCormick" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Truxtun" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Hatfield" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Brooks" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Gilmer" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Fox" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Smith Thompson" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Tracy" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Borie" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Ludlow" type = destroyer target = XXA }

				# Atlantic Submarine Fleet
			transfer_ship = { prefer_name = "USS O1" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS O2" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS O3" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS O4" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS O5" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS O6" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS O7" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS O8" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS O9" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS O10" type = submarine target = XXA }

			PSA = {
				# Pacific Fleet
				transfer_ship = { prefer_name = "USS Wyoming" type = battleship target = XXA }
				transfer_ship = { prefer_name = "USS Caldwell" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Craven" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Gwin" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Conner" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Stockton" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Manley" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Ward" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Claxton" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Hamilton" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Tarbell" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Yarnall" type = destroyer target = XXA }
				transfer_ship = { prefer_name = "USS Upshur" type = destroyer target = XXA }
			}
		}
		TEX = {
			if = {
				limit = {
					country_exists = CSA
				}
				annex_country = { target = XXA }
				load_oob = ACW_TEX_naval
			}
			else_if = {
				limit = {
					NOT = { country_exists = CSA }
				}
				annex_country = { target = XXA }
				load_oob = ACW_TEX_naval_alone
			}
		}
		USA = {
			if = {
				limit = {
					country_exists = TEX
				}
				destroy_ships = {
					type = destroyer
					count = 6
				}
				destroy_ships = {
					type = ship_hull_submarine
					count = 3
				}
			}
			else_if = {
				limit = {
					country_exists = TEX
					NOT = { country_exists = PSA }
				}
				destroy_ships = {
					type = destroyer
					count = 19
				}
				destroy_ships = {
					type = ship_hull_submarine
					count = 17
				}
				destroy_ships = {
					type = light_cruiser
					count = 8
				}
				destroy_ships = {
					type = ship_hull_cruiser
					count = 5
				}
				destroy_ships = {
					type = ship_hull_heavy
					count = 2
				}
			}
			else_if = {
				limit = {
					country_exists = TEX
					NOT = { country_exists = CSA }
				}
				destroy_ships = {
					type = destroyer
					count = 39
				}
				destroy_ships = {
					type = ship_hull_submarine
					count = 19
				}
				destroy_ships = {
					type = light_cruiser
					count = 9
				}
				destroy_ships = {
					type = ship_hull_cruiser
					count = 6
				}
				destroy_ships = {
					type = ship_hull_heavy
					count = 3
				}
			}
		}
		PSA = {
			if = {
				limit = {
					country_exists = PSA
				}
				destroy_ships = {
					type = ship_hull_submarine
					count = 7
				}
				destroy_ships = {
					type = light_cruiser
					count = 4
				}
				destroy_ships = {
					type = ship_hull_cruiser
					count = 2
				}
			}
		}
	}
}

ACW_navy_redistribution_USA = {
	hidden_effect = {
			# Pacific Fleet
		transfer_ship = { prefer_name = "USS Pittsburgh" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Louisville" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Pennsylvania" type = battleship target = XXA }

		transfer_ship = { prefer_name = "USS Talbot" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Waters" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Dent" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Dorsey" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Lea" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Lamberton" type = destroyer target = XXA }

		PSA = {
			transfer_ship = { prefer_name = "USS Raleigh" type = heavy_cruiser target = XXA }
			transfer_ship = { prefer_name = "USS R11" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS R12" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS R13" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS R14" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS R15" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS R16" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS R17" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS R18" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS R19" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS R20" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Clemson" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Dahlgren" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Goldsborough" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Semmes" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Satterlee" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Greer" type = destroyer target = XXA }
		}
		USA = {
			annex_country = { target = XXA }
			load_oob = ACW_USA_naval_pacific
		}
	}
}

USA_create_all_templates = {
	create_USA_militia_template = yes
	create_USA_mounted_militia_template = yes
	create_USA_garrison_template = yes
	create_USA_loyalist_motorised_template = yes
	create_USA_infantry_template = yes
}

USA_spawn_initial_divisions = {
	load_oob = "USA_civil_war_reenforcments"
	361 = {
		create_unit = {
			division = "name = \"1st Capital Reserve\" division_template = \"Loyalist Garrison\"  start_experience_factor = 0.5"
			allow_spawning_on_enemy_provs = yes
			prioritize_location = 3957 #Washington
			owner = USA
			id = 1000
		}
		create_unit = {
			division = "name = \"2nd Capital Reserve\" division_template = \"Loyalist Garrison\"  start_experience_factor = 0.5"
			allow_spawning_on_enemy_provs = yes
			prioritize_location = 3957 #Washington
			owner = USA
			id = 1000
		}
	}
	376 = {
		create_unit = {
			division = "name = \"United States Border Patrol\" division_template = \"Loyalist Motorized Guard\"  start_experience_factor = 0.8"
			allow_spawning_on_enemy_provs = yes
			prioritize_location = 12791 #North from El Paso
			owner = USA
			id = 1000
		}
	}
	382 = {
		create_unit = {
			division = "name = \"Western Command\" division_template = \"Loyalist Garrison\"  start_experience_factor = 0.8"
			allow_spawning_on_enemy_provs = yes
			prioritize_location = 1827 #Denver
			owner = USA
			id = 1000
		}
	}
}

### Templates ###
create_militia_template = {
	hidden_effect = {
		if = {
			limit = { tag = CSA }
			create_CSA_militia_template = yes
		}
		else_if = {
			limit = { tag = USA }
			create_USA_militia_template = yes
		}
		else_if = {
			limit = { tag = TEX }
			create_TEX_militia_template = yes
		}
		else_if = {
			limit = { tag = PSA }
			create_PSA_militia_template = yes
		}
	}
}
create_garrison_template = {
	hidden_effect = {
		if = {
			limit = { tag = CSA }
			create_CSA_garrison_template = yes
		}
		else_if = {
			limit = { tag = USA }
			create_USA_garrison_template = yes
		}
		else_if = {
			limit = { tag = TEX }
			create_TEX_garrison_template = yes
		}
		else_if = {
			limit = { tag = PSA }
			create_PSA_garrison_template = yes
		}
	}
}
create_mounted_militia_template = {
	hidden_effect = {
		if = {
			limit = { tag = CSA }
			create_CSA_mounted_militia_template = yes
		}
		else_if = {
			limit = { tag = USA }
			create_USA_mounted_militia_template = yes
		}
		else_if = {
			limit = { tag = TEX }
			create_TEX_mounted_militia_template = yes
		}
		else_if = {
			limit = { tag = PSA }
			create_PSA_mounted_militia_template = yes
		}
	}
}

### USA templates ###

create_USA_militia_template = {
	if = {
		limit = {
			NOT = { has_template = "Loyalist Militia" }
		}
		division_template = {
			name = "Loyalist Militia"
			division_names_group = USA_GAR_01
			regiments = {
				militia = { x = 0 y = 0 }
				militia = { x = 0 y = 1 }
				militia = { x = 0 y = 2 }
				militia = { x = 1 y = 0 }
				militia = { x = 1 y = 1 }
				militia = { x = 1 y = 2 }
				militia = { x = 2 y = 0 }
				militia = { x = 2 y = 1 }
				militia = { x = 2 y = 2 }
			}
		}
	}
}

create_USA_garrison_template = {
	if = {
		limit = {
			NOT = { has_template = "Loyalist Garrison" }
		}
		division_template = {
			name = "Loyalist Garrison"
			division_names_group = USA_GAR_01
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
			}
			template_counter = 6
			priority = 0
		}
	}
}

create_USA_mounted_militia_template = {
	if = {
		limit = {
			NOT = { has_template = "Mounted Loyalists" }
		}
		division_template = {
			name = "Mounted Loyalists"
			division_names_group = USA_GAR_01
			regiments = {
				cavalry = { x = 0 y = 0 }
				cavalry = { x = 0 y = 1 }
				cavalry = { x = 0 y = 2 }
				cavalry = { x = 1 y = 0 }
				cavalry = { x = 1 y = 1 }
				cavalry = { x = 1 y = 2 }
			}
			priority = 0
		}
	}
}

create_USA_loyalist_motorised_template = {
	if = {
		limit = {
			NOT = { has_template = "Loyalist Motorized Guard" }
		}
		division_template = {
			name = "Loyalist Motorized Guard"
			division_names_group = USA_GAR_01
			regiments = {
				motorized = { x = 0 y = 0 }
				motorized = { x = 0 y = 1 }
				motorized = { x = 0 y = 2 }
				motorized = { x = 1 y = 0 }
				motorized = { x = 1 y = 1 }
				motorized = { x = 1 y = 2 }
			}
			priority = 2
		}
	}
}

create_USA_loyalist_garrison_template = {
	if = {
		limit = {
			NOT = { has_template = "Loyalist Garrison" }
		}
		division_template = {
			name = "Loyalist Garrison"
			division_names_group = USA_GAR_01
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
			}
			template_counter = 6
			priority = 0
		}
	}
}

create_USA_infantry_template = {
	if = {
		limit = {
			NOT = { has_template = "Army Loyalists" }
		}
		division_template = {
			name = "Army Loyalists"
			division_names_group = USA_INF_01
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
				infantry = { x = 2 y = 0 }
				infantry = { x = 2 y = 1 }
				infantry = { x = 2 y = 2 }
			}
			support = {
				artillery = { x = 0 y = 0 }
			}
			template_counter = 66
		}
	}
}

create_USA_resistance_template = {
	if = {
		limit = {
			NOT = { has_template = "USA Resistance" }
		}
		division_template = {
			name = "USA Resistance"
			division_names_group = USA_INF_01
			regiments = {
				mountaineers = { x = 0 y = 0 }
				mountaineers = { x = 0 y = 1 }
				mountaineers = { x = 0 y = 2 }
				mountaineers = { x = 1 y = 0 }
				mountaineers = { x = 1 y = 1 }
				mountaineers = { x = 1 y = 2 }
			}
			support = {
				recon = { x = 0 y = 0 }
			}
		}
	}
}

### CSA templates ###

create_CSA_militia_template = {
	if = {
		limit = {
			NOT = { has_template = "Revolutionary Militia" }
		}
		division_template = {
			name = "Revolutionary Militia"
			division_names_group = CSA_GAR_02
			regiments = {
				militia = { x = 0 y = 0 }
				militia = { x = 0 y = 1 }
				militia = { x = 0 y = 2 }
				militia = { x = 1 y = 0 }
				militia = { x = 1 y = 1 }
				militia = { x = 1 y = 2 }
				militia = { x = 2 y = 0 }
				militia = { x = 2 y = 1 }
				militia = { x = 2 y = 2 }
			}
		}
	}
}

create_CSA_garrison_template = {
	if = {
		limit = {
			NOT = { has_template = "Revolutionary Garrison" }
		}
		division_template = {
			name = "Revolutionary Garrison"
			division_names_group = CSA_GAR_02
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
			}
			template_counter = 6
			priority = 0
		}
	}
}

create_CSA_mounted_militia_template = {
	if = {
		limit = {
			NOT = { has_template = "Mounted Revolutionary Militia" }
		}
		division_template = {
			name = "Mounted Revolutionary Militia"
			division_names_group = USA_GAR_01
			regiments = {
				cavalry = { x = 0 y = 0 }
				cavalry = { x = 0 y = 1 }
				cavalry = { x = 0 y = 2 }
				cavalry = { x = 1 y = 0 }
				cavalry = { x = 1 y = 1 }
				cavalry = { x = 1 y = 2 }
			}
			priority = 0
		}
	}
}

create_CSA_resistance_template = {
	if = {
		limit = {
			NOT = { has_template = "CSA Resistance" }
		}
		division_template = {
			name = "CSA Resistance"
			division_names_group = CSA_INF_01
			regiments = {
				mountaineers = { x = 0 y = 0 }
				mountaineers = { x = 0 y = 1 }
				mountaineers = { x = 0 y = 2 }
				mountaineers = { x = 1 y = 0 }
				mountaineers = { x = 1 y = 1 }
				mountaineers = { x = 1 y = 2 }
			}
			support = {
				recon = { x = 0 y = 0 }
			}
		}
	}
}

create_CSA_infantry_template = {
	if = {
		limit = {
			NOT = { has_template = "Revolutionary Continental Army" }
		}
		division_template = {
			name = "Revolutionary Continental Army"
			division_names_group = CSA_INF_01
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
				infantry = { x = 2 y = 0 }
				infantry = { x = 2 y = 1 }
				infantry = { x = 2 y = 2 }
			}
			support = {
				artillery = { x = 0 y = 0 }
			}
		}
	}
}

### PSA templates ###

create_PSA_militia_template = {
	if = {
		limit = {
			NOT = { has_template = "PSA Militia" }
		}
		division_template = {
			name = "PSA Militia"
			division_names_group = USA_GAR_01
			regiments = {
				militia = { x = 0 y = 0 }
				militia = { x = 0 y = 1 }
				militia = { x = 0 y = 2 }
				militia = { x = 1 y = 0 }
				militia = { x = 1 y = 1 }
				militia = { x = 1 y = 2 }
				militia = { x = 2 y = 0 }
				militia = { x = 2 y = 1 }
				militia = { x = 2 y = 2 }
			}
		}
	}
}

create_PSA_garrison_template = {
	if = {
		limit = {
			NOT = { has_template = "PSA Garrison" }
		}
		division_template = {
			name = "PSA Garrison"
			division_names_group = USA_GAR_01
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
			}
			template_counter = 6
			priority = 0
		}
	}
}

create_PSA_mounted_militia_template = {
	if = {
		limit = {
			NOT = { has_template = "Mounted PSA Militia" }
		}
		division_template = {
			name = "Mounted PSA Militia"
			division_names_group = USA_GAR_01
			regiments = {
				cavalry = { x = 0 y = 0 }
				cavalry = { x = 0 y = 1 }
				cavalry = { x = 0 y = 2 }
				cavalry = { x = 1 y = 0 }
				cavalry = { x = 1 y = 1 }
				cavalry = { x = 1 y = 2 }
			}
			priority = 0
		}
	}
}

create_PSA_resistance_template = {
	if = {
		limit = {
			NOT = { has_template = "PSA Resistance" }
		}
		division_template = {
			name = "PSA Resistance"
			division_names_group = USA_INF_01
			regiments = {
				mountaineers = { x = 0 y = 0 }
				mountaineers = { x = 0 y = 1 }
				mountaineers = { x = 0 y = 2 }
				mountaineers = { x = 1 y = 0 }
				mountaineers = { x = 1 y = 1 }
				mountaineers = { x = 1 y = 2 }
			}
			support = {
				recon = { x = 0 y = 0 }
			}
		}
	}
}

create_PSA_infantry_template = {
	if = {
		limit = {
			NOT = { has_template = "PSA Infantry Division" }
		}
		division_template = {
			name = "PSA Infantry Division"
			division_names_group = USA_INF_01
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
				infantry = { x = 2 y = 0 }
				infantry = { x = 2 y = 1 }
				infantry = { x = 2 y = 2 }
			}
			support = {
				artillery = { x = 0 y = 0 }
			}
		}
	}
}

### TEX templates ###

create_TEX_militia_template = {
	if = {
		limit = {
			NOT = { has_template = "AUS Militia" }
		}
		division_template = {
			name = "AUS Militia"
			division_names_group = USA_INF_01
			regiments = {
				militia = { x = 0 y = 0 }
				militia = { x = 0 y = 1 }
				militia = { x = 0 y = 2 }
				militia = { x = 1 y = 0 }
				militia = { x = 1 y = 1 }
				militia = { x = 1 y = 2 }
				militia = { x = 2 y = 0 }
				militia = { x = 2 y = 1 }
				militia = { x = 2 y = 2 }
			}
		}
	}
}

create_TEX_garrison_template = {
	if = {
		limit = {
			NOT = { has_template = "AUS Garrison" }
		}
		division_template = {
			name = "AUS Garrison"
			division_names_group = USA_GAR_01
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
			}
			template_counter = 6
			priority = 0
		}
	}
}

create_TEX_mounted_militia_template = {
	if = {
		limit = {
			NOT = { has_template = "Mounted AUS Militia" }
		}
		division_template = {
			name = "Mounted AUS Militia"
			division_names_group = USA_GAR_01
			regiments = {
				cavalry = { x = 0 y = 0 }
				cavalry = { x = 0 y = 1 }
				cavalry = { x = 0 y = 2 }
				cavalry = { x = 1 y = 0 }
				cavalry = { x = 1 y = 1 }
				cavalry = { x = 1 y = 2 }
			}
			priority = 0
		}
	}
}

create_TEX_resistance_template = {
	if = {
		limit = {
			NOT = { has_template = "AUS Resistance" }
		}
		division_template = {
			name = "AUS Resistance"
			division_names_group = USA_INF_01
			regiments = {
				mountaineers = { x = 0 y = 0 }
				mountaineers = { x = 0 y = 1 }
				mountaineers = { x = 0 y = 2 }
				mountaineers = { x = 1 y = 0 }
				mountaineers = { x = 1 y = 1 }
				mountaineers = { x = 1 y = 2 }
			}
			support = {
				recon = { x = 0 y = 0 }
			}
		}
	}
}

create_TEX_infantry_template = {
	if = {
		limit = {
			NOT = { has_template = "AUS Infantry Division" }
		}
		division_template = {
			name = "AUS Infantry Division"
			division_names_group = USA_INF_01
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
				infantry = { x = 2 y = 0 }
				infantry = { x = 2 y = 1 }
				infantry = { x = 2 y = 2 }
			}
			support = {
				artillery = { x = 0 y = 0 }
			}
		}
	}
}

USA_macarthur_coup = {
	hidden_effect = {
		set_country_flag = USA_macarthur_coup
		set_party_name = {
			ideology = paternal_autocrat
			long_name = USA_paternal_autocrat_military_junta
			name = USA_paternal_autocrat_military_junta
		}
		create_country_leader = {
			name = "Douglas MacArthur"
			desc = "POLITICS_DOUGLAS_MACARTHUR_DESC"
			picture = "Portrait_USA_gen_douglas_macarthur.tga"
			expire = "1965.1.1"
			ideology = paternal_autocrat_subtype
			traits = {
				USA_american_caesar
			}
		}
		if = {
			limit = { has_country_flag = USA_coalition_party }
			clr_country_flag = USA_coalition_party
			set_party_name = {
				ideology = social_democrat
				long_name = USA_social_democrat_party_long
				name = USA_social_democrat_party
			}
			set_party_name = {
				ideology = social_liberal
				long_name = USA_social_liberal_party_long
				name = USA_social_liberal_party
			}
			set_party_name = {
				ideology = market_liberal
				long_name = USA_market_liberal_party_long
				name = USA_market_liberal_party
			}
			set_party_name = {
				ideology = social_conservative
				long_name = USA_social_conservative_party_long
				name = USA_social_conservative_party
			}
		}
	}
}

USA_reset_southern_VP_values = {
	if = {
		limit = { has_global_flag = ACW_southern_vps_changed }
		clr_global_flag = ACW_southern_vps_changed
		set_victory_points = { province = 7552 value = 20 } #New Orleans
		set_victory_points = { province = 1453 value = 8 } #Baton Rouge
		set_victory_points = { province = 12735 value = 5 } #Birmingham
		set_victory_points = { province = 4565 value = 5 } #Jackson
		set_victory_points = { province = 492 value = 3 } #Montgomery
		set_victory_points = { province = 10407 value = 3 } #Tallahassee
		set_victory_points = { province = 7480 value = 3 } #Montgomery
		set_victory_points = { province = 11975 value = 3 } #Savannah
		set_victory_points = { province = 12489 value = 3 } #Little Rock
		set_victory_points = { province = 4464 value = 2 } #Biloxi
		set_victory_points = { province = 7480 value = 2 } #Mobile
	}
}

USA_canada_seizes_new_england = {
	set_country_flag = CAN_seized_new_england
	USA_restore_deleted_factories_NEE = yes
	USA = {
		every_owned_state = {
			limit = {
				is_owned_by = USA
				is_new_england = yes
				if = {
					limit = { state = 930 } #Buffalo
					USA = {
						OR = {
							NOT = { has_government = paternal_autocrat }
							owns_state = 382
						}
						NOT = { capital_scope = { state = 382 } } #Colorado
					}
				}
			}
			set_demilitarized_zone = no
			if = {
				limit = { is_core_of = USA }
				remove_core_of = USA
				add_claim_by = USA
			}
			add_core_of = NEE
			CAN = { transfer_state = PREV }
			add_compliance = 25
		}
		clr_country_flag = USA_industrial_companies_allowed_NEE
		clr_country_flag = USA_weapon_companies_allowed_NEE
		clr_country_flag = USA_heavy_equipment_companies_allowed_NEE
		clr_country_flag = USA_naval_companies_allowed_NEE
		clr_country_flag = USA_aviation_companies_allowed_NEE
	}
}

ACW_spawn_militia_divisions = {
	### calculate number of units to spawn
	set_temp_variable = { units_to_spawn = state_population_k }
	divide_temp_variable = { units_to_spawn = 1000 }
	
	### failsafe so at least one unit is always spawned
	clamp_temp_variable = { var = units_to_spawn min = 1 max = 50 }
	
	### if core, get twice the units
	if = {
		limit = { is_core_of = ROOT }
		multiply_temp_variable = { units_to_spawn = 2 }
	}
	### PSA gets more units and cores in USA-owned cores
	else_if = {
		limit = {
			ROOT = { tag = PSA }
			is_core_of = USA
			is_owned_by = USA
		}
		multiply_temp_variable = { units_to_spawn = 2 }
	}
	
	### tooltip
	set_temp_variable = { total_units_to_spawn = units_to_spawn }
	custom_effect_tooltip = ACW_recruit_units
	
	### if 5 or more units or a metropolis/megalopolis, covert 25% to garrison-template units
	if = {
		limit = {
			OR = {
				is_metropolis_state = yes
				check_variable = { var = units_to_spawn value = 5 compare = greater_than_or_equals }
			}
		}
		set_temp_variable = { garrisons_to_spawn = units_to_spawn }
		divide_temp_variable = { garrisons_to_spawn = 4 }
		clamp_temp_variable = { var = garrisons_to_spawn min = 1 max = 10 }
		round_temp_variable = garrisons_to_spawn
		subtract_from_temp_variable = { units_to_spawn = garrisons_to_spawn }
	}
	
	### specific states get mounted militia units
	if = {
		limit = {
			OR = {
				state = 373 #Missouri
				state = 375 #North Texas
				state = 376 #New Mexico
				state = 382 #Colorado
				state = 384 #Nebraska
				state = 388 #Montana
				state = 389 #North Dakota
				state = 390 #South Dakota
				state = 391 #Minnesota
				state = 833 #South Texas
			}
		}
		set_temp_variable = { mounties_to_spawn = 1 }
		if = {
			limit = {
				OR = {
					state = 833 #South Texas
					state = 375 #North Texas
				}
			}
			add_to_temp_variable = { mounties_to_spawn = 1 } #Texas gets two units
		}
		subtract_from_temp_variable = { units_to_spawn = mounties_to_spawn }
	}

	### spawn normal militias
	set_temp_variable = { counter = 1 }
	if = {
		limit = {
			check_variable = { var = units_to_spawn value = 1 compare = greater_than_or_equals }
		}
		ROOT = { create_militia_template = yes }
		for_loop_effect = {
			start = 1
			end = units_to_spawn
			compare = less_than_or_equals
			
			meta_effect = {
				text = {
					create_unit = {
						division = "name = [DIVISION] division_template = [TEMPLATE] start_experience_factor = 0.0"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
						id = 1000
					}
				}
				DIVISION = "\\\"[?counter][GetACWOrdinalSuffix] [THIS.GetName] [GetACWDivisionName]\\\""
				TEMPLATE = "\\\"[GetACWMilitiaTemplate]\\\""
			}
			add_to_temp_variable = { counter = 1 }
		}
	}
	
	### spawn garrisons
	if = {
		limit = { has_variable = garrisons_to_spawn }
		ROOT = { create_garrison_template = yes }
		for_loop_effect = {
			start = 1
			end = garrisons_to_spawn
			compare = less_than_or_equals
			
			meta_effect = {
				text = {
					create_unit = {
						division = "name = [DIVISION] division_template = [TEMPLATE] start_experience_factor = 0.0"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
						id = 1000
					}
				}
				DIVISION = "\\\"[?counter][GetACWOrdinalSuffix] [THIS.GetName] [GetACWDivisionName]\\\""
				TEMPLATE = "\\\"[GetACWGarrisonTemplate]\\\""
			}
			add_to_temp_variable = { counter = 1 }
		}
	}
	
	### spawn mounted militias
	if = {
		limit = { has_variable = mounties_to_spawn }
		ROOT = { create_mounted_militia_template = yes }
		for_loop_effect = {
			start = 1
			end = mounties_to_spawn
			compare = less_than_or_equals
			
			meta_effect = {
				text = {
					create_unit = {
						division = "name = [DIVISION] division_template = [TEMPLATE] start_experience_factor = 0.0"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
						id = 1000
					}
				}
				DIVISION = "\\\"[?counter][GetACWOrdinalSuffix] [THIS.GetName] [GetACWDivisionName]\\\""
				TEMPLATE = "\\\"[GetACWMountedMilitiaTemplate]\\\""
			}
			add_to_temp_variable = { counter = 1 }
		}
	}
}

USA_increase_wavering_momentum = {
	if = {
		limit = { has_idea = ACW_wavering_momentum_1 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_1
			add_idea = ACW_wavering_momentum_2
			add_days = 60
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_2 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_2
			add_idea = ACW_wavering_momentum_3
			add_days = 60
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_3 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_3
			add_idea = ACW_wavering_momentum_4
			add_days = 60
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_4 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_4
			add_idea = ACW_wavering_momentum_5
			add_days = 60
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_5 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_5
			add_idea = ACW_wavering_momentum_6
			add_days = 60
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_6 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_6
			add_idea = ACW_wavering_momentum_7
			add_days = 60
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_7 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_7
			add_idea = ACW_wavering_momentum_8
			add_days = 60
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_8 }
		modify_timed_idea = {
			idea = ACW_wavering_momentum_8
			days = 60
		}
	}
	else = {
		add_timed_idea = {
			idea = ACW_wavering_momentum_1
			days = 90
		}
	}
}

USA_decrease_wavering_momentum = {
	if = {
		limit = { has_idea = ACW_wavering_momentum_8 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_8
			add_idea = ACW_wavering_momentum_7
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_7 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_7
			add_idea = ACW_wavering_momentum_6
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_6 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_6
			add_idea = ACW_wavering_momentum_5
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_5 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_5
			add_idea = ACW_wavering_momentum_4
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_4 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_4
			add_idea = ACW_wavering_momentum_3
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_3 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_3
			add_idea = ACW_wavering_momentum_2
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_2 }
		swap_ideas = {
			remove_idea = ACW_wavering_momentum_2
			add_idea = ACW_wavering_momentum_1
		}
	}
	else_if = {
		limit = { has_idea = ACW_wavering_momentum_1 }
		remove_ideas = ACW_wavering_momentum_1
	}
}
