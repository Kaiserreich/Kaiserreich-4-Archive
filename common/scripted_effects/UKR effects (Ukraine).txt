UKR_calculate_success_of_the_bill = {
	set_variable = { UKR_bill_success = 0 }
	if = {
		limit = {
			check_variable = { UKR_independents_support > 69 }
		}
		add_to_variable = { UKR_bill_success = 1 }
	}
	if = {
		limit = {
			check_variable = { UKR_urdp_support > 69 }
		}
		add_to_variable = { UKR_bill_success = 1 }
	}
	if = {
		limit = {
			check_variable = { UKR_protofis_support > 69 }
		}
		add_to_variable = { UKR_bill_success = 1 }
	}
	if = {
		limit = {
			check_variable = { UKR_uskhd_support > 69 }
		}
		add_to_variable = { UKR_bill_success = 1 }
	}
	if = {
		limit = {
			check_variable = { UKR_udkhp_support > 69 }
		}
		add_to_variable = { UKR_bill_success = 1 }
	}
}

#requires a temp variable UKR_strength_change
UKR_change_vdr_strength = {
	if = {
		limit = { check_variable = { UKR_strength_change < 0 } }
		add_to_variable = { UKR_vdr_strength = UKR_strength_change }
		multiply_temp_variable = { UKR_strength_change = -1 }
		effect_tooltip = {
			add_to_variable = {
				UKR_vdr_strength = UKR_strength_change
				tooltip = UKR_vdr_strength_decrease
			}
		}
	}
	else = {
		add_to_variable = {
			UKR_vdr_strength = UKR_strength_change
			tooltip = UKR_vdr_strength_increase
		}
	}
	clamp_variable = {
		var = UKR_vdr_strength
		min = 0
		max = 100
	}
}

#requires a temp variable UKR_strength_change
UKR_change_hetman_strength = {
	if = {
		limit = { check_variable = { UKR_strength_change < 0 } }
		add_to_variable = { UKR_hetman_strength = UKR_strength_change }
		multiply_temp_variable = { UKR_strength_change = -1 }
		effect_tooltip = {
			add_to_variable = {
				UKR_hetman_strength = UKR_strength_change
				tooltip = UKR_hetman_strength_decrease
			}
		}
	}
	else = {
		add_to_variable = {
			UKR_hetman_strength = UKR_strength_change
			tooltip = UKR_hetman_strength_increase
		}
	}
	clamp_variable = {
		var = UKR_hetman_strength
		min = 0
		max = 100
	}
}

UKR_activate_pacification_decisions = {
	if = {
		limit = { has_idea = UKR_anti_hetman_revolt }
		remove_ideas = UKR_anti_hetman_revolt
	}
	else_if = {
		limit = { has_idea = UKR_anti_hetman_revolt_2 }
		remove_ideas = UKR_anti_hetman_revolt_2
	}
	else = {
		remove_ideas = UKR_anti_hetman_revolt_3
	}
	add_ideas = UKR_anti_hetman_revolt_4
	if = {
		limit = { has_idea = UKR_army_in_chaos }
		remove_ideas = UKR_army_in_chaos
	}
	set_variable = { UKR_pacification_decision_time = 35 }
	every_owned_state = {
		limit = {
			is_demilitarized_zone = yes
			NOT = { state = 792 }
		}
		add_dynamic_modifier = { modifier = UKR_rebel_state }
		ROOT = {
			activate_targeted_decision = { decision = UKR_pacification_generic target = PREV }
		}
		792 = {
			add_dynamic_modifier = { modifier = UKR_rebel_state }
		}
	}
	activate_targeted_decision = { decision = UKR_pacify_volyn target = 792 }
}

UKR_rrb_radical_points = {
	custom_effect_tooltip = UKR_rrb_radicals_strengthen
	add_to_variable = { UKR_rrb_radical_var = UKR_strength_change }
}

UKR_rrb_moderate_points = {
	custom_effect_tooltip = UKR_rrb_moderates_strengthen
	add_to_variable = { UKR_rrb_moderate_var = UKR_strength_change }
}

UKR_upsr_radical_points = {
	custom_effect_tooltip = UKR_upsr_radicals_strengthen
	add_to_variable = { UKR_upsr_radical_var = UKR_strength_change }
}

UKR_upsr_moderate_points = {
	custom_effect_tooltip = UKR_upsr_moderates_strengthen
	add_to_variable = { UKR_upsr_moderate_var = UKR_strength_change }
}

UKR_end_revbloc_minigame = {
	if = {
		limit = {
			has_completed_focus = UKR_build_up_peasant_communities
			has_completed_focus = UKR_special_bureau_of_military_affairs
			has_completed_focus = UKR_mass_nationalization_drive
			has_completed_focus = UKR_socialization_of_the_land
			has_completed_focus = UKR_promote_vocational_training
			has_completed_focus = UKR_unionisation_of_countryside
			has_completed_focus = UKR_rights_of_the_worker
			has_completed_focus = UKR_local_land_councils
			has_completed_focus = UKR_education_for_all
			has_completed_focus = UKR_breakneck_industrialization
			has_completed_focus = UKR_affordable_urban_housing
			has_completed_focus = UKR_reclaim_legacy_of_liberation_struggle
		}
		hidden_effect = {
			country_event = ukraine_republican_events.126
			remove_targeted_decision = { target = THIS decision = UKR_concessions_to_usdrp }
			remove_targeted_decision = { target = THIS decision = UKR_concessions_to_rrb_radicals }
			remove_targeted_decision = { target = THIS decision = UKR_concessions_to_rrb_moderates }
			remove_targeted_decision = { target = THIS decision = UKR_concessions_to_upsr_radicals }
			remove_targeted_decision = { target = THIS decision = UKR_concessions_to_upsr_moderates }
			remove_targeted_decision = { decision = AI_dont_spend_PP target = ROOT }
		}
	}
}
UKR_industrial_score = {
	if = {
		limit = { has_active_mission = UKR_industrialisation_mission }
		custom_effect_tooltip = UKR_add_industrial_score_tt
	}
	add_to_variable = { UKR_industrial_score = UKR_influence_change }
	hidden_effect = {
		if = {
			limit = {
				check_variable = { UKR_land_reform_score < 10 }
				check_variable = { UKR_industrial_score > 20 }
			}
			country_event = { id = ukraine_land_reform_events.32 days = 15 random_days = 15 }
		}
	}
}
UKR_industrial_score_bonuses = {
	if = {
		limit = {
			has_country_flag = UKR_ended_alliance_with_protofis_authdem
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.01
		}
	}
	if = {
		limit = {
			has_country_flag = UKR_protofis_influencing
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.01
		}
	}
	if = {
		limit = {
			has_country_flag = UKR_socialist_nationalization
		}
		add_stability = -0.02
	}
	if = {
		limit = {
			has_country_flag = UKR_utsentrprof_supported
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.01
		}
	}
}

UKR_reform_score = {
	if = {
		limit = { has_country_flag = UKR_land_reform_in_progress }
		custom_effect_tooltip = UKR_add_reform_score_tt
	}
	add_to_variable = { UKR_land_reform_score = UKR_influence_change }
}

UKR_add_land_reform_score_based_on_current_score = {
	if = {
		limit = { has_active_mission = UKR_landreform_mission }
		if = {
			limit = { check_variable = { UKR_land_reform_score < 25 } }
			set_temp_variable = { UKR_influence_change = 4 }
			UKR_reform_score = yes
		}
		else_if = {
			limit = { check_variable = { UKR_land_reform_score < 50 } }
			set_temp_variable = { UKR_influence_change = 3 }
			UKR_reform_score = yes
		}
		else_if = {
			limit = { check_variable = { UKR_land_reform_score < 75 } }
			set_temp_variable = { UKR_influence_change = 2 }
			UKR_reform_score = yes
		}
		else = {
			set_temp_variable = { UKR_influence_change = 1 }
			UKR_reform_score = yes
		}
	}
}

UKR_reform_idea_update = {
	custom_effect_tooltip = tooltip_white_line
	if = {
		limit = { has_idea = UKR_land_reform_debacle }
		swap_ideas = {
			remove_idea = UKR_land_reform_debacle
			add_idea = UKR_land_reform_wip_1
		}
	}
	else_if = {
		limit = { has_idea = UKR_land_reform_wip_1 }
		swap_ideas = {
			remove_idea = UKR_land_reform_wip_1
			add_idea = UKR_land_reform_wip_2
		}
	}
	else_if = {
		limit = { has_idea = UKR_land_reform_wip_2 }
		swap_ideas = {
			remove_idea = UKR_land_reform_wip_2
			add_idea = UKR_land_reform_wip_3
		}
	}
	hidden_effect = {
		if = {
			limit = { check_variable = { UKR_land_reform_score > 20 } }
			country_event = { id = ukraine_land_reform_events.29 days = 15 random_days = 15 }
		}
		else_if = {
			limit = { check_variable = { UKR_land_reform_score > 40 } }
			country_event = { id = ukraine_land_reform_events.30 days = 15 random_days = 15 }
		}
		else_if = {
			limit = { check_variable = { UKR_land_reform_score > 60 } }
			country_event = { id = ukraine_land_reform_events.31 days = 15 random_days = 15 }
		}
	}
}

UKR_uskhd_organic_state_idea = {
	if = {
		limit = {
			has_idea = UKR_transformation_of_the_state
		}
		swap_ideas = {
			remove_idea = UKR_transformation_of_the_state
			add_idea = UKR_transformation_of_the_state_2
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_transformation_of_the_state_2
		}
		swap_ideas = {
			remove_idea = UKR_transformation_of_the_state_2
			add_idea = UKR_transformation_of_the_state_3
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_transformation_of_the_state_3
		}
		swap_ideas = {
			remove_idea = UKR_transformation_of_the_state_3
			add_idea = UKR_transformation_of_the_state_4
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_transformation_of_the_state_4
		}
		swap_ideas = {
			remove_idea = UKR_transformation_of_the_state_4
			add_idea = UKR_transformation_of_the_state_5
		}
	}
}

UKR_resistance_score = {
	custom_effect_tooltip = UKR_add_resistance_tt
	add_to_variable = { UKR_executive_office_resistance = UKR_resistance_change }
	subtract_from_variable = { UKR_otaman_minister_reform_stability = UKR_resistance_change_stability }
	subtract_from_variable = { UKR_no_confidence_pp = UKR_resistance_change_pp }
	subtract_from_variable = { UKR_review_electoral_laws_researchspeed = UKR_resistance_change_researchspeed }
}

UKR_radicalism_change = {
	custom_effect_tooltip = UKR_add_radicalism_tt
	add_to_variable = { UKR_radicalism = UKR_radicalism_score }
}

UKR_calculate_new_opposition_strength = {
	set_temp_variable = { UKR_opposition_calculation = UKR_opposition_strength }
	add_to_temp_variable = { UKR_opposition_calculation = 10 }
	if = {
		limit = {
			check_variable = { UKR_opposition_calculation > 0 }
			check_variable = { UKR_opposition_calculation < 29 }
		}
		custom_effect_tooltip = UKR_opposition_change_nothing
	}
	else_if = {
		limit = {
			check_variable = { UKR_opposition_calculation > 29 }
			check_variable = { UKR_opposition_calculation < 40 }
		}
		custom_effect_tooltip = UKR_opposition_change_moderate
	}
	else_if = {
		limit = {
			check_variable = { UKR_opposition_calculation > 39 }
			check_variable = { UKR_opposition_calculation < 60 }
		}
		custom_effect_tooltip = UKR_opposition_change_nothing
	}
	else_if = {
		limit = {
			check_variable = { UKR_opposition_calculation > 49 }
			check_variable = { UKR_opposition_calculation < 70 }
		}
		custom_effect_tooltip = UKR_opposition_change_high
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { UKR_opposition_calculation = 70 }
				check_variable = { UKR_opposition_calculation > 70 }
			}
		}
		custom_effect_tooltip = UKR_opposition_change_nothing
	}
}

UKR_clear_hetmanist_ideas = {
	remove_ideas = {
		UKR_nationalist_agitation
		UKR_nationalist_agitation_2
	}
	if = {
		limit = { has_character = UKR_ivan_poltavets_ostrianytsia }
		retire_character = UKR_ivan_poltavets_ostrianytsia
	}
	hidden_effect = {
		every_owned_state = {
			limit = {
				is_demilitarized_zone = yes
				NOT = { state = 792 }
			}
			remove_dynamic_modifier = { modifier = UKR_rebel_state }
			ROOT = {
				remove_targeted_decision = { decision = UKR_pacification_generic target = PREV }
			}
			792 = {
				remove_dynamic_modifier = { modifier = UKR_rebel_state }
			}
		}
		remove_targeted_decision = { decision = UKR_pacify_volyn target = 792 }
		remove_ideas = UKR_anti_hetman_revolt_4
		if = {
			limit = { has_completed_focus = UKR_the_center_holds }
			uncomplete_national_focus = {
				focus = UKR_the_center_holds
				uncomplete_children = yes
			}
		}
		else_if = {
			limit = { has_completed_focus = UKR_all_the_hetmans_men }
			uncomplete_national_focus = {
				focus = UKR_all_the_hetmans_men
				uncomplete_children = yes
			}
		}
		else_if = {
			limit = { has_completed_focus = UKR_fall_of_uskhd }
			uncomplete_national_focus = {
				focus = UKR_fall_of_uskhd
				uncomplete_children = yes
			}
		}

		remove_ideas = {
			UKR_uskhd_issues_1 #Clear USKhD spirits
			UKR_uskhd_issues_2
			UKR_uskhd_issues_3
			UKR_uskhd_issues_4
			UKR_uskhd_issues_5
			UKR_uskhd_issues_6
			UKR_uskhd_issues_7
			UKR_transformation_of_the_state
			UKR_transformation_of_the_state_2
			UKR_transformation_of_the_state_3
			UKR_transformation_of_the_state_4
			UKR_loyal_intelligentsia
			UKR_highest_moral_authority
			UKR_highest_moral_authority_2
			UKR_territory_patriotism
			UKR_territory_patriotism_2

			UKR_revolutionary_leftism_suppression #Clear UDKhP spirits
			UKR_otaman_minister_reform_spirit
			UKR_vote_of_no_confidence_reform_spirit
			UKR_review_electoral_laws_reform_spirit
			UKR_cultural_autonomy_and_suffrage_1
			UKR_cultural_autonomy_and_suffrage_2
			UKR_cultural_autonomy_and_suffrage_3
			UKR_cultural_autonomy_and_suffrage_4
			UKR_hetmanist_soimist_idea_1
			UKR_hetmanist_soimist_idea_2
			UKR_hetmanist_soimist_idea_3

			UKR_knightly_virtues_idea #Clear SHD spirits
			UKR_administrative_reorganisation
			UKR_administrative_reorganisation_2
			UKR_administrative_reorganisation_3
			UKR_administrative_reorganisation_4
			UKR_administrative_reorganisation_5
			UKR_administrative_reorganisation_6
			UKR_ivan_po_influence_idea_1
			UKR_ivan_po_influence_idea_2
			UKR_ivan_po_influence_idea_3
			UKR_ivan_po_influence_idea_4
			UKR_ivan_po_influence_idea_5
			UKR_ivan_po_influence_idea_6
			UKR_ivan_po_influence_idea_7
			UKR_ivan_po_influence_idea_8
			UKR_ivan_po_influence_idea_9
		}

		#Clear UDKhP modifiers
		remove_dynamic_modifier = { modifier = UKR_otaman_minister_reform_spirit_modifier }
		remove_dynamic_modifier = { modifier = UKR_no_confidence_reform_spirit_modifier }
		remove_dynamic_modifier = { modifier = UKR_review_electoral_laws_reform_spirit_modifier }

		#Clear SHD mechanic
		remove_mission = UKR_ivan_po_mission
		remove_targeted_decision = { target = ROOT decision = UKR_solidify_homzyn_position }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 200 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 821 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 221 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 259 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 225 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 193 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 197 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 226 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 203 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 192 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 202 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 199 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 201 }
		remove_targeted_decision = { decision = UKR_cossack_council_generic target = 228 }
		remove_targeted_decision = { decision = UKR_cossack_militia_decision target = 202 }
		remove_targeted_decision = { decision = UKR_cossack_militia_decision target = 259 }
		remove_targeted_decision = { decision = UKR_cossack_militia_decision target = 193 }
		remove_targeted_decision = { decision = UKR_cossack_militia_decision target = 791 }
		remove_targeted_decision = { decision = UKR_cossack_militia_decision target = 221 }
		remove_targeted_decision = { decision = UKR_cossack_militia_decision target = 225 }
		202 = {
			remove_dynamic_modifier = { modifier = UKR_cossack_militia_4 }
		}
		193 = {
			remove_dynamic_modifier = { modifier = UKR_cossack_militia_1 }
		}
		259 = {
			remove_dynamic_modifier = { modifier = UKR_cossack_militia_3 }
		}
		791 = {
			remove_dynamic_modifier = { modifier = UKR_cossack_militia_3 }
		}
		221 = {
			remove_dynamic_modifier = { modifier = UKR_cossack_militia_2 }
		}
		225 = {
			remove_dynamic_modifier = { modifier = UKR_cossack_militia_3 }
		}

		if = {
			limit = { #Clear Protofis
				has_country_flag = UKR_protofis_influencing
			}
			clr_country_flag = UKR_protofis_influencing
			add_to_variable = { UKR_industry_cost = 15 }
			add_to_variable = { UKR_industry_cost_high = 15 }
		}
		if = {
			limit = { #Clear AuthDem industry effect
				has_country_flag = UKR_ended_alliance_with_protofis_authdem
			}
			clr_country_flag = UKR_ended_alliance_with_protofis_authdem
			subtract_from_variable = { UKR_industry_remove_cost_1 = 15 }
			subtract_from_variable = { UKR_industry_remove_cost_2 = 15 }
			subtract_from_variable = { UKR_industry_remove_cost_3 = 15 }
			subtract_from_variable = { UKR_industry_remove_cost_4 = 15 }
			subtract_from_variable = { UKR_industry_remove_cost_5 = 15 }
			subtract_from_variable = { UKR_industry_remove_cost_6 = 15 }
		}
		#End UDKhP mechanic
		remove_targeted_decision = { decision = UKR_appointment_of_otaman_minister target = THIS }
		remove_targeted_decision = { decision = UKR_vote_of_no_confidence target = THIS }
		remove_targeted_decision = { decision = UKR_review_electoral_laws target = THIS }
		remove_mission = UKR_parliamentary_reform_debate_1
		remove_mission = UKR_parliamentary_reform_debate_2
		remove_mission = UKR_parliamentary_reform_debate_3
		remove_mission = UKR_executive_office_resistance_increasing
		remove_targeted_decision = { decision = UKR_visit_executive_office target = THIS }
		remove_targeted_decision = { decision = UKR_rally_the_democrats target = THIS }
		remove_targeted_decision = { decision = UKR_concessions_to_skoropadskyi target = THIS }
		remove_targeted_decision = { decision = UKR_garner_support_from_unsp target = THIS }
		remove_targeted_decision = { decision = UKR_support_from_military_clique target = THIS }
		remove_targeted_decision = { decision = UKR_support_from_agrarians target = THIS }
	}
}

UKR_clear_republic_ideas = {
	hidden_effect = {
		if = {
			limit = {
				has_completed_focus = UKR_a_family_new_and_free
			}
			uncomplete_national_focus = {
				focus = UKR_a_family_new_and_free
				uncomplete_children = yes
			}
		}
		remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_uncooperative }
		remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_indifferent }
		remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_cooperative }
		remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_amenable }
		remove_dynamic_modifier = { modifier = UKR_urdp_attitude_uncooperative }
		remove_dynamic_modifier = { modifier = UKR_urdp_attitude_indifferent }
		remove_dynamic_modifier = { modifier = UKR_urdp_attitude_cooperative }
		remove_dynamic_modifier = { modifier = UKR_urdp_attitude_amenable }
		#Clear Republic spirits
		remove_ideas = {
			UKR_GER_deal_1
			UKR_GER_deal_2
			UKR_GER_deal_3
			UKR_controlled_capitalism
			UKR_peoples_governance
			UKR_peoples_governance_2
			UKR_peoples_governance_2b
			UKR_peoples_governance_2c
			UKR_peoples_governance_2d
			UKR_peoples_governance_2e
			UKR_decentralised_bureaucracy
			UKR_decentralised_bureaucracy_2a
			UKR_decentralised_bureaucracy_2b
			UKR_decentralised_bureaucracy_2c
			UKR_decentralised_bureaucracy_2d
			UKR_decentralised_bureaucracy_2e
			UKR_apolitical_military
			UKR_peoples_armed_forces
			UKR_industrial_revolution
			UKR_prosvita
			UKR_prosvita_2
			UKR_prosvita_2a
			UKR_prosvita_2b
			UKR_prosvita_2c
			UKR_prosvita_2d
			UKR_prosvita_2e
			UKR_tereschenko_aviation_expertise
			UKR_national_defence_act_passed
			UKR_ukrainian_land_fund
			UKR_ukrainian_land_fund_2a
			UKR_ukrainian_land_fund_2b
			UKR_ukrainian_land_fund_2c
			UKR_ukrainian_land_fund_2d
			UKR_ukrainian_land_fund_2e
			UKR_transformation_of_the_state_4
			UKR_bolster_utsentrprof
			UKR_bolster_utsentrprof_2a
			UKR_bolster_utsentrprof_2b
			UKR_bolster_utsentrprof_2c
			UKR_bolster_utsentrprof_2d
			UKR_bolster_utsentrprof_2e
			UKR_empowered_workers
			UKR_empowered_workers2
			UKR_empowered_workers3
			UKR_empowered_workers4
			UKR_minority_government
			UKR_deepening_austrian_ties
			UKR_deepening_austrian_ties2
			UKR_deepening_austrian_ties_2a
			UKR_deepening_austrian_ties_2b
			UKR_deepening_austrian_ties_2c
			UKR_deepening_austrian_ties_2d
			UKR_deepening_austrian_ties_2e
			UKR_progressive_tax
			UKR_progressive_tax_2
			UKR_sweeping_anti_corruption_efforts
			UKR_donbas_miners_strike
		}
		remove_mission = UKR_national_defence_act
		remove_mission = UKR_scepticism_within_the_party
		remove_mission = UKR_urdp_right_growth
		remove_mission = UKR_urdp_centre_growth
		remove_mission = UKR_urdp_left_growth
		remove_mission = UKR_urdp_right_opposition
		remove_mission = UKR_urdp_centre_opposition
		remove_mission = UKR_urdp_left_opposition
		remove_mission = UKR_usdrp_leave_coalition
		remove_mission = UKR_urdp_leave_coalition
		UKR_remove_urdp_factionalism_decisions = yes
		remove_targeted_decision = { target = THIS decision = UKR_emphasise_commitment_to_principles }
		clr_country_flag = UKR_utsentrprof_supported
	}
}

UKR_clear_revbloc_ideas = {
	remove_ideas = {
		UKR_mass_nationalization
		UKR_mass_nationalization_2
		UKR_apdms_agency
		UKR_against_bonapartism
		UKR_against_bonapartism_2
		UKR_against_bonapartism_3
		UKR_against_bonapartism_4
		UKR_empowered_workers
		UKR_empowered_workers2
		UKR_empowered_workers3
		UKR_empowered_workers4
		UKR_peoples_farms
		UKR_peoples_farms2
		UKR_labor_principle
		UKR_labor_principle2
		UKR_labor_principle3
		UKR_labor_principle4
		UKR_expansion_of_urban_housing
		UKR_expansion_of_urban_housing_2
		UKR_expansion_of_urban_housing_3
	}
}

UKR_clear_borotbyst_ideas = {
	remove_ideas = {
		UKR_council_of_deputies
		UKR_council_of_deputies_minorities
		UKR_revolution_under_siege
		UKR_after_french_1
		UKR_after_french_2
		UKR_systemic_compromise_idea
		UKR_systemic_compromise_idea_ukp
		UKR_inevitable_revolution
		UKR_inevitable_revolution_RUS
		UKR_syndie_constitution
		UKR_syndie_constitution_with_ukp
		UKR_workers_regulations
		UKR_revolutionary_fervour
		UKR_revolutionary_fervor
		UKR_regional_guidance
		UKR_regional_guidance_collectives
		UKR_regional_guidance_unions
		UKR_industrial_evolution_idea
		UKR_industrial_evolution_idea_ukp
		UKR_nationalised_banks_1
		UKR_nationalised_banks_2
	}
}

UKR_uskhd_end_tree = {
	if = {
		limit = {
			has_completed_focus = UKR_classocratic_principle
			has_completed_focus = UKR_empower_class_aristocracy
			has_completed_focus = UKR_leading_role_of_agrarian_class
			has_completed_focus = UKR_mysticism_and_imperialism
			has_completed_focus = UKR_support_loyal_intelligentsia
			has_completed_focus = UKR_the_highest_moral_authority
			has_completed_focus = UKR_territorial_patriotism
			has_completed_focus = UKR_put_end_to_parliamentarian_chaos
			has_completed_focus = UKR_eliminate_threat_of_ochlocracy
			has_completed_focus = UKR_lord_of_land_order_labour
		}
		hidden_effect = {
			remove_ideas = {
				UKR_uskhd_issues_1
				UKR_uskhd_issues_2
				UKR_uskhd_issues_3
				UKR_uskhd_issues_4
				UKR_uskhd_issues_5
				UKR_uskhd_issues_6
				UKR_uskhd_issues_7
			}
		}
	}
}

UKR_increase_ivan_po_idea = {
	if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_1
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_1
			add_idea = UKR_ivan_po_influence_idea_2
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_2
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_2
			add_idea = UKR_ivan_po_influence_idea_3
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_3
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_3
			add_idea = UKR_ivan_po_influence_idea_4
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_4
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_4
			add_idea = UKR_ivan_po_influence_idea_5
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_5
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_5
			add_idea = UKR_ivan_po_influence_idea_6
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_6
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_6
			add_idea = UKR_ivan_po_influence_idea_7
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_7
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_7
			add_idea = UKR_ivan_po_influence_idea_8
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_8
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_8
			add_idea = UKR_ivan_po_influence_idea_9
		}
	}
}

UKR_decrease_ivan_po_idea = {
	if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_2
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_2
			add_idea = UKR_ivan_po_influence_idea_1
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_3
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_3
			add_idea = UKR_ivan_po_influence_idea_2
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_4
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_4
			add_idea = UKR_ivan_po_influence_idea_3
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_5
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_5
			add_idea = UKR_ivan_po_influence_idea_4
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_6
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_6
			add_idea = UKR_ivan_po_influence_idea_5
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_7
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_7
			add_idea = UKR_ivan_po_influence_idea_6
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_8
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_8
			add_idea = UKR_ivan_po_influence_idea_7
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_ivan_po_influence_idea_9
		}
		swap_ideas = {
			remove_idea = UKR_ivan_po_influence_idea_9
			add_idea = UKR_ivan_po_influence_idea_8
		}
	}
}

UKR_cohesion_update = {
	if = {
		limit = { check_variable = { UKR_lun_mechanic_variable < 1 } check_variable = { UKR_cohesion_change < 0 } }
		custom_effect_tooltip = UKR_decrease_cohesion_limit_tt
		set_temp_variable = { ideology_change_var = -10 }
		change_ruling_party_popularity = yes
		add_stability = -0.1
	}
	else_if = {
		limit = { check_variable = { UKR_lun_mechanic_variable > 5 } check_variable = { UKR_cohesion_change > 0 } }
		custom_effect_tooltip = UKR_increase_cohesion_limit_tt
		set_temp_variable = { ideology_change_var = 5 }
		change_ruling_party_popularity = yes
		add_stability = 0.05
	}
	else = {
		set_temp_variable = { change = 0.05 }
		multiply_temp_variable = { change = UKR_cohesion_change }
		add_to_variable = { UKR_lun_mechanic_stability = change }
		set_temp_variable = { change = 0.03 }
		multiply_temp_variable = { change = UKR_cohesion_change }
		add_to_variable = { UKR_lun_mechanic_political_power = change }
		add_to_variable = { UKR_lun_mechanic_variable = UKR_cohesion_change }
		if = {
			limit = { check_variable = { UKR_cohesion_change > 0 } }
			custom_effect_tooltip = UKR_increase_cohesion_tt
		}
		else = { custom_effect_tooltip = UKR_decrease_cohesion_tt }
		force_update_dynamic_modifier = yes
	}
}

UKR_lun_improve_industry = {
	if = {
		limit = { has_idea = UKR_halted_industrialisation_plans }
		swap_ideas = {
			remove_idea = UKR_halted_industrialisation_plans
			add_idea = UKR_lun_industrialisation_1
		}
	}
	else_if = {
		limit = { has_idea = UKR_lun_industrialisation_1 }
		swap_ideas = {
			remove_idea = UKR_lun_industrialisation_1
			add_idea = UKR_lun_industrialisation_2
		}
	}
	else_if = {
		limit = { has_idea = UKR_lun_industrialisation_2 }
		swap_ideas = {
			remove_idea = UKR_lun_industrialisation_2
			add_idea = UKR_lun_industrialisation_3
		}
	}
	else_if = {
		limit = { has_idea = UKR_lun_industrialisation_3 }
		swap_ideas = {
			remove_idea = UKR_lun_industrialisation_3
			add_idea = UKR_lun_industrialisation_4
		}
	}
	else_if = {
		limit = { has_idea = UKR_lun_industrialisation_4 }
		swap_ideas = {
			remove_idea = UKR_lun_industrialisation_4
			add_idea = UKR_lun_industrialisation_5
		}
	}
	else_if = {
		limit = { has_idea = UKR_lun_industrialisation_5 }
		swap_ideas = {
			remove_idea = UKR_lun_industrialisation_5
			add_idea = UKR_lun_industrialisation_6
		}
	}
	else_if = {
		limit = { has_idea = UKR_lun_industrialisation_6 }
		swap_ideas = {
			remove_idea = UKR_lun_industrialisation_6
			add_idea = UKR_lun_industrialisation_7
		}
	}
	else_if = {
		limit = { has_idea = UKR_lun_industrialisation_7 }
		swap_ideas = {
			remove_idea = UKR_lun_industrialisation_7
			add_idea = UKR_lun_industrialisation_8
		}
	}
	else_if = {
		limit = { has_idea = UKR_lun_industrialisation_8 }
		swap_ideas = {
			remove_idea = UKR_lun_industrialisation_8
			add_idea = UKR_lun_industrialisation_9
		}
	}
}
UKR_lun_improve_land = {
	if = {
		limit = { has_idea = UKR_failed_land_reform_1 }
		swap_ideas = {
			remove_idea = UKR_failed_land_reform_1
			add_idea = UKR_failed_land_reform_2
		}
	}
	else_if = {
		limit = { has_idea = UKR_failed_land_reform_2 }
		swap_ideas = {
			remove_idea = UKR_failed_land_reform_2
			add_idea = UKR_failed_land_reform_3
		}
	}
	else_if = {
		limit = { has_idea = UKR_failed_land_reform_3 }
		swap_ideas = {
			remove_idea = UKR_failed_land_reform_3
			add_idea = UKR_failed_land_reform_4
		}
	}
	else_if = {
		limit = { has_idea = UKR_failed_land_reform_4 }
		swap_ideas = {
			remove_idea = UKR_failed_land_reform_4
			add_idea = UKR_failed_land_reform_5
		}
	}
	else_if = {
		limit = { has_idea = UKR_failed_land_reform_5 }
		swap_ideas = {
			remove_idea = UKR_failed_land_reform_5
			add_idea = UKR_land_reform_rightist_1
		}
	}
	else_if = {
		limit = { has_idea = UKR_land_reform_rightist_1 }
		swap_ideas = {
			remove_idea = UKR_land_reform_rightist_1
			add_idea = UKR_land_reform_rightist_3
		}
	}
	else_if = {
		limit = { has_idea = UKR_land_reform_rightist_3 }
		swap_ideas = {
			remove_idea = UKR_land_reform_rightist_3
			add_idea = UKR_land_reform_rightist_4
		}
	}
	else_if = {
		limit = { has_idea = UKR_land_reform_rightist_4 }
		swap_ideas = {
			remove_idea = UKR_land_reform_rightist_4
			add_idea = UKR_land_reform_rightist_5
		}
	}
	else_if = {
		limit = { has_idea = UKR_land_reform_rightist_5 }
		swap_ideas = {
			remove_idea = UKR_land_reform_rightist_5
			add_idea = UKR_land_reform_rightist_7
		}
	}
}

UKR_improve_unfinished_revolution_spirit = {
	if = {
		limit = {
			has_idea = UKR_unfinished_revolution
		}
		swap_ideas = {
			remove_idea = UKR_unfinished_revolution
			add_idea = UKR_unfinished_revolution_2
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_unfinished_revolution_2
		}
		swap_ideas = {
			remove_idea = UKR_unfinished_revolution_2
			add_idea = UKR_unfinished_revolution_3
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_unfinished_revolution_3
		}
		swap_ideas = {
			remove_idea = UKR_unfinished_revolution_3
			add_idea = UKR_unfinished_revolution_4
		}
	}
}

UKR_land_reform_events = {
	hidden_effect = {
		random_list = {
			10 = {
				modifier = { factor = 0 has_country_flag = UKRLR1 }
				country_event = { id = ukraine_land_reform_events.4 days = 25 }
				country_event = { id = ukraine_land_reform_events.5 days = 50 }
				country_event = { id = ukraine_land_reform_events.6 days = 75 }
				country_event = { id = ukraine_land_reform_events.7 days = 90 }
				set_country_flag = UKRLR1
			}
			10 = {
				modifier = { factor = 0 has_country_flag = UKRLR2 }
				country_event = { id = ukraine_land_reform_events.9 days = 30 }
				country_event = { id = ukraine_land_reform_events.10 days = 55 }
				country_event = { id = ukraine_land_reform_events.11 days = 80 }
				country_event = { id = ukraine_land_reform_events.8 days = 95 }
				set_country_flag = UKRLR2
			}
			10 = {
				modifier = { factor = 0 has_country_flag = UKRLR3 }
				country_event = { id = ukraine_land_reform_events.14 days = 20 }
				country_event = { id = ukraine_land_reform_events.15 days = 45 }
				country_event = { id = ukraine_land_reform_events.13 days = 70 }
				country_event = { id = ukraine_land_reform_events.12 days = 85 }
				set_country_flag = UKRLR3
			}
			10 = {
				modifier = { factor = 0 has_country_flag = UKRLR4 }
				country_event = { id = ukraine_land_reform_events.19 days = 35 }
				country_event = { id = ukraine_land_reform_events.18 days = 60 }
				country_event = { id = ukraine_land_reform_events.16 days = 85 }
				country_event = { id = ukraine_land_reform_events.17 days = 95 }
				set_country_flag = UKRLR4
			}
			10 = {
				modifier = { factor = 0 has_country_flag = UKRLR5 }
				country_event = { id = ukraine_land_reform_events.23 days = 15 }
				country_event = { id = ukraine_land_reform_events.20 days = 40 }
				country_event = { id = ukraine_land_reform_events.21 days = 65 }
				country_event = { id = ukraine_land_reform_events.22 days = 80 }
				set_country_flag = UKRLR5
			}
		}
	}
}

UKR_syndie_revolution_angry_constitution = {
	if = {
		limit = {
			has_idea = UKR_constitution_idea
		}
		swap_ideas = {
			remove_idea = UKR_constitution_idea
			add_idea = UKR_bad_constitution
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_constitution_idea_1
		}
		swap_ideas = {
			remove_idea = UKR_constitution_idea_1
			add_idea = UKR_bad_constitution
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_constitution_idea_2
		}
		swap_ideas = {
			remove_idea = UKR_constitution_idea_2
			add_idea = UKR_bad_constitution
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_constitution_idea_3
		}
		swap_ideas = {
			remove_idea = UKR_constitution_idea_3
			add_idea = UKR_bad_constitution
		}
	}
}

UKR_syndie_reduce_petlurite_resistance = {
	add_popularity = {
		ideology = social_democrat
		popularity = -0.03
	}
	if = {
		limit = {
			has_idea = UKR_petliurites1
		}
		swap_ideas = {
			remove_idea = UKR_petliurites1
			add_idea = UKR_petliurites2
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_petliurites2
		}
		swap_ideas = {
			remove_idea = UKR_petliurites2
			add_idea = UKR_petliurites3
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_petliurites3
		}
		swap_ideas = {
			remove_idea = UKR_petliurites3
			add_idea = UKR_petliurites4
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_petliurites4
		}
		swap_ideas = {
			remove_idea = UKR_petliurites4
			add_idea = UKR_petliurites5
		}
	}
}

UKR_syndie_khvyliovyi_buff = {
	if = {
		limit = {
			has_idea_with_trait = KR_idealistic_communard1
		}
		remove_trait = {
			character = UKR_mykola_khvyliovyi
			slot = political_advisor
			trait = KR_idealistic_communard1
		}
		add_trait = {
			character = UKR_mykola_khvyliovyi
			slot = political_advisor
			trait = KR_idealistic_communard2
		}
	}
	else_if = {
		limit = {
			has_idea_with_trait = KR_idealistic_communard2
		}
		remove_trait = {
			character = UKR_mykola_khvyliovyi
			slot = political_advisor
			trait = KR_idealistic_communard2
		}
		add_trait = {
			character = UKR_mykola_khvyliovyi
			slot = political_advisor
			trait = KR_idealistic_communard3
		}
	}
	else_if = {
		limit = {
			has_idea_with_trait = KR_idealistic_communard3
		}
		remove_trait = {
			character = UKR_mykola_khvyliovyi
			slot = political_advisor
			trait = KR_idealistic_communard3
		}
		add_trait = {
			character = UKR_mykola_khvyliovyi
			slot = political_advisor
			trait = KR_idealistic_communard4
		}
	}
	else_if = {
		limit = {
			has_idea_with_trait = KR_idealistic_communard4
		}
		remove_trait = {
			character = UKR_mykola_khvyliovyi
			slot = political_advisor
			trait = KR_idealistic_communard4
		}
		add_trait = {
			character = UKR_mykola_khvyliovyi
			slot = political_advisor
			trait = KR_idealistic_communard5
		}
	}
}

UKR_unlock_integration = {
	ROOT = {
		if = {
			limit = { owns_state = 218 }
			218 = { enable_state_integration_50_compliance = yes } #Rostov
			custom_effect_tooltip = tooltip_white_line
		}
		if = {
			limit = { owns_state = 234 }
			234 = { enable_state_integration_50_compliance = yes } #Rostov
			custom_effect_tooltip = tooltip_white_line
		}
		if = {
			limit = { owns_state = 1006 }
			1006 = { enable_state_integration_50_compliance = yes } #Rostov
			custom_effect_tooltip = tooltip_white_line
		}
		if = {
			limit = { owns_state = 220 }
			220 = { enable_state_integration_80_compliance = yes } #Kursk
			custom_effect_tooltip = tooltip_white_line
		}
		if = {
			limit = { owns_state = 240 }
			240 = { enable_state_integration_80_compliance = yes } #Kursk
			custom_effect_tooltip = tooltip_white_line
		}
		if = {
			limit = { owns_state = 260 }
			260 = { enable_state_integration_80_compliance = yes } #Voronezh
			custom_effect_tooltip = tooltip_white_line
		}
	}
}

MIE_promote_oststaat = {
	get_current_government_type = yes
	if = {
		limit = { has_autonomy_state = oststaat }
		GER = {
			set_autonomy = {
				target = UKR
				autonomy_state = oststaat_autonomous
				end_wars = no
			}
		}
	}
	else_if = {
		limit = { has_autonomy_state = oststaat_autonomous }
		GER = {
			GER = { end_puppet = UKR }
		}
	}
	restore_previous_government_type = yes
}

UKR_remove_hetmanate = {
	UKR_pavlo_skoropadskyi = { set_nationality = event_target:system }
	UKR_danylo_skoropadskyi = { set_nationality = event_target:system }
	if = {
		limit = { has_character = UKR_dmytro_doroshenko }
		UKR_dmytro_doroshenko = {
			if = {
				limit = { has_ideology = authoritarian_democrat_subtype }
				promote_character = authoritarian_democrat_subtype
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = UKR_dmytro_doroshenko_leader_desc
						ideology = authoritarian_democrat_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	if = {
		limit = { has_character = UKR_kostiantyn_prisovskyi }
		UKR_kostiantyn_prisovskyi = {
			if = {
				limit = { has_ideology = paternal_autocrat_subtype }
				promote_character = paternal_autocrat_subtype
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = UKR_kostiantyn_prisovskyi_army_chief_desc
						ideology = paternal_autocrat_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
}

UKR_puppet_setup = {
	if = {
		limit = { tag = GER }
		set_autonomy = {
			target = UKR
			autonomy_state = oststaat
			end_wars = no
		}
	}
	var:tag_to_release = {
		drop_cosmetic_tag = yes
		set_party_name = {
			ideology = market_liberal
			long_name = UKR_market_liberal_party_long2
			name = UKR_market_liberal_party2
		}
		UKR_oleksandr_shulhyn = {
			if = {
				limit = { has_ideology = market_liberal_subtype }
				promote_character = market_liberal_subtype
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = UKR_oleksandr_shulhyn_leader_desc
						ideology = market_liberal_subtype
					}
					promote_leader = yes
				}
			}
		}
		set_country_flag = black_monday_over
		set_country_flag = UKR_revolt_over
		if = {
			limit = { is_monarchy = no }
			UKR_clear_hetmanist_ideas = yes
		}
		else = {
			UKR_clear_republic_ideas = yes
		}
		if = {
			limit = { has_socialist_government = no }
			UKR_yurii_tiutiunnyk = { retire = yes }
			UKR_omelian_volokh = { retire = yes }
			FRA_nestor_makhno = { retire = yes }
		}
		if = {
			limit = {
				has_socialist_government = no
				has_soclib_or_socdem_government = no
			}
			if = {
				limit = { NOT = { has_character = UKR_pavlo_skoropadskyi } }
				UKR_pavlo_skoropadskyi = { set_nationality = UKR }
			}
			if = {
				limit = { NOT = { has_character = UKR_kostiantyn_prisovskyi } }
				UKR_kostiantyn_prisovskyi = { set_nationality = UKR }
			}
		}
		clr_country_flag = UKR_UNR_tree
		clr_country_flag = UKR_authdem_tree
		clr_country_flag = UKR_SHD_tree
		clr_country_flag = UKR_LUN_tree
		clr_country_flag = UKR_danylo_tree
		if = {
			limit = { has_government = national_populist }
			set_country_flag = UKR_LUN_tree
			mark_focus_tree_layout_dirty = yes
		}
		else_if = {
			limit = {
				OR = {
					has_government = social_democrat
					has_government = social_liberal
					is_subject_of = AUS
				}
			}
			set_country_flag = UKR_UNR_tree
			mark_focus_tree_layout_dirty = yes
			complete_national_focus = UKR_solidarity_and_compromise
		}
		else_if = {
			limit = { has_conservative_government = yes }
			set_country_flag = UKR_authdem_tree
			mark_focus_tree_layout_dirty = yes
			complete_national_focus = UKR_fall_of_uskhd
		}
		else_if = {
			limit = { has_government = paternal_autocrat }
			set_country_flag = UKR_SHD_tree
			mark_focus_tree_layout_dirty = yes
		}
		else_if = {
			limit = { has_government = radical_socialist }
			set_country_flag = UKR_UNR_tree
			mark_focus_tree_layout_dirty = yes
			complete_national_focus = UKR_fight_and_you_will_overcome
		}
		else_if = {
			limit = { has_socialist_government = yes }
			set_country_flag = UKR_UNR_tree
			mark_focus_tree_layout_dirty = yes
			complete_national_focus = UKR_fighters_til_the_end
		}
	}
}

UKR_refresh_claim_decisions = {
	for_each_scope_loop = {
		array = UKR.UKR_claims_array
		if = {
			limit = {
				NOT = { is_core_of = UKR }
				NOT = { is_claimed_by = UKR }
				OR = {
					is_controlled_by = UKR
					is_owned_by = UKR
					controller = { is_in_faction_with = UKR }
					owner = { has_war_with = UKR }
					owner = { is_subject_of = UKR }
				}
			}
			UKR = { activate_targeted_decision = { decision = UKR_claim_state target = PREV } }
		}
		else = {
			UKR = { remove_targeted_decision = { decision = UKR_claim_state target = PREV } }
		}
	}
}

UKR_add_to_claim_array = {
	add_to_array = { UKR.UKR_claims_array = THIS }
	set_state_flag = UKR_claim_state
}

UKR_remove_from_claim_array = {
	UKR = { remove_targeted_decision = { decision = UKR_claim_state target = PREV } }
	remove_from_array = { UKR.UKR_claims_array = THIS }
	clr_state_flag = UKR_claim_state
}

UKR_update_military = {
	hidden_effect = {
		if = {
			limit = {
				has_completed_focus = UKR_shadow_of_mighty_wings
				NOT = { is_ally_with = GER }
			}
			uncomplete_national_focus = {
				focus = UKR_shadow_of_mighty_wings
				uncomplete_children = yes
			}
			remove_ideas = {
				UKR_shadow_of_mighty_wings
				UKR_shadow_of_mighty_wings_2
				UKR_shadow_of_mighty_wings_3
				UKR_shadow_of_mighty_wings_4
			}
		}
		else_if = {
			limit = {
				has_completed_focus = UKR_protection_of_dual_monarchy
				NOT = { is_ally_with = AUS }
			}
			uncomplete_national_focus = {
				focus = UKR_protection_of_dual_monarchy
				uncomplete_children = yes
			}
			remove_ideas = {
				UKR_protection_of_dual_monarchy
				UKR_protection_of_dual_monarchy_2
				UKR_protection_of_dual_monarchy_3
				UKR_protection_of_dual_monarchy_4
			}
		}
		else_if = {
			limit = {
				has_completed_focus = UKR_stronghold_of_internationale
				has_socialist_government = no
			}
			uncomplete_national_focus = {
				focus = UKR_stronghold_of_internationale
				uncomplete_children = yes
			}
		}
		else_if = {
			limit = {
				has_completed_focus = UKR_southern_flank_of_revolution
				OR = {
					NOT = { is_in_faction_with = RUS }
					RUS = { is_subject = yes }
				}
			}
			uncomplete_national_focus = {
				focus = UKR_southern_flank_of_revolution
				uncomplete_children = yes
			}
		}
		else_if = {
			limit = {
				has_completed_focus = UKR_french_technical_expertise
				is_in_faction_with = RUS
				RUS = { is_subject = no }
			}
			uncomplete_national_focus = {
				focus = UKR_french_technical_expertise
				uncomplete_children = yes
			}
		}
		mark_focus_tree_layout_dirty = yes
	}
}

UKR_change_revbloc_dominance_pp = {
	if = {
		limit = { UKR_upsr_moderates_dominant = yes }
		set_variable = { UKR_revbloc_pp = -0.05 }
	}
	else_if = {
		limit = { UKR_upsr_radicals_dominant = yes }
		set_variable = { UKR_revbloc_pp = 0.1 }
	}
	else_if = {
		limit = { UKR_rrb_moderates_dominant = yes }
		set_variable = { UKR_revbloc_pp = 0.05 }
	}
	else_if = {
		limit = { UKR_rrb_radicals_dominant = yes }
		set_variable = { UKR_revbloc_pp = 0.15 }
	}
}

UKR_clear_revbloc_dominance_pp = {
	remove_ideas = UKR_dominant_faction_idea
	remove_dynamic_modifier = { modifier = UKR_dominant_faction_modifier }
	clear_variable = UKR_revbloc_pp
}

UKR_usdrp_attitude_modifiers = {
	hidden_effect = {
		if = {
			limit = {
				has_government = social_liberal
				NOT = { has_idea = UKR_minority_government }
			}

			if = {
				limit = {
					UKR_usdrp_uncooperative = yes
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_usdrp_attitude_indifferent } }
					remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_indifferent }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_usdrp_attitude_cooperative } }
					remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_cooperative }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_usdrp_attitude_amenable } }
					remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_amenable }
				}
				add_dynamic_modifier = { modifier = UKR_usdrp_attitude_uncooperative }
				if = {
					limit = {
						NOT = { has_active_mission = UKR_elections_in_progress }
					}
					activate_mission = UKR_usdrp_leave_coalition
				}
			}
			else_if = {
				limit = {
					UKR_usdrp_indifferent = yes
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_usdrp_attitude_uncooperative } }
					remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_uncooperative }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_usdrp_attitude_cooperative } }
					remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_cooperative }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_usdrp_attitude_amenable } }
					remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_amenable }
				}
				add_dynamic_modifier = { modifier = UKR_usdrp_attitude_indifferent }
			}
			else_if = {
				limit = {
					UKR_usdrp_cooperative = yes
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_usdrp_attitude_uncooperative } }
					remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_uncooperative }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_usdrp_attitude_indifferent } }
					remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_indifferent }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_usdrp_attitude_amenable } }
					remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_amenable }
				}
				add_dynamic_modifier = { modifier = UKR_usdrp_attitude_cooperative }
				if = {
					limit = { has_country_flag = UKR_absorb_forestry_companies_activate_once }
					country_event = { id = ukraine_republican_events.46 days = 70 }
					clr_country_flag = UKR_absorb_forestry_companies_activate_once
				}
				else_if = {
					limit = { has_country_flag = UKR_nationalization_of_coal_mines_activate_once }
					country_event = { id = ukraine_republican_events.47 days = 70 }
					clr_country_flag = UKR_nationalization_of_coal_mines_activate_once
				}
			}
			else_if = {
				limit = {
					UKR_usdrp_amenable = yes
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_usdrp_attitude_uncooperative } }
					remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_uncooperative }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_usdrp_attitude_indifferent } }
					remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_indifferent }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_usdrp_attitude_cooperative } }
					remove_dynamic_modifier = { modifier = UKR_usdrp_attitude_cooperative }
				}
				add_dynamic_modifier = { modifier = UKR_usdrp_attitude_amenable }
				if = {
					limit = { has_country_flag = UKR_absorb_forestry_companies_activate_once }
					country_event = { id = ukraine_republican_events.46 days = 70 }
					clr_country_flag = UKR_absorb_forestry_companies_activate_once
				}
				else_if = {
					limit = { has_country_flag = UKR_nationalization_of_coal_mines_activate_once }
					country_event = { id = ukraine_republican_events.47 days = 70 }
					clr_country_flag = UKR_nationalization_of_coal_mines_activate_once
				}
			}
		}
	}
}

UKR_urdp_attitude_modifiers = {
	hidden_effect = {
		if = {
			limit = {
				has_government = social_democrat
				NOT = { has_idea = UKR_minority_government }
			}
			if = {
				limit = {
					UKR_urdp_uncooperative = yes
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_urdp_attitude_indifferent } }
					remove_dynamic_modifier = { modifier = UKR_urdp_attitude_indifferent }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_urdp_attitude_cooperative } }
					remove_dynamic_modifier = { modifier = UKR_urdp_attitude_cooperative }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_urdp_attitude_amenable } }
					remove_dynamic_modifier = { modifier = UKR_urdp_attitude_amenable }
				}
				add_dynamic_modifier = { modifier = UKR_urdp_attitude_uncooperative }
				if = {
					limit = {
						NOT = { has_active_mission = UKR_elections_in_progress }
					}
					activate_mission = UKR_urdp_leave_coalition
				}
			}
			else_if = {
				limit = {
					UKR_urdp_indifferent = yes
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_urdp_attitude_uncooperative } }
					remove_dynamic_modifier = { modifier = UKR_urdp_attitude_uncooperative }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_urdp_attitude_cooperative } }
					remove_dynamic_modifier = { modifier = UKR_urdp_attitude_cooperative }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_urdp_attitude_amenable } }
					remove_dynamic_modifier = { modifier = UKR_urdp_attitude_amenable }
				}
				add_dynamic_modifier = { modifier = UKR_urdp_attitude_indifferent }
			}
			else_if = {
				limit = {
					UKR_urdp_cooperative = yes
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_urdp_attitude_uncooperative } }
					remove_dynamic_modifier = { modifier = UKR_urdp_attitude_uncooperative }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_urdp_attitude_indifferent } }
					remove_dynamic_modifier = { modifier = UKR_urdp_attitude_indifferent }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_urdp_attitude_amenable } }
					remove_dynamic_modifier = { modifier = UKR_urdp_attitude_amenable }
				}
				add_dynamic_modifier = { modifier = UKR_urdp_attitude_cooperative }
				if = {
					limit = { has_country_flag = UKR_absorb_forestry_companies_activate_once }
					country_event = { id = ukraine_republican_events.46 days = 70 }
					clr_country_flag = UKR_absorb_forestry_companies_activate_once
				}
			}
			else_if = {
				limit = {
					UKR_urdp_amenable = yes
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_urdp_attitude_uncooperative } }
					remove_dynamic_modifier = { modifier = UKR_urdp_attitude_uncooperative }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_urdp_attitude_indifferent } }
					remove_dynamic_modifier = { modifier = UKR_urdp_attitude_indifferent }
				}
				if = {
					limit = { has_dynamic_modifier = { modifier = UKR_urdp_attitude_cooperative } }
					remove_dynamic_modifier = { modifier = UKR_urdp_attitude_cooperative }
				}
				add_dynamic_modifier = { modifier = UKR_urdp_attitude_amenable }
				if = {
					limit = { has_country_flag = UKR_absorb_forestry_companies_activate_once }
					country_event = { id = ukraine_republican_events.46 days = 70 }
					clr_country_flag = UKR_absorb_forestry_companies_activate_once
				}
			}
		}
	}
}

UKR_urdp_factionalism = { #Priority rules: right > left > centre
	hidden_effect = {
		if = {
			limit = {
				has_government = social_liberal
				NOT = {
					has_war_with = RUS
					UKR_weltkrieg_has_ended = yes
					UKR_oleksandr_shulhyn = { has_trait = KR_leader_of_the_party_in_disarray }
					UKR_andrii_nikovskyi = { has_trait = KR_rebellious_obstructionist }
					has_country_flag = UKR_urdp_right_revolted
					has_idea = UKR_minority_government
				}
			}
			if = {
				limit = {
					UKR_urdp_right_high = yes
					NOT = {
						has_active_mission = UKR_urdp_centre_growth
						has_active_mission = UKR_urdp_left_growth
					}
				}
				activate_mission = UKR_urdp_right_growth
			}
			if = {
				limit = {
					UKR_urdp_centre_high = yes
					NOT = {
						has_active_mission = UKR_urdp_right_growth
						has_active_mission = UKR_urdp_left_growth
					}
				}
				activate_mission = UKR_urdp_centre_growth
			}
			if = {
				limit = {
					UKR_urdp_left_high = yes
					NOT = {
						has_active_mission = UKR_urdp_centre_growth
						has_active_mission = UKR_urdp_right_growth
					}
				}
				activate_mission = UKR_urdp_left_growth
			}
		}
		if = {
			limit = {
				NOT = {
					has_war_with = RUS
					UKR_weltkrieg_has_ended = yes
					UKR_oleksandr_shulhyn = { has_trait = KR_leader_of_the_party_in_disarray }
					UKR_andrii_nikovskyi = { has_trait = KR_rebellious_obstructionist }
					has_country_flag = UKR_urdp_right_revolted
				}
			}
			if = {
				limit = {
					UKR_urdp_right_low = yes
					NOT = {
						has_active_mission = UKR_urdp_centre_opposition
						has_active_mission = UKR_urdp_left_opposition
					}
				}
				activate_mission = UKR_urdp_right_opposition
			}
			if = {
				limit = {
					UKR_urdp_centre_low = yes
					NOT = {
						UKR_urdp_right_low = yes
						UKR_urdp_left_low = yes
						has_active_mission = UKR_urdp_right_opposition
						has_active_mission = UKR_urdp_left_opposition
					}
				}
				activate_mission = UKR_urdp_centre_opposition
			}
			if = {
				limit = {
					UKR_urdp_left_low = yes
					NOT = {
						UKR_urdp_centre_high = yes
						UKR_urdp_right_high = yes
						has_active_mission = UKR_urdp_centre_opposition
						has_active_mission = UKR_urdp_right_opposition
					}
				}
				activate_mission = UKR_urdp_left_opposition
			}
		}
	}
}

UKR_idealism_influence = {
	if = {
		limit = { UKR_has_any_failstate = no }
		custom_effect_tooltip = UKR_add_idealism_tt
		add_to_variable = { UKR_usdrp_idealism_points = UKR_idealism_change }
		clamp_variable = {
			var = UKR_usdrp_idealism_points
			min = -4
			max = 6
		}
		if = {
			limit = {
				check_variable = { UKR_usdrp_idealism_points = -4 }
				is_ai = no
			}
			hidden_effect = { country_event = { id = ukraine_republican_events.214 days = 2 } }
		}
	}
}

UKR_add_idealism = {
	if = {
		limit = { NOT = { has_country_flag = UKR_idealism_failstate } }
		hidden_effect = { country_event = { id = ukraine_republican_events.224 hours = 1 } }
	}
}

UKR_count_election_variables = {
	if = {
		limit = {
			has_government = social_liberal
		}
		if = {
			limit = {
				check_variable = { UKR_land_reform_score > 70 }
				check_variable = { UKR_industrial_score > 70 }
			}
			add_to_variable = { UKR_election_var = 1 }
		}
		if = {
			limit = {
				NOT = {
					UKR_oleksandr_shulhyn = { has_trait = KR_leader_of_the_party_in_disarray }
					UKR_andrii_nikovskyi = { has_trait = KR_rebellious_obstructionist }
					has_country_flag = UKR_urdp_right_revolted
				}
			}
			add_to_variable = { UKR_election_var = 1 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = UKR_election_loss }
			}
			add_to_variable = { UKR_election_var = 1 }
		}
		if = {
			limit = {
				UKR_usdrp_amenable = yes
				UKR_urdp_centre_high = yes
				has_country_flag = UKR_no_national_unity_govt_flag
				check_variable = { UKR_land_reform_score > 90 }
				check_variable = { UKR_industrial_score > 90 }
			}
			set_country_flag = UKR_major_victory
		}
	}
	else = {
		if = {
			limit = {
				check_variable = { UKR_land_reform_score > 70 }
				check_variable = { UKR_industrial_score > 70 }
			}
			add_to_variable = { UKR_election_var = 1 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = UKR_election_loss }
			}
			add_to_variable = { UKR_election_var = 1 }
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = UKR_idealism_failstate
				}
			}
			add_to_variable = { UKR_election_var = 1 }
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = UKR_dolenko_secretary
				}
			}
			add_to_variable = { UKR_election_var = 1 }
		}
		if = {
			limit = {
				has_idea = UKR_GER_deal_1
				has_country_flag = UKR_successful_deal
				has_country_flag = UKR_national_defence_act_passed_flag
				OR = {
					UKR_urdp_amenable = yes
					UKR_urdp_cooperative = yes
				}
				has_country_flag = UKR_no_national_unity_govt_flag
				check_variable = { UKR_land_reform_score > 90 }
				check_variable = { UKR_industrial_score > 90 }
			}
			set_country_flag = UKR_major_victory
		}
	}
}

UKR_idealism_spend = {
	custom_override_tooltip = {
		tooltip = UKR_will_spend_idealism_tt
		if = {
			limit = { NOT = { has_country_flag = UKR_idealism_failstate } }
			country_event = { id = ukraine_republican_events.180 hours = 1 }
		}
	}
}

UKR_urdp_right_strengthen = {
	if = {
		limit = {
			NOT = {
				has_war_with = RUS
				UKR_weltkrieg_has_ended = yes
				has_idea = UKR_minority_government
				UKR_oleksandr_shulhyn = { has_trait = KR_leader_of_the_party_in_disarray }
				UKR_andrii_nikovskyi = { has_trait = KR_rebellious_obstructionist }
				has_country_flag = UKR_urdp_right_revolted
			}
		}
		custom_effect_tooltip = UKR_urdp_right_strengthen_tt
		add_to_variable = { UKR_urdp_right_influence = UKR_urdp_influence_change }
		clamp_variable = {
			var = UKR_urdp_right_influence
			min = 0
			max = 9
		}
		hidden_effect = { country_event = { id = ukraine_republican_events.204 hours = 1 } }
	}
}

UKR_urdp_right_weaken = {
	if = {
		limit = {
			NOT = {
				has_war_with = RUS
				UKR_weltkrieg_has_ended = yes
				has_idea = UKR_minority_government
				UKR_oleksandr_shulhyn = { has_trait = KR_leader_of_the_party_in_disarray }
				UKR_andrii_nikovskyi = { has_trait = KR_rebellious_obstructionist }
				has_country_flag = UKR_urdp_right_revolted
			}
		}
		custom_effect_tooltip = UKR_urdp_right_weaken_tt
		add_to_variable = { UKR_urdp_right_influence = UKR_urdp_influence_change }
		clamp_variable = {
			var = UKR_urdp_right_influence
			min = 0
			max = 9
		}
		hidden_effect = { country_event = { id = ukraine_republican_events.204 hours = 1 } }
	}
}

UKR_urdp_centre_strengthen = {
	if = {
		limit = {
			NOT = {
				has_war_with = RUS
				UKR_weltkrieg_has_ended = yes
				has_idea = UKR_minority_government
				UKR_oleksandr_shulhyn = { has_trait = KR_leader_of_the_party_in_disarray }
				UKR_andrii_nikovskyi = { has_trait = KR_rebellious_obstructionist }
				has_country_flag = UKR_urdp_right_revolted
			}
		}
		custom_effect_tooltip = UKR_urdp_centre_strengthen_tt
		add_to_variable = { UKR_urdp_centre_influence = UKR_urdp_influence_change }
		clamp_variable = {
			var = UKR_urdp_centre_influence
			min = 0
			max = 9
		}
		hidden_effect = { country_event = { id = ukraine_republican_events.204 hours = 1 } }
	}
}

UKR_urdp_centre_weaken = {
	if = {
		limit = {
			NOT = {
				has_war_with = RUS
				UKR_weltkrieg_has_ended = yes
				has_idea = UKR_minority_government
				UKR_oleksandr_shulhyn = { has_trait = KR_leader_of_the_party_in_disarray }
				UKR_andrii_nikovskyi = { has_trait = KR_rebellious_obstructionist }
				has_country_flag = UKR_urdp_right_revolted
			}
		}
		custom_effect_tooltip = UKR_urdp_centre_weaken_tt
		add_to_variable = { UKR_urdp_centre_influence = UKR_urdp_influence_change }
		clamp_variable = {
			var = UKR_urdp_centre_influence
			min = 0
			max = 9
		}
		hidden_effect = { country_event = { id = ukraine_republican_events.204 hours = 1 } }
	}
}

UKR_urdp_left_strengthen = {
	if = {
		limit = {
			NOT = {
				has_war_with = RUS
				UKR_weltkrieg_has_ended = yes
				has_idea = UKR_minority_government
				UKR_oleksandr_shulhyn = { has_trait = KR_leader_of_the_party_in_disarray }
				UKR_andrii_nikovskyi = { has_trait = KR_rebellious_obstructionist }
				has_country_flag = UKR_urdp_right_revolted
			}
		}
		custom_effect_tooltip = UKR_urdp_left_strengthen_tt
		add_to_variable = { UKR_urdp_left_influence = UKR_urdp_influence_change }
		clamp_variable = {
			var = UKR_urdp_left_influence
			min = 0
			max = 9
		}
		hidden_effect = { country_event = { id = ukraine_republican_events.204 hours = 1 } }
	}
}

UKR_urdp_left_weaken = {
	if = {
		limit = {
			NOT = {
				has_war_with = RUS
				UKR_weltkrieg_has_ended = yes
				has_idea = UKR_minority_government
				UKR_oleksandr_shulhyn = { has_trait = KR_leader_of_the_party_in_disarray }
				UKR_andrii_nikovskyi = { has_trait = KR_rebellious_obstructionist }
				has_country_flag = UKR_urdp_right_revolted
			}
		}
		custom_effect_tooltip = UKR_urdp_left_weaken_tt
		add_to_variable = { UKR_urdp_left_influence = UKR_urdp_influence_change }
		clamp_variable = {
			var = UKR_urdp_left_influence
			min = 0
			max = 9
		}
		hidden_effect = { country_event = { id = ukraine_republican_events.204 hours = 1 } }
	}
}

UKR_usdrp_relationship_improve = { #for SocLibs - Improve
	if = {
		limit = {
			NOT = { has_idea = UKR_minority_government }
		}
		custom_effect_tooltip = UKR_urdp_usdrp_relationship_improve
		add_to_variable = { UKR_usdrp_attitude = UKR_usdrp_attitude_change }
		clamp_variable = {
			var = UKR_usdrp_attitude
			min = 0
			max = 20
		}
		UKR_usdrp_attitude_modifiers = yes
	}
}

UKR_usdrp_relationship_worsen = { #for SocLibs - Worsen
	if = {
		limit = {
			NOT = { has_idea = UKR_minority_government }
		}
		custom_effect_tooltip = UKR_urdp_usdrp_relationship_worsen
		add_to_variable = { UKR_usdrp_attitude = UKR_usdrp_attitude_change }
		clamp_variable = {
			var = UKR_usdrp_attitude
			min = 0
			max = 20
		}
		UKR_usdrp_attitude_modifiers = yes
	}
}

UKR_urdp_relationship_improve = { #for SocDems - Improve
	if = {
		limit = {
			NOT = { has_idea = UKR_minority_government }
		}
		custom_effect_tooltip = UKR_usdrp_urdp_relationship_improve
		add_to_variable = { UKR_urdp_attitude = UKR_urdp_attitude_change }
		clamp_variable = {
			var = UKR_urdp_attitude
			min = 0
			max = 20
		}
		UKR_urdp_attitude_modifiers = yes
	}
}

UKR_urdp_relationship_worsen = { #for SocDems - Worsen
	if = {
		limit = {
			NOT = { has_idea = UKR_minority_government }
		}
		custom_effect_tooltip = UKR_usdrp_urdp_relationship_worsen
		add_to_variable = { UKR_urdp_attitude = UKR_urdp_attitude_change }
		clamp_variable = {
			var = UKR_urdp_attitude
			min = 0
			max = 20
		}
		UKR_urdp_attitude_modifiers = yes
	}
}

UKR_raise_peoples_army_spirit = {
	if = {
		limit = {
			has_idea = UKR_peoples_army_2a
		}
		swap_ideas = {
			remove_idea = UKR_peoples_army_2a
			add_idea = UKR_peoples_army_2b
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_peoples_army_2b
		}
		swap_ideas = {
			remove_idea = UKR_peoples_army_2b
			add_idea = UKR_peoples_army_2c
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_peoples_army_2c
		}
		swap_ideas = {
			remove_idea = UKR_peoples_army_2c
			add_idea = UKR_peoples_army_2d
		}
	}
	else_if = {
		limit = {
			has_idea = UKR_peoples_army_2d
		}
		swap_ideas = {
			remove_idea = UKR_peoples_army_2d
			add_idea = UKR_peoples_army_2e
		}
	}
}

UKR_finish_usdrp_tree = {
	if = {
		limit = {
			has_completed_focus = UKR_education_for_all
			has_completed_focus = UKR_support_for_nruz
			has_completed_focus = UKR_keeping_the_flame
			has_completed_focus = UKR_progressive_tax_policy
			OR = {
				has_completed_focus = UKR_centralised_security_apparatus
				has_completed_focus = UKR_delegate_control_over_peoples_militia
			}
			OR = {
				has_completed_focus = UKR_politically_neutral_force
				has_completed_focus = UKR_true_peoples_army
			}
			OR = {
				has_completed_focus = UKR_prosperity_under_state_control
				has_completed_focus = UKR_the_path_of_parliamentary_reformism
				has_completed_focus = UKR_create_the_presidential_office
			}
			OR = {
				has_completed_focus = UKR_respect_judicial_independence
				has_completed_focus = UKR_break_regional_patronage_networks
			}
		}
		hidden_effect = {
			remove_mission = UKR_scepticism_within_the_party
			remove_targeted_decision = { target = THIS decision = UKR_emphasise_commitment_to_principles }
		}
	}
}

UKR_remove_urdp_factionalism_decisions = {
	hidden_effect = {
		remove_targeted_decision = { target = THIS decision = UKR_urdp_right_influence_increase }
		remove_targeted_decision = { target = THIS decision = UKR_urdp_centre_influence_increase }
		remove_targeted_decision = { target = THIS decision = UKR_urdp_left_influence_increase }
		remove_targeted_decision = { target = THIS decision = UKR_urdp_right_influence_increase_2 }
		remove_targeted_decision = { target = THIS decision = UKR_urdp_centre_influence_increase_2 }
		remove_targeted_decision = { target = THIS decision = UKR_urdp_left_influence_increase_2 }
		remove_targeted_decision = { target = THIS decision = UKR_urdp_right_influence_increase_3 }
		remove_targeted_decision = { target = THIS decision = UKR_urdp_left_influence_increase_3 }
	}
}

UKR_remove_urdp_factionalism_decisions_and_missions = {
	hidden_effect = {
		remove_targeted_decision = { target = THIS decision = UKR_urdp_right_influence_increase }
		remove_targeted_decision = { target = THIS decision = UKR_urdp_centre_influence_increase }
		remove_targeted_decision = { target = THIS decision = UKR_urdp_left_influence_increase }
		remove_targeted_decision = { target = THIS decision = UKR_urdp_right_influence_increase_2 }
		remove_targeted_decision = { target = THIS decision = UKR_urdp_left_influence_increase_2 }
		remove_mission = UKR_urdp_right_growth
		remove_mission = UKR_urdp_centre_growth
		remove_mission = UKR_urdp_left_growth
		remove_mission = UKR_urdp_right_opposition
		remove_mission = UKR_urdp_centre_opposition
		remove_mission = UKR_urdp_left_opposition
	}
}

UKR_AI_remove_PP_decision = {
	if = {
		limit = {
			OR = {
				has_country_flag = UKR_usdrp_pov
				has_country_flag = UKR_urdp_pov
				has_country_flag = UKR_uskhd_ai
				has_country_flag = UKR_udkhp_ai
				has_country_flag = UKR_SHD_tree
				has_game_rule = { rule = UKR_path option = UKR_PATH_HETMANATE_SOCLIB }
				has_game_rule = { rule = UKR_path option = UKR_PATH_HETMANATE_SOCDEM }
			}
		}
		if = {
			limit = {
				check_variable = { UKR_land_reforms_complete = 5 }
				check_variable = { UKR_industrial_reforms_complete > 14 }
			}
			remove_targeted_decision = { decision = AI_dont_spend_PP target = ROOT }
		}
	}
}
