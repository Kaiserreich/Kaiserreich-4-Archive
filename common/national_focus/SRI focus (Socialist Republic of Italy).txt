########################################
# Socialist Republic of Italy Focus Tree
# By The Irredentista and Alpinia
########################################

focus_tree = {
	id = KR_Socialist_Republic_Italy
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = SRI
		}
	}
	default = no

	continuous_focus_position = { x = 50 y = 1250 }

### Political Paths ###

	focus = {
		id = SRI_build_a_new_government
		icon = GFX_goal_generic_elections
		cost = 3

		x = 1
		y = 0

		available = {
			has_socialist_government = yes
			has_country_flag = SRI_1936_elections_held
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_build_a_new_government"
			remove_ideas = SRI_broken_orthodoxy
			country_event = socitaly.4
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
	}

	focus = {# Begin Risorgimento
		id = SRI_risorgimento
		icon = GFX_focus_ITA_cavalry_charge
		cost = 6

		x = -3
		y = 1

		available = {
			threat > 0.4
			has_army_manpower = { size > 249999 }
		}
		bypass = {
			is_subject = yes
		}
		ai_will_do = {
			factor = 50
			modifier = {
				factor = 2
				date > 1937.6.1
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
		}
		prerequisite = {
			focus = SRI_build_a_new_government
		}
		relative_position_id = SRI_build_a_new_government
		will_lead_to_war_with = ITA
		will_lead_to_war_with = LOM
		will_lead_to_war_with = VNC
		will_lead_to_war_with = SRD
		will_lead_to_war_with = SIC
		will_lead_to_war_with = PAP
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_risorgimento"
			add_political_power = 100
			add_war_support = 0.1
			effect_tooltip = {
				if = {
					limit = { country_exists = ITA }
					activate_targeted_decision = { decision = SRI_attack_italy target = ITA }
				}
				if = {
					limit = { country_exists = LOM }
					activate_targeted_decision = { decision = SRI_attack_italy target = LOM }
				}
				if = {
					limit = { country_exists = VNC }
					activate_targeted_decision = { decision = SRI_attack_italy target = VNC }
				}
				if = {
					limit = { country_exists = EMI }
					activate_targeted_decision = { decision = SRI_attack_italy target = EMI }
				}
				if = {
					limit = { country_exists = TUS }
					activate_targeted_decision = { decision = SRI_attack_italy target = TUS }
				}
				if = {
					limit = { country_exists = SIC }
					activate_targeted_decision = { decision = SRI_attack_italy target = SIC }
				}
				if = {
					limit = { country_exists = SRD }
					activate_targeted_decision = { decision = SRI_attack_italy target = SRD }
				}
				if = {
					limit = { country_exists = PAP }
					activate_targeted_decision = { decision = SRI_attack_italy target = PAP }
				}
			}
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }
	}

	focus = {# Research slot (political)
		id = SRI_attract_socialist_intellectuals
		icon = GFX_goal_red_star_green_wreath
		cost = 6

		relative_position_id = SRI_risorgimento
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_risorgimento
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_attract_socialist_intellectuals"
			add_research_slot_until_five = yes
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {# Military Exercises
		id = SRI_military_exercises
		icon = GFX_goal_military_academy
		cost = 6

		relative_position_id = SRI_risorgimento
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_risorgimento
		}
		ai_will_do = {
			factor = 30
			modifier = {
				factor = 2
				date > 1937.6.1
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
			modifier = {
				factor = 2
				date > 1938.6.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_military_exercises"
			army_experience = 25
			air_experience = 25
			add_timed_idea = { idea = SRI_recent_military_exercises_idea days = 365 }
		}
		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP }
	}

	focus = {# Naval Exercises
		id = SRI_naval_exericises
		icon = GFX_goal_generic_coastal_navy
		cost = 6

		relative_position_id = SRI_risorgimento
		x = -3
		y = 1

		prerequisite = {
			focus = SRI_risorgimento
		}
		ai_will_do = {
			factor = 30
			modifier = {
				factor = 2
				date > 1937.6.1
			}
			modifier = {
				factor = 2
				date > 1938.1.1
			}
			modifier = {
				factor = 2
				date > 1938.6.1
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_naval_exericises"
			navy_experience = 25
			add_timed_idea = { idea = SRI_recent_naval_exercises_idea days = 365 }
		}
		search_filters = { FOCUS_FILTER_NAVY_XP }
	}

	focus = {# Italian Irredentism
		id = SRI_italian_irredentism
		icon = GFX_SRI_irridentism
		cost = 6

		relative_position_id = SRI_build_a_new_government
		x = -1
		y = 1

		available = {
			has_country_flag = SRI_italy_unified_flag
		}
		prerequisite = {
			focus = SRI_build_a_new_government
		}
		ai_will_do = {
			factor = 30
			modifier = {
				factor = 2
				surrender_progress < 0.05
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_italian_irredentism"
			set_country_flag = italy_irredentist_decisions_unlocked
			custom_effect_tooltip = ITA_irredentist_decisions
			add_war_support = 0.10
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ANNEXATION }
	}

	focus = {# FMC, prewar
		id = SRI_deal_with_fmc
		icon = GFX_goal_SRD_army
		cost = 6

		relative_position_id = SRI_build_a_new_government
		x = 1
		y = 1
		bypass = {
			hidden_trigger = {
				NOT = {
					has_idea = SRI_fmc_idea_starter
				}
			}
		}
		prerequisite = {
			focus = SRI_build_a_new_government
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_deal_with_fmc"
			swap_ideas = {
				remove_idea = SRI_fmc_idea_starter
				add_idea = SRI_fmc_idea_still_here
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = -0.03
			}
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
	}

	focus = {# FMC, postwar
		id = SRI_crush_monarchist_militias
		icon = GFX_focus_rom_abdicate
		cost = 6

		relative_position_id = SRI_build_a_new_government
		x = 2
		y = 2

		available = {
			NOT = {
				has_country_leader = {
					character = SRI_enrico_caviglia
					ruling_only = no
				}
			}
		}
		prerequisite = {
			focus = SRI_deal_with_fmc
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_crush_monarchist_militias"
			remove_ideas = SRI_fmc_idea_3
			add_popularity = {
				ideology = paternal_autocrat
				popularity = -0.3
			}
			add_popularity = {
				ideology = national_populist
				popularity = -0.15
			}
			hidden_effect = {
				remove_targeted_decision = { target = FROM decision = SRI_expand_police_operations }
				remove_targeted_decision = { target = FROM decision = SRI_leave_an_opening_dec }
			}
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
	}

	focus = {
		id = SRI_making_the_new_italy
		icon = GFX_focus_ITA_the_italian_republic
		cost = 0

		x = 0
		y = 2

		available = {
			hidden_trigger = {
				always = no
			}
			has_country_flag = SRI_italy_unified_flag
		}
		relative_position_id = SRI_build_a_new_government
		prerequisite = {
			focus = SRI_build_a_new_government
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_making_the_new_italy"
			custom_effect_tooltip = socitaly.4.a.tt
			hidden_effect = {
				remove_targeted_decision = { target = FROM decision = SRI_abuse_the_presidency_bop_decision }
				remove_targeted_decision = { target = FROM decision = SRI_launch_strike_bop_decision }
				remove_targeted_decision = { target = FROM decision = SRI_let_blackshirts_loose_bop_decision }
				remove_targeted_decision = { target = FROM decision = SRI_negotiate_with_factory_cooperatives }
				country_event = { id = socitaly.8 hours = 6 }
			}
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
	}

	### Radsoc Path ###

	focus = {
		id = SRI_seven_points_manifesto
		icon = GFX_goal_ideology_radical_socialist
		cost = 0

		relative_position_id = SRI_build_a_new_government
		x = -7
		y = 3

		available = {
			hidden_trigger = {
				always = no
			}
		}
		prerequisite = {
			focus = SRI_making_the_new_italy
		}
		mutually_exclusive = {
			focus = SRI_the_syndicalist_orthodoxy
		}
		mutually_exclusive = {
			focus = SRI_the_fascist_revolution
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_seven_points_manifesto"
			set_politics = {
				ruling_party = radical_socialist
				elections_allowed = yes
				election_frequency = 60
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.1
			}
			activate_advisor = SRI_emilio_lussu_sic
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
	}

	focus = {
		id = SRI_revise_colonial_agreements
		icon = GFX_focus_generic_agriculture
		cost = 6

		relative_position_id = SRI_seven_points_manifesto
		x = -2
		y = 1

		available = {
			has_government = radical_socialist
		}
		prerequisite = {
			focus = SRI_seven_points_manifesto
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_revise_colonial_agreements"
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.1
			}
			add_ideas = SRI_new_agrarian_reform_idea
			country_event = { id = socitaly.142 days = 2 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESISTANCE }
	}

	focus = {
		id = SRI_enforced_secularism
		icon = GFX_goal_constitutional_guarantees
		cost = 6

		relative_position_id = SRI_seven_points_manifesto
		x = 0
		y = 1

		available = {
			has_government = radical_socialist
		}
		prerequisite = {
			focus = SRI_seven_points_manifesto
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_enforced_secularism"
			custom_effect_tooltip = SRI_focus_effects_depend_on_pope
			if = {
				limit = {
					PAP = {
						has_country_leader = {
							character = PAP_alfredo_schuster
							ruling_only = yes
						}
					}
				}
				country_event = socitaly.53
			}
			else_if = {
				limit = {
					PAP = {
						has_country_leader = {
							character = PAP_eugenio_pacelli
							ruling_only = yes
						}
					}
				}
				country_event = socitaly.50
			}
			else = {
				country_event = socitaly.65
			}
			add_popularity = {
				ideology = social_democrat
				popularity = 0.1
			}
			set_temp_variable = { coalition_partner_var = token:social_democrat }
			add_to_coalition = yes
			add_ideas = SRI_thought_and_action_idea
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS }
	}

	focus = {
		id = SRI_paneuropean_cooperation
		icon = GFX_goal_AUS_paneuropa
		cost = 6

		relative_position_id = SRI_seven_points_manifesto
		x = -1
		y = 2

		available = {
			has_government = radical_socialist
		}
		prerequisite = {
			focus = SRI_enforced_secularism
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_paneuropean_cooperation"
			if = {
				limit = {
					has_idea = SRI_thought_and_action_idea
				}
				swap_ideas = {
					remove_idea = SRI_thought_and_action_idea
					add_idea = SRI_thought_and_action_2_idea
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SRI_thought_and_action_2_idea
					add_idea = SRI_thought_and_action_3_idea
				}
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SRI_altiero_spinelli
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SRI_liberalise_the_unions
		icon = GFX_goal_generic_enforce_labor_regulation
		cost = 6

		relative_position_id = SRI_seven_points_manifesto
		x = 1
		y = 2

		available = {
			has_government = radical_socialist
		}
		prerequisite = {
			focus = SRI_enforced_secularism
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_liberalise_the_unions"
			add_war_support = 0.1
			add_popularity = {
				ideology = syndicalist
				popularity = -0.15
			}
			if = {
				limit = {
					has_idea = SRI_thought_and_action_idea
				}
				swap_ideas = {
					remove_idea = SRI_thought_and_action_idea
					add_idea = SRI_thought_and_action_2_idea
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SRI_thought_and_action_2_idea
					add_idea = SRI_thought_and_action_3_idea
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = SRI_regionalist_turn
		icon = GFX_goal_OTT_Land_Reform
		cost = 6

		relative_position_id = SRI_seven_points_manifesto
		x = -2
		y = 3

		available = {
			has_government = radical_socialist
		}
		prerequisite = {
			focus = SRI_revise_colonial_agreements
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_regionalist_turn"
			add_popularity = {
				popularity = 0.15
				ideology = radical_socialist
			}
			swap_ideas = {
				remove_idea = SRI_new_agrarian_reform_idea
				add_idea = SRI_new_agrarian_reform_2_idea
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESISTANCE }
	}

	focus = {
		id = SRI_constitutional_restoration
		icon = GFX_goal_generic_parliament2
		cost = 6

		relative_position_id = SRI_seven_points_manifesto
		x = -1
		y = 4

		available = {
			has_government = radical_socialist
			has_country_leader = {
				character = SRI_carlo_rosselli
				ruling_only = yes
			}
			has_war = no
			is_puppet = no
		}
		cancelable = no
		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus SRI_constitutional_restoration"
			country_event = { id = socitaly.138 days = 15 random_days = 5 }
		}
		mutually_exclusive = {
			focus = SRI_compromise_with_unions
		}
		prerequisite = {
			focus = SRI_regionalist_turn
		}
		prerequisite = {
			focus = SRI_paneuropean_cooperation
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				AND = {
					has_game_rule = { rule = SRI_path option = SRI_PATH_SALVEMINI_RADSOC }
					NOT = { has_completed_focus = SRI_break_enemies_of_democracy }
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_constitutional_restoration"
			country_event = socitaly.143
			hidden_effect = {
				meta_effect = {
					text = {
						set_politics = {
							ruling_party = var:current_party_ideology_group
							last_election = "[CURRENT_DATE]"
							election_frequency = 1
							elections_allowed = yes
						}
					}
					CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
				}
			}
			set_country_flag = SRI_reset_election_timer
			custom_effect_tooltip = SRI_constitutional_restoration_elections_tt
			custom_effect_tooltip = SRI_constitutional_restoration_tt
			set_cosmetic_tag = SRI_workers_republic
			swap_ideas = {
				remove_idea = SRI_thought_and_action_3_idea
				add_idea = SRI_thought_and_action_4_1_idea
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.1
			}
			set_temp_variable = { coalition_partner_var = token:social_liberal }
			add_to_coalition = yes
			add_popularity = {
				ideology = market_liberal
				popularity = 0.05
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.05
			}
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SRI_compromise_with_unions
		icon = GFX_goal_generic_workers_democracy
		cost = 6

		relative_position_id = SRI_seven_points_manifesto
		x = 1
		y = 4

		available = {
			has_government = radical_socialist
		}
		mutually_exclusive = {
			focus = SRI_constitutional_restoration
		}
		prerequisite = {
			focus = SRI_break_enemies_of_democracy
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = SRI_path option = SRI_PATH_SALVEMINI_RADSOC }
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_compromise_with_unions"
			country_event = { id = socitaly.144 days = 2 }
			swap_ideas = {
				remove_idea = SRI_thought_and_action_3_idea
				add_idea = SRI_thought_and_action_4_2_idea
			}
			add_popularity = {
				ideology = syndicalist
				popularity = 0.1
			}
			set_temp_variable = { coalition_partner_var = token:syndicalist }
			add_to_coalition = yes
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL FOCUS_FILTER_PRODUCTION }
	}

	focus = {
		id = SRI_break_enemies_of_democracy
		icon = GFX_goal_HOL_crackdown_totalist
		cost = 6

		relative_position_id = SRI_seven_points_manifesto
		x = 0
		y = 3

		available = {
			has_government = radical_socialist
		}
		prerequisite = {
			focus = SRI_paneuropean_cooperation
		}
		prerequisite = {
			focus = SRI_liberalise_the_unions
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				AND = {
					has_game_rule = { rule = SRI_path option = SRI_PATH_LUSSU_RADSOC }
					has_country_leader = {
						character = SRI_carlo_rosselli
						ruling_only = yes
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_break_enemies_of_democracy"
			add_popularity = {
				ideology = totalist
				popularity = -0.1
			}
			add_timed_idea = {
				idea = SRI_anti_squadrismo_idea
				days = 360
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	###	Syndie Path ###
	focus = {
		id = SRI_the_syndicalist_orthodoxy
		icon = GFX_goal_ideology_syndicalist
		cost = 0

		relative_position_id = SRI_build_a_new_government
		x = -1
		y = 3

		available = {
			hidden_trigger = {
				always = no
			}
		}
		prerequisite = {
			focus = SRI_making_the_new_italy
		}
		mutually_exclusive = {
			focus = SRI_the_fascist_revolution
		}
		mutually_exclusive = {
			focus = SRI_seven_points_manifesto
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_the_syndicalist_orthodoxy"
			set_politics = {
				ruling_party = syndicalist
				elections_allowed = yes
				election_frequency = 60
			}
			add_popularity = {
				ideology = syndicalist
				popularity = 0.1
			}
			activate_advisor = SRI_angelo_tasca_sic
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
	}

	focus = {
		id = SRI_empower_cgl
		icon = GFX_ITA_urban
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = -2
		y = 1

		prerequisite = {
			focus = SRI_the_syndicalist_orthodoxy
		}
		mutually_exclusive = {
			focus = SRI_follow_french_light
		}
		mutually_exclusive = {
			focus = SRI_empower_usi
		}
		available = {
			has_government = syndicalist
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SRI_path option = SRI_PATH_MESCHI_SYNDIE }
					AND = {
						has_game_rule = { rule = SRI_path option = SRI_PATH_NENNI_SYNDIE }
						FRA = { has_government = syndicalist }
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_empower_cgl"
			promote_character = SRI_giuseppe_di_vittorio
			activate_advisor = SRI_bruno_buozzi_sic
			add_ideas = SRI_urban_communes_idea
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL FOCUS_FILTER_PRODUCTION }
	}

	focus = {
		id = SRI_follow_french_light
		icon = GFX_goal_FRA_paris
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_the_syndicalist_orthodoxy
		}
		mutually_exclusive = {
			focus = SRI_empower_cgl
		}
		mutually_exclusive = {
			focus = SRI_empower_usi
		}
		available = {
			has_government = syndicalist
			FRA = {
				has_government = syndicalist
			}
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = SRI_path option = DEFAULT } }
				NOT = { has_game_rule = { rule = SRI_path option = SRI_PATH_NENNI_SYNDIE } }
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_follow_french_light"
			promote_character = SRI_pietro_nenni
			activate_advisor = SRI_bruno_buozzi_sic
			add_ideas = SRI_mixed_communes_idea
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL FOCUS_FILTER_PRODUCTION FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SRI_empower_usi
		icon = GFX_goal_agrarian_socialism
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = 2
		y = 1

		prerequisite = {
			focus = SRI_the_syndicalist_orthodoxy
		}
		mutually_exclusive = {
			focus = SRI_empower_cgl
		}
		mutually_exclusive = {
			focus = SRI_follow_french_light
		}
		available = {
			has_government = syndicalist
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SRI_path option = SRI_PATH_VITTORIO_SYNDIE }
					AND = {
						has_game_rule = { rule = SRI_path option = SRI_PATH_NENNI_SYNDIE }
						FRA = { has_government = syndicalist }
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_empower_usi"
			promote_character = SRI_alberto_meschi
			activate_advisor = SRI_armando_borghi_sic
			add_ideas = SRI_rural_communes_idea
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SRI_compromise_with_the_church
		icon = GFX_focus_generic_pope
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = -1
		y = 2

		prerequisite = {
			focus = SRI_empower_cgl
			focus = SRI_follow_french_light
		}
		mutually_exclusive = {
			focus = SRI_exclude_catholic_unions
		}
		available = {
			has_government = syndicalist
			NOT = {
				PAP = {
					OR = {
						has_country_leader = {
							character = PAP_alfredo_schuster
							ruling_only = yes
						}
						has_country_leader = {
							character = PAP_eugenio_pacelli
							ruling_only = yes
						}
					}
				}
			}
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_compromise_with_the_church"
			country_event = socitaly.65
			add_ideas = SRI_historic_compromise_idea
			add_popularity = {
				ideology = social_democrat
				popularity = 0.1
			}
			set_temp_variable = { coalition_partner_var = token:social_democrat }
			add_to_coalition = yes
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SRI_exclude_catholic_unions
		icon = GFX_focus_mex_triumph_over_the_cristeros
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = 1
		y = 2

		prerequisite = {
			focus = SRI_empower_cgl
			focus = SRI_follow_french_light
			focus = SRI_empower_usi
		}
		mutually_exclusive = {
			focus = SRI_compromise_with_the_church
		}
		available = {
			has_government = syndicalist
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_exclude_catholic_unions"
			custom_effect_tooltip = SRI_focus_effects_depend_on_pope
			if = {
				limit = {
					PAP = {
						has_country_leader = {
							character = PAP_alfredo_schuster
							ruling_only = yes
						}
					}
				}
				country_event = socitaly.53
			}
			else = {
				country_event = socitaly.50
			}
			add_ideas = SRI_new_anticlerical_offensive_idea
			add_popularity = {
				ideology = social_democrat
				popularity = -0.05
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.1
			}
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = SRI_achille_grandi
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SRI_crush_the_squadracce
		icon = GFX_focus_ITA_liberation_or_death
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = -2
		y = 3

		prerequisite = {
			focus = SRI_empower_cgl
		}
		available = {
			has_government = syndicalist
			has_country_leader = {
				character = SRI_giuseppe_di_vittorio
				ruling_only = yes
			}
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_crush_the_squadracce"
			add_stability = 0.05
			add_popularity = {
				ideology = totalist
				popularity = -0.2
			}
			set_temp_variable = { coalition_partner_var = token:radical_socialist }
			add_to_coalition = yes
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SRI_emilio_lussu_adv
			country_event = socitaly.132
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SRI_empower_federated_unions
		icon = GFX_focus_ITA_workers_unions
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = -3
		y = 2

		prerequisite = {
			focus = SRI_empower_cgl
		}
		available = {
			has_government = syndicalist
			has_country_leader = {
				character = SRI_giuseppe_di_vittorio
				ruling_only = yes
			}
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_empower_federated_unions"
			swap_ideas = {
				remove_idea = SRI_urban_communes_idea
				add_idea = SRI_federated_unions_idea
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_PRODUCTION }
	}

	focus = {
		id = SRI_the_spirit_of_parma
		icon = GFX_focus_ITA_peasants_rise
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = 3
		y = 2

		prerequisite = {
			focus = SRI_empower_usi
		}
		available = {
			has_government = syndicalist
			has_country_leader = {
				character = SRI_alberto_meschi
				ruling_only = yes
			}
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_the_spirit_of_parma"
			swap_ideas = {
				remove_idea = SRI_rural_communes_idea
				add_idea = SRI_the_spirit_of_parma_idea
			}
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = SRI_movement_of_true_action
		icon = GFX_goal_generic_red_guard
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = 5
		y = 2

		prerequisite = {
			focus = SRI_empower_usi
		}
		available = {
			has_government = syndicalist
			has_country_leader = {
				character = SRI_alberto_meschi
				ruling_only = yes
			}
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_movement_of_true_action"
			add_popularity = {
				ideology = syndicalist
				popularity = 0.1
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = -0.1
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SRI_ilio_baroni
			country_event = socitaly.133
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = SRI_appeal_to_socialist_unity
		icon = GFX_focus_ITA_il_sol_dell_avvenire
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = 0
		y = 3

		prerequisite = {
			focus = SRI_compromise_with_the_church
			focus = SRI_exclude_catholic_unions
		}
		available = {
			has_government = syndicalist
			has_country_leader = {
				character = SRI_pietro_nenni
				ruling_only = yes
			}
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_appeal_to_socialist_unity"
			add_popularity = {
				ideology = syndicalist
				popularity = 0.2
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SRI_giuseppe_saragat
			country_event = socitaly.134
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_PRODUCTION }
	}

	focus = {
		id = SRI_fight_for_internationalism
		icon = GFX_goal_FRA_Internationale_Congress
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = 1
		y = 4

		prerequisite = {
			focus = SRI_appeal_to_socialist_unity
		}
		available = {
			has_government = syndicalist
			has_country_leader = {
				character = SRI_pietro_nenni
				ruling_only = yes
			}
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_fight_for_internationalism"
			swap_ideas = {
				remove_idea = SRI_mixed_communes_idea
				add_idea = SRI_fight_for_internationalism_idea
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = SRI_the_federal_union
		icon = GFX_GBR_fate_of_unions
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = -1
		y = 4

		prerequisite = {
			focus = SRI_compromise_with_the_church
		}
		available = {
			has_government = syndicalist
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_the_federal_union"
			set_party_name = {
				ideology = syndicalist
				long_name = SRI_syndicalist_CGIL_party_long
				name = SRI_syndicalist_CGIL_party
			}
			add_popularity = {
				ideology = syndicalist
				popularity = 0.1
			}
			SRI_improve_historic_compromise = yes
			country_event = socitaly.135
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SRI_protect_local_democracy
		icon = GFX_focus_generic_bastion_of_democracy
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = -2
		y = 5

		prerequisite = {
			focus = SRI_the_federal_union
		}
		available = {
			has_government = syndicalist
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_protect_local_democracy"
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.01
			}
			SRI_improve_historic_compromise = yes
			country_event = { id = socitaly.131 days = 14 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SRI_emphasise_the_social_saints
		icon = GFX_goal_SHX_Christian_Influence
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = 0
		y = 5

		prerequisite = {
			focus = SRI_the_federal_union
		}
		available = {
			has_government = syndicalist
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_emphasise_the_social_saints"
			add_popularity = {
				ideology = social_democrat
				popularity = 0.05
			}
			SRI_improve_historic_compromise = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SRI_empower_chambers_of_labour
		icon = GFX_goal_revolution_tools
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = 2
		y = 3

		prerequisite = {
			focus = SRI_exclude_catholic_unions
		}
		available = {
			has_government = syndicalist
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_empower_chambers_of_labour"
			add_popularity = {
				ideology = totalist
				popularity = 0.02
			}
			add_popularity = {
				ideology = syndicalist
				popularity = 0.05
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.03
			}
			SRI_improve_anticlerical_offensive = yes
			country_event = { id = socitaly.136 days = 7 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SRI_revolutionary_expropriations
		icon = GFX_goal_generic_destruction_civil_war
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = 4
		y = 3

		prerequisite = {
			focus = SRI_exclude_catholic_unions
		}
		available = {
			has_government = syndicalist
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_revolutionary_expropriations"
			add_popularity = {
				ideology = social_conservative
				popularity = -0.05
			}
			SRI_improve_anticlerical_offensive = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SRI_building_a_new_mythos
		icon = GFX_goal_SRI_garibaldi
		cost = 6

		relative_position_id = SRI_the_syndicalist_orthodoxy
		x = 3
		y = 4

		prerequisite = {
			focus = SRI_empower_chambers_of_labour
		}
		prerequisite = {
			focus = SRI_revolutionary_expropriations
		}
		available = {
			has_government = syndicalist
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_building_a_new_mythos"
			add_war_support = 0.1
			SRI_improve_anticlerical_offensive = yes
			country_event = { id = socitaly.130 days = 3 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }
	}

	###	Totalist Path ###
	focus = {
		id = SRI_the_fascist_revolution
		icon = GFX_goal_ideology_totalist
		cost = 0

		relative_position_id = SRI_build_a_new_government
		x = 7
		y = 3

		available = {
			hidden_trigger = {
				always = no
			}
		}
		prerequisite = {
			focus = SRI_making_the_new_italy
		}
		mutually_exclusive = {
			focus = SRI_the_syndicalist_orthodoxy
		}
		mutually_exclusive = {
			focus = SRI_seven_points_manifesto
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_the_fascist_revolution"
			set_politics = {
				ruling_party = totalist
				elections_allowed = yes
				election_frequency = 60
			}
			add_popularity = {
				ideology = totalist
				popularity = 0.1
			}
			activate_advisor = SRI_alceste_de_ambris_sic
			hidden_effect = {
				country_event = { id = socitaly.41 days = 30 random_days = 30 }
			}
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
	}
	focus = {
		id = SRI_institutionalise_squadrismo
		icon = GFX_goal_generic_police_state
		cost = 6

		relative_position_id = SRI_the_fascist_revolution
		x = -1
		y = 1

		available = {
			has_government = totalist
		}
		prerequisite = {
			focus = SRI_the_fascist_revolution
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_institutionalise_squadrismo"
			add_stability = -0.075
			add_popularity = {
				ideology = radical_socialist
				popularity = -0.1
			}
			add_popularity = {
				ideology = social_democrat
				popularity = -0.05
			}
			add_popularity = {
				ideology = social_liberal
				popularity = -0.05
			}
			add_ideas = SRI_squadrismo_idea
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = SRI_abuse_dannunzian_rhetoric
		icon = GFX_focus_ITA_italian_hegemony
		cost = 6

		relative_position_id = SRI_the_fascist_revolution
		x = 1
		y = 1

		available = {
			has_government = totalist
		}
		prerequisite = {
			focus = SRI_the_fascist_revolution
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_abuse_dannunzian_rhetoric"
			add_political_power = 50
			add_popularity = {
				ideology = totalist
				popularity = 0.1
			}
			add_popularity = {
				ideology = syndicalist
				popularity = -0.15
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = SRI_leggi_fascistissime
		icon = GFX_goal_generic_dissolve_parliament1
		cost = 6

		relative_position_id = SRI_the_fascist_revolution
		x = 0
		y = 2

		available = {
			has_government = totalist
			has_idea = SRI_massive_protests_idea
		}
		prerequisite = {
			focus = SRI_the_fascist_revolution
		}
		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus SRI_leggi_fascistissime"
			set_country_flag = {
				flag = doing_fascist_focus
				days = 10
				value = 1
			}
			country_event = { id = socitaly.42 days = 15 }
		}
		cancelable = no
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_leggi_fascistissime"
			add_ideas = SRI_secret_polices
			add_popularity = {
				ideology = totalist
				popularity = 0.25
			}
			custom_effect_tooltip = SRI_leggi_fascistissime_tt
			hidden_effect = {
				set_politics = {
					ruling_party = totalist
					elections_allowed = no
				}
			}
			swap_ideas = {
				remove_idea = SRI_massive_protests_idea
				add_idea = SRI_party_opposition_idea
			}
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}
	focus = {
		id = SRI_reform_the_party
		icon = GFX_goal_generic_political_purge
		cost = 6

		relative_position_id = SRI_the_fascist_revolution
		x = -1
		y = 3

		available = {
			has_government = totalist
			is_puppet = no
			NOT = {
				has_country_leader = {
					character = SRI_alceste_de_ambris
					ruling_only = yes
				}
			}
		}
		cancelable = no
		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus SRI_reform_the_party"
			country_event = socitaly.46
		}
		prerequisite = {
			focus = SRI_leggi_fascistissime
		}
		mutually_exclusive = {
			focus = SRI_fulfill_sansepolcro
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_reform_the_party"
			swap_ideas = {
				remove_idea = SRI_party_opposition_idea
				add_idea = SRI_reformed_party_idea
			}
			if = {
				limit = {
					has_country_leader = {
						character = SRI_palmiro_togliatti
						ruling_only = yes
					}
				}
				set_party_name = {
					ideology = totalist
					long_name = SRI_totalist_pcdi_party_long
					name = SRI_totalist_pcdi_party
				}
			}
			else = {
				set_party_name = {
					ideology = totalist
					long_name = SRI_totalist_pnf_party_long
					name = SRI_totalist_pnf_party
				}
			}
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_PRODUCTION FOCUS_FILTER_RESISTANCE }
	}
	focus = {
		id = SRI_loyalty_to_mussolini
		icon = {
			value = GFX_focus_SOV_the_path_of_marxism_leninism
			trigger = {
				has_country_leader = {
					character = SRI_palmiro_togliatti
					ruling_only = yes
				}
			}
		}
		icon = {
			value = GFX_focus_ITA_culto_del_duce
		}
		dynamic = yes
		cost = 6

		relative_position_id = SRI_the_fascist_revolution
		x = -1
		y = 5

		available = {
			has_government = totalist
		}
		prerequisite = {
			focus = SRI_reform_the_party
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_loyalty_to_mussolini"
			if = {
				limit = {
					has_country_leader = {
						character = SRI_palmiro_togliatti
						ruling_only = yes
					}
				}
				add_trait = {
					character = SRI_palmiro_togliatti
					ideology = totalist_subtype
					trait = SRI_il_migliore
				}
				add_stability = 0.2
				add_popularity = {
					ideology = totalist
					popularity = 0.1
				}
				set_temp_variable = { coalition_partner_var = token:syndicalist }
				add_to_coalition = yes
				add_popularity = {
					ideology = syndicalist
					popularity = 0.1
				}
			}
			else = {
				set_cosmetic_tag = SRI_mussolini_rsi
				add_trait = {
					character = SRI_benito_mussolini
					ideology = totalist_subtype
					trait = SRI_il_duce
				}
				activate_advisor = SRI_empowered_presidency_sic
			}
			swap_ideas = {
				remove_idea = SRI_reformed_party_idea
				add_idea = SRI_reformed_party_2_idea
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_PRODUCTION FOCUS_FILTER_STABILITY }
	}
	focus = {
		id = SRI_create_the_national_guard
		icon = GFX_focus_ITA_guardia_nazionale_repubblicana
		cost = 6

		relative_position_id = SRI_the_fascist_revolution
		x = -2
		y = 4

		available = {
			has_government = totalist
		}
		prerequisite = {
			focus = SRI_reform_the_party
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_create_the_national_guard"
			swap_ideas = {
				remove_idea = SRI_secret_polices
				add_idea = SRI_national_guard_idea
			}
			add_popularity = {
				ideology = totalist
				popularity = 0.1
			}
			add_political_power = 50
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESISTANCE }
	}
	focus = {
		id = SRI_fulfill_sansepolcro
		icon = GFX_focus_ITA_generic_fascist_workers
		cost = 6

		relative_position_id = SRI_the_fascist_revolution
		x = 1
		y = 3

		available = {
			has_government = totalist
		}
		prerequisite = {
			focus = SRI_leggi_fascistissime
		}
		mutually_exclusive = {
			focus = SRI_reform_the_party
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				AND = {
					NOT = { has_game_rule = { rule = SRI_path option = DEFAULT } }
					has_country_leader = {
						character = SRI_benito_mussolini
						ruling_only = yes
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_fulfill_sansepolcro"
			swap_ideas = {
				remove_idea = SRI_party_opposition_idea
				add_idea = SRI_fulfilling_sansepolcro_idea
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESISTANCE }
	}
	focus = {
		id = SRI_the_black_flag
		icon = GFX_focus_ITA_blackshirts
		cost = 6

		relative_position_id = SRI_the_fascist_revolution
		x = 2
		y = 4

		available = {
			has_government = totalist
		}
		prerequisite = {
			focus = SRI_fulfill_sansepolcro
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_the_black_flag"
			set_cosmetic_tag = SRI_social_republic
			swap_ideas = {
				remove_idea = SRI_fulfilling_sansepolcro_idea
				add_idea = SRI_fulfilling_sansepolcro_2_idea
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESISTANCE FOCUS_FILTER_ANNEXATION }
	}
	focus = {
		id = SRI_complete_the_revolution
		icon = GFX_focus_ITA_the_social_republic_prevails
		cost = 6

		relative_position_id = SRI_the_fascist_revolution
		x = 2
		y = 5

		available = {
			has_government = totalist
			has_completed_focus = SRI_institutionalise_squadrismo
		}
		prerequisite = {
			focus = SRI_the_black_flag
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_complete_the_revolution"
			remove_ideas = {
				SRI_squadrismo_idea
				SRI_secret_polices
			}
			swap_ideas = {
				remove_idea = SRI_fulfilling_sansepolcro_2_idea
				add_idea = SRI_fulfilling_sansepolcro_3_idea
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESISTANCE FOCUS_FILTER_STABILITY }
	}
	focus = {
		id = SRI_coerce_the_church
		icon = GFX_focus_generic_vatican_state
		cost = 6

		relative_position_id = SRI_the_fascist_revolution
		x = 0
		y = 4

		available = {
			has_government = totalist
		}
		prerequisite = {
			focus = SRI_fulfill_sansepolcro
			focus = SRI_reform_the_party
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_coerce_the_church"
			custom_effect_tooltip = SRI_focus_effects_depend_on_pope
			add_popularity = {
				ideology = totalist
				popularity = 0.1
			}
			if = {
				limit = {
					OR = {
						has_completed_focus = SRI_fulfill_sansepolcro
						PAP = {
							has_country_leader = {
								character = PAP_alfredo_schuster
								ruling_only = yes
							}
						}
					}
				}
				country_event = socitaly.53
			}
			else_if = {
				limit = {
					PAP = {
						has_country_leader = {
							character = PAP_eugenio_pacelli
							ruling_only = yes
						}
					}
					SRI = {
						has_country_leader = {
							character = SRI_benito_mussolini
							ruling_only = yes
						}
					}
				}
				add_popularity = {
					ideology = social_conservative
					popularity = 0.1
				}
				set_temp_variable = { coalition_partner_var = token:social_conservative }
				add_to_coalition = yes
				country_event = socitaly.65
			}
			else = {
				country_event = socitaly.50
			}
		}
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL }
	}

	### New Economy-Military Tree ###
	focus = {
		id = SRI_create_enel
		icon = GFX_focus_generic_electricity
		cost = 6

		x = 16
		y = 0

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_create_enel"
			add_one_random_civilian_factory = yes
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_create_enel
				bonus = 1
				uses = 1
				category = industry
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_elettro_treno_rapido
		icon = GFX_focus_generic_railroad
		cost = 6

		relative_position_id = SRI_create_enel
		x = 2
		y = 0

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_elettro_treno_rapido"
			add_tech_bonus = {
				name = SRI_elettro_treno_rapido
				ahead_reduction = 1.5
				bonus = 0.5
				uses = 1
				category = train_tech
			}
			custom_effect_tooltip = tooltip_white_line
			build_railway = { #Turin to Viterbo
				level = 1
				start_province = 6780
				target_province = 6862
			}
			build_railway = { #Bologna to Viterbo
				level = 1
				start_province = 6606
				target_province = 6862
			}
			build_railway = { #Bologna to Ancona
				level = 1
				start_province = 6606
				target_province = 925
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_renew_the_ricostruzione_industriale
		icon = GFX_focus_ICE_embrace_the_workers_revolution
		cost = 6

		relative_position_id = SRI_create_enel
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_create_enel
			focus = SRI_elettro_treno_rapido
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_renew_the_ricostruzione_industriale"
			effect_tooltip = { add_ideas = SRI_iri_dummy }
			hidden_effect = {
				add_to_variable = { SRI_iri_consumer_goods_factor = -0.1 }
				add_dynamic_modifier = { modifier = SRI_istituto_per_la_ricostruzione_industriale_modifier }
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SRI_oscar_sinigaglia
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_foster_innovation
		icon = GFX_goal_brain
		cost = 6

		relative_position_id = SRI_renew_the_ricostruzione_industriale
		x = -4
		y = 1

		prerequisite = {
			focus = SRI_renew_the_ricostruzione_industriale
		}

		ai_will_do = { factor = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_foster_innovation"
			custom_effect_tooltip = SRI_modify_istituto_per_la_ricostruzione_industriale
			add_to_variable = {
				SRI_iri_research_speed_factor = 0.1
				tooltip = research_speed_factor_tooltip
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_legacy_of_marconi
		icon = GFX_EGY_Radio_Free_Cairo
		cost = 6

		relative_position_id = SRI_foster_innovation
		x = -1
		y = 2

		prerequisite = {
			focus = SRI_foster_innovation
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_legacy_of_marconi"
			add_tech_bonus = {
				name = SRI_legacy_of_marconi
				ahead_reduction = 2
				bonus = 1
				uses = 1
				category = electronics
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_cinecitta
		icon = GFX_goal_generic_propaganda_film
		cost = 6

		available = {
			controls_state = 2 #Latium
		}

		relative_position_id = SRI_legacy_of_marconi
		x = 0
		y = 2

		prerequisite = {
			focus = SRI_legacy_of_marconi
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_cinecitta"
			add_stability = 0.05
			add_war_support = 0.05
			add_political_power = 75
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_cinecitta
				bonus = 1
				uses = 1
				category = electronics
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = SRI_expand_turin_polytechnic_institute
		icon = GFX_focus_research2
		cost = 6

		relative_position_id = SRI_foster_innovation
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_foster_innovation
		}

		ai_will_do = { factor = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_expand_turin_polytechnic_institute"
			add_research_slot_until_five = yes
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_fermis_nuclear_research
		icon = GFX_focus_wonderweapons
		cost = 6

		available = {
			OR = {
				has_tech = atomic_research
				SRI_enrico_fermi = { is_hired_as_advisor = yes }
			}
		}

		relative_position_id = SRI_expand_turin_polytechnic_institute
		x = 0
		y = 2

		prerequisite = {
			focus = SRI_expand_turin_polytechnic_institute
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_fermis_nuclear_research"
			add_tech_bonus = {
				name = SRI_fermis_nuclear_research
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = nuclear
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_thermojet_experiments
		icon = GFX_focus_rocketry
		cost = 6

		relative_position_id = SRI_foster_innovation
		x = 1
		y = 2

		prerequisite = {
			focus = SRI_foster_innovation
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_thermojet_experiments"
			add_tech_bonus = {
				name = SRI_thermojet_experiments
				ahead_reduction = 1
				bonus = 1.0
				uses = 1
				category = jet_technology
				category = rocketry
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = SRI_gaetano_crocco
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIRFORCE_BONUS }
	}
	focus = {
		id = SRI_syndical_conglomerates
		icon = GFX_focus_ITA_workers_unions
		cost = 6

		relative_position_id = SRI_renew_the_ricostruzione_industriale
		x = -2
		y = 1

		prerequisite = {
			focus = SRI_renew_the_ricostruzione_industriale
		}
		mutually_exclusive = {
			focus = SRI_maintain_regional_unions
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_syndical_conglomerates"
			custom_effect_tooltip = SRI_modify_istituto_per_la_ricostruzione_industriale
			add_to_variable = {
				SRI_iri_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tooltip
			}
			add_to_variable = {
				production_factory_efficiency_gain_factor = -0.05
				tooltip = production_factory_efficiency_gain_factor_tooltip
			}
		}
		search_filters = { FOCUS_FILTER_PRODUCTION }
	}
	focus = {
		id = SRI_maximise_production_capacity
		icon = GFX_focus_SOV_merge_plants
		cost = 6

		relative_position_id = SRI_syndical_conglomerates
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_syndical_conglomerates
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_maximise_production_capacity"
			custom_effect_tooltip = SRI_modify_istituto_per_la_ricostruzione_industriale
			add_to_variable = {
				SRI_iri_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tooltip
			}
			add_to_variable = {
				SRI_iri_production_factory_efficiency_gain_factor = -0.05
				tooltip = production_factory_efficiency_gain_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_maximise_production_capacity
				ahead_reduction = 2
				uses = 1
				category = cat_production
			}
		}
		search_filters = { FOCUS_FILTER_PRODUCTION FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_maintain_regional_unions
		icon = GFX_goal_social_reforms
		cost = 6

		relative_position_id = SRI_renew_the_ricostruzione_industriale
		x = 6
		y = 1

		prerequisite = {
			focus = SRI_renew_the_ricostruzione_industriale
		}
		mutually_exclusive = {
			focus = SRI_syndical_conglomerates
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_maintain_regional_unions"
			custom_effect_tooltip = SRI_modify_istituto_per_la_ricostruzione_industriale
			add_to_variable = {
				SRI_iri_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tooltip
			}
			add_to_variable = {
				SRI_iri_production_factory_start_efficiency_factor = 0.05
				tooltip = production_factory_start_efficiency_factor_tooltip
			}
		}
		search_filters = { FOCUS_FILTER_PRODUCTION }
	}
	focus = {
		id = SRI_modern_production_lines
		icon = GFX_goal_generic_improve_industry
		cost = 6

		relative_position_id = SRI_maintain_regional_unions
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_maintain_regional_unions
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_modern_production_lines"
			custom_effect_tooltip = SRI_modify_istituto_per_la_ricostruzione_industriale
			add_to_variable = {
				SRI_iri_industrial_capacity_factory = 0.02
				tooltip = industrial_capacity_factory_tooltip
			}
			add_to_variable = {
				SRI_iri_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tooltip
			}
			add_to_variable = {
				SRI_iri_line_change_production_efficiency_factor = 0.1
				tooltip = line_change_production_efficiency_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_modern_production_lines
				ahead_reduction = 2
				uses = 1
				category = construction_tech
			}
		}
		search_filters = { FOCUS_FILTER_PRODUCTION FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_reform_the_iacp
		icon = GFX_collective_housing
		cost = 6

		relative_position_id = SRI_syndical_conglomerates
		x = 1
		y = 2

		prerequisite = {
			focus = SRI_syndical_conglomerates
			focus = SRI_maintain_regional_unions
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_reform_the_iacp"
			custom_effect_tooltip = SRI_modify_istituto_per_la_ricostruzione_industriale
			add_to_variable = {
				SRI_iri_political_power_factor = 0.05
				tooltip = pp_factor_tooltip
			}
			add_to_variable = {
				SRI_iri_compliance_growth = 0.1
				tooltip = compliance_growth_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_reform_the_iacp
				bonus = 0.75
				uses = 2
				category = construction_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESISTANCE }
	}
	focus = {
		id = SRI_the_eternal_city
		icon = GFX_PAP_legionary_spirit
		cost = 6

		available = {
			controls_state = 2 #Latium
			2 = { is_core_of = ROOT }
		}

		relative_position_id = SRI_reform_the_iacp
		x = -1
		y = 2

		prerequisite = {
			focus = SRI_reform_the_iacp
		}

		ai_will_do = { factor = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_the_eternal_city"
			2 = { #Latium
				increase_state_category_by_two_levels = yes
				add_dynamic_modifier = { modifier = SRI_eternal_city_modifier }
			}
		}
		search_filters = { FOCUS_FILTER_RESISTANCE FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_a_new_partenope
		icon = GFX_ITA_urban
		cost = 6

		available = {
			controls_state = 117 #Campania
			117 = { is_core_of = ROOT }
		}

		relative_position_id = SRI_reform_the_iacp
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_reform_the_iacp
		}

		ai_will_do = { factor = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_a_new_partenope"
			117 = { #Campania
				increase_state_category_by_one_level = yes
				if = {
					limit = { free_building_slots = { building = infrastructure size > 0 include_locked = yes } }
					add_extra_state_shared_building_slots = 2
				}
				else = {
					add_extra_state_shared_building_slots = 3
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				if = {
					limit = { free_building_slots = { building = infrastructure size > 0 include_locked = yes } }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESISTANCE FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_southern_reconstruction
		icon = GFX_focus_ITA_grande_rivolta_rurale
		cost = 6

		available = {
			controls_state = 156 #Calabria
			controls_state = 742 #Abruzzo
			156 = { is_core_of = ROOT }
			742 = { is_core_of = ROOT }
		}

		relative_position_id = SRI_a_new_partenope
		x = 0
		y = 2

		prerequisite = {
			focus = SRI_a_new_partenope
		}

		ai_will_do = { factor = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_southern_reconstruction"
			156 = { #Calabria
				increase_state_category_by_two_levels = yes
				if = {
					limit = { free_building_slots = { building = infrastructure size > 0 include_locked = yes } }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
				}
			}
			742 = { #Abruzzo
				increase_state_category_by_two_levels = yes
				if = {
					limit = { free_building_slots = { building = infrastructure size > 0 include_locked = yes } }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESISTANCE FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_tap_sicilian_potential
		icon = GFX_focus_generic_farmland
		cost = 6

		available = {
			controls_state = 115 #Sicily
			115 = { is_core_of = ROOT }
		}

		relative_position_id = SRI_southern_reconstruction
		x = -2
		y = 1

		prerequisite = {
			focus = SRI_southern_reconstruction
		}

		ai_will_do = { factor = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_tap_sicilian_potential"
			115 = { #Sicily
				increase_state_category_by_one_level = yes
				if = {
					limit = { free_building_slots = { building = infrastructure size > 0 include_locked = yes } }
					add_extra_state_shared_building_slots = 2
				}
				else = {
					add_extra_state_shared_building_slots = 3
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				if = {
					limit = { free_building_slots = { building = infrastructure size > 0 include_locked = yes } }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESISTANCE FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_rebuild_carbonia
		icon = GFX_goal_generic_coal_mining
		cost = 6

		available = {
			controls_state = 114 #Sardinia
			114 = { is_core_of = ROOT }
		}

		relative_position_id = SRI_southern_reconstruction
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_southern_reconstruction
		}

		ai_will_do = { factor = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_rebuild_carbonia"
			114 = { #Sardinia
				increase_state_category_by_one_level = yes
				if = {
					limit = { free_building_slots = { building = infrastructure size > 0 include_locked = yes } }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
				}
				add_resource = {
					type = steel
					amount = 12
					show_state_in_tooltip = no
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESISTANCE FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_modernise_the_apulian_fields
		icon = GFX_focus_generic_land_reclamation
		cost = 6

		available = {
			controls_state = 837 #Apulia
			837 = { is_core_of = ROOT }
		}

		relative_position_id = SRI_southern_reconstruction
		x = 2
		y = 1

		prerequisite = {
			focus = SRI_southern_reconstruction
		}

		ai_will_do = { factor = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_modernise_the_apulian_fields"
			837 = {
				increase_state_category_by_one_level = yes
			}
			custom_effect_tooltip = tooltip_white_line
			add_timed_idea = {
				idea = SRI_apulian_farming
				days = 400
			}
		}
		search_filters = { FOCUS_FILTER_RESISTANCE FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_reunite_the_italian_heartlands
		icon = GFX_focus_ETH_invite_italian_settlers
		cost = 6

		available = {
			controls_state = 158 #Piedmont
			controls_state = 159 #Lombardy
			controls_state = 160 #Venetia
			controls_state = 161 #Romagna
			controls_state = 838 #Liguria
			controls_state = 1004 #Emilia
			159 = { is_core_of = ROOT } #Lombardy
			160 = { is_core_of = ROOT } #Venetia
		}

		relative_position_id = SRI_reform_the_iacp
		x = 1
		y = 2

		prerequisite = {
			focus = SRI_reform_the_iacp
		}

		ai_will_do = { factor = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_reunite_the_italian_heartlands"
			158 = { #Piedmont
				set_building_level = { type = infrastructure level = 5 }
				add_extra_state_shared_building_slots = 1
			}
			159 = { #Lombardy
				set_building_level = { type = infrastructure level = 5 }
				add_extra_state_shared_building_slots = 1
			}
			160 = { #Venetia
				set_building_level = { type = infrastructure level = 5 }
				add_extra_state_shared_building_slots = 1
			}
			161 = { #Romagna
				set_building_level = { type = infrastructure level = 5 }
				add_extra_state_shared_building_slots = 1
			}
			838 = { #Liguria
				set_building_level = { type = infrastructure level = 5 }
				add_extra_state_shared_building_slots = 1
			}
			1004 = { #Emilia
				set_building_level = { type = infrastructure level = 5 }
				add_extra_state_shared_building_slots = 1
			}
		}
		search_filters = { FOCUS_FILTER_RESISTANCE FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_stabilimento_di_mirafiori
		icon = GFX_goal_generic_automobile
		cost = 6

		available = {
			controls_state = 158 #Piedmont
		}

		relative_position_id = SRI_syndical_conglomerates
		x = 2
		y = 1

		prerequisite = {
			focus = SRI_syndical_conglomerates
			focus = SRI_maintain_regional_unions
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_stabilimento_di_mirafiori"
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_finish_the_electrical_conversion
		icon = GFX_focus_generic_energy
		cost = 6

		relative_position_id = SRI_syndical_conglomerates
		x = 4
		y = 1

		prerequisite = {
			focus = SRI_syndical_conglomerates
			focus = SRI_maintain_regional_unions
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_finish_the_electrical_conversion"
			custom_effect_tooltip = SRI_modify_istituto_per_la_ricostruzione_industriale
			add_to_variable = {
				SRI_iri_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tooltip
			}
			add_to_variable = {
				SRI_iri_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_timed_idea = {
				idea = SRI_standardised_electrical_networks
				days = 365
			}
		}
		search_filters = { FOCUS_FILTER_PRODUCTION }
	}
	focus = {
		id = SRI_terni_city_of_steel
		icon = GFX_focus_generic_steel
		cost = 6

		available = {
			controls_state = 1005 #Umbria
		}

		relative_position_id = SRI_syndical_conglomerates
		x = 6
		y = 1

		prerequisite = {
			focus = SRI_syndical_conglomerates
			focus = SRI_maintain_regional_unions
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_terni_city_of_steel"
			1005 = { prioritize_state = yes }
			add_one_random_civilian_factory = yes
			custom_effect_tooltip = tooltip_white_line
			add_resource = {
				type = steel
				amount = 8
				state = 1005
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_expand_ilva
		icon = GFX_goal_generic_improve_industry
		cost = 6

		relative_position_id = SRI_finish_the_electrical_conversion
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_stabilimento_di_mirafiori
		}
		prerequisite = {
			focus = SRI_finish_the_electrical_conversion
		}
		prerequisite = {
			focus = SRI_terni_city_of_steel
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_expand_ilva"
			custom_effect_tooltip = SRI_modify_istituto_per_la_ricostruzione_industriale
			add_to_variable = {
				SRI_iri_local_resources_factor = 0.1
				tooltip = local_resources_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_military_factory = yes
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_expand_ilva
				bonus = 0.75
   				uses = 2
				category = excavation_tech
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_agip_operations_in_romagna
		icon = GFX_goal_chemical_industry
		cost = 6

		relative_position_id = SRI_expand_ilva
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_expand_ilva
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_agip_operations_in_romagna"
			custom_effect_tooltip = SRI_modify_istituto_per_la_ricostruzione_industriale
			add_to_variable = {
				SRI_iri_fuel_gain_factor_from_states = 0.05
				tooltip = fuel_gain_factor_from_states_tooltip
			}
			add_to_variable = {
				SRI_iri_production_oil_factor = 0.05
				tooltip = production_oil_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_fuel_silo = yes
			add_one_random_fuel_silo = yes
			add_one_random_fuel_silo = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_gomma_sintetica
		icon = GFX_focus_generic_rubber
		cost = 6

		relative_position_id = SRI_agip_operations_in_romagna
		x = 0
		y = 2

		prerequisite = {
			focus = SRI_agip_operations_in_romagna
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_gomma_sintetica"
			add_one_random_synthetic_refinery = yes
			add_one_random_synthetic_refinery = yes
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_gomma_sintetica
				bonus = 0.75
				uses = 2
				category = synth_resources
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_integrate_the_lombard_arms_industry
		icon = GFX_goal_munitions_factories
		cost = 6

		available = {
			controls_state = 159
		}

		relative_position_id = SRI_expand_ilva
		x = 0
		y = 2

		prerequisite = {
			focus = SRI_expand_ilva
		}

		ai_will_do = { factor = 40 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_integrate_the_lombard_arms_industry"
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_modernise_the_po_farmlands
		icon = GFX_goal_generic_agriculture2
		cost = 6

		relative_position_id = SRI_expand_ilva
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_expand_ilva
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				OR = {
					NOT = { controls_state = 159 } #Lombardy
					NOT = { controls_state = 160 } #Venetia
				}
			}
			modifier = {
				factor = 2
				has_war = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_modernise_the_po_farmlands"
			random_owned_controlled_state = {
				prioritize = { 158 }
				limit = {
					is_core_of = ROOT
					free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
					is_valid_state_for_development = yes
					prefer_home_area_states_unless_filled = yes
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 1004 }
				limit = {
					is_core_of = ROOT
					free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
					is_valid_state_for_development = yes
					prefer_home_area_states_unless_filled = yes
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 161 }
				limit = {
					is_core_of = ROOT
					free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
					is_valid_state_for_development = yes
					prefer_home_area_states_unless_filled = yes
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = { NOT = { controls_state = 159 } }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = SRI_will_build_in_lombardy_if_owned
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 159 }
					limit = {
						is_core_of = ROOT
						free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
						is_valid_state_for_development = yes
						prefer_home_area_states_unless_filled = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { NOT = { controls_state = 160 } }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = SRI_will_build_in_venetia_if_owned
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 160 }
					limit = {
						is_core_of = ROOT
						free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
						is_valid_state_for_development = yes
						prefer_home_area_states_unless_filled = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_modernise_the_armata_rossa
		icon = GFX_SRI_army
		cost = 6

		relative_position_id = SRI_elettro_treno_rapido
		x = 14
		y = 0

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_modernise_the_armata_rossa"
			army_experience = 20
			add_doctrine_cost_reduction = {
				name = SRI_modernise_the_armata_rossa
				cost_reduction = 0.75
				uses = 1
				category = land_doctrine
			}
			add_tech_bonus = {
				name = SRI_modernise_the_armata_rossa
				bonus = 0.25
				uses = 2
				category = infantry_weapons
				category = support_tech
				category = armor
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_commissione_armi_e_munizioni
		icon = GFX_goal_generic_design_equipment_standards
		cost = 6

		relative_position_id = SRI_modernise_the_armata_rossa
		x = -8
		y = 4

		prerequisite = {
			focus = SRI_modernise_the_armata_rossa
		}
		prerequisite = {
			focus = SRI_syndical_conglomerates
			focus = SRI_maintain_regional_unions
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_commissione_armi_e_munizioni"
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
			if = {
				limit = { has_dlc_nsb = yes }
				custom_effect_tooltip = tooltip_white_line
				if = {
					limit = { has_tech = tech_engineers2 }
					SRI_add_flamethrower_tank_variant = yes
				}
				else = {
					custom_effect_tooltip = SRI_upon_researching_engineers_2
					effect_tooltip = { SRI_add_flamethrower_tank_variant = yes }
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = SRI_motorise_the_bersaglieri
		icon = GFX_goal_generic_mobile_trucks
		cost = 6

		relative_position_id = SRI_commissione_armi_e_munizioni
		x = -2
		y = 1

		prerequisite = {
			focus = SRI_commissione_armi_e_munizioni
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_motorise_the_bersaglieri"
			add_tech_bonus = {
				name = SRI_motorise_the_bersaglieri
				uses = 1
				bonus = 1
				category = motorized_equipment
			}
			custom_effect_tooltip = tooltip_white_line
			set_technology = { bicycle_infantry = 1 popup = no }
			if = {
				limit = { has_template = "Divisione Bersaglieri" }
				delete_unit_template_and_units = { division_template = "Divisione Bersaglieri" disband = yes } #no cheating
			}
			division_template = {
				name = "Divisione Bersaglieri"
				division_names_group = SRI_INF_01
				regiments = {
					bicycle_battalion = { x = 0 y = 0 }
					bicycle_battalion = { x = 0 y = 1 }
					bicycle_battalion = { x = 0 y = 2 }
					bicycle_battalion = { x = 1 y = 0 }
					bicycle_battalion = { x = 1 y = 1 }
					bicycle_battalion = { x = 1 y = 2 }
				}
				support = {
					engineer = { x = 0 y = 0 }
					artillery = { x = 0 y = 1 }
				}
			}
			random_owned_controlled_state = {
				limit = { is_in_home_area = yes }
				create_unit = {
					division = "name = \"1a Divisione Bersaglieri\" division_template = \"Divisione Bersaglieri\" start_experience_factor = 0.3"
					owner = ROOT
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_carri_di_rottura
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		cost = 6

		available = {
			if = {
				limit = { has_dlc_nsb = yes }
				has_tech = radio
				custom_trigger_tooltip = {
					tooltip = SRI_has_tech_interwar_antiair
					has_tech = interwar_antiair
				}
				custom_trigger_tooltip = {
					tooltip = SRI_has_tech_interwar_antitank
					has_tech = interwar_antitank
				}
			}
		}

		relative_position_id = SRI_motorise_the_bersaglieri
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_motorise_the_bersaglieri
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_carri_di_rottura"
			add_one_random_military_factory = yes
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_carri_di_rottura
				bonus = 1
				uses = 1
				category = armor
			}
			if = {
				limit = { has_dlc_nsb = yes }
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "L6"
					type = light_tank_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_auto_cannon
						turret_type_slot = tank_light_one_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 4
						tank_nsb_armor_upgrade = 2
					}
				}
				create_equipment_variant = {
					name = "M11/39"
					type = medium_tank_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_high_velocity_cannon
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = secondary_turret_hmg
					}
					upgrades = {
						tank_nsb_engine_upgrade = 3
						tank_nsb_armor_upgrade = 2
					}
				}
				create_equipment_variant = {
					name = "M11/41"
					type = medium_tank_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = additional_machine_guns
						special_type_slot_2 = tank_radio_1
					}
					upgrades = {
						tank_nsb_engine_upgrade = 3
						tank_nsb_armor_upgrade = 3
					}
				}
				create_equipment_variant = {
					name = "P26"
					type = heavy_tank_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_heavy_cannon
						turret_type_slot = tank_heavy_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = tank_radio_1
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 6
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_semoventi_dartiglieria
		icon = GFX_focus_generic_self_propelled_gun
		cost = 6

		available = {
			if = {
				limit = { has_dlc_nsb = yes }
				has_tech = radio
				custom_trigger_tooltip = {
					tooltip = SRI_has_tech_interwar_antiair
					has_tech = interwar_antiair
				}
				has_tech = interwar_artillery
				custom_trigger_tooltip = {
					tooltip = SRI_has_tech_interwar_antitank
					has_tech = interwar_antitank
				}
			}
		}

		relative_position_id = SRI_motorise_the_bersaglieri
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_howitzer_standardisation
		}
		prerequisite = {
			focus = SRI_motorise_the_bersaglieri
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_semoventi_dartiglieria"
			add_one_random_military_factory = yes
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_semoventi_dartiglieria
				uses = 1
				bonus = 1
				category = armor
			}
			if = {
				limit = { has_dlc_nsb = yes }
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "L3 Contro Carro"
					type = light_tank_destroyer_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_high_velocity_cannon
						turret_type_slot = tank_light_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 1
						tank_nsb_armor_upgrade = 1
					}
				}
				create_equipment_variant = {
					name = "L6 Contro Carro"
					type = light_tank_destroyer_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon
						turret_type_slot = tank_light_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 4
						tank_nsb_armor_upgrade = 2
					}
				}
				create_equipment_variant = {
					name = "M11/39 Contro Carro"
					type = medium_tank_destroyer_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_high_velocity_cannon
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 3
						tank_nsb_armor_upgrade = 3
					}
				}
				create_equipment_variant = {
					name = "M11/41 Contro Carro"
					type = medium_tank_destroyer_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_high_velocity_cannon
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
					}
					upgrades = {
						tank_nsb_engine_upgrade = 4
						tank_nsb_armor_upgrade = 4
					}
				}
				create_equipment_variant = {
					name = "Semovente M11/39"
					type = medium_tank_artillery_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_close_support_gun
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
					}
					upgrades = {
						tank_nsb_engine_upgrade = 4
						tank_nsb_armor_upgrade = 3
					}
				}
				create_equipment_variant = {
					name = "Semovente M11/41"
					type = medium_tank_artillery_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_howitzer
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = additional_machine_guns
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 4
					}
				}
				create_equipment_variant = {
					name = "Semovente M11/41 Contraereo"
					type = medium_tank_aa_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_anti_air_cannon
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 4
						tank_nsb_armor_upgrade = 4
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_ferrea_mole_ferreo_cuore
		icon = GFX_focus_ITA_ferrea_mole_ferreo_cuore
		cost = 6

		relative_position_id = SRI_motorise_the_bersaglieri
		x = 0
		y = 2

		prerequisite = {
			focus = SRI_semoventi_dartiglieria
			focus = SRI_carri_di_rottura
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_ferrea_mole_ferreo_cuore"
			SRI_add_upon_completion_lp_ga_tooltip_if_necessary = yes
			SRI_get_modify_army_dynmod_custom_effect_tooltip = yes
			add_to_variable = {
				SRI_ar_army_armor_defence_factor = 0.05
				tooltip = army_armor_defence_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_army_armor_speed_factor = 0.05
				tooltip = army_armor_speed_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_ferrea_mole_ferreo_cuore
				ahead_reduction = 2
				bonus = 1
				uses = 1
				category = armor
			}
			if = {
				limit = { has_dlc_nsb = yes }
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "M16/43"
					type = medium_tank_chassis_3
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_torsion_bar_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 3
					}
				}
				create_equipment_variant = {
					name = "M43 Contro Carro"
					type = medium_tank_destroyer_chassis_3
					parent_version = 0
					modules = {
						main_armament_slot = tank_heavy_cannon
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = tank_radio_1
					}
					upgrades = {
						tank_nsb_engine_upgrade = 7
						tank_nsb_armor_upgrade = 4
					}
				}
				create_equipment_variant = {
					name = "Semovente M43"
					type = medium_tank_artillery_chassis_3
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_howitzer
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 4
					}
				}
				create_equipment_variant = {
					name = "Semovente M43 Contraereo"
					type = medium_tank_aa_chassis_3
					parent_version = 0
					modules = {
						main_armament_slot = tank_anti_air_cannon
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 4
						tank_nsb_armor_upgrade = 4
					}
				}
				create_equipment_variant = {
					name = "P43"
					type = heavy_tank_chassis_3
					parent_version = 0
					modules = {
						main_armament_slot = tank_heavy_cannon
						turret_type_slot = tank_heavy_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = tank_radio_1
					}
					upgrades = {
						tank_nsb_engine_upgrade = 10
						tank_nsb_armor_upgrade = 8
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_howitzer_standardisation
		icon = GFX_focus_SWE_let_fly_all_guns
		cost = 6

		relative_position_id = SRI_commissione_armi_e_munizioni
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_commissione_armi_e_munizioni
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_howitzer_standardisation"
			add_tech_bonus = {
				name = SRI_howitzer_standardisation
				bonus = 0.75
				uses = 2
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_cannone_da_novanta
		icon = GFX_goal_generic_army_artillery
		cost = 6

		available = {
			has_tech = interwar_artillery
		}

		relative_position_id = SRI_howitzer_standardisation
		x = 0
		y = 2

		prerequisite = {
			focus = SRI_howitzer_standardisation
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_cannone_da_novanta"
			SRI_add_upon_completion_lp_ga_tooltip_if_necessary = yes
			SRI_get_modify_army_dynmod_custom_effect_tooltip = yes
			add_to_variable = {
				SRI_ar_breakthrough_factor = 0.05
				tooltip = breakthrough_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_army_artillery_defence_factor = 0.05
				tooltip = army_artillery_defence_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_military_factory = yes
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_cannone_da_novanta
				ahead_reduction = 2
				bonus = 1
				uses = 1
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_replace_the_six_point_five_milimetres
		icon = GFX_focus_generic_military_equipment
		cost = 6

		relative_position_id = SRI_commissione_armi_e_munizioni
		x = 2
		y = 1

		prerequisite = {
			focus = SRI_commissione_armi_e_munizioni
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_replace_the_six_point_five_milimetres"
			add_tech_bonus = {
				name = SRI_replace_the_six_point_five_milimetres
				bonus = 0.75
				uses = 2
				category = infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_armaguerra
		icon = GFX_focus_ETH_freedom_at_gunpoint
		cost = 6

		available = {
			custom_trigger_tooltip = {
				tooltip = SRI_has_tech_infantry_weapons2
				has_tech = infantry_weapons2
			}
			custom_trigger_tooltip = {
				tooltip = SRI_has_tech_support_weapons2
				has_tech = support_weapons2
			}
		}

		relative_position_id = SRI_replace_the_six_point_five_milimetres
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_replace_the_six_point_five_milimetres
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_armaguerra"
			add_tech_bonus = {
				name = SRI_armaguerra
				ahead_reduction = 2
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_telo_mimetico
		icon = GFX_focus_prc_infiltration
		cost = 6

		available = {
			custom_trigger_tooltip = {
				tooltip = SRI_has_tech_infantry_weapons2
				has_tech = infantry_weapons2
			}
			custom_trigger_tooltip = {
				tooltip = SRI_has_tech_support_weapons2
				has_tech = support_weapons2
			}
		}

		relative_position_id = SRI_replace_the_six_point_five_milimetres
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_replace_the_six_point_five_milimetres
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_telo_mimetico"
			SRI_add_upon_completion_lp_ga_tooltip_if_necessary = yes
			SRI_get_modify_army_dynmod_custom_effect_tooltip = yes
			add_to_variable = {
				SRI_ar_max_dig_in = 5
				tooltip = max_dig_in_tooltip
			}
			add_to_variable = {
				SRI_ar_dig_in_speed_factor = 0.05
				tooltip = dig_in_speed_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_telo_mimetico
				bonus = 0.75
				uses = 2
				category = support_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = SRI_la_legione_proletaria
		icon = GFX_focus_SOV_builder_of_the_red_army
		cost = 6

		relative_position_id = SRI_modernise_the_armata_rossa
		x = -4
		y = 1

		prerequisite = {
			focus = SRI_modernise_the_armata_rossa
		}
		mutually_exclusive = {
			focus = SRI_la_guardia_rossa
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_la_legione_proletaria"
			effect_tooltip = { add_ideas = SRI_legione_proletaria_dummy }
			hidden_effect = {
				add_to_variable = { SRI_ar_conscription = 0.005 }
				add_dynamic_modifier = { modifier = SRI_legione_proletaria_modifier }
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = SRI_la_legione_proletaria
				cost_reduction = 0.25
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER }
	}
	focus = {
		id = SRI_establish_military_inspectorate
		icon = GFX_goal_generic_army_cooperation
		cost = 6

		relative_position_id = SRI_la_legione_proletaria
		x = -2
		y = 1

		prerequisite = {
			focus = SRI_la_legione_proletaria
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_establish_military_inspectorate"
			army_experience = 25
			add_command_power = 25
			custom_effect_tooltip = SRI_modify_legione_proletaria
			add_to_variable = {
				SRI_ar_army_org_factor = 0.05
				tooltip = army_org_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_army_morale_factor = 0.05
				tooltip = army_morale_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_army_infantry_defence_factor = 0.05
				tooltip = army_infantry_defence_factor_tooltip
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_ARMY_XP }
	}
	focus = {
		id = SRI_one_army_one_command
		icon = GFX_focus_SOV_mobilization_plan
		cost = 6

		relative_position_id = SRI_establish_military_inspectorate
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_establish_military_inspectorate
		}
		mutually_exclusive = {
			focus = SRI_maintain_officer_autonomy
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_one_army_one_command"
			custom_effect_tooltip = SRI_modify_legione_proletaria
			add_to_variable = {
				SRI_ar_max_command_power_mult = 0.15
				tooltip = max_command_power_mult_tooltip
			}
			add_to_variable = {
				SRI_ar_command_power_gain_mult = 0.15
				tooltip = command_power_gain_mult_tooltip
			}
			add_to_variable = {
				SRI_ar_army_advisor_cost_factor = -0.33
				tooltip = army_advisor_cost_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = SRI_one_army_one_command
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = SRI_maintain_officer_autonomy
		icon = GFX_goal_generic_red_guard
		cost = 6

		relative_position_id = SRI_establish_military_inspectorate
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_establish_military_inspectorate
		}
		mutually_exclusive = {
			focus = SRI_one_army_one_command
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_maintain_officer_autonomy"
			custom_effect_tooltip = SRI_modify_legione_proletaria
			add_to_variable = {
				SRI_ar_army_org_factor = 0.05
				tooltip = army_org_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_experience_gain_factor = 0.1
				tooltip = experience_gain_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_out_of_supply_factor = -0.1
				tooltip = out_of_supply_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = SRI_maintain_officer_autonomy
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = SRI_ragruppamenti_esploranti
		icon = GFX_focus_prc_infiltration
		cost = 6

		relative_position_id = SRI_la_legione_proletaria
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_la_legione_proletaria
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_ragruppamenti_esploranti"
			custom_effect_tooltip = SRI_modify_legione_proletaria
			if = {
				limit = { has_dlc_lar = yes }
				add_to_variable = {
					modifier_army_sub_unit_armored_car_max_org_factor = 0.1
					tooltip = modifier_army_sub_unit_armored_car_max_org_factor_tooltip
				}
			}
			custom_effect_tooltip = improved_recon_units_tech_effect_tooltip
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = long_range_patrol_support_tech_effect
			hidden_effect = {
				set_technology = { improved_recon_units_tech = 1 popup = no }
				set_technology = { long_range_patrol_support_tech = 1 popup = no }
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_ragruppamenti_esploranti
				bonus = 1
				uses = 1
				category = recon_tech
			}
			if = {
				limit = { has_dlc_lar = yes }
				add_tech_bonus = {
					name = SRI_ragruppamenti_esploranti
					bonus = 1
					uses = 1
					category = cat_armored_cars
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_corpo_darmata_di_manovra
		icon = GFX_focus_generic_tankette
		cost = 6

		relative_position_id = SRI_ragruppamenti_esploranti
		x = 0
		y = 2

		prerequisite = {
			focus = SRI_ragruppamenti_esploranti
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_corpo_darmata_di_manovra"
			custom_effect_tooltip = SRI_modify_legione_proletaria
			add_to_variable = {
				SRI_ar_army_armor_attack_factor = 0.05
				tooltip = army_armor_attack_factor_tooltip
			}
			custom_effect_tooltip = SRI_armour_production_bonus
			if = {
				limit = { has_dlc_lar = yes }
				custom_effect_tooltip = SRI_armoured_car_production_bonus
				hidden_effect = {
					add_ideas = SRI_lp_hidden_armor_production_bonus
				}
			}
			else = {
				custom_effect_tooltip = SRI_armour_production_bonus
				hidden_effect = {
					add_ideas = SRI_lp_hidden_armor_production_bonus_no_lar
				}
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_nsb = yes }
				add_tech_bonus = {
					name = SRI_corpo_darmata_di_manovra
					bonus = 1
					uses = 1
					category = armor
				}
				if = {
					limit = { has_dlc_lar = yes }
					add_tech_bonus = {
						name = SRI_ragruppamenti_esploranti
						bonus = 0.75
						uses = 1
						category = cat_armored_cars
					}
				}
				custom_effect_tooltip = tooltip_white_line
				create_equipment_variant = {
					name = "M13/40"
					type = medium_tank_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = additional_machine_guns
						special_type_slot_2 = tank_radio_1
					}
					upgrades = {
						tank_nsb_engine_upgrade = 2
						tank_nsb_armor_upgrade = 3
					}
				}
				create_equipment_variant = {
					name = "M15/42"
					type = medium_tank_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon_2
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = additional_machine_guns
						special_type_slot_2 = tank_radio_1
					}
					upgrades = {
						tank_nsb_engine_upgrade = 4
						tank_nsb_armor_upgrade = 5
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = SRI_corpo_darmata_di_manovra
					bonus = 0.75
					uses = 2
					category = armor
				}
				if = {
					limit = { has_dlc_lar = yes }
					add_tech_bonus = {
						name = SRI_ragruppamenti_esploranti
						bonus = 0.75
						uses = 1
						category = cat_armored_cars
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH FOCUS_FILTER_PRODUCTION }
	}
	focus = {
		id = SRI_reform_modena_military_academy
		icon = GFX_focus_generic_military_academy
		cost = 6

		relative_position_id = SRI_la_legione_proletaria
		x = 2
		y = 1

		prerequisite = {
			focus = SRI_la_legione_proletaria
			focus = SRI_la_guardia_rossa
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_reform_modena_military_academy"
			army_experience = 15
			add_doctrine_cost_reduction = {
				name = SRI_reform_modena_military_academy
				cost_reduction = 0.75
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_ARMY_XP }
	}
	focus = {
		id = SRI_gruppi_di_difesa_della_donna
		icon = GFX_focus_generic_women_in_military
		cost = 6

		relative_position_id = SRI_reform_modena_military_academy
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_reform_modena_military_academy
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_gruppi_di_difesa_della_donna"
			add_stability = 0.05
			add_war_support = 0.05
			SRI_get_modify_army_dynmod_custom_effect_tooltip = yes
			add_to_variable = {
				SRI_ar_conscription_factor = 0.1
				tooltip = conscription_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			show_unit_leaders_tooltip = SRI_ines_donati
			show_unit_leaders_tooltip = SRI_piera_gatteschi_fondelli
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SRI_ada_gobetti
			custom_effect_tooltip = tooltip_white_line
			set_rule = { can_generate_female_aces = yes }
			hidden_effect = {
				SRI_ines_donati = { set_nationality = ROOT }
				SRI_piera_gatteschi_fondelli = { set_nationality = ROOT }
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }
	}
	focus = {
		id = SRI_vallo_alpino
		icon = GFX_focus_ITA_alpine_division
		cost = 6

		available = {
			has_full_control_of_state = 158 #Piedmont
			has_full_control_of_state = 159 #Lombardy
			has_full_control_of_state = 160 #Venetia
			has_full_control_of_state = 759 #Friuli
			has_full_control_of_state = 838 #Liguria
			has_full_control_of_state = 1003 #Aosta Valley
		}

		relative_position_id = SRI_reform_modena_military_academy
		x = 0
		y = 2

		prerequisite = {
			focus = SRI_reform_modena_military_academy
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_vallo_alpino"
			hidden_effect = {
				every_owned_state = {
					limit = {
						OR = {
							state = 158 #Piedmont
							state = 159 #Lombardy
							state = 160 #Venetia
							state = 759 #Friuli
							state = 838 #Liguria
							state = 1003 #Aosta Valley

							#extras
							state = 103 #Rijeka
							state = 488 #Trieste
							state = 683 #Gorizia
							state = 735 #Savoy
							state = 736 #Istria
							state = 761 #Ticino
							state = 762 #Nice
							state = 783 #Trentino
							state = 943 #Upper Savoy
						}
						is_fully_controlled_by = ROOT
						is_italy_or_potential_claim = yes
						any_neighbor_state = { NOT = { is_owned_by = ROOT } }
					}
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
						level = 2
						instant_build = yes
					}
				}
			}
			effect_tooltip = {
				every_state = {
					display_individual_scopes = yes
					limit = {
						OR = {
							state = 158 #Piedmont
							state = 159 #Lombardy
							state = 160 #Venetia
							state = 759 #Friuli
							state = 838 #Liguria
							state = 1003 #Aosta Valley
						}
					}
					custom_effect_tooltip = SRI_add_two_forts_in_border_provinces
				}
				if = {
					limit = {
						OR = {
							103 = { NOT = { is_owned_by = ROOT } } #Rijeka
							103 = { NOT = { is_fully_controlled_by = ROOT } } #Rijeka
							488 = { NOT = { is_owned_by = ROOT } } #Trieste
							488 = { NOT = { is_fully_controlled_by = ROOT } } #Trieste
							683 = { NOT = { is_owned_by = ROOT } } #Gorizia
							683 = { NOT = { is_fully_controlled_by = ROOT } } #Gorizia
							735 = { NOT = { is_owned_by = ROOT } } #Savoy
							735 = { NOT = { is_fully_controlled_by = ROOT } } #Savoy
							736 = { NOT = { is_owned_by = ROOT } } #Istria
							736 = { NOT = { is_fully_controlled_by = ROOT } } #Istria
							761 = { NOT = { is_owned_by = ROOT } } #Ticino
							761 = { NOT = { is_fully_controlled_by = ROOT } } #Ticino
							762 = { NOT = { is_owned_by = ROOT } } #Nice
							762 = { NOT = { is_fully_controlled_by = ROOT } } #Nice
							783 = { NOT = { is_owned_by = ROOT } } #Trentino
							783 = { NOT = { is_fully_controlled_by = ROOT } } #Trentino
							943 = { NOT = { is_owned_by = ROOT } } #Upper Savoy
							943 = { NOT = { is_fully_controlled_by = ROOT } } #Upper Savoy
						}
					}
					custom_effect_tooltip = tooltip_white_line
					custom_effect_tooltip = SRI_if_fully_controlled
					every_state = {
						display_individual_scopes = yes
						limit = {
							OR = {
								state = 103 #Rijeka
								state = 488 #Trieste
								state = 683 #Gorizia
								state = 735 #Savoy
								state = 736 #Istria
								state = 761 #Ticino
								state = 762 #Nice
								state = 783 #Trentino
								state = 943 #Upper Savoy
							}
							OR = {
								NOT = { is_owned_by = ROOT }
								NOT = { is_fully_controlled_by = ROOT }
							}
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_arditi_del_popolo
		icon = GFX_goal_ITA_Arditi
		cost = 6

		relative_position_id = SRI_reform_modena_military_academy
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_reform_modena_military_academy
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_arditi_del_popolo"
			army_experience = 15
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = tech_assault_battalion_effect
			hidden_effect = {
				set_technology = { tech_assault_battalion = 1 popup = no }
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = SRI_corpo_speciale
		icon = GFX_focus_ITA_bersaglieri
		cost = 6

		relative_position_id = SRI_la_legione_proletaria
		x = 6
		y = 1

		prerequisite = {
			focus = SRI_la_legione_proletaria
			focus = SRI_la_guardia_rossa
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_corpo_speciale"
			SRI_get_modify_army_dynmod_custom_effect_tooltip = yes
			add_to_variable = {
				SRI_ar_special_forces_cap = 0.03
				tooltip = special_forces_cap_tooltip
			}
			add_to_variable = {
				SRI_ar_special_forces_attack_factor = 0.05
				tooltip = special_forces_attack_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_special_forces_defence_factor = 0.05
				tooltip = special_forces_defence_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_aat = no }
				add_tech_bonus = {
					name = SRI_corpo_speciale
					bonus = 1
					uses = 3
					category = cat_special_forces_generic
				}
			}
			else = {
				add_potential_special_forces_tree = yes
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = SRI_brigate_marine
		icon = GFX_goal_generic_amphibious_assault
		cost = 6

		available = {
			has_tech = marines
			has_tech = tech_recon
			has_tech = tech_engineers
		}

		relative_position_id = SRI_corpo_speciale
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_corpo_speciale
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_brigate_marine"
			SRI_get_modify_army_dynmod_custom_effect_tooltip = yes
			add_to_variable = {
				SRI_ar_special_forces_cap = 0.04
				tooltip = special_forces_cap_tooltip
			}
			add_to_variable = {
				SRI_ar_modifier_army_sub_unit_marines_defence_factor = 0.05
				tooltip = modifier_army_sub_unit_marines_defence_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_modifier_army_sub_unit_marines_max_org_factor = 0.05
				tooltip = modifier_army_sub_unit_marines_max_org_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_extra_marine_supply_grace = 48
				tooltip = extra_marine_supply_grace_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_aat = yes }
				add_tech_bonus = {
					name = SRI_brigate_marine
					bonus = 1
					uses = 1
					category = marine_tech
					category = tp_tech
				}
				add_doctrine_cost_reduction = {
					name = SRI_brigate_marine
					cost_reduction = 0.5
					uses = 1
					category = cat_marines_doctrine
				}
			}
			else = {
				add_tech_bonus = {
					name = SRI_brigate_marine
					bonus = 0.75
					uses = 2
					category = marine_tech
					category = tp_tech
				}
			}
			custom_effect_tooltip = tooltip_white_line
			hidden_effect = {
				if = {
					limit = { has_template = "Brigata Marina" }
					delete_unit_template_and_units = { division_template = "Brigata Marina" disband = yes } #no cheating
				}
			}
			if = {
				limit = { has_tech = special_forces_marines }
				division_template = {
					name = "Brigata Marina"
					division_names_group = SRI_MAR_01
					regiments = {
						marine = { x = 0 y = 0 }
						marine = { x = 0 y = 1 }
						marine = { x = 0 y = 2 }
						marine = { x = 1 y = 0 }
						marine = { x = 1 y = 1 }
						marine = { x = 1 y = 2 }
					}
					support = {
						recon = { x = 0 y = 0 }
						pioneer_support = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
					}
				}
			}
			else = {
				division_template = {
					name = "Brigata Marina"
					division_names_group = SRI_MAR_01
					regiments = {
						marine = { x = 0 y = 0 }
						marine = { x = 0 y = 1 }
						marine = { x = 0 y = 2 }
						marine = { x = 1 y = 0 }
						marine = { x = 1 y = 1 }
						marine = { x = 1 y = 2 }
					}
					support = {
						recon = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 2 117 158 159 162 } #Latium, Campania, Piedmont, Lombardy, Tuscany
				limit = { valid_state_for_spawning_friendly_unit = yes }
				create_unit = {
					division = "division_template = \"Brigata Marina\" start_experience_factor = 0.4"
					owner = ROOT
					count = 3
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_alpini_rossi
		icon = GFX_goal_ITA_Alpini
		cost = 6

		available = {
			has_tech = tech_mountaineers
			has_tech = tech_recon
			has_tech = tech_engineers
		}

		relative_position_id = SRI_corpo_speciale
		x = 0
		y = 2

		prerequisite = {
			focus = SRI_corpo_speciale
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_alpini_rossi"
			SRI_get_modify_army_dynmod_custom_effect_tooltip = yes
			add_to_variable = {
				SRI_ar_special_forces_cap = 0.04
				tooltip = special_forces_cap_tooltip
			}
			add_to_variable = {
				SRI_ar_modifier_army_sub_unit_mountaineers_defence_factor = 0.05
				tooltip = modifier_army_sub_unit_mountaineers_defence_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_modifier_army_sub_unit_mountaineers_max_org_factor = 0.05
				tooltip = modifier_army_sub_unit_mountaineers_max_org_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_aat = yes }
				add_tech_bonus = {
					name = SRI_alpini_rossi
					bonus = 1
					uses = 1
					category = mountaineers_tech
				}
				add_doctrine_cost_reduction = {
					name = SRI_alpini_rossi
					cost_reduction = 0.5
					uses = 1
					category = cat_mountaineers_doctrine
				}
			}
			else = {
				add_tech_bonus = {
					name = SRI_alpini_rossi
					bonus = 0.75
					uses = 2
					category = mountaineers_tech
				}
			}
			custom_effect_tooltip = tooltip_white_line
			hidden_effect = {
				if = {
					limit = { has_template = "Divisione di Alpini Rossi" }
					delete_unit_template_and_units = { division_template = "Divisione di Alpini Rossi" disband = yes } #no cheating
				}
			}
			division_template = {
				name = "Divisione di Alpini Rossi"
				division_names_group = SRI_MTN_01
				regiments = {
					mountaineers = { x = 0 y = 0 }
					mountaineers = { x = 0 y = 1 }
					mountaineers = { x = 0 y = 2 }
					mountaineers = { x = 1 y = 0 }
					mountaineers = { x = 1 y = 1 }
					mountaineers = { x = 1 y = 2 }
				}
				support = {
					recon = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					artillery = { x = 0 y = 2 }
				}
			}
			random_owned_controlled_state = {
				prioritize = { 2 117 158 159 162 } #Latium, Campania, Piedmont, Lombardy, Tuscany
				limit = { valid_state_for_spawning_friendly_unit = yes }
				create_unit = {
					division = "division_template = \"Divisione di Alpini Rossi\" start_experience_factor = 0.4"
					owner = ROOT
					count = 3
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_carabinieri_del_cielo
		icon = GFX_focus_generic_paratrooper
		cost = 6

		available = {
			has_tech = paratroopers
			has_tech = tech_recon
			has_tech = tech_engineers
		}

		relative_position_id = SRI_corpo_speciale
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_corpo_speciale
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_carabinieri_del_cielo"
			SRI_get_modify_army_dynmod_custom_effect_tooltip = yes
			add_to_variable = {
				SRI_ar_special_forces_cap = 0.04
				tooltip = special_forces_cap_tooltip
			}
			add_to_variable = {
				SRI_ar_modifier_army_sub_unit_paratrooper_defence_factor = 0.05
				tooltip = modifier_army_sub_unit_paratrooper_defence_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_modifier_army_sub_unit_paratrooper_max_org_factor = 0.05
				tooltip = modifier_army_sub_unit_paratrooper_max_org_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_extra_paratrooper_supply_grace = 48
				tooltip = extra_paratrooper_supply_grace_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_aat = yes }
				add_tech_bonus = {
					name = SRI_carabinieri_del_cielo
					bonus = 1
					uses = 1
					category = para_tech
				}
				add_doctrine_cost_reduction = {
					name = SRI_carabinieri_del_cielo
					cost_reduction = 0.5
					uses = 1
					category = cat_paratroopers_doctrine
				}
			}
			else = {
				add_tech_bonus = {
					name = SRI_carabinieri_del_cielo
					bonus = 0.75
					uses = 2
					category = para_tech
				}
			}
			custom_effect_tooltip = tooltip_white_line
			hidden_effect = {
				if = {
					limit = { has_template = "Divisione di Carabinieri Paracadutisti" }
					delete_unit_template_and_units = { division_template = "Divisione Carabinieri Paracadutisti" disband = yes } #no cheating
				}
			}
			if = {
				limit = { has_tech = paras_airborne_light_armor }
				division_template = {
					name = "Divisione di Carabinieri Paracadutisti"
					division_names_group = SRI_PAR_01
					regiments = {
						paratrooper = { x = 0 y = 0 }
						paratrooper = { x = 0 y = 1 }
						paratrooper = { x = 0 y = 2 }
						paratrooper = { x = 1 y = 0 }
						paratrooper = { x = 1 y = 1 }
						paratrooper = { x = 1 y = 2 }
					}
					support = {
						recon = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
					}
				}
			}
			else = {
				division_template = {
					name = "Divisione di Carabinieri Paracadutisti"
					division_names_group = SRI_PAR_01
					regiments = {
						paratrooper = { x = 0 y = 0 }
						paratrooper = { x = 0 y = 1 }
						paratrooper = { x = 0 y = 2 }
						paratrooper = { x = 1 y = 0 }
						paratrooper = { x = 1 y = 1 }
						paratrooper = { x = 1 y = 2 }
					}
					support = {
						recon = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						airborne_light_armor = { x = 0 y = 2 }
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 2 117 158 159 162 } #Latium, Campania, Piedmont, Lombardy, Tuscany
				limit = { valid_state_for_spawning_friendly_unit = yes }
				create_unit = {
					division = "division_template = \"Divisione di Carabinieri Paracadutisti\" start_experience_factor = 0.4"
					owner = ROOT
					count = 3
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_la_guardia_rossa
		icon = GFX_goal_reform_socialist_army
		cost = 6

		relative_position_id = SRI_modernise_the_armata_rossa
		x = 4
		y = 1

		prerequisite = {
			focus = SRI_modernise_the_armata_rossa
		}
		mutually_exclusive = {
			focus = SRI_la_legione_proletaria
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_la_guardia_rossa"
			effect_tooltip = { add_ideas = SRI_guardia_rossa_dummy }
			hidden_effect = {
				add_to_variable = { SRI_ar_org_loss_when_moving = -0.15 }
				add_dynamic_modifier = { modifier = SRI_guardia_rossa_modifier }
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = SRI_la_guardia_rossa
				cost_reduction = 0.25
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = SRI_formazione_di_difesa
		icon = GFX_focus_ETH_peacekeeping_forces
		cost = 6

		relative_position_id = SRI_la_guardia_rossa
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_la_guardia_rossa
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				NOT = { has_completed_focus = SRI_arditi_del_popolo }
			}
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_formazione_di_difesa"
			custom_effect_tooltip = SRI_modify_guardia_rossa
			add_to_variable = {
				SRI_ar_modifier_army_sub_unit_militia_attack_factor = 0.05
				tooltip = modifier_army_sub_unit_militia_attack_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_modifier_army_sub_unit_militia_defence_factor = 0.05
				tooltip = modifier_army_sub_unit_militia_defence_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_modifier_army_sub_unit_militia_max_org_factor = 0.05
				tooltip = modifier_army_sub_unit_militia_max_org_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = tech_militias_effect
			hidden_effect = {
				set_technology = { tech_militias = 1 popup = no }
				if = {
					limit = { has_template = "Formazione di Difesa Proletaria" }
					delete_unit_template_and_units = { division_template = "Divisione Formazione di Difesa Proletaria" disband = yes } #no cheating
				}
			}
			if = {
				limit = { has_tech = tech_assault_battalion }
				custom_effect_tooltip = SRI_gain_militia_template_with_assault_battalion
				division_template = {
					name = "Formazione di Difesa Proletaria"
					division_names_group = SRI_GAR_01
					template_counter = 68
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						assault_battalion = { x = 0 y = 1 }
					}
				}
			}
			else = {
				custom_effect_tooltip = SRI_gain_militia_template
				division_template = {
					name = "Formazione di Difesa Proletaria"
					division_names_group = SRI_GAR_01
					template_counter = 68
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
			}
			custom_effect_tooltip = tooltip_white_line
			every_controlled_state = {
				display_individual_scopes = yes
				limit = {
					is_core_of = ROOT
					state_population_k > 120
					impassable = no
				}
				create_unit = {
					division = "division_template = \"Formazione di Difesa Proletaria\" start_experience_factor = 0.1"
					owner = ROOT
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = SRI_autotrasportabilita
		icon = GFX_goal_generic_mechanized_infantry
		cost = 6

		relative_position_id = SRI_la_guardia_rossa
		x = 2
		y = 1

		prerequisite = {
			focus = SRI_la_guardia_rossa
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_autotrasportabilita"
			custom_effect_tooltip = SRI_modify_guardia_rossa
			add_to_variable = {
				SRI_ar_initiative_factor = 0.02
				tooltip = initiative_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_army_speed_factor = 0.05
				tooltip = army_speed_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_autotrasportabilita
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_mechanized_equipment
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_scuole_centrale_militare
		icon = GFX_focus_generic_combined_arms
		cost = 6

		relative_position_id = SRI_la_guardia_rossa
		x = 1
		y = 2

		prerequisite = {
			focus = SRI_la_guardia_rossa
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_scuole_centrale_militare"
			army_experience = 25
			custom_effect_tooltip = SRI_modify_guardia_rossa
			add_to_variable = {
				SRI_ar_coordination_bonus = 0.05
				tooltip = coordination_bonus_tooltip
			}
			add_to_variable = {
				SRI_ar_army_armor_attack_factor = 0.05
				tooltip = army_armor_attack_factor_tooltip
			}
			custom_effect_tooltip = tech_strengthened_support_companies_effect_tooltip
			hidden_effect = {
				set_technology = { tech_strengthened_support_companies = 1 popup = no }
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_ARMY_XP }
	}
	focus = {
		id = SRI_guerra_brigantesca
		icon = GFX_focus_ITA_cavalry_charge
		cost = 6

		relative_position_id = SRI_scuole_centrale_militare
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_scuole_centrale_militare
		}
		mutually_exclusive = {
			focus = SRI_guardia_alla_frontiera
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				is_in_faction = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_guerra_brigantesca"
			custom_effect_tooltip = SRI_modify_guardia_rossa
			add_to_variable = {
				SRI_ar_terrain_penalty_reduction = 0.05
				tooltip = terrain_penalty_reduction_tooltip
			}
			add_to_variable = {
				SRI_ar_army_attack_speed_factor = 0.05
				tooltip = army_attack_speed_tooltip
			}
			add_to_variable = {
				SRI_ar_cas_damage_reduction = 0.05
				tooltip = cas_damage_reduction_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = SRI_guerra_brigantesca
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = SRI_guardia_alla_frontiera
		icon = GFX_EGY_Palestine_Defence
		cost = 6

		relative_position_id = SRI_scuole_centrale_militare
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_scuole_centrale_militare
		}
		mutually_exclusive = {
			focus = SRI_guerra_brigantesca
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				is_in_faction = no
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_guardia_alla_frontiera"
			custom_effect_tooltip = SRI_modify_guardia_rossa
			add_to_variable = {
				SRI_ar_max_dig_in_factor = 0.1
				tooltip = max_dig_in_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_land_bunker_effectiveness_factor = 0.05
				tooltip = land_bunker_effectiveness_factor_tooltip
			}
			add_to_variable = {
				SRI_ar_coastal_bunker_effectiveness_factor = 0.05
				tooltip = coastal_bunker_effectiveness_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_guardia_alla_frontiera
				bonus = 1
				uses = 1
				category = engineers_tech
			}
			add_doctrine_cost_reduction = {
				name = SRI_guardia_alla_frontiera
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_citta_del_aria
		icon = GFX_focus_generic_aircraft_production
		cost = 6

		relative_position_id = SRI_la_legione_proletaria
		x = 4
		y = 1

		prerequisite = {
			focus = SRI_la_legione_proletaria
			focus = SRI_la_guardia_rossa
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_citta_del_aria"
			air_experience = 15
			add_one_random_military_factory = yes
			custom_effect_tooltip = tooltip_white_line
			effect_tooltip = {
				if = {
					limit = { has_completed_focus = SRI_italian_torpedoes }
					add_ideas = SRI_citta_del_aria_dummy_torpedoes
				}
				else = {
					add_ideas = SRI_citta_del_aria_dummy
				}
			}
			hidden_effect = {
				add_ideas = SRI_cda_hidden_aircraft_production_bonus
				add_dynamic_modifier = { modifier = SRI_citta_del_aria_modifier }
			}
		}
		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_PRODUCTION FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_corpo_del_genio_aeronautico
		icon = GFX_SRI_air_force
		cost = 6

		relative_position_id = SRI_citta_del_aria
		x = 0
		y = 3

		prerequisite = {
			focus = SRI_citta_del_aria
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 3
				is_major = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_corpo_del_genio_aeronautico"
			air_experience = 25
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = SRI_modify_citta_del_aria
			add_to_variable = {
				SRI_cda_air_accidents_factor = -0.1
				tooltip = air_accidents_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			every_owned_state = {
				display_individual_scopes = yes
				limit = {
					is_claim_or_core_of_ROOT = yes
					is_controlled_by = ROOT
					air_base > 0
					free_building_slots = { building = air_base size > 0 include_locked = yes }
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_accademia_aeronautica
		icon = GFX_focus_SOV_flying_clubs
		cost = 6

		relative_position_id = SRI_corpo_del_genio_aeronautico
		x = -3
		y = 1

		prerequisite = {
			focus = SRI_corpo_del_genio_aeronautico
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 3
				is_major = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_accademia_aeronautica"
			air_experience = 25
			custom_effect_tooltip = SRI_modify_citta_del_aria
			add_to_variable = {
				SRI_cda_air_night_penalty = -0.05
				tooltip = air_night_penalty_tooltip
			}
			add_to_variable = {
				SRI_cda_air_weather_penalty = -0.05
				tooltip = air_weather_penalty_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_ace = {
				type = "fighter_genius"
				name = "Teresio"
				surname = "Martinoli"
				callsign = "Vittoria"
			}
			add_ace = {
				type = "fighter_unique"
				name = "Giuseppe"
				surname = "Cenni"
				callsign = "Casola"
			}
			add_ace = {
				type = "fighter_unique"
				name = "Luigi"
				surname = "Gorrini"
				callsign = "Falco"
			}
			add_ace = {
				type = "support_unique"
				name = "Carlo"
				surname = "Buscaglia"
				callsign = "Silurante"
			}
		}
		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_AIRFORCE_BONUS }
	}
	focus = {
		id = SRI_trimotore_bombers
		icon = GFX_focus_generic_long_range_aircraft
		cost = 6

		relative_position_id = SRI_corpo_del_genio_aeronautico
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_corpo_del_genio_aeronautico
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 3
				is_major = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_trimotore_bombers"
			custom_effect_tooltip = SRI_modify_citta_del_aria
			add_to_variable = {
				SRI_cda_air_range_factor = 0.05
				tooltip = air_range_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_bba = no }
				add_tech_bonus = {
					name = SRI_trimotore_bombers
					bonus = 0.75
					uses = 2
					category = tactical_bomber
					category = cat_heavy_fighter
				}
			}
			else = {
				add_tech_bonus = {
					name = SRI_trimotore_bombers
					bonus = 1
					uses = 1
					category = medium_air
				}
				add_tech_bonus = {
					name = SRI_trimotore_bombers
					bonus = 1
					uses = 1
					category = plane_modules_tech
				}
				custom_effect_tooltip = tooltip_white_line
				if = {
					limit = { NOT = { has_tech = iw_medium_airframe } }
					create_equipment_variant = {
						name = "Fiat BRG"
						type = medium_plane_airframe_0
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = medium_bomb_bay
							engine_type_slot = engine_1_3x
						}
					}
				}
				else_if = {
					limit = { NOT = { has_tech = basic_medium_airframe } }
					create_equipment_variant = {
						name = "Fiat BR.20"
						type = medium_plane_airframe_1
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = medium_bomb_bay
							fixed_auxiliary_weapon_slot_1 = small_bomb_bay
							engine_type_slot = engine_2_3x
							special_type_slot_1 = lmg_defense_turret_2x
							special_type_slot_2 = lmg_defense_turret_2x
						}
					}
				}
				else_if = {
					limit = { NOT = { has_tech = improved_medium_airframe } }
					create_equipment_variant = {
						name = "Fiat G.12S"
						type = medium_plane_airframe_2
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = medium_bomb_bay
							fixed_auxiliary_weapon_slot_1 = small_bomb_bay
							fixed_auxiliary_weapon_slot_2 = small_bomb_bay
							engine_type_slot = engine_3_3x
							special_type_slot_1 = lmg_defense_turret_2x
							special_type_slot_2 = lmg_defense_turret_2x
						}
					}
				}
				else_if = {
					limit = { NOT = { has_tech = advanced_medium_airframe } }
					create_equipment_variant = {
						name = "Piaggio P.111"
						type = medium_plane_airframe_3
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = medium_bomb_bay
							fixed_auxiliary_weapon_slot_1 = small_bomb_bay
							fixed_auxiliary_weapon_slot_2 = small_bomb_bay
							engine_type_slot = engine_3_3x
							special_type_slot_1 = lmg_defense_turret_2x
							special_type_slot_2 = lmg_defense_turret_2x
						}
					}
				}
				else = {
					create_equipment_variant = {
						name = "Piaggio P.121"
						type = medium_plane_airframe_4
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = medium_bomb_bay
							fixed_auxiliary_weapon_slot_1 = medium_bomb_bay
							fixed_auxiliary_weapon_slot_2 = small_bomb_bay
							engine_type_slot = engine_4_3x
							special_type_slot_1 = lmg_defense_turret_2x
							special_type_slot_2 = lmg_defense_turret_2x
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_pursuit_aircraft
		icon = GFX_focus_generic_cas_aircraft
		cost = 6

		relative_position_id = SRI_corpo_del_genio_aeronautico
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_corpo_del_genio_aeronautico
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 3
				is_major = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_pursuit_aircraft"
			custom_effect_tooltip = SRI_modify_citta_del_aria
			add_to_variable = {
				SRI_cda_air_agility_factor = 0.05
				tooltip = air_agility_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_bba = no }
				add_tech_bonus = {
					name = SRI_pursuit_aircraft
					bonus = 0.75
					uses = 2
					category = light_fighter
				}
			}
			else = {
				add_tech_bonus = {
					name = SRI_pursuit_aircraft
					bonus = 1
					uses = 1
					category = light_air
				}
				add_tech_bonus = {
					name = SRI_pursuit_aircraft
					bonus = 1
					uses = 1
					category = plane_modules_tech
				}
				custom_effect_tooltip = tooltip_white_line
				if = {
					limit = { NOT = { has_tech = iw_small_airframe } }
					create_equipment_variant = {
						name = "Fiat CR.32"
						type = small_plane_airframe_0
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = light_mg_2x
							engine_type_slot = engine_1_1x
						}
					}
				}
				else_if = {
					limit = { NOT = { has_tech = basic_small_airframe } }
					create_equipment_variant = {
						name = "Fiat G.50"
						type = small_plane_airframe_1
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = light_mg_4x
							fixed_auxiliary_weapon_slot_1 = light_mg_4x
							engine_type_slot = engine_2_1x
						}
					}
				}
				else_if = {
					limit = { NOT = { has_tech = improved_small_airframe } }
					create_equipment_variant = {
						name = "Umbra AUT.18"
						type = small_plane_airframe_2
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = heavy_mg_2x
							fixed_auxiliary_weapon_slot_1 = heavy_mg_2x
							engine_type_slot = engine_2_1x
						}
					}
				}
				else_if = {
					limit = { NOT = { has_tech = advanced_small_airframe } }
					create_equipment_variant = {
						name = "Fiat G.55"
						type = small_plane_airframe_3
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = aircraft_cannon_1_1x
							fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_1x
							fixed_auxiliary_weapon_slot_2 = aircraft_cannon_1_1x
							engine_type_slot = engine_3_1x
						}
					}
				}
				else = {
					create_equipment_variant = {
						name = "Reggiane Re.2007"
						type = small_plane_airframe_4
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = aircraft_cannon_1_2x
							fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
							fixed_auxiliary_weapon_slot_2 = aircraft_cannon_1_2x
							engine_type_slot = engine_4_1x
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_aviazione_marittima
		icon = GFX_goal_generic_air_naval_bomber
		cost = 6

		relative_position_id = SRI_corpo_del_genio_aeronautico
		x = 3
		y = 1

		prerequisite = {
			focus = SRI_corpo_del_genio_aeronautico
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 3
				is_major = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_aviazione_marittima"
			custom_effect_tooltip = SRI_modify_citta_del_aria
			add_to_variable = {
				SRI_cda_naval_strike_targetting_factor = 0.05
				tooltip = naval_strike_targetting_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_bba = no }
				add_tech_bonus = {
					name = SRI_aviazione_marittima
					bonus = 0.75
					uses = 2
					category = naval_bomber
				}
			}
			else = {
				add_tech_bonus = {
					name = SRI_aviazione_marittima
					bonus = 1
					uses = 1
					category = naval_bomber
				}
				add_tech_bonus = {
					name = SRI_aviazione_marittima
					bonus = 1
					uses = 1
					category = plane_modules_tech
				}
				custom_effect_tooltip = tooltip_white_line
				if = {
					limit = { NOT = { has_tech = iw_small_airframe } }
					create_equipment_variant = {
						name = "Reggiane Re.74"
						type = small_plane_naval_bomber_airframe_0
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = torpedo_mounting
							engine_type_slot = engine_1_1x
						}
					}
				}
				else_if = {
					limit = { NOT = { has_tech = basic_small_airframe } }
					create_equipment_variant = {
						name = "Reggiane Re.79"
						type = small_plane_naval_bomber_airframe_1
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = torpedo_mounting
							engine_type_slot = engine_2_1x
						}
					}
				}
				else_if = {
					limit = { NOT = { has_tech = improved_small_airframe } }
					create_equipment_variant = {
						name = "Reggiane Re.84"
						type = small_plane_naval_bomber_airframe_2
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = torpedo_mounting_2
							engine_type_slot = engine_2_1x
							special_type_slot_1 = floats
						}
					}
				}
				else_if = {
					limit = { NOT = { has_tech = advanced_small_airframe } }
					create_equipment_variant = {
						name = "Reggiane Re.89"
						type = small_plane_naval_bomber_airframe_3
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = torpedo_mounting_2
							engine_type_slot = engine_3_1x
							special_type_slot_1 = floats
							special_type_slot_2 = hmg_defense_turret
						}
					}
				}
				else = {
					create_equipment_variant = {
						name = "Reggiane Re.94"
						type = small_plane_naval_bomber_airframe_4
						parent_version = 0
						modules = {
							fixed_main_weapon_slot = torpedo_mounting_3
							engine_type_slot = engine_4_1x
							special_type_slot_1 = floats
							special_type_slot_2 = hmg_defense_turret
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_command_of_the_air
		icon = GFX_focus_generic_tank_air_support
		cost = 6

		relative_position_id = SRI_corpo_del_genio_aeronautico
		x = -2
		y = 2

		prerequisite = {
			focus = SRI_corpo_del_genio_aeronautico
		}
		mutually_exclusive = {
			focus = SRI_aviazone_dassalto
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 3
				is_major = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_command_of_the_air"
			custom_effect_tooltip = SRI_modify_citta_del_aria
			add_to_variable = {
				SRI_cda_air_cas_present_factor = 0.1
				tooltip = air_cas_present_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = SRI_command_of_the_air
				cost_reduction = 0.75
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
	}
	focus = {
		id = SRI_arma_offensiva
		icon = GFX_goal_Combined_Bomber_Offensive
		cost = 6

		relative_position_id = SRI_command_of_the_air
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_command_of_the_air
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 3
				is_major = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_arma_offensiva"
			custom_effect_tooltip = SRI_modify_citta_del_aria
			add_to_variable = {
				SRI_cda_strategic_bomb_visibility = -0.1
				tooltip = strategic_bomb_visibility_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_bba = no }
				add_tech_bonus = {
					name = SRI_arma_offensiva
					bonus = 0.75
					uses = 2
					category = heavy_air
				}
			}
			else = {
				add_tech_bonus = {
					name = SRI_arma_offensiva
					bonus = 1
					uses = 1
					category = heavy_air
				}
				add_tech_bonus = {
					name = SRI_arma_offensiva
					bonus = 1
					uses = 1
					category = plane_modules_tech
				}
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_aerei_da_battaglia
		icon = GFX_focus_generic_multi_role_aircraft
		cost = 6

		relative_position_id = SRI_command_of_the_air
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_command_of_the_air
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 3
				is_major = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_aerei_da_battaglia"
			custom_effect_tooltip = SRI_modify_citta_del_aria
			add_to_variable = {
				SRI_cda_air_bombing_targetting = 0.05
				tooltip = air_bombing_targetting_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_bba = no }
				add_tech_bonus = {
					name = SRI_aerei_da_battaglia
					bonus = 0.75
					uses = 2
					category = cas_bomber
				}
			}
			else = {
				add_tech_bonus = {
					name = SRI_aerei_da_battaglia
					bonus = 1
					uses = 1
					category = cas_bomber
				}
				add_tech_bonus = {
					name = SRI_aerei_da_battaglia
					bonus = 1
					uses = 1
					category = plane_modules_tech
				}
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_aviazone_dassalto
		icon = GFX_goal_generic_air_fighter2
		cost = 6

		relative_position_id = SRI_corpo_del_genio_aeronautico
		x = 2
		y = 2

		prerequisite = {
			focus = SRI_corpo_del_genio_aeronautico
		}
		mutually_exclusive = {
			focus = SRI_command_of_the_air
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 3
				is_major = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_aviazone_dassalto"
			custom_effect_tooltip = SRI_modify_citta_del_aria
			add_to_variable = {
				SRI_cda_air_superiority_bonus_in_combat = 0.1
				tooltip = air_superiority_bonus_in_combat_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = SRI_command_of_the_air
				cost_reduction = 0.75
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
	}
	focus = {
		id = SRI_zone_aeree_territoriali
		icon = GFX_focus_usa_escort_fighters
		cost = 6

		relative_position_id = SRI_aviazone_dassalto
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_aviazone_dassalto
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_zone_aeree_territoriali"
			custom_effect_tooltip = SRI_modify_citta_del_aria
			add_to_variable = {
				SRI_cda_air_intercept_efficiency = 0.05
				tooltip = air_intercept_efficiency_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_zone_aeree_territoriali
				ahead_reduction = 1.5
				uses = 1
				category = light_air
			}
			add_tech_bonus = {
				name = SRI_zone_aeree_territoriali
				ahead_reduction = 1.5
				uses = 1
				category = medium_air
			}
			if = {
				limit = { has_dlc_bba = yes }
				add_tech_bonus = {
					name = SRI_zone_aeree_territoriali
					bonus = 1
					uses = 1
					category = plane_modules_tech
				}
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_difesa_contraerea_territoriale
		icon = GFX_goal_anti_air
		cost = 6

		available = {
			custom_trigger_tooltip = {
				tooltip = SRI_has_tech_interwar_antiair
				has_tech = interwar_antiair
			}
		}

		relative_position_id = SRI_aviazone_dassalto
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_aviazone_dassalto
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_difesa_contraerea_territoriale"
			custom_effect_tooltip = SRI_modify_citta_del_aria
			add_to_variable = {
				SRI_cda_air_power_projection_factor = 0.05
				tooltip = air_power_projection_factor_tooltip
			}
			add_to_variable = {
				SRI_cda_air_home_defence_factor = 0.05
				tooltip = air_home_defence_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_difesa_contraerea_territoriale
				bonus = 0.5
				uses = 2
				category = air_equipment
				category = cat_anti_air
			}
			custom_effect_tooltip = tooltip_white_line
			every_owned_state = {
				display_individual_scopes = yes
				limit = {
					is_claim_or_core_of_ROOT = yes
					is_controlled_by = ROOT
					anti_air_building < 5
					air_base > 0
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_istituto_di_studi_militari_marittimi
		icon = GFX_SRI_navy
		cost = 6

		relative_position_id = SRI_la_guardia_rossa
		x = 8
		y = -1

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_istituto_di_studi_militari_marittimi"
			navy_experience = 50
			effect_tooltip = {
				if = {
					limit = { has_completed_focus = SRI_italian_torpedoes }
					add_ideas = SRI_ismm_dummy_torpedoes
				}
				else = {
					add_ideas = SRI_ismm_dummy
				}
			}
			hidden_effect = {
				add_to_variable = { SRI_ismm_naval_doctrine_cost_factor = -0.1 }
				add_dynamic_modifier = { modifier = SRI_istituto_di_studi_militari_marittimi_modifier }
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS }
	}
	focus = {
		id = SRI_expand_the_livorno_academy
		icon = GFX_goal_generic_naval_academy
		cost = 6

		relative_position_id = SRI_istituto_di_studi_militari_marittimi
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_istituto_di_studi_militari_marittimi
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_expand_the_livorno_academy"
			if = {
				limit = { has_dlc_nsb = yes }
				custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
				add_to_variable = {
					SRI_ismm_navy_spirit_category_type_cost_factor = -0.15
					tooltip = navy_spirit_category_type_cost_factor_tooltip
				}
				custom_effect_tooltip = tooltip_white_line
			}
			add_doctrine_cost_reduction = {
				name = SRI_expand_the_livorno_academy
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}
	focus = {
		id = SRI_corpo_del_genio_navale
		icon = GFX_goal_generic_naval_industry
		cost = 6

		relative_position_id = SRI_expand_the_livorno_academy
		x = -3
		y = 1

		prerequisite = {
			focus = SRI_modernise_the_armata_rossa
		}
		prerequisite = {
			focus = SRI_expand_the_livorno_academy
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_corpo_del_genio_navale"
			navy_experience = 25
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			add_to_variable = {
				SRI_ismm_refit_ic_cost = -0.1
				tooltip = refit_ic_cost_tooltip
			}
			add_to_variable = {
				SRI_ismm_refit_speed = 0.1
				tooltip = refit_speed_tooltip
			}
			add_to_variable = {
				SRI_ismm_repair_speed_factor = 0.1
				tooltip = repair_speed_factor_tooltip
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS }
	}
	focus = {
		id = SRI_motoscafi_armati_siluranti
		icon = GFX_focus_generic_midget_submarines
		cost = 6

		available = {
			if = {
				limit = { has_dlc_mtg = yes }
				has_tech = early_ship_hull_submarine
			}
		}

		relative_position_id = SRI_corpo_del_genio_navale
		x = -2
		y = 1

		prerequisite = {
			focus = SRI_corpo_del_genio_navale
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_motoscafi_armati_siluranti"
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			add_to_variable = {
				SRI_ismm_navy_submarine_attack_factor = 0.05
				tooltip = navy_submarine_attack_factor_tooltip
			}
			add_to_variable = {
				SRI_ismm_naval_critical_score_chance_factor = 0.05
				tooltip = naval_critical_score_chance_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_mtg = no }
				add_tech_bonus = {
					name = SRI_motoscafi_armati_siluranti
					bonus = 1
					uses = 1
					category = ss_tech
				}
				add_doctrine_cost_reduction = {
					name = SRI_motoscafi_armati_siluranti
					cost_reduction = 0.25
					uses = 1
					category = naval_doctrine
				}
			}
			else = {
				set_technology = { midget_submarines = 1 popup = no }
				if = {
					limit = { has_tech = advanced_ship_hull_submarine }
					create_equipment_variant = {
						name = "Maiale Class"
						type = ship_hull_midget_submarine
						name_group = SRI_SS_HISTORICAL
						parent_version = 0
						allow_without_tech = yes
						modules = {
							fixed_ship_torpedo_slot = ship_torpedo_sub_4
							fixed_ship_engine_slot = sub_ship_engine_4
						}
					}
				}
				else_if = {
					limit = { has_tech = improved_ship_hull_submarine }
					create_equipment_variant = {
						name = "Maiale Class"
						type = ship_hull_midget_submarine
						name_group = SRI_SS_HISTORICAL
						parent_version = 0
						allow_without_tech = yes
						modules = {
							fixed_ship_torpedo_slot = ship_torpedo_sub_3
							fixed_ship_engine_slot = sub_ship_engine_3
						}
					}
				}
				else_if = {
					limit = { has_tech = basic_ship_hull_submarine }
					create_equipment_variant = {
						name = "Maiale Class"
						type = ship_hull_midget_submarine
						name_group = SRI_SS_HISTORICAL
						parent_version = 0
						allow_without_tech = yes
						modules = {
							fixed_ship_torpedo_slot = ship_torpedo_sub_2
							fixed_ship_engine_slot = sub_ship_engine_2
						}
					}
				}
				else = {
					create_equipment_variant = {
						name = "Maiale Class"
						type = ship_hull_midget_submarine
						name_group = SRI_SS_HISTORICAL
						parent_version = 0
						allow_without_tech = yes
						modules = {
							fixed_ship_torpedo_slot = ship_torpedo_sub_1
							fixed_ship_engine_slot = sub_ship_engine_1
						}
					}
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_midget_submarine
						version_name = "Maiale Class"
					}
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_midget_submarine
						version_name = "Maiale Class"
					}
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}
	focus = {
		id = SRI_revolution_under_the_sea
		icon = GFX_goal_generic_navy_anti_submarine
		cost = 6

		available = {
			if = {
				limit = { has_dlc_mtg = yes }
				has_tech = early_ship_hull_submarine
			}
		}

		relative_position_id = SRI_motoscafi_armati_siluranti
		x = 0
		y = 3

		prerequisite = {
			focus = SRI_motoscafi_armati_siluranti
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_revolution_under_the_sea"
			navy_experience = 25
			if = {
				limit = { has_dlc_mtg = no }
				add_tech_bonus = {
					name = SRI_revolution_under_the_sea
					bonus = 0.75
					uses = 2
					category = ss_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = SRI_revolution_under_the_sea
					bonus = 1
					uses = 1
					category = ss_tech
				}
				if = {
					limit = { NOT = { has_tech = improved_submarine_snorkel } }
					add_tech_bonus = {
						name = SRI_revolution_under_the_sea
						ahead_reduction = 2
						uses = 1
						technology = basic_submarine_snorkel
						technology = improved_submarine_snorkel
					}
				}
				custom_effect_tooltip = tooltip_white_line
				if = {
					limit = { has_tech = advanced_ship_hull_submarine }
					if = {
						limit = { has_tech = improved_submarine_snorkel }
						create_equipment_variant = {
							name = "Atropo Class"
							type = ship_hull_submarine_4
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_4
								fixed_ship_engine_slot = sub_ship_engine_4
								mid_1_custom_slot = ship_sub_snorkel_2
								rear_1_custom_slot = ship_torpedo_sub_4
							}
						}
					}
					else_if = {
						limit = { has_tech = basic_submarine_snorkel }
						create_equipment_variant = {
							name = "Atropo Class"
							type = ship_hull_submarine_4
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_4
								fixed_ship_engine_slot = sub_ship_engine_4
								mid_1_custom_slot = ship_sub_snorkel_1
								rear_1_custom_slot = ship_torpedo_sub_4
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Atropo Class"
							type = ship_hull_submarine_4
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_4
								fixed_ship_engine_slot = sub_ship_engine_4
								mid_1_custom_slot = empty
								rear_1_custom_slot = ship_torpedo_sub_4
							}
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_submarine_4
							version_name = "Atropo Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_submarine_4
							version_name = "Atropo Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
				else_if = {
					limit = { has_tech = improved_ship_hull_submarine }
					if = {
						limit = { has_tech = improved_submarine_snorkel }
						create_equipment_variant = {
							name = "Atropo Class"
							type = ship_hull_submarine_3
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_3
								fixed_ship_engine_slot = sub_ship_engine_3
								mid_1_custom_slot = ship_sub_snorkel_2
								rear_1_custom_slot = ship_torpedo_sub_3
							}
						}
					}
					else_if = {
						limit = { has_tech = basic_submarine_snorkel }
						create_equipment_variant = {
							name = "Atropo Class"
							type = ship_hull_submarine_3
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_3
								fixed_ship_engine_slot = sub_ship_engine_3
								mid_1_custom_slot = ship_sub_snorkel_1
								rear_1_custom_slot = ship_torpedo_sub_3
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Atropo Class"
							type = ship_hull_submarine_3
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_3
								fixed_ship_engine_slot = sub_ship_engine_3
								mid_1_custom_slot = empty
								rear_1_custom_slot = ship_torpedo_sub_3
							}
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_submarine_3
							version_name = "Atropo Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_submarine_3
							version_name = "Atropo Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
				else_if = {
					limit = { has_tech = basic_ship_hull_submarine }
					create_equipment_variant = {
						name = "Atropo Class"
						type = ship_hull_submarine_2
						name_group = SRI_SS_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_torpedo_slot = ship_torpedo_sub_2
							fixed_ship_engine_slot = sub_ship_engine_2
							rear_1_custom_slot = ship_torpedo_sub_2
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_submarine_2
							version_name = "Atropo Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_submarine_2
							version_name = "Atropo Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
				else = {
					create_equipment_variant = {
						name = "Atropo Class"
						type = ship_hull_submarine_1
						name_group = SRI_SS_HISTORICAL
						parent_version = 0
						allow_without_tech = yes
						modules = {
							fixed_ship_torpedo_slot = ship_torpedo_sub_1
							fixed_ship_engine_slot = sub_ship_engine_1
							rear_1_custom_slot = ship_torpedo_sub_1
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_submarine_1
							version_name = "Atropo Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_submarine_1
							version_name = "Atropo Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS }
	}
	focus = {
		id = SRI_italian_torpedoes
		icon = GFX_focus_generic_torpedo_production
		cost = 6

		relative_position_id = SRI_revolution_under_the_sea
		x = -2
		y = 1

		prerequisite = {
			focus = SRI_revolution_under_the_sea
			focus = SRI_aviazione_marittima
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_italian_torpedoes"
			if = {
				limit = { NOT = { has_dynamic_modifier = { modifier = SRI_citta_del_aria_modifier } } }
				custom_effect_tooltip = SRI_on_completion_citta_del_aria
			}
			custom_effect_tooltip = SRI_modify_citta_del_aria
			add_to_variable = {
				SRI_cga_naval_strike_attack_factor = 0.05
				tooltip = naval_strike_attack_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { NOT = { has_dynamic_modifier = { modifier = SRI_istituto_di_studi_militari_marittimi_modifier } } }
				custom_effect_tooltip = SRI_on_completion_istituto_di_studi_militari_marittimi
			}
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			add_to_variable = {
				SRI_ismm_naval_torpedo_screen_penetration_factor = 0.05
				tooltip = naval_torpedo_screen_penetration_factor_tooltip
			}
			add_to_variable = {
				SRI_ismm_naval_torpedo_hit_chance_factor = 0.05
				tooltip = naval_torpedo_hit_chance_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_military_factory = yes
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_mtg = no }
				add_tech_bonus = {
					name = SRI_italian_torpedoes
					bonus = 0.75
					uses = 1
					category = ss_tech
				}
				add_tech_bonus = {
					name = SRI_italian_torpedoes
					bonus = 0.75
					uses = 1
					category = naval_bomber
				}
			}
			else = {
				add_tech_bonus = {
					name = SRI_italian_torpedoes
					bonus = 0.75
					uses = 2
					category = cat_torpedoes
				}
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_incrociatori_sommergibili
		icon = GFX_goal_generic_occupy_states_coastal
		cost = 6

		available = {
			if = {
				limit = { has_dlc_mtg = yes }
				has_tech = early_ship_hull_submarine
			}
		}

		relative_position_id = SRI_corpo_del_genio_navale
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_corpo_del_genio_navale
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_incrociatori_sommergibili"
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			add_to_variable = {
				SRI_ismm_convoy_raiding_efficiency_factor = 0.1
				tooltip = convoy_raiding_efficiency_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_mtg = no }
				add_tech_bonus = {
					name = SRI_artiglieria_marittima
					bonus = 1
					uses = 1
					category = ss_tech
				}
				add_doctrine_cost_reduction = {
					name = SRI_artiglieria_marittima
					cost_reduction = 0.25
					uses = 1
					category = naval_doctrine
				}
			}
			else = {
				if = {
					limit = { NOT = { has_tech = cruiser_submarines } }
					custom_effect_tooltip = SRI_add_cruiser_submarines_tech
					hidden_effect = {
						set_technology = { cruiser_submarines = 1 popup = no }
					}
				}
				if = {
					limit = { has_tech = advanced_ship_hull_submarine }
					if = {
						limit = { has_tech = improved_submarine_snorkel }
						create_equipment_variant = {
							name = "Fulmine Class"
							type = ship_hull_cruiser_submarine
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_4
								fixed_ship_engine_slot = sub_ship_engine_4
								front_1_custom_slot = ship_torpedo_sub_4
								mid_1_custom_slot = ship_sub_snorkel_2
								rear_1_custom_slot = ship_airplane_launcher_2
							}
						}
					}
					else_if = {
						limit = { has_tech = basic_submarine_snorkel }
						create_equipment_variant = {
							name = "Fulmine Class"
							type = ship_hull_cruiser_submarine
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_4
								fixed_ship_engine_slot = sub_ship_engine_4
								front_1_custom_slot = ship_torpedo_sub_4
								mid_1_custom_slot = ship_sub_snorkel_1
								rear_1_custom_slot = ship_airplane_launcher_2
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Fulmine Class"
							type = ship_hull_cruiser_submarine
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_4
								fixed_ship_engine_slot = sub_ship_engine_4
								front_1_custom_slot = ship_torpedo_sub_4
								mid_1_custom_slot = ship_sub_snorkel_1
								rear_1_custom_slot = ship_airplane_launcher_2
							}
						}
					}
				}
				else_if = {
					limit = { has_tech = improved_ship_hull_submarine }
					if = {
						limit = { has_tech = basic_submarine_snorkel }
						create_equipment_variant = {
							name = "Fulmine Class"
							type = ship_hull_cruiser_submarine
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_3
								fixed_ship_engine_slot = sub_ship_engine_3
								front_1_custom_slot = ship_torpedo_sub_3
								mid_1_custom_slot = ship_sub_snorkel_1
								rear_1_custom_slot = ship_airplane_launcher_2
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Fulmine Class"
							type = ship_hull_cruiser_submarine
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_3
								fixed_ship_engine_slot = sub_ship_engine_3
								front_1_custom_slot = ship_torpedo_sub_3
								mid_1_custom_slot = empty
								rear_1_custom_slot = ship_airplane_launcher_2
							}
						}
					}
				}
				else_if = {
					limit = { has_tech = basic_ship_hull_submarine }
					if = {
						limit = { has_tech = improved_airplane_launcher }
						create_equipment_variant = {
							name = "Fulmine Class"
							type = ship_hull_cruiser_submarine
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_2
								fixed_ship_engine_slot = sub_ship_engine_2
								front_1_custom_slot = ship_torpedo_sub_2
								mid_1_custom_slot = empty
								rear_1_custom_slot = ship_airplane_launcher_2
							}
						}
					}
					else_if = {
						limit = { has_tech = early_ship_hull_cruiser }
						create_equipment_variant = {
							name = "Fulmine Class"
							type = ship_hull_cruiser_submarine
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_2
								fixed_ship_engine_slot = sub_ship_engine_2
								front_1_custom_slot = ship_torpedo_sub_2
								mid_1_custom_slot = empty
								rear_1_custom_slot = ship_airplane_launcher_1
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Fulmine Class"
							type = ship_hull_cruiser_submarine
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_2
								fixed_ship_engine_slot = sub_ship_engine_2
								front_1_custom_slot = ship_torpedo_sub_2
								mid_1_custom_slot = empty
								rear_1_custom_slot = ship_torpedo_sub_2
							}
						}
					}
				}
				else = {
					if = {
						limit = { has_tech = improved_airplane_launcher }
						create_equipment_variant = {
							name = "Fulmine Class"
							type = ship_hull_cruiser_submarine
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_1
								fixed_ship_engine_slot = sub_ship_engine_1
								front_1_custom_slot = ship_torpedo_sub_1
								mid_1_custom_slot = empty
								rear_1_custom_slot = ship_airplane_launcher_2
							}
						}
					}
					else_if = {
						limit = { has_tech = early_ship_hull_cruiser }
						create_equipment_variant = {
							name = "Fulmine Class"
							type = ship_hull_cruiser_submarine
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_1
								fixed_ship_engine_slot = sub_ship_engine_1
								front_1_custom_slot = ship_torpedo_sub_1
								mid_1_custom_slot = empty
								rear_1_custom_slot = ship_airplane_launcher_1
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Fulmine Class"
							type = ship_hull_cruiser_submarine
							name_group = SRI_SS_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_torpedo_slot = ship_torpedo_sub_1
								fixed_ship_engine_slot = sub_ship_engine_1
								front_1_custom_slot = ship_torpedo_sub_1
								mid_1_custom_slot = empty
								rear_1_custom_slot = ship_torpedo_sub_1
							}
						}
					}
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_submarine
						version_name = "Fulmine Class"
					}
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_submarine
						version_name = "Fulmine Class"
					}
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}
	focus = {
		id = SRI_artiglieria_marittima
		icon = GFX_focus_ITA_milizia_marittima_di_artiglieria
		cost = 6

		relative_position_id = SRI_motoscafi_armati_siluranti
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_motoscafi_armati_siluranti
			focus = SRI_incrociatori_sommergibili
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_artiglieria_marittima"
			army_experience = 10
			navy_experience = 10
			add_tech_bonus = {
				name = SRI_artiglieria_marittima
				bonus = 0.5
				uses = 1
				category = artillery
			}
			if = {
				limit = { has_dlc_mtg = yes }
				add_tech_bonus = {
					name = SRI_artiglieria_marittima
					bonus = 0.75
					uses = 2
					category = naval_mines
				}
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_template = "Divisione Costiera" }
				delete_unit_template_and_units = { division_template = "Divisione Costiera" disband = yes } #no cheating
			}
			division_template = {
				name = "Divisione Costiera"
				division_names_group = SRI_GAR_01
				template_counter = 20
				priority = 0
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
				}
				support = {
					engineer = { x = 0 y = 0 }
					artillery = { x = 0 y = 1 }
				}
			}
			every_owned_state = {
				display_individual_scopes = yes
				limit = {
					is_claim_or_core_of_ROOT = yes
					is_controlled_by = ROOT
					naval_base > 0
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					instant_build = yes
				}
				create_unit = {
					division = "division_template = \"Divisione Costiera\" start_experience_factor = 0.1"
					owner = ROOT
				}
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_ARMY_XP FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_expand_genoese_naval_yards
		icon = GFX_focus_POL_develop_polish_shipbuilding
		cost = 6

		relative_position_id = SRI_corpo_del_genio_navale
		x = 1
		y = 2

		prerequisite = {
			focus = SRI_corpo_del_genio_navale
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_expand_genoese_naval_yards"
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = SRI_odero_terni_orlando
		icon = GFX_goal_generic_construct_naval_dockyard
		cost = 6

		relative_position_id = SRI_expand_genoese_naval_yards
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_expand_genoese_naval_yards
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_odero_terni_orlando"
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			add_to_variable = {
				SRI_ismm_navy_capital_ship_attack_factor = 0.05
				tooltip = navy_capital_ship_attack_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_dockyard = yes
			if = {
				limit = { has_dlc_aat = yes }
				custom_effect_tooltip = tooltip_white_line
				mio:ITALY_cantieri_navali_livorno_organisation = {
					add_mio_size = 2
					add_mio_funds_gain_factor = 0.05
					set_mio_name_key = SRI_odero_terni_orlando_mio_name
					hidden_effect = { set_mio_icon = GFX_idea_ITA_oto }
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_BONUS }
	}
	focus = {
		id = SRI_cantieri_riuniti_del_tirreno
		icon = GFX_focus_generic_refit_civilian_ships
		cost = 6

		relative_position_id = SRI_expand_genoese_naval_yards
		x = -1
		y = 2

		prerequisite = {
			focus = SRI_expand_genoese_naval_yards
		}
		mutually_exclusive = {
			focus = SRI_increase_ship_exports
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_cantieri_riuniti_del_tirreno"
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			custom_effect_tooltip = SRI_screen_production_bonus
			hidden_effect = {
				add_ideas = SRI_ismm_hidden_screen_production_bonus
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
			if = {
				limit = { has_dlc_aat = yes }
				custom_effect_tooltip = tooltip_white_line
				mio:ITALY_cantieri_navali_riuniti_organisation = {
					add_mio_size = 2
					add_mio_funds_gain_factor = 0.05
					set_mio_name_key = SRI_cantieri_riuniti_del_tirreno_mio_name
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_PRODUCTION }
	}
	focus = {
		id = SRI_increase_ship_exports
		icon = GFX_goal_generic_buy_ships
		cost = 6

		relative_position_id = SRI_expand_genoese_naval_yards
		x = 1
		y = 2

		prerequisite = {
			focus = SRI_expand_genoese_naval_yards
		}
		mutually_exclusive = {
			focus = SRI_cantieri_riuniti_del_tirreno
		}

		ai_will_do = { factor = 0 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_increase_ship_exports"
			add_political_power = 100
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			add_to_variable = {
				SRI_ismm_consumer_goods_factor = -0.05
				tooltip = consumer_goods_factor_tooltip
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = SRI_cantieri_riuniti_dell_adriatico
		icon = GFX_goal_generic_shipyard
		cost = 6

		available = {
			controls_state = 488
		}

		relative_position_id = SRI_cantieri_riuniti_del_tirreno
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_cantieri_riuniti_del_tirreno
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_cantieri_riuniti_dell_adriatico"
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			custom_effect_tooltip = SRI_capital_production_bonus
			custom_effect_tooltip = tooltip_white_line
			hidden_effect = {
				add_ideas = SRI_ismm_hidden_capital_production_bonus
			}
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
			if = {
				limit = { has_dlc_aat = yes }
				custom_effect_tooltip = tooltip_white_line
				mio:ITALY_stabilimento_tecnico_triestino_organisation = {
					add_mio_size = 4
					add_mio_funds_gain_factor = 0.05
					set_mio_name_key = SRI_cantieri_riuniti_dell_adriatico_mio_name
					hidden_effect = { set_mio_icon = GFX_idea_crda }
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_PRODUCTION }
	}
	focus = {
		id = SRI_guerra_marittima
		icon = GFX_goal_generic_sea_focused_navy2
		cost = 6

		relative_position_id = SRI_expand_the_livorno_academy
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_expand_the_livorno_academy
		}
		mutually_exclusive = {
			focus = SRI_battaglia_decisiva
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_guerra_marittima"
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			add_to_variable = {
				SRI_ismm_naval_coordination = 0.05
				tooltip = naval_coordination_tooltip
			}
			add_to_variable = {
				SRI_ismm_naval_strike_agility_factor = 0.05
				tooltip = naval_strike_agility_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = SRI_guerra_marittima
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}
	focus = {
		id = SRI_fast_battleships
		icon = GFX_focus_generic_navy_battleship2
		cost = 6

		available = {
			if = {
				limit = { has_dlc_mtg = yes }
				has_tech = early_ship_hull_cruiser
			}
			else = {
				has_tech = early_heavy_cruiser
			}
		}

		relative_position_id = SRI_guerra_marittima
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_guerra_marittima
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_fast_battleships"
			navy_experience = 30
			add_tech_bonus = {
				name = SRI_fast_battleships
				bonus = 0.75
				uses = 2
				category = ca_tech
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_mtg = no }
				if = {
					limit = { has_tech = advanced_heavy_cruiser }
					create_equipment_variant = {
						name = "Uragano Class"
						type = heavy_cruiser_4
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = heavy_cruiser_4
							version_name = "Uragano Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = heavy_cruiser_4
							version_name = "Uragano Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
				}
				else_if = {
					limit = { has_tech = improved_heavy_cruiser }
					create_equipment_variant = {
						name = "Uragano Class"
						type = heavy_cruiser_3
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = heavy_cruiser_3
							version_name = "Uragano Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = heavy_cruiser_3
							version_name = "Uragano Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
				}
				else_if = {
					limit = { has_tech = basic_heavy_cruiser }
					create_equipment_variant = {
						name = "Uragano Class"
						type = heavy_cruiser_2
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = heavy_cruiser_2
							version_name = "Uragano Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = heavy_cruiser_2
							version_name = "Uragano Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
				}
				else = {
					create_equipment_variant = {
						name = "Uragano Class"
						type = heavy_cruiser_1
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = heavy_cruiser_1
							version_name = "Uragano Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = heavy_cruiser_1
							version_name = "Uragano Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
				}
			}
			else = {
				if = {
					limit = { NOT = { has_tech = panzerschiffe } }
					custom_effect_tooltip = SRI_add_panzerschiffe_tech
					hidden_effect = {
						set_technology = { panzerschiffe = 1 popup = no }
					}
				}
				if = {
					limit = { has_tech = advanced_ship_hull_cruiser }
					if = {
						limit = { has_tech = improved_heavy_battery }
						create_equipment_variant = {
							name = "Uragano Class"
							type = ship_hull_cruiser_panzerschiff
							name_group = SRI_CA_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_battery_slot = ship_heavy_battery_3
								fixed_ship_fire_control_system_slot = ship_fire_control_system_0
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_4
								fixed_ship_armor_slot = empty
								fixed_ship_secondaries_slot = ship_secondaries_2
								front_1_custom_slot = ship_anti_air_1
								mid_1_custom_slot = ship_airplane_launcher_1
								mid_2_custom_slot = empty
								rear_1_custom_slot = ship_torpedo_1
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Uragano Class"
							type = ship_hull_cruiser_panzerschiff
							name_group = SRI_CA_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_battery_slot = ship_heavy_battery_2
								fixed_ship_fire_control_system_slot = ship_fire_control_system_0
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_4
								fixed_ship_armor_slot = empty
								fixed_ship_secondaries_slot = ship_secondaries_2
								front_1_custom_slot = ship_anti_air_1
								mid_1_custom_slot = ship_airplane_launcher_1
								mid_2_custom_slot = empty
								rear_1_custom_slot = ship_torpedo_1
							}
						}
					}
				}
				else_if = {
					limit = { has_tech = improved_ship_hull_cruiser }
					if = {
						limit = { has_tech = improved_heavy_battery }
						create_equipment_variant = {
							name = "Uragano Class"
							type = ship_hull_cruiser_panzerschiff
							name_group = SRI_CA_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_battery_slot = ship_heavy_battery_3
								fixed_ship_fire_control_system_slot = ship_fire_control_system_0
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_3
								fixed_ship_armor_slot = empty
								fixed_ship_secondaries_slot = ship_secondaries_2
								front_1_custom_slot = ship_anti_air_1
								mid_1_custom_slot = ship_airplane_launcher_1
								mid_2_custom_slot = empty
								rear_1_custom_slot = ship_torpedo_1
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Uragano Class"
							type = ship_hull_cruiser_panzerschiff
							name_group = SRI_CA_HISTORICAL
							parent_version = 0
							allow_without_tech = yes
							modules = {
								fixed_ship_battery_slot = ship_heavy_battery_2
								fixed_ship_fire_control_system_slot = ship_fire_control_system_0
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_3
								fixed_ship_armor_slot = empty
								fixed_ship_secondaries_slot = ship_secondaries_2
								front_1_custom_slot = ship_anti_air_1
								mid_1_custom_slot = ship_airplane_launcher_1
								mid_2_custom_slot = empty
								rear_1_custom_slot = ship_torpedo_1
							}
						}
					}
				}
				else_if = {
					limit = { has_tech = improved_heavy_battery }
					create_equipment_variant = {
						name = "Uragano Class"
						type = ship_hull_cruiser_panzerschiff
						name_group = SRI_CA_HISTORICAL
						parent_version = 0
						allow_without_tech = yes
						modules = {
							fixed_ship_battery_slot = ship_heavy_battery_3
							fixed_ship_fire_control_system_slot = ship_fire_control_system_0
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = cruiser_ship_engine_2
							fixed_ship_armor_slot = empty
							fixed_ship_secondaries_slot = ship_secondaries_2
							front_1_custom_slot = ship_anti_air_1
							mid_1_custom_slot = ship_airplane_launcher_1
							mid_2_custom_slot = empty
							rear_1_custom_slot = ship_torpedo_1
						}
					}
				}
				else = {
					create_equipment_variant = {
						name = "Uragano Class"
						type = ship_hull_cruiser_panzerschiff
						name_group = NOR_CA_HISTORICAL
						parent_version = 0
						allow_without_tech = yes
						modules = {
							fixed_ship_battery_slot = ship_heavy_battery_2
							fixed_ship_fire_control_system_slot = ship_fire_control_system_0
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = cruiser_ship_engine_2
							fixed_ship_armor_slot = empty
							fixed_ship_secondaries_slot = ship_secondaries_1
							front_1_custom_slot = ship_anti_air_1
							mid_1_custom_slot = ship_airplane_launcher_1
							mid_2_custom_slot = empty
							rear_1_custom_slot = ship_torpedo_1
						}
					}
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_panzerschiff
						version_name = "Uragano Class"
					}
					requested_factories = 1
					progress = 0.45
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_panzerschiff
						version_name = "Uragano Class"
					}
					requested_factories = 1
					progress = 0.45
					amount = 1
				}
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_battaglia_decisiva
		icon = GFX_goal_generic_coastal_navy2
		cost = 6

		relative_position_id = SRI_guerra_marittima
		x = 6
		y = 0

		prerequisite = {
			focus = SRI_expand_the_livorno_academy
		}
		mutually_exclusive = {
			focus = SRI_guerra_marittima
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_battaglia_decisiva"
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			add_to_variable = {
				SRI_ismm_positioning = 0.1
				tooltip = positioning_tooltip
			}
			add_to_variable = {
				SRI_ismm_naval_retreat_chance_after_initial_combat = -0.05
				tooltip = naval_retreat_chance_after_initial_combat_tooltip
			}
			add_to_variable = {
				SRI_ismm_naval_retreat_speed_after_initial_combat = -0.1
				tooltip = naval_retreat_speed_after_initial_combat_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			add_doctrine_cost_reduction = {
				name = SRI_guerra_marittima
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}
	focus = {
		id = SRI_rebuild_the_battle_line
		icon = GFX_focus_generic_navy_battleship3alt
		cost = 6

		available = {
			if = {
				limit = { has_dlc_mtg = yes }
				has_tech = early_ship_hull_heavy
			}
			else = {
				has_tech = early_battleship
			}
		}

		relative_position_id = SRI_battaglia_decisiva
		x = 0
		y = 3

		prerequisite = {
			focus = SRI_battaglia_decisiva
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_rebuild_the_battle_line"
			navy_experience = 30
			add_tech_bonus = {
				name = SRI_rebuild_the_battle_line
				bonus = 0.75
				uses = 2
				category = bb_tech
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_mtg = no }
				if = {
					limit = { has_tech = advanced_battleship }
					create_equipment_variant = {
						name = "Rivoluzione Class"
						type = battleship_4
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = battleship_4
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = battleship_4
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
				}
				else_if = {
					limit = { has_tech = improved_battleship }
					create_equipment_variant = {
						name = "Rivoluzione Class"
						type = battleship_3
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = battleship_3
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = battleship_3
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
				}
				else_if = {
					limit = { has_tech = basic_battleship }
					create_equipment_variant = {
						name = "Rivoluzione Class"
						type = battleship_2
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = battleship_2
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = battleship_2
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
				}
				else = {
					create_equipment_variant = {
						name = "Rivoluzione Class"
						type = battleship_1
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = battleship_1
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = battleship_1
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
				}
			}
			else = {
				if = {
					limit = { has_tech = advanced_ship_hull_heavy }
					create_equipment_variant = {
						name = "Rivoluzione Class"
						type = ship_hull_heavy_4
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = ship_heavy_battery_3
							fixed_ship_anti_air_slot = ship_anti_air_4
							fixed_ship_fire_control_system_slot = ship_fire_control_system_3
							fixed_ship_radar_slot = ship_radar_3
							fixed_ship_engine_slot = heavy_ship_engine_4
							fixed_ship_secondaries_slot = dp_ship_secondaries_3
							fixed_ship_armor_slot = ship_armor_bb_3
							front_1_custom_slot = ship_heavy_battery_3
							mid_1_custom_slot = ship_anti_air_4
							mid_2_custom_slot = dp_ship_secondaries_3
							mid_3_custom_slot = ship_airplane_launcher_2
							rear_1_custom_slot = ship_heavy_battery_3
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_heavy_4
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_heavy_4
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
				}
				else_if = {
					limit = { has_tech = improved_ship_hull_heavy }
					if = {
						limit = { has_tech = basic_dp_light_battery }
						create_equipment_variant = {
							name = "Rivoluzione Class"
							type = ship_hull_heavy_3
							parent_version = 0
							modules = {
								fixed_ship_battery_slot = ship_heavy_battery_2
								fixed_ship_anti_air_slot = ship_anti_air_3
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = ship_radar_2
								fixed_ship_engine_slot = heavy_ship_engine_4
								fixed_ship_secondaries_slot = dp_ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_bb_2
								front_1_custom_slot = ship_heavy_battery_2
								mid_1_custom_slot = ship_anti_air_3
								mid_2_custom_slot = dp_ship_secondaries_2
								mid_3_custom_slot = ship_airplane_launcher_2
								rear_1_custom_slot = ship_heavy_battery_2
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Rivoluzione Class"
							type = ship_hull_heavy_3
							parent_version = 0
							modules = {
								fixed_ship_battery_slot = ship_heavy_battery_2
								fixed_ship_anti_air_slot = ship_anti_air_3
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = ship_radar_2
								fixed_ship_engine_slot = heavy_ship_engine_3
								fixed_ship_secondaries_slot = ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_bb_2
								front_1_custom_slot = ship_heavy_battery_2
								mid_1_custom_slot = ship_anti_air_3
								mid_2_custom_slot = ship_secondaries_2
								mid_3_custom_slot = ship_airplane_launcher_2
								rear_1_custom_slot = ship_heavy_battery_2
							}
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_heavy_3
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_heavy_3
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
				}
				else_if = {
					limit = { has_tech = basic_ship_hull_heavy }
					create_equipment_variant = {
						name = "Rivoluzione Class"
						type = ship_hull_heavy_2
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = ship_heavy_battery_2
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_fire_control_system_slot = ship_fire_control_system_0
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = heavy_ship_engine_2
							fixed_ship_secondaries_slot = ship_secondaries_2
							fixed_ship_armor_slot = ship_armor_bb_2
							front_1_custom_slot = ship_anti_air_1
							mid_1_custom_slot = ship_secondaries_2
							mid_2_custom_slot = ship_airplane_launcher_2
							rear_1_custom_slot = ship_heavy_battery_2
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_heavy_2
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_heavy_2
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
				}
				else = {
					create_equipment_variant = {
						name = "Rivoluzione Class"
						type = ship_hull_heavy_1
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = ship_heavy_battery_1
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_fire_control_system_slot = ship_fire_control_system_0
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = heavy_ship_engine_1
							fixed_ship_secondaries_slot = ship_secondaries_1
							fixed_ship_armor_slot = ship_armor_bb_1
							front_1_custom_slot = ship_anti_air_1
							mid_1_custom_slot = ship_secondaries_1
							mid_2_custom_slot = ship_airplane_launcher_1
							rear_1_custom_slot = ship_heavy_battery_1
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_heavy_1
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_heavy_1
							version_name = "Rivoluzione Class"
						}
						requested_factories = 1
						progress = 0.45
						amount = 1
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_mariantisom
		icon = GFX_focus_generic_destroyer
		cost = 6

		relative_position_id = SRI_guerra_marittima
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_guerra_marittima
			focus = SRI_battaglia_decisiva
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_mariantisom"
			add_tech_bonus = {
				name = SRI_mariantisom
				bonus = 0.75
				uses = 2
				category = dd_tech
			}
			add_tech_bonus = {
				name = SRI_mariantisom
				bonus = 1
				uses = 1
				category = asw_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_sealane_protectors
		icon = GFX_goal_generic_navy_cruiser
		cost = 6

		relative_position_id = SRI_mariantisom
		x = -1
		y = 1

		prerequisite = {
			focus = SRI_mariantisom
		}
		mutually_exclusive = {
			focus = SRI_squadron_flagships
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_sealane_protectors"
			add_tech_bonus = {
				name = SRI_sealane_protectors
				bonus = 0.75
				uses = 2
				category = cl_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_squadron_flagships
		icon = GFX_focus_generic_cruiser2
		cost = 6

		relative_position_id = SRI_mariantisom
		x = 1
		y = 1

		prerequisite = {
			focus = SRI_mariantisom
		}
		mutually_exclusive = {
			focus = SRI_sealane_protectors
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_squadron_flagships"
			add_tech_bonus = {
				name = SRI_squadron_flagships
				bonus = 0.75
				uses = 2
				category = ca_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_maritime_air_power
		icon = GFX_goal_generic_navy_carrier
		cost = 6

		available = {
			if = {
				limit = { has_dlc_mtg = yes }
				has_tech = early_ship_hull_carrier
			}
			else = {
				has_tech = early_carrier
			}
		}

		relative_position_id = SRI_mariantisom
		x = 0
		y = 2

		prerequisite = {
			focus = SRI_sealane_protectors
			focus = SRI_squadron_flagships
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_maritime_air_power"
			add_tech_bonus = {
				name = SRI_maritime_air_power
				bonus = 0.75
				uses = 2
				category = cv_tech
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_mtg = no }
				if = {
					limit = { has_tech = advanced_carrier }
					create_equipment_variant = {
						name = "Vittoria Class"
						type = carrier_4
						upgrades = {
							ship_deckspace_upgrade = 2
							carrier_armor_upgrade = 2
							ship_engine_upgrade = 2
							ship_reliability_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = carrier_4
							version_name = "Vittoria Class"
						}
						requested_factories = 5
						progress = 0.45
						amount = 1
					}
				}
				else_if = {
					limit = { has_tech = improved_carrier }
					create_equipment_variant = {
						name = "Vittoria Class"
						type = carrier_3
						upgrades = {
							ship_deckspace_upgrade = 2
							carrier_armor_upgrade = 2
							ship_engine_upgrade = 2
							ship_reliability_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = carrier_3
							version_name = "Vittoria Class"
						}
						requested_factories = 5
						progress = 0.45
						amount = 1
					}
				}
				else_if = {
					limit = { has_tech = basic_carrier }
					create_equipment_variant = {
						name = "Vittoria Class"
						type = carrier_2
						upgrades = {
							ship_deckspace_upgrade = 2
							carrier_armor_upgrade = 2
							ship_engine_upgrade = 2
							ship_reliability_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = carrier_2
							version_name = "Vittoria Class"
						}
						requested_factories = 5
						progress = 0.45
						amount = 1
					}
				}
				else = {
					create_equipment_variant = {
						name = "Vittoria Class"
						type = carrier_1
						upgrades = {
							ship_deckspace_upgrade = 2
							carrier_armor_upgrade = 2
							ship_engine_upgrade = 2
							ship_reliability_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = carrier_1
							version_name = "Vittoria Class"
						}
						requested_factories = 5
						progress = 0.45
						amount = 1
					}
				}
			}
			else = {
				if = {
					limit = { has_tech = advanced_ship_hull_carrier }
					if = {
						limit = { has_tech = advanced_dp_light_battery }
						create_equipment_variant = {
							name = "Vittoria Class"
							type = ship_hull_carrier_3
							name_group = SRI_CV_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_deck_slot_1 = ship_deck_space
								fixed_ship_deck_slot_2 = ship_deck_space
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = carrier_ship_engine_4
								fixed_ship_secondaries_slot = dp_ship_secondaries_4
								front_1_custom_slot = ship_deck_space
							}
						}
					}
					else_if = {
						limit = { has_tech = improved_dp_light_battery }
						create_equipment_variant = {
							name = "Vittoria Class"
							type = ship_hull_carrier_3
							name_group = SRI_CV_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_deck_slot_1 = ship_deck_space
								fixed_ship_deck_slot_2 = ship_deck_space
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = carrier_ship_engine_4
								fixed_ship_secondaries_slot = dp_ship_secondaries_3
								front_1_custom_slot = ship_deck_space
							}
						}
					}
					else_if = {
						limit = { has_tech = basic_dp_light_battery }
						create_equipment_variant = {
							name = "Vittoria Class"
							type = ship_hull_carrier_3
							name_group = SRI_CV_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_deck_slot_1 = ship_deck_space
								fixed_ship_deck_slot_2 = ship_deck_space
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = carrier_ship_engine_4
								fixed_ship_secondaries_slot = dp_ship_secondaries_2
								front_1_custom_slot = ship_deck_space
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Vittoria Class"
							type = ship_hull_carrier_3
							name_group = SRI_CV_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_deck_slot_1 = ship_deck_space
								fixed_ship_deck_slot_2 = ship_deck_space
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = carrier_ship_engine_4
								fixed_ship_secondaries_slot = ship_secondaries_2
								front_1_custom_slot = ship_deck_space
							}
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_carrier_3
							version_name = "Vittoria Class"
						}
						requested_factories = 5
						progress = 0.45
						amount = 1
					}
				}
				else_if = {
					limit = { has_tech = improved_ship_hull_carrier }
					if = {
						limit = { has_tech = basic_dp_light_battery }
						create_equipment_variant = {
							name = "Vittoria Class"
							type = ship_hull_carrier_2
							name_group = SRI_CV_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_deck_slot_1 = ship_deck_space
								fixed_ship_deck_slot_2 = ship_deck_space
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = carrier_ship_engine_3
								fixed_ship_secondaries_slot = dp_ship_secondaries_2
								front_1_custom_slot = ship_deck_space
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Vittoria Class"
							type = ship_hull_carrier_2
							name_group = SRI_CV_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_deck_slot_1 = ship_deck_space
								fixed_ship_deck_slot_2 = ship_deck_space
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = carrier_ship_engine_3
								fixed_ship_secondaries_slot = ship_secondaries_2
								front_1_custom_slot = ship_deck_space
							}
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_carrier_2
							version_name = "Vittoria Class"
						}
						requested_factories = 5
						progress = 0.45
						amount = 1
					}
				}
				else_if = {
					limit = { has_tech = basic_ship_hull_carrier }
					create_equipment_variant = {
						name = "Vittoria Class"
						type = ship_hull_carrier_1
						name_group = SRI_CV_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = ship_deck_space
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = carrier_ship_engine_2
							fixed_ship_secondaries_slot = ship_secondaries_2
							front_1_custom_slot = ship_deck_space
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_carrier_1
							version_name = "Vittoria Class"
						}
						requested_factories = 5
						progress = 0.45
						amount = 1
					}
				}
				else = {
					create_equipment_variant = {
						name = "Vittoria Class"
						type = ship_hull_carrier_conversion_bb
						name_group = SRI_CV_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = ship_deck_space
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = carrier_ship_engine_1
							fixed_ship_secondaries_slot = ship_secondaries_1
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_carrier_conversion_bb
							version_name = "Vittoria Class"
						}
						requested_factories = 5
						progress = 0.45
						amount = 1
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_BONUS }
	}
	focus = {
		id = SRI_improved_gunnery
		icon = GFX_focus_FIN_coastal_defense
		cost = 6

		relative_position_id = SRI_guerra_marittima
		x = 3
		y = 1

		prerequisite = {
			focus = SRI_guerra_marittima
			focus = SRI_battaglia_decisiva
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_improved_gunnery"
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			add_to_variable = {
				SRI_ismm_naval_hit_chance = 0.05
				tooltip = naval_hit_chance_tooltip
			}
			add_to_variable = {
				SRI_ismm_navy_anti_air_attack_factor = 0.05
				tooltip = navy_anti_air_attack_factor_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_dlc_mtg = yes }
				add_tech_bonus = {
					name = SRI_improved_gunnery
					bonus = 0.75
					uses = 2
					category = cat_ship_light_battery
					category = cat_ship_medium_battery
					category = cat_ship_heavy_battery
				}
			}
			else = {
				add_tech_bonus = {
					name = SRI_improved_gunnery
					bonus = 1
					uses = 1
					category = naval_equipment
				}
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_adopt_the_gufo
		icon = GFX_goal_generic_radar_instillation
		cost = 6

		available = {
			has_tech = radio_detection
		}

		relative_position_id = SRI_guerra_marittima
		x = 5
		y = 1

		prerequisite = {
			focus = SRI_guerra_marittima
			focus = SRI_battaglia_decisiva
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_adopt_the_gufo"
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			add_to_variable = {
				SRI_ismm_spotting_chance = 0.1
				tooltip = spotting_chance_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			random_owned_controlled_state = {
				prioritize = { 158 } #Piedmont
				limit = {
					is_in_home_area = yes
					radar_station < 5
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 162 } #Tuscany
				limit = {
					is_in_home_area = yes
					radar_station < 5
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SRI_adopt_the_gufo
				bonus = 0.75
				uses = 2
				category = radar_tech
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = SRI_joint_naval_intelligence
		icon = GFX_goal_generic_intelligence_exchange
		cost = 6

		available = {
			country_exists = ENG
			NOT = { has_war_with = ENG }
			ENG = { has_socialist_government = yes }
		}
		bypass_if_unavailable = yes

		relative_position_id = SRI_adopt_the_gufo
		x = 0
		y = 1

		prerequisite = {
			focus = SRI_adopt_the_gufo
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_joint_naval_intelligence"
			custom_effect_tooltip = SRI_modify_istituto_di_studi_militari_marittimi
			add_to_variable = {
				SRI_ismm_naval_detection = 0.1
				tooltip = naval_detection_tooltip
			}
			custom_effect_tooltip = tooltip_white_line
			every_navy_leader = {
				display_individual_scopes = yes
				limit = { NOT = { has_trait = spotter } }
				add_unit_leader_trait = spotter
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}
	focus = {
		id = SRI_mediterraneo_rosso
		icon = GFX_focus_generic_mediterranean_sea_focus
		cost = 8

		relative_position_id = SRI_improved_gunnery
		x = 0
		y = 2

		prerequisite = {
			focus = SRI_joint_naval_intelligence
		}
		prerequisite = {
			focus = SRI_improved_gunnery
		}
		prerequisite = {
			focus = SRI_sealane_protectors
			focus = SRI_squadron_flagships
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				has_war = yes
				enemies_naval_strength_ratio > 1
			}
			modifier = {
				factor = 2
				is_major = yes
			}
			modifier = {
				factor = 2
				has_country_flag = SRI_italy_unified_flag
			}
			modifier = {
				factor = 1.5
				date > 1937.1.1
			}
			modifier = {
				factor = 1.5
				date > 1938.1.1
			}
			modifier = {
				factor = 1.5
				date > 1939.1.1
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SRI_mediterraneo_rosso"
			add_doctrine_cost_reduction = {
				name = SRI_mediterraneo_rosso
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
			custom_effect_tooltip = tooltip_white_line
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
			custom_effect_tooltip = tooltip_white_line
			every_navy_leader = {
				display_individual_scopes = yes
				limit = { NOT = { has_trait = bold } }
				add_unit_leader_trait = bold
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}
}
