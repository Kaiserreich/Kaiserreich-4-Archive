###########################
# Kachin Focus Tree       #
# By Roniius              #
###########################

focus_tree = {
	id = kachin_focus

	country = {
		factor = 0
		modifier = {
			add = 10
			tag = KAC
		}
	}
	default = no
	continuous_focus_position = { x = 100 y = 750 }

	focus = {
		id = KAC_The_Jingpho_Army
		icon = GFX_goal_generic_allies_build_infantry
		cost = 3

		x = 5
		y = 0

		available = {
			has_war = no
		}

		ai_will_do = { #AI should just rush to get rid of the mega debuff they have for some reason?
			factor = 1000
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_The_Jingpho_Army"
			if = {
				limit = {
					has_idea = KAC_disorg_army
				}
				swap_ideas = {
					remove_idea = KAC_disorg_army
					add_idea = KAC_disorg_army_2
				}
			}
			else_if = {
				limit = {
					has_idea = KAC_disorg_army_2
				}
				remove_ideas = KAC_disorg_army_2
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000
			}
		}
	}

	focus = {
		id = KAC_Sabaw_Tus_Plan
		icon = GFX_human_tsunami
		cost = 1

		relative_position_id = KAC_The_Jingpho_Army
		x = -2
		y = 1

		ai_will_do = { #AI should just rush to get rid of the mega debuff they have for some reason?
			factor = 1000
		}

		prerequisite = {
			focus = KAC_The_Jingpho_Army
		}
		mutually_exclusive = {
			focus = KAC_Agu_Dis_Plan
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_Sabaw_Tus_Plan"
			army_experience = 50
		}
	}

	focus = {
		id = KAC_Agu_Dis_Plan
		icon = GFX_goal_generic_military_sphere
		cost = 1

		relative_position_id = KAC_The_Jingpho_Army
		x = 2
		y = 1

		ai_will_do = { #AI should just rush to get rid of the mega debuff they have for some reason?
			factor = 1000
		}

		prerequisite = {
			focus = KAC_The_Jingpho_Army
		}
		mutually_exclusive = {
			focus = KAC_Sabaw_Tus_Plan
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_Agu_Dis_Plan"
			add_stability = 0.02
			army_experience = 30
		}
	}

	focus = {
		id = KAC_Standardized_Equipment
		icon = GFX_goal_Arms_Export
		cost = 10

		relative_position_id = KAC_Sabaw_Tus_Plan
		x = 2
		y = 1

		ai_will_do = { #AI should just rush to get rid of the mega debuff they have for some reason?
			factor = 1000
		}

		prerequisite = {
			focus = KAC_Sabaw_Tus_Plan
			focus = KAC_Agu_Dis_Plan
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_Standardized_Equipment"
			if = {
				limit = {
					has_idea = KAC_disorg_army
				}
				swap_ideas = {
					remove_idea = KAC_disorg_army
					add_idea = KAC_disorg_army_2
				}
			}
			else_if = {
				limit = {
					has_idea = KAC_disorg_army_2
				}
				remove_ideas = KAC_disorg_army_2
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = KAC_A_Concentrated_Force
		icon = GFX_goal_continuous_suppression
		cost = 7

		relative_position_id = KAC_Agu_Dis_Plan
		x = 1
		y = 1

		ai_will_do = { factor = 10 }

		prerequisite = {
			focus = KAC_Agu_Dis_Plan
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_A_Concentrated_Force"
			army_experience = 100
		}
		search_filters = { FOCUS_FILTER_ARMY_XP }
	}

	focus = {
		id = KAC_Myitkyina_Military_Academy
		icon = GFX_focus_generic_military_academy
		cost = 7

		relative_position_id = KAC_Agu_Dis_Plan
		x = 0
		y = 2

		ai_will_do = { factor = 10 }

		prerequisite = {
			focus = KAC_Agu_Dis_Plan
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_Myitkyina_Military_Academy"
			add_ideas = KAC_academy
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = KAC_Modern_Tactics
		icon = GFX_goal_GEO_Artillery_Tactics
		cost = 8

		relative_position_id = KAC_A_Concentrated_Force
		x = 1
		y = 1

		ai_will_do = { factor = 10 }

		prerequisite = {
			focus = KAC_A_Concentrated_Force
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_Modern_Tactics"
			add_doctrine_cost_reduction = {
				name = KAC_Modern_Tactics
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = KAC_New_Officers
		icon = GFX_goal_generic_officer
		cost = 7

		relative_position_id = KAC_A_Concentrated_Force
		x = 0
		y = 2

		ai_will_do = { factor = 10 }

		prerequisite = {
			focus = KAC_A_Concentrated_Force
		}

		prerequisite = {
			focus = KAC_Myitkyina_Military_Academy
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_New_Officers"
			army_experience = 100
		}
		search_filters = { FOCUS_FILTER_ARMY_XP }
	}

	focus = {
		id = KAC_Elite_Mountaineer_Corps
		icon = GFX_goal_generic_secret_weapon
		cost = 8

		relative_position_id = KAC_A_Concentrated_Force
		x = 3
		y = 1

		prerequisite = {
			focus = KAC_A_Concentrated_Force
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_Elite_Mountaineer_Corps"
			enable_tech_mountain_warfare = yes
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = KAC_Fortifying_the_Mountains
		icon = GFX_goal_nested_fortifications
		cost = 10

		relative_position_id = KAC_Elite_Mountaineer_Corps
		x = -1
		y = 1

		ai_will_do = { factor = 10 }

		available = {
			controls_state = 701
			controls_state = 1111
		}

		prerequisite = {
			focus = KAC_Modern_Tactics
		}
		prerequisite = {
			focus = KAC_Elite_Mountaineer_Corps
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_Fortifying_the_Mountains"
			701 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 10920
				}
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 4425
				}
			}
			1111 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 4996
				}
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 4318
				}
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 13890
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = KAC_Lower_Conscription_Age
		icon = GFX_goal_conscription
		cost = 5

		relative_position_id = KAC_Sabaw_Tus_Plan
		x = -2
		y = 1

		ai_will_do = { factor = 10 }

		prerequisite = {
			focus = KAC_Sabaw_Tus_Plan
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_Lower_Conscription_Age"
			add_stability = -0.02
			increase_conscription = yes
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = KAC_Enforce_Conscription
		icon = GFX_goal_LEP_selective_enforcement
		cost = 5

		relative_position_id = KAC_Lower_Conscription_Age
		x = 0
		y = 1

		ai_will_do = { factor = 10 }

		prerequisite = {
			focus = KAC_Lower_Conscription_Age
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_Enforce_Conscription"
			add_stability = -0.02
			increase_conscription = yes
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = KAC_Guerilla_Fighters
		icon = GFX_GEA_counter_insurgency
		cost = 10

		relative_position_id = KAC_Sabaw_Tus_Plan
		x = 0
		y = 1

		ai_will_do = { factor = 10 }

		prerequisite = {
			focus = KAC_Sabaw_Tus_Plan
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_Guerilla_Fighters"
			add_doctrine_cost_reduction = {
				name = KAC_Guerilla_Fighters
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = KAC_The_Mountainwalkers
		icon = GFX_goal_generic_mountain_warfare
		cost = 10

		relative_position_id = KAC_Guerilla_Fighters
		x = 1
		y = 1

		ai_will_do = { factor = 10 }

		prerequisite = {
			focus = KAC_Guerilla_Fighters
		}

		prerequisite = {
			focus = KAC_Standardized_Equipment
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_The_Mountainwalkers"
			add_tech_bonus = {
				name = KAC_The_Mountainwalkers
				bonus = 2
				uses = 1
				category = mountaineers_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = KAC_A_Streamlined_Training_System
		icon = GFX_goal_continuous_reduce_training_time
		cost = 7

		relative_position_id = KAC_Guerilla_Fighters
		x = -1
		y = 2

		ai_will_do = { factor = 10 }

		prerequisite = {
			focus = KAC_Guerilla_Fighters
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_A_Streamlined_Training_System"
			add_ideas = KAC_streamlined_training
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = KAC_Die_for_Your_Country
		icon = GFX_goal_forced_mil
		cost = 10

		relative_position_id = KAC_The_Mountainwalkers
		x = 0
		y = 1

		ai_will_do = { factor = 10 }

		prerequisite = {
			focus = KAC_The_Mountainwalkers
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_Die_for_Your_Country"
			add_war_support = 0.15
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = KAC_Encourage_Military_Production
		icon = GFX_goal_military_academy
		cost = 10

		relative_position_id = KAC_Standardized_Equipment
		x = 1
		y = 2

		ai_will_do = { factor = 10 }

		prerequisite = {
			focus = KAC_Standardized_Equipment
		}

		completion_reward = {
			log = "[GetLogRoot]: Focus Completed KAC_Encourage_Military_Production"
			add_offsite_building = { type = arms_factory level = 1 }
			add_ideas = KAC_villageguns
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
}

