###########################
# Serbia Focus Tree
# By Alpinia, Maltesefalcon and Carmain
###########################

focus_tree = {
	id = serbia_focus

	country = {
		factor = 0
		modifier = {
			add = 10
			tag = SER
		}
	}

	default = no
	continuous_focus_position = { x = 200 y = 850 }

	################
	### Politics ###
	################

	focus = {
		id = SER_Return_Of_The_Crown_Prince
		icon = GFX_focus_rom_royal_dictatorship
		available = {
			hidden_trigger = { always = no }
		}
		mutually_exclusive = {
			focus = SER_The_Vojvoda_Stands_Tall
			focus = SER_The_Republican_Proclamation
		}
		x = 1
		y = 0
		cost = 0
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Return_Of_The_Crown_Prince"
			remove_ideas = SER_political_instability
			hidden_effect = {
				create_country_leader = {
					name = "Alexander II"
					desc = "POLITICS_ALEXANDER_II_DESC"
					picture = "Portrait_SER_Alexander_II.tga"
					expire = "1965.1.1"
					ideology = social_conservative_subtype
				}
				create_country_leader = {
					name = "Alexander II"
					desc = "POLITICS_ALEXANDER_II_DESC"
					picture = "Portrait_SER_Alexander_II.tga"
					expire = "1965.1.1"
					ideology = market_liberal_subtype
				}
				create_country_leader = {
					name = "Alexander II"
					desc = "POLITICS_ALEXANDER_II_DESC"
					picture = "Portrait_SER_Alexander_II.tga"
					expire = "1965.1.1"
					ideology = social_liberal_subtype
				}
				create_country_leader = {
					name = "Alexander II"
					desc = "POLITICS_ALEXANDER_II_DESC"
					picture = "Portrait_SER_Alexander_II.tga"
					expire = "1965.1.1"
					ideology = social_democrat_subtype
				}
				news_event = worldnews.117
				set_party_name = {
					ideology = paternal_autocrat
					name = SER_alexander_paternal_autocrat_party
					long_name = SER_alexander_paternal_autocrat_party_long
				}
			}
		}
	}

	focus = {
		id = SER_Alexanders_Vision
		icon = GFX_ITA_urban
		prerequisite = {
			focus = SER_Return_Of_The_Crown_Prince
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 0
		y = 1
		cost = 6
		ai_will_do = {
			factor = 100
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Alexanders_Vision"
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.10
			}
			add_ideas = SER_alexanders_vision_1
			hidden_effect = {
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = -0.20
				}
				remove_all_ministers_but_hog = yes
				add_ideas = {
					SER_Bogoljub_Jevtic_for_pau
					SER_Milorad_Djordjevic_eco_pau
					SER_Milan_Srskic_sec_pau
				}
			}
		}
	}

	focus = {
		id = SER_Encourage_Yugoslavism
		icon = GFX_goal_SER_yugoslavism
		prerequisite = {
			focus = SER_Alexanders_Vision
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = -1
		y = 2
		cost = 6
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				OR = {
					owns_state = 45
					owns_state = 794
				}
			}
			modifier = {
				factor = 4
				OR = {
					owns_state = 104
					owns_state = 109
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Encourage_Yugoslavism"
			add_war_support = 0.1
			custom_effect_tooltip = SER_Encourage_Yugoslavism_tooltip
			set_variable = { SER_coring_decision_large = 65 }
			set_variable = { SER_coring_decision_medium = 50 }
			set_variable = { SER_coring_decision_small = 35 }
		}
	}

	focus = {
		id = SER_Begin_Land_Reform
		icon = GFX_goal_OTT_Land_Reform
		prerequisite = {
			focus = SER_Alexanders_Vision
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 1
		y = 2
		cost = 6
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Begin_Land_Reform"
			swap_ideas = {
				remove_idea = SER_alexanders_vision_1
				add_idea = SER_alexanders_vision_2
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.10
			}
		}
	}

	focus = {
		id = SER_Glory_To_The_King
		icon = GFX_goal_SER_king
		prerequisite = {
			focus = SER_Begin_Land_Reform
		}
		prerequisite = {
			focus = SER_Monument_To_The_Unknown_Soldier
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 1
		y = 4
		cost = 6
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Glory_To_The_King"
			add_war_support = 0.1
			add_political_power = 50
			swap_ideas = {
				remove_idea = SER_alexanders_vision_2
				add_idea = SER_alexanders_vision_3
			}
		}
	}

	focus = {
		id = SER_Maintain_Military_Dominance
		icon = GFX_goal_generic_join_faction
		prerequisite = {
			focus = SER_Return_Of_The_Crown_Prince
			focus = SER_The_Vojvoda_Stands_Tall
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 2
		y = 1
		cost = 6
		ai_will_do = {
			factor = 15
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Maintain_Military_Dominance"
			army_experience = 50
			if = {
				limit = { has_idea = SER_greenshirts }
				swap_ideas = {
					remove_idea = SER_greenshirts
					add_idea = SER_military_dominance_3
				}
			}
			else = {
				add_ideas = SER_military_dominance_1
			}
		}
	}

	focus = {
		id = SER_Monument_To_The_Unknown_Soldier
		icon = GFX_focus_generic_manpower
		prerequisite = {
			focus = SER_Maintain_Military_Dominance
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 2
		y = 3
		cost = 6
		ai_will_do = {
			factor = 15
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Monument_To_The_Unknown_Soldier"
			if = {
				limit = { has_idea = SER_military_dominance_3 }
				swap_ideas = {
					remove_idea = SER_military_dominance_3
					add_idea = SER_military_dominance_4
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SER_military_dominance_1
					add_idea = SER_military_dominance_2
				}
			}
		}
	}

	focus = {
		id = SER_The_Vojvoda_Stands_Tall
		icon = GFX_goal_authority
		available = {
			hidden_trigger = { always = no }
		}
		mutually_exclusive = {
			focus = SER_Return_Of_The_Crown_Prince
			focus = SER_The_Republican_Proclamation
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 4
		y = 0
		cost = 0
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_The_Vojvoda_Stands_Tall"
			remove_ideas = SER_political_instability
			add_political_power = 50
			add_stability = 0.05
		}
	}

	focus = {
		id = SER_Organise_The_Radical_Union
		icon = GFX_focus_generic_authoritarian_government
		prerequisite = {
			focus = SER_The_Vojvoda_Stands_Tall
		}
		relative_position_id = SER_The_Vojvoda_Stands_Tall
		x = 0
		y = 1
		cost = 6
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Organise_The_Radical_Union"
			add_ideas = SER_rule_of_the_vojvoda_1
			set_party_name = {
				ideology = authoritarian_democrat
				name = SER_vojvoda_authoritarian_democrat_party
				long_name = SER_vojvoda_authoritarian_democrat_party_long
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.1
			}
		}
	}

	focus = {
		id = SER_Mobilise_The_Greenshirts
		icon = GFX_goal_social_reforms
		prerequisite = {
			focus = SER_Organise_The_Radical_Union
		}
		relative_position_id = SER_The_Vojvoda_Stands_Tall
		x = -1
		y = 2
		cost = 6
		ai_will_do = {
			factor = 12
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Mobilise_The_Greenshirts"
			add_ideas = SER_greenshirts
			add_political_power = 50
		}
	}

	focus = {
		id = SER_One_Vojvoda_One_Nation_One_State
		icon = GFX_goal_national_populism
		prerequisite = {
			focus = SER_Monument_To_The_Unknown_Soldier
		}
		prerequisite = {
			focus = SER_Mobilise_The_Greenshirts
		}
		relative_position_id = SER_The_Vojvoda_Stands_Tall
		x = -1
		y = 4
		cost = 6
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_One_Vojvoda_One_Nation_One_State"
			swap_ideas = {
				remove_idea = SER_rule_of_the_vojvoda_1
				add_idea = SER_rule_of_the_vojvoda_2
			}
		}
	}

	focus = {
		id = SER_The_Republican_Proclamation
		icon = GFX_goal_Fight_for_Freedom
		available = {
			hidden_trigger = { always = no }
		}
		mutually_exclusive = {
			focus = SER_Return_Of_The_Crown_Prince
			focus = SER_The_Vojvoda_Stands_Tall
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 6
		y = 0
		cost = 0
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_The_Republican_Proclamation"
			remove_ideas = SER_political_instability
			set_cosmetic_tag = SER_republic
			hidden_effect = {
				random_other_country = { news_event = worldnews.118 }
			}
		}
	}

	focus = {
		id = SER_Draft_A_Constitution
		icon = GFX_goal_new_treaty
		prerequisite = {
			focus = SER_The_Republican_Proclamation
		}
		relative_position_id = SER_The_Republican_Proclamation
		x = 0
		y = 1
		cost = 6
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Draft_A_Constitution"
			add_stability = 0.1
			add_political_power = 75
		}
	}

	focus = {
		id = SER_Free_The_Vojvodas_Prisoners
		icon = GFX_HON_peace_in_our_time
		prerequisite = {
			focus = SER_Draft_A_Constitution
		}
		relative_position_id = SER_The_Republican_Proclamation
		x = 1
		y = 2
		cost = 4
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Free_The_Vojvodas_Prisoners"
			add_stability = 0.05
			add_popularity = {
				ideology = social_democrat
				popularity = 0.1
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.1
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.1
			}
		}
	}

	focus = {
		id = SER_A_Nascent_Balkan_Democracy
		icon = GFX_goal_generic_elections
		prerequisite = {
			focus = SER_Draft_A_Constitution
		}
		relative_position_id = SER_The_Republican_Proclamation
		x = -1
		y = 2
		cost = 6
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_A_Nascent_Balkan_Democracy"
			add_ideas = SER_balkan_democracy_1
			country_event = serbia.21
		}
	}

	focus = {
		id = SER_Restore_Local_Governance
		icon = GFX_goal_COS_Ferrer_Coup
		prerequisite = {
			focus = SER_A_Nascent_Balkan_Democracy
		}
		relative_position_id = SER_The_Republican_Proclamation
		x = 1
		y = 4
		cost = 6
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Restore_Local_Governance"
			if = { #has pasic
				limit = { has_idea = SER_balkan_democracy_3 }
				swap_ideas = {
					remove_idea = SER_balkan_democracy_3
					add_idea = SER_balkan_democracy_5
				}
			}
			else_if = { #has open economy
				limit = { has_idea = SER_balkan_democracy_4 }
				swap_ideas = {
					remove_idea = SER_balkan_democracy_4
					add_idea = SER_balkan_democracy_6
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SER_balkan_democracy_1
					add_idea = SER_balkan_democracy_2
				}
			}
		}
	}

	focus = {
		id = SER_Implement_The_Pasic_Manifesto
		icon = GFX_goal_SER_Pasic_Cult
		available = {
			has_government = social_conservative
		}
		prerequisite = {
			focus = SER_A_Nascent_Balkan_Democracy
		}
		mutually_exclusive = {
			focus = SER_Open_The_Serbian_Economy
		}
		relative_position_id = SER_The_Republican_Proclamation
		x = -2
		y = 3
		cost = 6
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Implement_The_Pasic_Manifesto"
			if = { #has governance
				limit = { has_idea = SER_balkan_democracy_2 }
				swap_ideas = {
					remove_idea = SER_balkan_democracy_2
					add_idea = SER_balkan_democracy_5
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SER_balkan_democracy_1
					add_idea = SER_balkan_democracy_3
				}
			}
		}
	}

	focus = {
		id = SER_Open_The_Serbian_Economy
		icon = GFX_goal_generic_positive_trade_relations_gold
		available = {
			has_government = market_liberal
		}
		prerequisite = {
			focus = SER_A_Nascent_Balkan_Democracy
		}
		mutually_exclusive = {
			focus = SER_Implement_The_Pasic_Manifesto
		}
		relative_position_id = SER_The_Republican_Proclamation
		x = 0
		y = 3
		cost = 6
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Open_The_Serbian_Economy"
			if = { #has governance
				limit = { has_idea = SER_balkan_democracy_2 }
				swap_ideas = {
					remove_idea = SER_balkan_democracy_2
					add_idea = SER_balkan_democracy_6
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SER_balkan_democracy_1
					add_idea = SER_balkan_democracy_4
				}
			}
		}
	}

	###############
	### Foreign ###
	###############


	focus = {
		id = SER_The_Congress_Of_Belgrade
		icon = GFX_goal_SER_congress_of_belgrade
		available = {
			is_subject = no
			has_war = no
			OR = {
				has_completed_focus = SER_Return_Of_The_Crown_Prince
				has_completed_focus = SER_The_Vojvoda_Stands_Tall
				has_completed_focus = SER_The_Republican_Proclamation
				ROM = { has_war_with = BUL }
				GRE = { has_war_with = BUL }
			}
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 9
		y = 0
		cost = 3
		ai_will_do = { factor = 3000 }
		select_effect = {
			country_event = { id = pact.1 days = 4 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_The_Congress_Of_Belgrade"
			unlock_decision_tooltip = SER_Ultimatum_To_Bulgaria
		}
	}

	focus = {
		id = SER_The_Balkan_Research_Initiative
		icon = GFX_focus_research2
		available = {
			owns_state = 106
			has_war = no
			is_subject = no
		}
		prerequisite = {
			focus = SER_The_Congress_Of_Belgrade
		}
		relative_position_id = SER_The_Congress_Of_Belgrade
		x = -1
		y = 1
		cost = 5
		ai_will_do = { factor = 3000 }
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_The_Balkan_Research_Initiative"
			if = {
				limit = { has_dlc = "Together for Victory" }
				add_to_tech_sharing_group = balkan_research
			}
			else = {
				hidden_effect = { add_ideas = SER_balkan_research_idea }
				custom_effect_tooltip = SER_balkan_research_idea_tooltip
			}
			unlock_decision_category_tooltip = SER_Balkan_Research_Initiative_decisions
		}
	}

	focus = {
		id = SER_Together_Against_Austria
		icon = GFX_goal_SER_together_against_austria
		available = {
			owns_state = 106
			has_war = no
			is_subject = no
			can_declare_war_on = 45.owner
			if = {
				limit = {
					var:45.owner = { is_subject = yes }
				}
				can_declare_war_on = var:45.owner:overlord
			}
		}
		bypass = {
			OR = {
				NOT = { can_declare_war_on = 45.owner }
				owns_state = 45
			}
		}
		prerequisite = {
			focus = SER_The_Balkan_Research_Initiative
		}
		relative_position_id = SER_The_Congress_Of_Belgrade
		x = 0
		y = 2
		cost = 4
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { owns_state = 106 }
			}
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		select_effect = {
			country_event = { id = pact.200 days = 3 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Together_Against_Austria"
			custom_effect_tooltip = SER_the_dream_of_yugoslavia_tooltip
			hidden_effect = { add_ideas = SER_the_dream_of_yugoslavia_1 }
		}
	}

	focus = {
		id = SER_The_Dream_Fulfilled
		icon = GFX_goal_SER_yugoslavia
		available = {
			owns_state = 45 #Vojvodina
			owns_state = 104 #Bosnia
			owns_state = 109 #Posavina
		}
		prerequisite = {
			focus = SER_The_Belgrade_Salonica_Railway
		}
		prerequisite = {
			focus = SER_Together_Against_Austria
		}
		prerequisite = {
			focus = SER_Promote_Macedonian_Investment
		}
		relative_position_id = SER_The_Congress_Of_Belgrade
		x = 0
		y = 4
		cost = 8
		ai_will_do = {
			factor = 15
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_The_Dream_Fulfilled"
			add_research_slot = 1
			set_cosmetic_tag = SER_YUG
			custom_effect_tooltip = SER_The_Dream_Fulfilled_tooltip
			hidden_effect = {
				swap_ideas = {
					remove_idea = SER_the_dream_of_yugoslavia_1
					add_idea = SER_the_dream_of_yugoslavia_2
				}
			}
		}
	}

	focus = {
		id = SER_The_Belgrade_Salonica_Railway
		icon = GFX_goal_generic_railroad
		available = {
			controls_all_owned_states = yes
			NOT = { has_war_with = GRE }
			GRE = {
				has_socialist_government = no
				owns_state = 731
				owns_state = 989
			}
		}
		prerequisite = {
			focus = SER_The_Balkan_Research_Initiative
		}
		relative_position_id = SER_The_Congress_Of_Belgrade
		x = -1
		y = 3
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				is_in_faction_with = GRE
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_The_Belgrade_Salonica_Railway"
			every_owned_state = {
				limit = {
					OR = {
						state = 107
						state = 108
						state = 765
						state = 767
					}
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			GRE = { country_event = serbia.54 }
		}
	}

	focus = {
		id = SER_Addressing_The_Macedonians
		icon = GFX_focus_generic_concessions
		available = {
			has_idea = SER_macedonian_resistance
			106 = {
				is_owned_and_controlled_by = ROOT
				is_core_of = ROOT
			}
		}
		prerequisite = {
			focus = SER_The_Congress_Of_Belgrade
		}
		relative_position_id = SER_The_Congress_Of_Belgrade
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Addressing_The_Macedonians"
			add_political_power = -75
			remove_ideas = SER_macedonian_resistance
		}
	}

	focus = {
		id = SER_Promote_Macedonian_Investment
		icon = GFX_goal_generic_deals
		available = {
			106 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Addressing_The_Macedonians
		}
		relative_position_id = SER_The_Congress_Of_Belgrade
		x = 1
		y = 3
		cost = 8
		ai_will_do = {
			factor = 15
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Promote_Macedonian_Investment"
			106 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_research_slot = 1
		}
	}

	###############
	### Economy ###
	###############

	focus = {
		id = SER_Farming_Subsidies
		icon = GFX_NIC_Cows
		x = 13
		y = 0
		cost = 6
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Farming_Subsidies"
			add_political_power = -50
			if = {
				limit = { has_idea = SER_farming_subsidies_2 }
				swap_ideas = {
					remove_idea = SER_farming_subsidies_2
					add_idea = SER_farming_subsidies_3
				}
			}
			else = {
				add_ideas = SER_farming_subsidies_1
			}
		}
	}

	focus = {
		id = SER_Continue_The_Mechanisation_Efforts
		icon = GFX_goal_generic_mechanisation
		relative_position_id = SER_Farming_Subsidies
		x = 2
		y = 0
		cost = 6
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Continue_The_Mechanisation_Efforts"
			add_tech_bonus = {
				name = SER_Continue_The_Mechanisation_Efforts
				bonus = 1
				uses = 1
				category = industry
			}
		}
	}

	focus = {
		id = SER_Invest_In_Zadrugar
		icon = GFX_focus_generic_industry_3
		prerequisite = {
			focus = SER_Farming_Subsidies
			focus = SER_Continue_The_Mechanisation_Efforts
		}
		relative_position_id = SER_Farming_Subsidies
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 16
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Invest_In_Zadrugar"
			add_tech_bonus = {
				name = SER_Invest_In_Zadrugar
				bonus = 0.5
				uses = 1
				category = efficiency_tech
			}
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Rural_Credit_Banks
		icon = GFX_goal_agricultural_aid
		available = {
			107 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Invest_In_Zadrugar
		}
		relative_position_id = SER_Farming_Subsidies
		x = 1
		y = 2
		cost = 7
		ai_will_do = {
			factor = 16
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Rural_Credit_Banks"
			SER_reduce_black_monday = yes
			if = {
				limit = { has_idea = SER_farming_subsidies_1 }
				swap_ideas = {
					remove_idea = SER_farming_subsidies_1
					add_idea = SER_farming_subsidies_3
				}
			}
			else = {
				add_ideas = SER_farming_subsidies_2
			}
			custom_effect_tooltip = SER_Rural_Credit_Grants_tooltip
		}
	}

	focus = {
		id = SER_Emergency_Economic_Relief
		icon = GFX_focus_empty_coffers
		available = {
			SER_has_black_monday = yes
		}
		relative_position_id = SER_Farming_Subsidies
		x = 4
		y = 0
		cost = 7
		ai_will_do = {
			factor = 25
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Emergency_Economic_Relief"
			SER_reduce_black_monday = yes
		}
	}

	focus = {
		id = SER_Modernise_Belgrade
		icon = GFX_ITA_urban
		prerequisite = {
			focus = SER_Emergency_Economic_Relief
		}
		x = 4
		y = 1
		relative_position_id = SER_Farming_Subsidies
		cost = 7
		ai_will_do = {
			factor = 25
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Modernise_Belgrade"
			add_tech_bonus = {
				name = SER_Modernise_Belgrade
				bonus = 1
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Resume_Cash_Crop_Exportation
		icon = GFX_focus_generic_agriculture
		prerequisite = {
			focus = SER_Rural_Credit_Banks
		}
		prerequisite = {
			focus = SER_Modernise_Belgrade
		}
		x = 2
		y = 3
		relative_position_id = SER_Farming_Subsidies
		cost = 7
		ai_will_do = {
			factor = 25
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Resume_Cash_Crop_Exportation"
			SER_reduce_black_monday = yes
		}
	}

	focus = {
		id = SER_Form_The_State_Railway_Directorate
		icon = GFX_goal_generic_railroad
		prerequisite = {
			focus = SER_Modernise_Belgrade
		}
		relative_position_id = SER_Farming_Subsidies
		x = 3
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Form_The_State_Railway_Directorate"
			add_ideas = SER_state_railways_directorate
		}
	}

	focus = {
		id = SER_Overhaul_Narrow_Gauge_Railways
		icon = GFX_goal_generic_railway_construction
		prerequisite = {
			focus = SER_Resume_Cash_Crop_Exportation
			focus = SER_Form_The_State_Railway_Directorate
		}
		relative_position_id = SER_Farming_Subsidies
		x = 3
		y = 4
		cost = 7
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Overhaul_Narrow_Gauge_Railways"
			every_owned_state = {
				limit = {
					is_core_of = ROOT
					is_controlled_by = ROOT
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Expand_The_Bor_Mines
		icon = GFX_goal_construction_engineering
		available = {
			767 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Modernise_Belgrade
		}
		relative_position_id = SER_Farming_Subsidies
		x = 5
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Expand_The_Bor_Mines"
			add_resource = {
				type = tungsten
				amount = 7
				state = 767
			}
		}
	}

	focus = {
		id = SER_Expand_The_Radinac_Steel_Mill
		icon = GFX_focus_generic_steel
		available = {
			107 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Modernise_Belgrade
		}
		relative_position_id = SER_Farming_Subsidies
		x = 7
		y = 2
		cost = 6
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Expand_The_Radinac_Steel_Mill"
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_resource = {
				type = steel
				amount = 10
				state = 107
			}
		}
	}

	focus = {
		id = SER_Found_FOMU
		icon = GFX_goal_Focus_Military_Mobilisation
		prerequisite = {
			focus = SER_Form_The_State_Railway_Directorate
		}
		prerequisite = {
			focus = SER_Expand_The_Bor_Mines
		}
		prerequisite = {
			focus = SER_Expand_The_Radinac_Steel_Mill
		}
		relative_position_id = SER_Farming_Subsidies
		x = 5
		y = 3
		cost = 7
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Found_FOMU"
			random_owned_controlled_state = {
				prioritize = { 108 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	###################
	### Army Reform ###
	###################

	focus = {
		id = SER_Form_The_Military_Council
		icon = GFX_goal_SER_army
		available = {
			NOT = { has_idea = SER_austrias_watchful_eye }
		}
		relative_position_id = SER_Farming_Subsidies
		x = 9
		y = 0
		cost = 8
		ai_will_do = {
			factor = 25
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Form_The_Military_Council"
			add_ideas = SER_military_reform_council_1
		}
	}

	focus = {
		id = SER_Organise_The_Chetniks
		icon = GFX_EGY_Palestine_Defence
		prerequisite = {
			focus = SER_Form_The_Military_Council
		}
		relative_position_id = SER_Form_The_Military_Council
		x = -3
		y = 1
		cost = 6
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Organise_The_Chetniks"
			swap_ideas = {
				remove_idea = SER_military_reform_council_1
				add_idea = SER_military_reform_council_2
			}
			hidden_effect = {
				if = {
					limit = { has_war_with = 104.owner }
					country_event = { id = serbia.42 days = 5 random_days = 3 }
				}
			}
		}
	}

	focus = {
		id = SER_Modernise_The_Engineering_Battalions
		icon = GFX_goal_construction_engineering
		prerequisite = {
			focus = SER_Form_The_Military_Council
		}
		relative_position_id = SER_Form_The_Military_Council
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				has_completed_focus = SER_Together_Against_Austria
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Modernise_The_Engineering_Battalions"
			custom_effect_tooltip = expanded_engineer_corps_tech_effect
			hidden_effect = {
				set_technology = { expanded_engineer_corps_tech = 1 popup = no }
			}
		}
	}

	focus = {
		id = SER_Training_The_New_Guard
		icon = GFX_goal_generic_army_training
		prerequisite = {
			focus = SER_Form_The_Military_Council
		}
		relative_position_id = SER_Form_The_Military_Council
		x = 0
		y = 2
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				has_completed_focus = SER_Together_Against_Austria
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Training_The_New_Guard"
			add_tech_bonus = {
				name = SER_Training_The_New_Guard
				bonus = 1
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SER_Support_Zastava
		icon = GFX_focus_generic_military_equipment
		prerequisite = {
			focus = SER_Found_FOMU
			focus = SER_Modern_Howitzers
		}
		relative_position_id = SER_Training_The_New_Guard
		x = -3
		y = 2
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				has_completed_focus = SER_Together_Against_Austria
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Support_Zastava"
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = zastava
			custom_effect_tooltip = tooltip_white_line
			random_owned_controlled_state = {
				prioritize = { 108 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Modern_Howitzers
		icon = GFX_goal_GEO_Artillery_Tactics
		prerequisite = {
			focus = SER_Training_The_New_Guard
		}
		relative_position_id = SER_Training_The_New_Guard
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				has_completed_focus = SER_Together_Against_Austria
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Modern_Howitzers"
			add_tech_bonus = {
				name = SER_Modern_Howitzers
				bonus = 1
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = SER_New_Army_Tactics
		icon = GFX_goal_planning_bonus
		prerequisite = {
			focus = SER_Training_The_New_Guard
		}
		relative_position_id = SER_Training_The_New_Guard
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				has_completed_focus = SER_Together_Against_Austria
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_New_Army_Tactics"
			add_tech_bonus = {
				name = SER_New_Army_Tactics
				bonus = 1
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SER_Begin_Mechanisation
		icon = GFX_goal_Automobile_Production
		prerequisite = {
			focus = SER_Training_The_New_Guard
		}
		relative_position_id = SER_Training_The_New_Guard
		x = 3
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				has_completed_focus = SER_Together_Against_Austria
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Begin_Mechanisation"
			if = {
				limit = {
					NOT = { has_tech = motorised_infantry }
				}
				set_technology = { motorised_infantry = 1 }
			}
			else = {
				add_tech_bonus = {
					name = SER_Begin_Mechanisation
					bonus = 1
					uses = 1
					category = cat_mechanized_equipment
				}
			}
		}
	}

	focus = {
		id = SER_Import_Entente_Armour_Designs
		icon = GFX_goal_generic_heavy_armour_british
		available = {
			country_exists = ENT
			NOT = { has_war_with = ENT }
		}
		prerequisite = {
			focus = SER_Begin_Mechanisation
		}
		relative_position_id = SER_Training_The_New_Guard
		x = 3
		y = 2
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				has_completed_focus = SER_Together_Against_Austria
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Import_Entente_Armour_Designs"
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = industrija_masina_komponenata
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SER_Import_Entente_Armour_Designs
				bonus = 1
				uses = 1
				category = armor
			}
			add_equipment_to_stockpile = {
				type = light_tank_equipment
				amount = 150
				producer = ENT
			}
		}
	}

	focus = {
		id = SER_Lessons_Of_The_War
		icon = GFX_focus_generic_military_academy
		available = {
			has_global_flag = balkan_war_ended
		}
		prerequisite = {
			focus = SER_Training_The_New_Guard
		}
		relative_position_id = SER_Training_The_New_Guard
		x = 0
		y = 2
		cost = 7
		ai_will_do = {
			factor = 7
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Lessons_Of_The_War"
			army_experience = 50
			add_tech_bonus = {
				name = SER_Lessons_Of_The_War
				bonus = 1
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SER_Serbian_Mountain_Corps
		icon = GFX_goal_yanshan
		prerequisite = {
			focus = SER_Form_The_Military_Council
		}
		relative_position_id = SER_Form_The_Military_Council
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Serbian_Mountain_Corps"
			custom_effect_tooltip = SER_Serbian_Mountain_Corps_tooltip
			custom_effect_tooltip = mountain_training_tech_effect
			hidden_effect = {
				set_technology = { mountain_training_tech = 1 popup = no }
				division_template = {
					name = "Planinski Odred"
					division_names_group = SER_MTN_01
					regiments = {
						mountaineers = { x = 0 y = 0 }
						mountaineers = { x = 0 y = 1 }
						mountaineers = { x = 0 y = 2 }
						mountaineers = { x = 1 y = 0 }
						mountaineers = { x = 1 y = 1 }
						mountaineers = { x = 1 y = 2 }
					}
					priority = 2
				}
				random_owned_controlled_state = {
					prioritize = { 765 }
					create_unit = {
						division = "division_template = \"Planinski Odred\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					prioritize = { 108 }
					create_unit = {
						division = "division_template = \"Planinski Odred\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					prioritize = { 107 }
					create_unit = {
						division = "division_template = \"Planinski Odred\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					prioritize = { 767 }
					create_unit = {
						division = "division_template = \"Planinski Odred\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
						owner = ROOT
					}
				}
			}
		}
	}

	focus = {
		id = SER_Mihailovics_Redoubt
		icon = GFX_goal_nested_fortifications
		available = {
			OR = {
				107 = { is_owned_and_controlled_by = ROOT }
				108 = { is_owned_and_controlled_by = ROOT }
				765 = { is_owned_and_controlled_by = ROOT }
				767 = { is_owned_and_controlled_by = ROOT }
			}
		}
		bypass = {
			has_global_flag = balkan_war_ended
		}
		prerequisite = {
			focus = SER_Form_The_Military_Council
		}
		relative_position_id = SER_Form_The_Military_Council
		x = 3
		y = 1
		cost = 5
		ai_will_do = {
			factor = 3
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Mihailovics_Redoubt"
			107 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 11583
				}
			}
			108 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 6998
				}
			}
			765 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9874
				}
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 9849
				}
			}
			767 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 9906
				}
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 9890
				}
			}
		}
	}

	#################
	### Air Force ###
	#################

	focus = {
		id = SER_Expand_The_Serbian_Aviation_Command
		icon = GFX_goal_SER_airforce
		available = {
			NOT = { has_idea = SER_austrias_watchful_eye }
		}
		x = 13
		y = 5
		cost = 4
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Expand_The_Serbian_Aviation_Command"
			air_experience = 25
		}
	}

	focus = {
		id = SER_Seek_New_Expertise
		icon = GFX_goal_generic_air_fighter2
		prerequisite = {
			focus = SER_Expand_The_Serbian_Aviation_Command
		}
		relative_position_id = SER_Expand_The_Serbian_Aviation_Command
		x = -2
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Seek_New_Expertise"
			country_event = serbia.50
		}
	}

	focus = {
		id = SER_Local_Munition_Efforts
		icon = GFX_goal_industry_air
		prerequisite = {
			focus = SER_Seek_New_Expertise
		}
		relative_position_id = SER_Seek_New_Expertise
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Local_Munition_Efforts"
			add_political_power = -75
			random_owned_controlled_state = {
				prioritize = { 108 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Doctrinal_Studies
		icon = GFX_goal_generic_air_doctrine
		prerequisite = {
			focus = SER_Seek_New_Expertise
		}
		relative_position_id = SER_Seek_New_Expertise
		x = 0
		y = 2
		cost = 7
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Doctrinal_Studies"
			add_tech_bonus = {
				name = SER_Doctrinal_Studies
				bonus = 1
				uses = 2
				category = air_doctrine
			}
		}
	}

	focus = {
		id = SER_Fighter_Bomber_Acquisition
		icon = GFX_goal_ELS_Plane_Lease
		prerequisite = {
			focus = SER_Seek_New_Expertise
		}
		relative_position_id = SER_Seek_New_Expertise
		x = 1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Fighter_Bomber_Acquisition"
			country_event = serbia.52
		}
	}

	focus = {
		id = SER_The_Serbian_Airforce
		icon = GFX_goal_new_airforce
		prerequisite = {
			focus = SER_Fighter_Bomber_Acquisition
		}
		prerequisite = {
			focus = SER_Doctrinal_Studies
		}
		prerequisite = {
			focus = SER_Local_Designs
		}
		relative_position_id = SER_Seek_New_Expertise
		x = 2
		y = 3
		cost = 5
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_The_Serbian_Airforce"
			if = {
				limit = { has_idea = SER_russian_aerial_expertise }
				custom_effect_tooltip = SER_The_Serbian_Airforce_tooltip_RUS
				hidden_effect = {
					remove_ideas = {
						SER_russian_aerial_expertise
						SER_local_designs_idea
					}
					add_ideas = SER_airforce_idea_1
				}
			}
			else_if = {
				limit = { has_idea = SER_french_aerial_expertise }
				custom_effect_tooltip = SER_The_Serbian_Airforce_tooltip_NFA
				hidden_effect = {
					remove_ideas = {
						SER_french_aerial_expertise
						SER_local_designs_idea
					}
					add_ideas = SER_airforce_idea_2
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SER_local_designs_idea
					add_idea = SER_airforce_idea_3
				}
			}
		}
	}

	focus = {
		id = SER_Replace_Weltkrieg_Era_Planes
		icon = GFX_goal_POL_recon_aircraft
		prerequisite = {
			focus = SER_Expand_The_Serbian_Aviation_Command
		}
		relative_position_id = SER_Expand_The_Serbian_Aviation_Command
		x = 2
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Replace_Weltkrieg_Era_Planes"
			country_event = serbia.51
		}
	}

	focus = {
		id = SER_Modernise_Airports
		icon = GFX_goal_generic_air_production
		prerequisite = {
			focus = SER_Expand_The_Serbian_Aviation_Command
		}
		relative_position_id = SER_Expand_The_Serbian_Aviation_Command
		x = 0
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Modernise_Airports"
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Local_Designs
		icon = GFX_focus_YUG_zmaj
		prerequisite = {
			focus = SER_Replace_Weltkrieg_Era_Planes
		}
		prerequisite = {
			focus = SER_Modernise_Airports
		}
		relative_position_id = SER_Expand_The_Serbian_Aviation_Command
		x = 1
		y = 2
		cost = 6
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Local_Designs"
			custom_effect_tooltip = SER_Local_Designs_tooltip
			if = {
				limit = { has_idea = SER_airforce_idea_1 }
				swap_ideas = {
					remove_idea = SER_airforce_idea_1
					add_idea = SER_airforce_idea_2
				}
			}
			else = {
				add_ideas = SER_local_designs_idea
			}
		}
	}

	#########################
	### Montenegro & Navy ###
	#########################

	focus = {
		id = SER_Crna_Gora_I_Srbija
		icon = GFX_goal_SER_brotherly_union
		available = {
			105 = { is_owned_and_controlled_by = ROOT }
		}
		bypass = {
			105 = { is_core_of = SER }
		}
		x = 19
		y = 6
		cost = 4
		ai_will_do = { factor = 100 }
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Crna_Gora_I_Srbija"
			105 = {
				if = {
					limit = { is_claimed_by = SER }
					remove_claim_by = SER
				}
				add_core_of = SER
			}
		}
	}

	focus = {
		id = SER_Connect_The_Railways
		icon = GFX_goal_generic_seize_railway
		available = {
			105 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Crna_Gora_I_Srbija
		}
		relative_position_id = SER_Crna_Gora_I_Srbija
		x = -1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Connect_The_Railways"
			105 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Prospecting_In_Niksic
		icon = GFX_goal_generic_coal_mining
		available = {
			105 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Connect_The_Railways
		}
		prerequisite = {
			focus = SER_Integrate_The_Montenegrin_Economy
		}
		relative_position_id = SER_Crna_Gora_I_Srbija
		x = 0
		y = 2
		cost = 6
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Prospecting_In_Niksic"
			add_resource = {
				type = aluminium
				amount = 16
				state = 105
			}
		}
	}

	focus = {
		id = SER_Integrate_The_Montenegrin_Economy
		icon = GFX_focus_mex_privatisation
		available = {
			105 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Crna_Gora_I_Srbija
		}
		relative_position_id = SER_Crna_Gora_I_Srbija
		x = 1
		y = 1
		cost = 6
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Integrate_The_Montenegrin_Economy"
			random_owned_controlled_state = {
				prioritize = { 105 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Brotherly_Union
		icon = GFX_focus_generic_diplomatic_treaty
		available = {
			owns_state = 105
		}
		prerequisite = {
			focus = SER_Connect_The_Railways
		}
		relative_position_id = SER_Crna_Gora_I_Srbija
		x = -1
		y = 3
		cost = 5
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Brotherly_Union"
			add_political_power = 150
		}
	}

	focus = {
		id = SER_Revive_The_Serbian_Navy
		icon = GFX_goal_SER_navy
		available = {
			any_owned_state = { is_coastal = yes }
			NOT = { has_idea = SER_austrias_watchful_eye }
		}
		relative_position_id = SER_Crna_Gora_I_Srbija
		x = 3
		y = 0
		cost = 5
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				enemies_naval_strength_ratio > 1
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Revive_The_Serbian_Navy"
			navy_experience = 30
		}
	}

	focus = {
		id = SER_Dockyard_Construction
		icon = GFX_goal_generic_shipyard
		available = {
			any_owned_state = { is_coastal = yes }
		}
		prerequisite = {
			focus = SER_Revive_The_Serbian_Navy
		}
		relative_position_id = SER_Revive_The_Serbian_Navy
		x = 0
		y = 1
		cost = 8
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				enemies_naval_strength_ratio > 1
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Dockyard_Construction"
			if = {
				limit = {
					NOT = {
						any_owned_state = { is_coastal = yes }
					}
				}
				effect_tooltip = {
					105 = {
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = dockyard
							level = 3
							instant_build = yes
						}
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 105 }
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SER_Form_A_Merchant_Navy
		icon = GFX_goal_USA_liberty_ships
		available = {
			any_owned_state = { is_coastal = yes }
		}
		prerequisite = {
			focus = SER_Integrate_The_Montenegrin_Economy
			focus = SER_Revive_The_Serbian_Navy
		}
		relative_position_id = SER_Revive_The_Serbian_Navy
		x = -1
		y = 2
		cost = 5
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				enemies_naval_strength_ratio > 1
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Form_A_Merchant_Navy"
			if = {
				limit = {
					NOT = {
						any_owned_state = { is_coastal = yes }
					}
				}
				effect_tooltip = {
					105 = {
						add_building_construction = {
							type = naval_base
							level = 3
							province = 9809
							instant_build = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					105 = { is_owned_and_controlled_by = ROOT }
				}
				105 = {
					add_building_construction = {
						type = naval_base
						level = 3
						province = 9809
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = { naval_base > 0 }
					add_building_construction = {
						type = naval_base
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
						level = 3
						instant_build = yes
					}
				}
			}
			add_equipment_to_stockpile = {
				type = convoy
				amount = 50
				producer = SER
			}
		}
	}

	focus = {
		id = SER_Focus_On_Light_Ships
		icon = GFX_goal_generic_coastal_navy2
		available = {
			any_owned_state = { is_coastal = yes }
			NOT = { has_idea = SER_austrias_watchful_eye }
		}
		prerequisite = {
			focus = SER_Form_A_Merchant_Navy
		}
		relative_position_id = SER_Revive_The_Serbian_Navy
		x = -2
		y = 3
		cost = 6
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				enemies_naval_strength_ratio > 1
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Focus_On_Light_Ships"
			add_tech_bonus = {
				name = SER_First_Naval_Exercises
				bonus = 1
				uses = 2
				category = dd_tech
				category = cl_tech
			}
		}
	}

	focus = {
		id = SER_Shipbuilding_Investments
		icon = GFX_goal_generic_buy_ships
		available = {
			any_owned_state = { is_coastal = yes }
		}
		prerequisite = {
			focus = SER_Dockyard_Construction
		}
		prerequisite = {
			focus = SER_Form_A_Merchant_Navy
		}
		relative_position_id = SER_Revive_The_Serbian_Navy
		x = 0
		y = 3
		cost = 5
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				enemies_naval_strength_ratio > 1
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Shipbuilding_Investments"
			add_timed_idea = {
				idea = SER_naval_investments
				days = 365
			}
			unlock_decision_tooltip = SER_Purchase_HMS_Lion
		}
	}

	focus = {
		id = SER_First_Naval_Exercises
		icon = GFX_goal_navy_hat_ships
		available = {
			any_owned_state = { is_coastal = yes }
		}
		prerequisite = {
			focus = SER_Revive_The_Serbian_Navy
		}
		relative_position_id = SER_Revive_The_Serbian_Navy
		x = 2
		y = 1
		cost = 6
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				enemies_naval_strength_ratio > 1
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_First_Naval_Exercises"
			navy_experience = 15
			add_tech_bonus = {
				name = SER_First_Naval_Exercises
				bonus = 1
				uses = 2
				category = naval_doctrine
			}
		}
	}
}
