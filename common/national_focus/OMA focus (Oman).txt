###########################
# Oman Focus Tree
# By Roparex
###########################

focus_tree = {
	id = oman_focus

	country = {
		factor = 0

		modifier = {
			add = 10
			tag = OMA
		}
	}

	default = no
	continuous_focus_position = { x = 2150 y = 600 }

	##### INTERNAL AFFAIRS

	focus = {
		id = OMA_defense_of_the_realm
		icon = GFX_focus_rom_royal_dictatorship
		x = 5
		y = 0
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_defense_of_the_realm"
			army_experience = 15
			navy_experience = 15
			air_experience = 15
			add_war_support = 0.05
		}
		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = OMA_royal_navy
		prerequisite = {
			focus = OMA_defense_of_the_realm
		}

		icon = GFX_goal_OMA_Navy
		x = -4
		y = 1
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_royal_navy"
			navy_experience = 25
		}
		search_filters = { FOCUS_FILTER_NAVY_XP }
	}

	focus = {
		id = OMA_muscat_royal_dockyard
		prerequisite = {
			focus = OMA_royal_navy
		}
		available = {
			controls_state = 294
		}
		icon = GFX_goal_generic_construct_naval_dockyard
		x = -4
		y = 2
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_muscat_royal_dockyard"
			294 = { add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_omani_trade_fleet
		prerequisite = {
			focus = OMA_muscat_royal_dockyard
		}
		icon = GFX_goal_generic_buy_ships
		x = -5
		y = 3
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_omani_trade_fleet"
			add_equipment_to_stockpile = { type = convoy_1 amount = 20 producer = OMA }
		}
	}

	focus = {
		id = OMA_foreign_naval_officers
		prerequisite = {
			focus = OMA_muscat_royal_dockyard
		}
		icon = GFX_goal_navy_hat_ships
		x = -3
		y = 3
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_foreign_naval_officers"
			add_doctrine_cost_reduction = {
				name = OMA_foreign_naval_officers
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_royal_army_reform
		prerequisite = {
			focus = OMA_defense_of_the_realm
		}
		icon = GFX_goal_OMA_Army
		x = 0
		y = 1
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_royal_army_reform"
			army_experience = 30
			add_doctrine_cost_reduction = {
				name = OMA_royal_army_reform
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_the_saudi_threat
		prerequisite = {
			focus = OMA_royal_army_reform
		}
		available = {
			controls_state = 294
		}
		icon = GFX_goal_skull_fortification
		x = -1
		y = 2
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_the_saudi_threat"
			294 = {
				add_building_construction = {
					type = bunker
					level = 1
					province = 2059
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 2018
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 5049
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 4993
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_muscat_armament_plan
		prerequisite = {
			focus = OMA_royal_army_reform
		}
		available = {
			controls_state = 294
		}
		icon = GFX_focus_generic_military_equipment
		x = 1
		y = 2
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_muscat_armament_plan"
			294 = { add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_artillery_purchases
		prerequisite = {
			focus = OMA_the_saudi_threat
		}
		icon = GFX_goal_GEO_Artillery_Tactics
		x = -1
		y = 3
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_artillery_purchases"
			add_tech_bonus = {
				name = OMA_artillery_purchases
				bonus = 1
				uses = 1
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_infantry_equipment_reorganization
		prerequisite = {
			focus = OMA_muscat_armament_plan
		}
		icon = GFX_goal_generic_small_arms
		x = 1
		y = 3
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_infantry_equipment_reorganization"
			add_tech_bonus = {
				name = OMA_infantry_equipment_reorganization
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_dealing_with_tribal_militias
		prerequisite = {
			focus = OMA_artillery_purchases
		}
		icon = GFX_goal_Settling_Nomads
		x = -2
		y = 4
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_dealing_with_tribal_militias"
			remove_ideas = OMA_tribal_army
		}
	}

	focus = {
		id = OMA_regular_regiments
		prerequisite = {
			focus = OMA_artillery_purchases
		}
		prerequisite = {
			focus = OMA_infantry_equipment_reorganization
		}

		icon = GFX_goal_generic_army_cooperation
		x = 0
		y = 4
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_regular_regiments"
			add_manpower = 5000
			add_ideas = OMA_DiCT
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_hierarchy_reorganization
		prerequisite = {
			focus = OMA_infantry_equipment_reorganization
		}
		icon = GFX_goal_generic_army_high_command
		x = 2
		y = 4
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_hierarchy_reorganization"
			add_doctrine_cost_reduction = {
				name = OMA_hierarchy_reorganization
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_indian_advisors
		prerequisite = {
			focus = OMA_hierarchy_reorganization
		}
		prerequisite = {
			focus = OMA_regular_regiments
		}
		prerequisite = {
			focus = OMA_dealing_with_tribal_militias
		}
		mutually_exclusive = {
			focus = OMA_persian_advisors
		}
		available = {
			RAJ = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
		icon = GFX_PRF_integrate_RAJ
		x = -1
		y = 5
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_indian_advisors"
			add_ideas = OMA_indian_idea
		}
	}

	focus = {
		id = OMA_persian_advisors
		prerequisite = {
			focus = OMA_hierarchy_reorganization
		}
		prerequisite = {
			focus = OMA_regular_regiments
		}
		prerequisite = {
			focus = OMA_dealing_with_tribal_militias
		}
		mutually_exclusive = {
			focus = OMA_indian_advisors
		}
		available = {
			PER = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
		icon = GFX_goal_Desert_Officers_2
		x = 1
		y = 5
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_persian_advisors"
			add_ideas = OMA_persian_idea
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = OMA_royal_airforce
		prerequisite = {
			focus = OMA_defense_of_the_realm
		}

		icon = GFX_goal_OMA_Airforce
		x = 4
		y = 1
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_royal_airforce"
			air_experience = 25
		}
		search_filters = { FOCUS_FILTER_AIR_XP }
	}

	focus = {
		id = OMA_anti_aircraft_defenses
		prerequisite = {
			focus = OMA_royal_airforce
		}

		icon = GFX_goal_anti_air
		x = 4
		y = 2
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_anti_aircraft_defenses"
			add_tech_bonus = {
				name = OMA_anti_aircraft_defenses
				bonus = 1
				uses = 1
				technology = interwar_antiair
				technology = antiair1
				technology = antiair2
				technology = antiair3
				technology = antiair4
				technology = antiair5
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_aerial_training
		prerequisite = {
			focus = OMA_anti_aircraft_defenses
		}

		icon = GFX_goal_ELS_Basic_Fighter_Development
		x = 3
		y = 3
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_aerial_training"
			add_doctrine_cost_reduction = {
				name = OMA_aerial_training
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_foreign_fighter_purchases
		prerequisite = {
			focus = OMA_anti_aircraft_defenses
		}

		icon = GFX_goal_ELS_Plane_Lease
		x = 5
		y = 3
		relative_position_id = OMA_defense_of_the_realm
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_foreign_fighter_purchases"
			add_tech_bonus = {
				name = OMA_foreign_fighter_purchases
				bonus = 1
				uses = 1
				category = light_fighter
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_administrative_reform

		icon = GFX_goal_POR_royal_edicts
		x = 12
		y = 0
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_administrative_reform"
			add_political_power = -40
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = OMA_tax_reform

		icon = GFX_goal_generic_deals
		x = 16
		y = 0
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_tax_reform"
			add_stability = 0.1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = OMA_economical_reform_planning
		available = {
			controls_state = 294
		}
		icon = GFX_goal_OTT_Land_Reform
		x = 20
		y = 0
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_economical_reform_planning"
			294 = {
				add_extra_state_shared_building_slots = 2
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_education_reform
		prerequisite = {
			focus = OMA_administrative_reform
		}
		icon = GFX_goal_OTT_Islamic_Education
		x = -4
		y = 1
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_education_reform"
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_muscat_airport
		prerequisite = {
			focus = OMA_education_reform
		}
		available = {
			controls_state = 294
		}
		icon = GFX_goal_new_airforce
		x = -4
		y = 2
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_muscat_airport"
			294 = {	add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = OMA_foreign_blueprints
		prerequisite = {
			focus = OMA_muscat_airport
		}
		icon = GFX_goal_generic_scientific_exchange
		x = -4
		y = 3
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_foreign_blueprints"
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_incorporate_the_hinterlands
		prerequisite = {
			focus = OMA_administrative_reform
		}
		prerequisite = {
			focus = OMA_tax_reform
		}
		icon = GFX_goal_generic_government_deals
		x = -2
		y = 1
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_incorporate_the_hinterlands"
			add_manpower = 5000
			add_war_support = 0.05
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = OMA_taxate_the_hinterlands
		prerequisite = {
			focus = OMA_incorporate_the_hinterlands
		}
		icon = GFX_goal_generic_seize_money
		x = -2
		y = 2
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_taxate_the_hinterlands"
			add_ideas = OMA_tax_idea
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = OMA_call_banners_from_the_hinterlands
		prerequisite = {
			focus = OMA_taxate_the_hinterlands
		}
		icon = GFX_goal_mass_concentration_of_army
		x = -2
		y = 3
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_call_banners_from_the_hinterlands"
			remove_ideas = OMA_army_of_muscat
		}
	}

	focus = {
		id = OMA_loyalty_to_the_imam
		prerequisite = {
			focus = OMA_call_banners_from_the_hinterlands
		}
		prerequisite = {
			focus = OMA_foreign_blueprints
		}
		icon = GFX_focus_generic_monarchy_2
		x = -3
		y = 4
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_loyalty_to_the_imam"
			remove_ideas = OMA_imamate_of_oman
		}
	}

	focus = {
		id = OMA_budget_recovery
		prerequisite = {
			focus = OMA_tax_reform
		}
		available = {
			has_idea = OMA_black_monday
		}
		icon = GFX_goal_OTT_Tithe
		x = 0
		y = 1
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_budget_recovery"
			swap_ideas = {
				remove_idea = OMA_black_monday
				add_idea = OMA_black_monday_2
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_budget_rebalancing
		prerequisite = {
			focus = OMA_budget_recovery
		}
		icon = GFX_goal_generic_price_controls
		x = 0
		y = 2
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_budget_rebalancing"
			remove_ideas = OMA_black_monday_2
		}
	}

	focus = {
		id = OMA_budget_restructuring
		prerequisite = {
			focus = OMA_budget_rebalancing
		}
		icon = GFX_goal_generic_foreign_investments
		x = 0
		y = 3
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_budget_restructuring"
			add_ideas = OMA_modern_budget
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_muscat_railway_company
		prerequisite = {
			focus = OMA_tax_reform
		}
		prerequisite = {
			focus = OMA_economical_reform_planning
		}
		available = {
			controls_state = 294
		}
		icon = GFX_goal_generic_railroad
		x = 2
		y = 1
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_muscat_railway_company"
			294 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			build_railway = {
				path = { 10760 13748 13749 2048 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_dhofar_railway
		prerequisite = {
			focus = OMA_muscat_railway_company
		}
		available = {
			controls_state = 294
		}
		icon = GFX_goal_generic_railway_construction
		x = 2
		y = 2
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_dhofar_railway"
			294 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			build_railway = {
				path = { 10760 13748 1947 8002 2103 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_port_of_muscat
		prerequisite = {
			focus = OMA_dhofar_railway
		}
		available = {
			controls_state = 294
		}
		icon = GFX_goal_generic_shipyard
		x = 2
		y = 3
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_port_of_muscat"
			294 = { add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_local_manufactury_incentives
		prerequisite = {
			focus = OMA_economical_reform_planning
		}
		available = {
			controls_state = 294
		}
		icon = GFX_focus_generic_industry_1
		x = 4
		y = 1
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_local_manufactury_incentives"
			294 = { add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_commerce_industrialization_plan
		prerequisite = {
			focus = OMA_local_manufactury_incentives
		}
		icon = GFX_focus_generic_treaty
		x = 4
		y = 2
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_commerce_industrialization_plan"
			add_ideas = OMA_industrialisation_boost
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_intensify_administration_plan
		prerequisite = {
			focus = OMA_commerce_industrialization_plan
		}
		icon = GFX_goal_generic_loans
		x = 4
		y = 3
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_intensify_administration_plan"
			add_ideas = OMA_industrialisation_boost_2
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_finish_economical_plan
		prerequisite = {
			focus = OMA_budget_restructuring
		}
		prerequisite = {
			focus = OMA_port_of_muscat
		}
		prerequisite = {
			focus = OMA_intensify_administration_plan
		}
		available = {
			controls_state = 294
		}
		icon = GFX_goal_generic_improve_industry
		x = 2
		y = 4
		relative_position_id = OMA_tax_reform
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_finish_economical_plan"
			294 = { add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = OMA_compromises_for_our_independence
		icon = GFX_goal_generic_dangerous_deal
		x = 25
		y = 0
		cost = 4
		ai_will_do = {
			factor = 10000
		}
		available = {
			has_war_with = SAU
			is_subject = no
			country_exists = OTT
			NOT = { has_war_with = OTT }
		}
		bypass = {
			OR = {
				NOT = { country_exists = OTT }
				has_war_with = OTT
				is_subject = yes
			}
		}
		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus OMA_compromises_for_our_independence"
			OTT = { country_event = { id = ottfor.34 days = 3 } }
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_compromises_for_our_independence"
			custom_effect_tooltip = tooltip_immediate_effect_upon_focus_start
			effect_tooltip = { OTT = { country_event = ottfor.34 } }
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = tooltip_effect_upon_focus_completion
			add_stability = 0.2
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = OMA_call_upon_the_raj
		icon = GFX_focus_RAJ_indianisation_of_army
		prerequisite = {
			focus = OMA_compromises_for_our_independence
		}
		mutually_exclusive = {
			focus = OMA_porte_assistance
		}
		available = {
			has_war = no
			is_subject = no
			is_in_faction = no
			is_guaranteed_by = RAJ
			ENT = { is_in_faction_with = RAJ }
		}
		bypass = {
			is_in_faction_with = ENT
		}
		x = -2
		y = 1
		relative_position_id = OMA_compromises_for_our_independence
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_call_upon_the_raj"
			RAJ = {
				country_event = ottfor.42
				effect_tooltip = {
					set_autonomy = {
						target = ROOT
						autonomy_state = kr_nominal_puppet
					}
				}
			}
		}
	}

	focus = {
		id = OMA_indian_business_ties
		icon = GFX_goal_generic_foreign_investments
		prerequisite = {
			focus = OMA_call_upon_the_raj
		}
		available = {
			is_subject_of = RAJ
		}
		x = -1
		y = 1
		relative_position_id = OMA_call_upon_the_raj
		cost = 8
		ai_will_do = {
			factor = 500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_indian_business_ties"
			add_offsite_building = { type = industrial_complex level = 1 }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_royal_navy_cooperation
		icon = GFX_GBR_royal_navy
		prerequisite = {
			focus = OMA_call_upon_the_raj
		}
		available = {
			is_subject_of = RAJ
		}
		x = 1
		y = 1
		relative_position_id = OMA_call_upon_the_raj
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_royal_navy_cooperation"
			add_offsite_building = { type = dockyard level = 1 }
		}
	}

	focus = {
		id = OMA_a_special_relationship
		icon = GFX_focus_eng_the_sun_never_sets
		prerequisite = {
			focus = OMA_indian_business_ties
		}
		prerequisite = {
			focus = OMA_royal_navy_cooperation
		}
		available = {
			is_subject_of = RAJ
			country_exists = GBR
			NOT = {
				country_exists = HND
				country_exists = PRF
			}
		}
		x = 0
		y = 2
		relative_position_id = OMA_call_upon_the_raj
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_a_special_relationship"
			add_war_support = 0.05
			overlord = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_free
				}
			}
			if = {
				limit = { is_in_faction = no }
				separate_peace_all_wars = yes
			}
		}
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
	}

	focus = {
		id = OMA_porte_assistance
		icon = GFX_goal_OTT_Military_Mission
		prerequisite = {
			focus = OMA_compromises_for_our_independence
		}
		mutually_exclusive = {
			focus = OMA_call_upon_the_raj
		}
		available = {
			has_war = no
			is_subject = no
			is_in_faction = no
			is_guaranteed_by = OTT
		}
		x = 2
		y = 1
		relative_position_id = OMA_compromises_for_our_independence
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_porte_assistance"
			OTT = {
				country_event = ottfor.42
				effect_tooltip = {
					set_autonomy = {
						target = ROOT
						autonomy_state = kr_nominal_puppet
					}
				}
			}
		}
	}

	focus = {
		id = OMA_military_reform
		icon = GFX_focus_chi_army_reform
		prerequisite = {
			focus = OMA_porte_assistance
		}
		available = {
			is_subject_of = OTT
		}
		x = -1
		y = 1
		relative_position_id = OMA_porte_assistance
		cost = 8
		ai_will_do = {
			factor = 500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_military_reform"
			if = {
				limit = { NOT = { has_idea = ott_army_training } }
				add_ideas = ott_army_training
			}
			add_doctrine_cost_reduction = {
				name = OMA_military_reform
				category = land_doctrine
				cost_reduction = 0.5
				uses = 2
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = OMA_revise_budget
		icon = GFX_goal_agency
		prerequisite = {
			focus = OMA_porte_assistance
		}
		available = {
			is_subject_of = OTT
		}
		x = 1
		y = 1
		relative_position_id = OMA_porte_assistance
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_revise_budget"
			add_political_power = 100
			add_stability = -0.05
		}
	}

	focus = {
		id = OMA_freedom_once_more
		icon = GFX_goal_Fight_for_Freedom
		prerequisite = {
			focus = OMA_military_reform
		}
		prerequisite = {
			focus = OMA_revise_budget
		}
		available = {
			is_subject_of = OTT
			OTT_cairo_pact_defeated = yes
		}
		x = 0
		y = 2
		relative_position_id = OMA_porte_assistance
		cost = 8
		ai_will_do = {
			factor = 500
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OMA_freedom_once_more"
			add_war_support = 0.05
			overlord = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_free
				}
			}
			if = {
				limit = { is_in_faction = no }
				separate_peace_all_wars = yes
			}
		}
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
	}
}

