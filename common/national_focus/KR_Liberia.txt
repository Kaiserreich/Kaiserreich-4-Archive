###########################
# Liberia Focus Tree
# By Rylock
###########################

focus_tree = {
	id = KR_Liberia
	default = no
	country = {
		modifier = {
			add = 10
			tag = LIB
		}
	}

	### ECONOMIC TREE

	focus = {
		id = LIB_assess_economy
		icon = GFX_goal_production
		cost = 10
		x = 3
		y = 0

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_assess_economy"
			add_political_power = 50
		}
	}

	focus = {
		id = LIB_increase_taxes
		icon = GFX_focus_empty_coffers
		cost = 10
		prerequisite = { focus = LIB_assess_economy }
		available = {
			OR = {
				has_idea = LIB_massive_debt
				has_idea = civilian_economy
			}
		}
		relative_position_id = LIB_assess_economy
		x = 0
		y = 1

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { has_idea = LIB_massive_debt }
			NOT = { has_idea = civilian_economy }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_increase_taxes"
			add_stability = -0.05
			add_political_power = 50

			if = {
				limit = { has_idea = civilian_economy }
				add_ideas = low_economic_mobilisation

				else = {
					swap_ideas = {
						remove_idea = LIB_massive_debt
						add_idea = LIB_massive_debt_1
					}
				}
			}
		}
	}

	focus = {
		id = LIB_bailout_partner
		icon = GFX_goal_generic_dangerous_deal
		cost = 10
		prerequisite = { focus = LIB_increase_taxes }
		available = {
			has_idea = LIB_black_monday
		}
		relative_position_id = LIB_increase_taxes
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_bailout_partner"
			country_event = LIB.85
		}
	}

	focus = {
		id = LIB_bailout_usa
		icon = GFX_goal_usa
		cost = 10
		prerequisite = { focus = LIB_bailout_partner }
		available = {
			custom_trigger_tooltip = {
				tooltip = unlock_focuses
				always = no
			}
		}
		relative_position_id = LIB_bailout_partner
		x = -2
		y = 1

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		bypass = {
			has_idea = LIB_bailout_usa
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_bailout_usa"
			custom_effect_tooltip = unlock_focuses
		}
	}

	focus = {
		id = LIB_american_deal
		icon = GFX_goal_LEC_armsUSA
		cost = 10
		prerequisite = { focus = LIB_bailout_usa }
		available = {
			OR = {
				has_war = no
				is_subject_of = USA
			}
		}
		relative_position_id = LIB_bailout_usa
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				has_government = totalist
				has_government = national_populist
				has_global_flag = USA_civil_war_begun_flag
				NOT = {
					is_subject_of = USA
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_american_deal"
			add_political_power = 50
			swap_ideas = {
				remove_idea = LIB_bailout_usa
				add_idea = LIB_bailout_usa_2
			}
		}
	}

	focus = {
		id = LIB_tax_exemption
		icon = GFX_goal_generic_major_alliance
		cost = 10
		prerequisite = { focus = LIB_american_deal }
		relative_position_id = LIB_american_deal
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_tax_exemption"
			add_ideas = LIB_tax_exemption_idea
		}
	}

	focus = {
		id = LIB_land_speculation
		icon = GFX_goal_agriculture
		cost = 10
		prerequisite = { focus = LIB_tax_exemption }
		relative_position_id = LIB_tax_exemption
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_land_speculation"
			add_political_power = 25
			if = {
				limit = { owns_state = 298 }
				add_resource = {
					type = steel
					amount = 3
					state = 298
				}
				298 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { owns_state = 966 }
				966 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = LIB_bailout_firestone
		icon = GFX_goal_LIB_firestone
		cost = 10
		prerequisite = { focus = LIB_bailout_partner }
		available = {
			custom_trigger_tooltip = {
				tooltip = unlock_focuses
				always = no
			}
		}
		relative_position_id = LIB_bailout_partner
		x = 0
		y = 1

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		bypass = {
			has_idea = LIB_firestone_bailout
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_bailout_firestone"
			custom_effect_tooltip = unlock_focuses
		}
	}

	focus = {
		id = LIB_rubber_plants
		icon = GFX_focus_generic_rubber
		cost = 10
		prerequisite = { focus = LIB_bailout_firestone }
		relative_position_id = LIB_bailout_firestone
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_rubber_plants"
			add_political_power = 100
			if = {
				limit = { NOT = { has_idea = firestone_rubber } }
				add_ideas = firestone_rubber
			}
		}
	}

	focus = {
		id = LIB_facilitate_lobbying
		icon = GFX_goal_generic_intelligence_exchange
		cost = 10
		prerequisite = { focus = LIB_rubber_plants }
		relative_position_id = LIB_rubber_plants
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_facilitate_lobbying"
			add_political_power = -50
			if = {
				limit = { owns_state = 966 }
				add_resource = {
					type = rubber
					amount = 8
					state = 966
				}
			}
			every_country = {
				limit = {
					NOT = { tag = LIB }
					has_democratic_government = yes
					exists = yes
				}
				add_opinion_modifier = { target = LIB modifier = LIB_firestone_slaves }
			}
		}
	}

	focus = {
		id = LIB_repair_railway
		icon = GFX_goal_generic_construct_infrastructure
		cost = 10
		prerequisite = { focus = LIB_facilitate_lobbying }
		relative_position_id = LIB_facilitate_lobbying
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_repair_railway"
			army_experience = 25
			if = {
				limit = { owns_state = 298 }
				298 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = { owns_state = 966 }
				966 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = LIB_bailout_ger
		icon = GFX_goal_germany
		cost = 10
		prerequisite = { focus = LIB_bailout_partner }
		available = {
			custom_trigger_tooltip = {
				tooltip = unlock_focuses
				always = no
			}
		}
		relative_position_id = LIB_bailout_partner
		x = 2
		y = 1

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		bypass = {
			has_idea = LIB_ger_bailout
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_bailout_ger"
			custom_effect_tooltip = unlock_focuses
		}
	}

	focus = {
		id = LIB_join_germany
		icon = GFX_goal_generic_demand_territory
		cost = 10
		prerequisite = { focus = LIB_bailout_ger }
		available = {
			GER = { is_faction_leader = yes }
		}
		relative_position_id = LIB_bailout_ger
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				GER = {
					has_war = yes
					surrender_progress > 0.20
				}
			}
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				is_in_faction_with = GER
				NOT = { GER = { is_faction_leader = yes } }
				is_subject_of = MAF
				has_government = totalist
				has_government = national_populist
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_join_germany"
			set_country_flag = LIB_aligned_germany

			# Remove Overlord & Faction
			if = {
				limit = { is_subject = yes }
				overlord = { country_event = { id = LIB.90 } }
				set_country_flag = LIB_no_longer_puppet
				set_autonomy = { target = LIB autonomy_state = autonomy_free }
			}
			if = {
				limit = { is_in_faction = yes }
				leave_faction = yes
			}
			separate_peace_all_wars = yes

			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}

			get_current_government_type = yes

			# Join the VÃ¶lkerbund
			GER = {
				add_to_faction = LIB
				puppet = LIB
			}

			restore_previous_government_type = yes
		}
	}

	focus = {
		id = LIB_german_industry
		icon = GFX_goal_align_germany
		cost = 10
		prerequisite = { focus = LIB_join_germany }
		available = {
			298 = { is_owned_and_controlled_by = LIB }
			is_subject_of = GER
		}
		relative_position_id = LIB_join_germany
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				NOT = { owns_state = 298 }
				NOT = { is_subject_of = GER }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_german_industry"
			add_ideas = LIB_ger_industrial_model
			298 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = LIB_german_tech
		icon = GFX_goal_generic_scientific_exchange
		cost = 10
		prerequisite = { focus = LIB_german_industry }
		relative_position_id = LIB_german_industry
		available = { is_subject_of = GER }
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { is_subject_of = GER }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_german_tech"
			add_tech_bonus = {
				name = LIB_kaiserliche_industry
				bonus = 0.5
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = LIB_kaiserliche_electronics
				bonus = 0.5
				uses = 1
				category = electronics
			}
		}
	}


	### ECONOMIC TREE - PART 2

	focus = {
		id = LIB_economy_direction
		icon = GFX_goal_generic_construct_civilian
		cost = 10
		available = {
			OR = {
				has_completed_focus = LIB_land_speculation
				has_completed_focus = LIB_repair_railway
				has_completed_focus = LIB_german_tech
			}
		}
		x = 10
		y = 0

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_economy_direction"
			add_political_power = 100
			if = {
				limit = { has_idea = LIB_black_monday }
				remove_ideas = LIB_black_monday
			}
			if = {
				limit = { has_idea = LIB_massive_debt }
				remove_ideas = LIB_massive_debt
			}
			if = {
				limit = { has_idea = LIB_massive_debt_1 }
				remove_ideas = LIB_massive_debt_1
			}
		}
	}

	focus = {
		id = LIB_civ_ind_1
		icon = GFX_goal_generic_construct_civ_factory
		cost = 12
		prerequisite = { focus = LIB_economy_direction }
		relative_position_id = LIB_economy_direction
		x = -2
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_civ_ind_1"
			random_owned_state = {
				prioritize = { 298 } #Liberia
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = LIB_civ_ind_2
		icon = GFX_goal_model_cities
		cost = 12
		prerequisite = { focus = LIB_civ_ind_1 }
		available = {
			298 = { is_owned_and_controlled_by = LIB }
		}
		relative_position_id = LIB_civ_ind_1
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { owns_state = 298 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_civ_ind_2"
			298 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = LIB_civ_ind_3
		icon = GFX_goal_economic_control
		prerequisite = { focus = LIB_civ_ind_2 }
		available = {
			298 = { is_owned_and_controlled_by = LIB }
		}
		relative_position_id = LIB_civ_ind_2
		cost = 12
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { owns_state = 298 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_civ_ind_3"
			298 = {
				add_extra_state_shared_building_slots = 2
			}
		}
	}

	focus = {
		id = LIB_mil_ind_1
		icon = GFX_goal_generic_construct_mil_factory
		cost = 12
		prerequisite = { focus = LIB_economy_direction }
		relative_position_id = LIB_economy_direction
		x = 2
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_mil_ind_1"
			random_owned_state = {
				prioritize = { 298 } #Liberia
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = LIB_mobilisation_1
		icon = GFX_goal_LEC_police2
		cost = 10
		prerequisite = { focus = LIB_mil_ind_1 }
		available = {
			298 = { is_owned_and_controlled_by = LIB }
		}
		relative_position_id = LIB_mil_ind_1
		x = -2
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { owns_state = 298 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_mobilisation_1"
			298 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_manpower = 20000
		}
	}

	focus = {
		id = LIB_mobilisation_2
		icon = GFX_goal_LEC_police3
		cost = 10
		prerequisite = { focus = LIB_mobilisation_1 }
		available = {
			966 = { is_owned_and_controlled_by = LIB }
		}
		relative_position_id = LIB_mobilisation_1
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { owns_state = 966 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_mobilisation_2"
			966 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_manpower = 40000
		}
	}

	focus = {
		id = LIB_mil_ind_2
		icon = GFX_goal_generic_fortify_city
		cost = 12
		prerequisite = { focus = LIB_mil_ind_1 }
		available = {
			966 = { is_owned_and_controlled_by = LIB }
		}
		relative_position_id = LIB_mil_ind_1
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { owns_state = 966 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_mil_ind_2"
			add_political_power = -50
			966 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 8006
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = LIB_mil_ind_3
		icon = GFX_goal_generic_fortify_city
		cost = 12
		prerequisite = { focus = LIB_mil_ind_2 }
		available = {
			298 = { is_owned_and_controlled_by = LIB }
		}
		relative_position_id = LIB_mil_ind_2
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { owns_state = 298 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_mil_ind_3"
			298 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 13565
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 13565
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 13604
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 13604
					instant_build = yes
				}
			}
			add_political_power = -50
		}
	}

	focus = {
		id = LIB_university
		icon = GFX_focus_research
		cost = 10
		prerequisite = { focus = LIB_civ_ind_3 }
		prerequisite = { focus = LIB_mobilisation_2 }
		prerequisite = { focus = LIB_mil_ind_3 }
		relative_position_id = LIB_mobilisation_2
		x = 0
		y = 1

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_university"
			add_research_slot = 1
		}
	}


	### POLITICAL TREE

	focus = {
		id = LIB_secret_societies
		icon = GFX_goal_LIB_secret_societies
		cost = 5
		available = {
			date > 1937.1.1
		}
		x = 20
		y = 0

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_secret_societies"
			country_event = LIB.7
		}
	}

	# Freemason coup branch
	focus = {
		id = LIB_freemason_coup
		icon = GFX_goal_LIB_freemason_coup
		cost = 0
		prerequisite = { focus = LIB_secret_societies }
		available = {
			custom_trigger_tooltip = {
				tooltip = unlock_focuses
				always = no
			}
		}
		relative_position_id = LIB_secret_societies
		x = -5
		y = 1

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		bypass = {
			has_government = national_populist
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_freemason_coup"
			custom_effect_tooltip = unlock_focuses
		}
	}

	focus = {
		id = LIB_ultimatum_to_foreigners
		icon = GFX_goal_generic_territory_or_war
		cost = 5
		prerequisite = { focus = LIB_freemason_coup }
		available = {
			has_war = no
			has_government = national_populist
		}
		relative_position_id = LIB_freemason_coup
		x = 0
		y = 1

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_ultimatum_to_foreigners"
			country_event = LIB.12
		}
	}

	focus = {
		id = LIB_no_democracy
		icon = GFX_focus_generic_strike_at_democracy2
		cost = 5
		prerequisite = { focus = LIB_ultimatum_to_foreigners }
		available = {
			has_government = national_populist
		}
		relative_position_id = LIB_ultimatum_to_foreigners
		x = 0
		y = 1

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_no_democracy"
			add_ideas = LIB_natpop_rule
			add_popularity = { ideology = national_populist popularity = 0.15 }
		}
	}

	focus = {
		id = LIB_power_to_poros
		icon = GFX_goal_step_on_skull
		cost = 5
		prerequisite = { focus = LIB_no_democracy }
		available = {
			has_government = national_populist
		}
		relative_position_id = LIB_no_democracy
		x = 0
		y = 1

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_power_to_poros"
			remove_ideas = LIB_broken_center
			swap_ideas = {
				remove_idea = LIB_natpop_rule
				add_idea = LIB_natpop_rule_1
			}
		}
	}

	# Totalist coup branch
	focus = {
		id = LIB_totalist_coup
		icon = GFX_goal_LIB_Destiny_Coup
		cost = 0
		prerequisite = { focus = LIB_secret_societies }
		available = {
			custom_trigger_tooltip = {
				tooltip = unlock_focuses
				always = no
			}
		}
		relative_position_id = LIB_secret_societies
		x = 5
		y = 1

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		bypass = {
			has_government = totalist
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_totalist_coup"
			custom_effect_tooltip = unlock_focuses
		}
	}

	focus = {
		id = LIB_totalist_2
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		cost = 5
		prerequisite = { focus = LIB_totalist_coup }
		available = {
			has_government = totalist
		}
		relative_position_id = LIB_totalist_coup
		x = 0
		y = 1

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_totalist_2"
			custom_effect_tooltip = LIB_receive_militias
			hidden_effect = { load_oob = LIB_Militias }
			add_manpower = 20000
			add_popularity = { ideology = totalist popularity = 0.10 }
		}
	}

	focus = {
		id = LIB_totalist_3
		icon = GFX_goal_LIB_Emancipation
		cost = 5
		prerequisite = { focus = LIB_totalist_2 }
		available = {
			has_government = totalist
			has_war = no
		}
		relative_position_id = LIB_totalist_2
		x = 0
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				FRA = {
					is_faction_leader = yes
					has_socialist_government = yes
					has_war = yes
					surrender_progress > 0.20
				}
			}
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_totalist_3"
			add_political_power = 50

			# Join Internationale
			if = {
				limit = {
					FRA = {
						is_faction_leader = yes
						has_socialist_government = yes
					}
				}
				FRA = { country_event = LIB.91 }
			}
		}
	}

	focus = {
		id = LIB_totalist_4
		icon = GFX_goal_totalism
		cost = 5
		prerequisite = { focus = LIB_totalist_3 }
		available = {
			has_government = totalist
		}
		relative_position_id = LIB_totalist_3
		x = 0
		y = 1

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_totalist_4"
			add_political_power = 50
			swap_ideas = {
				remove_idea = LIB_broken_center
				add_idea = LIB_totalist_zeal
			}
		}
	}

	# Free elections branch
	focus = {
		id = LIB_1939_elections
		icon = GFX_goal_support_democracy
		cost = 0
		prerequisite = { focus = LIB_secret_societies }
		available = {
			custom_trigger_tooltip = {
				tooltip = LIB_1939_elections_happened
				has_country_flag = LIB_1939_elections_held
			}
		}
		relative_position_id = LIB_secret_societies
		x = 0
		y = 1

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = LIB_1939_elections_happened
				has_country_flag = LIB_1939_elections_held
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_1939_elections"
			custom_effect_tooltip = unlock_focuses
		}
	}

	focus = {
		id = LIB_election_soccon
		icon = GFX_goal_LIB_true_whig
		cost = 1
		prerequisite = { focus = LIB_1939_elections }
		mutually_exclusive = {
			focus = LIB_election_radsoc
			focus = LIB_election_mrklib
			focus = LIB_election_soclib
		}
		available = {
			has_government = social_conservative
		}
		relative_position_id = LIB_1939_elections
		x = -3
		y = 1

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_election_soccon"
			add_political_power = 100
			if = {
				limit = { has_idea = LIB_broken_center }
				remove_ideas = LIB_broken_center
			}
			if = {
				limit = { NOT = { has_idea = LIB_center_holds } }
				add_ideas = LIB_center_holds
			}
		}
	}

	focus = {
		id = LIB_secure_citizenship
		icon = GFX_focus_generic_self_management
		cost = 5
		prerequisite = { focus = LIB_election_soccon }
		available = {
			has_government = social_conservative
		}
		relative_position_id = LIB_election_soccon
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_secure_citizenship"
			add_ideas = LIB_citizenship_secured
		}
	}

	focus = {
		id = LIB_patronize_allies
		icon = GFX_goal_tripartite_pact
		cost = 5
		prerequisite = { focus = LIB_secure_citizenship }
		available = {
			has_government = social_conservative
		}
		relative_position_id = LIB_secure_citizenship
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_patronize_allies"
			country_event = LIB.6
		}
	}

	focus = {
		id = LIB_judicial_reform
		icon = GFX_goal_LIB_reform_judiciary
		cost = 5
		prerequisite = { focus = LIB_patronize_allies }
		available = {
			has_government = social_conservative
		}
		relative_position_id = LIB_patronize_allies
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_judicial_reform"
			add_ideas = LIB_judicial_reform_idea
			add_popularity = { ideology = social_conservative popularity = 0.20 }
		}
	}

	focus = {
		id = LIB_election_radsoc
		icon = GFX_goal_LIB_Syndicalist_Rally
		cost = 1
		prerequisite = { focus = LIB_1939_elections }
		mutually_exclusive = {
			focus = LIB_election_soccon
			focus = LIB_election_mrklib
			focus = LIB_election_soclib
		}
		available = {
			has_government = radical_socialist
		}
		relative_position_id = LIB_1939_elections
		x = -1
		y = 1

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_election_radsoc"
			add_political_power = 50
			if = {
				limit = { has_idea = LIB_broken_center }
				remove_ideas = LIB_broken_center
			}
			if = {
				limit = { NOT = { has_idea = LIB_center_holds } }
				add_ideas = LIB_center_holds
			}
		}
	}

	focus = {
		id = LIB_reconcile_totalists
		icon = GFX_goal_ideology_totalist
		cost = 5
		prerequisite = { focus = LIB_election_radsoc }
		available = {
			has_government = radical_socialist
		}
		relative_position_id = LIB_election_radsoc
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_reconcile_totalists"
			add_popularity = { ideology = totalist popularity = -0.10 }
			add_popularity = { ideology = radical_socialist popularity = 0.10 }
			add_stability = 0.05
		}
	}

	focus = {
		id = LIB_emancipation
		icon = GFX_goal_LIB_Emancipation
		cost = 5
		prerequisite = { focus = LIB_reconcile_totalists }
		available = {
			has_government = radical_socialist
		}
		relative_position_id = LIB_reconcile_totalists
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_emancipation"
			add_ideas = LIB_radsoc_emancipation
		}
	}

	focus = {
		id = LIB_internationalism
		icon = GFX_goal_red_star_gold_wreath
		cost = 5
		prerequisite = { focus = LIB_emancipation }
		available = {
			has_government = radical_socialist
			has_war = no
		}
		relative_position_id = LIB_emancipation
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				FRA = {
					is_faction_leader = yes
					has_socialist_government = yes
					has_war = yes
					surrender_progress > 0.20
				}
			}
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				is_in_faction_with = FRA
				FRA = { is_faction_leader = no }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_internationalism"
			# Remove Overlord & Faction
			if = {
				limit = { is_subject = yes }
				overlord = {
					end_puppet = LIB
					country_event = { id = LIB.90 }
				}
			}
			if = {
				limit = { is_in_faction = yes }
				every_country = {
					limit = {
						is_in_faction_with = LIB
						is_faction_leader = yes
					}
					remove_from_faction = LIB
				}
			}

			# Join Internationale
			if = {
				limit = {
					FRA = {
						is_faction_leader = yes
						has_socialist_government = yes
					}
				}
				FRA = { country_event = LIB.91 }
			}
		}
	}

	focus = {
		id = LIB_amend_constitution
		icon = GFX_goal_constitutional_guarantees
		cost = 5
		prerequisite = { focus = LIB_internationalism }
		available = {
			has_government = radical_socialist
		}
		relative_position_id = LIB_internationalism
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_amend_constitution"
			add_ideas = LIB_new_constitution
			add_popularity = { ideology = radical_socialist popularity = 0.20 }
			add_stability = 0.10
		}
	}

	focus = {
		id = LIB_election_mrklib
		icon = GFX_goal_LIB_true_republicans
		cost = 1
		prerequisite = { focus = LIB_1939_elections }
		mutually_exclusive = {
			focus = LIB_election_soccon
			focus = LIB_election_radsoc
			focus = LIB_election_soclib
		}
		available = {
			has_government = market_liberal
		}
		relative_position_id = LIB_1939_elections
		x = 1
		y = 1

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_election_mrklib"
			add_political_power = 100
			if = {
				limit = { has_idea = LIB_broken_center }
				remove_ideas = LIB_broken_center
			}
			if = {
				limit = { NOT = { has_idea = LIB_center_holds } }
				add_ideas = LIB_center_holds
			}
		}
	}

	focus = {
		id = LIB_immigration
		icon = GFX_goal_planning_bonus
		cost = 5
		prerequisite = { focus = LIB_election_mrklib }
		available = {
			has_government = market_liberal
		}
		relative_position_id = LIB_election_mrklib
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_immigration"
			add_ideas = LIB_renewed_immigration
		}
	}

	focus = {
		id = LIB_foreign_investment
		icon = GFX_goal_construction_engineering
		cost = 5
		prerequisite = { focus = LIB_immigration }
		available = {
			has_government = market_liberal
		}
		relative_position_id = LIB_immigration
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_foreign_investment"
			if = {
				limit = { owns_state = 966 }
				add_resource = {
					type = rubber
					amount = 10
					state = 966
				}
			}
			add_ideas = LIB_foreign_investment_idea
		}
	}

	focus = {
		id = LIB_holy_materialism
		icon = GFX_goal_generic_positive_trade_relations
		cost = 12
		prerequisite = { focus = LIB_foreign_investment }
		available = {
			has_government = market_liberal
		}
		relative_position_id = LIB_foreign_investment
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_holy_materialism"
			if = {
				limit = { owns_state = 298 }
				298 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			add_popularity = { ideology = market_liberal popularity = 0.15 }
		}
	}

	focus = {
		id = LIB_race_mixing
		icon = GFX_goal_LIB_whiter_pale
		cost = 5
		prerequisite = { focus = LIB_holy_materialism }
		available = {
			has_government = market_liberal
		}
		relative_position_id = LIB_holy_materialism
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_race_mixing"
			add_ideas = LIB_whiter_pale
		}
	}

	focus = {
		id = LIB_election_soclib
		icon = GFX_goal_LIB_ind_true_whigs
		cost = 1
		prerequisite = { focus = LIB_1939_elections }
		mutually_exclusive = {
			focus = LIB_election_soccon
			focus = LIB_election_radsoc
			focus = LIB_election_mrklib
		}
		available = {
			has_government = social_liberal
		}
		relative_position_id = LIB_1939_elections
		x = 3
		y = 1

		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_election_soclib"
			add_political_power = 50
			if = {
				limit = { has_idea = LIB_broken_center }
				remove_ideas = LIB_broken_center
			}
			if = {
				limit = { NOT = { has_idea = LIB_center_holds } }
				add_ideas = LIB_center_holds
			}
		}
	}

	focus = {
		id = LIB_legitimize_unions
		icon = GFX_goal_liberty
		cost = 5
		prerequisite = { focus = LIB_election_soclib }
		available = {
			has_government = social_liberal
		}
		relative_position_id = LIB_election_soclib
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_legitimize_unions"
			add_stability = 0.05
			add_popularity = { ideology = radical_socialist popularity = -0.10 }
			add_popularity = { ideology = market_liberal popularity = -0.10 }
		}
	}

	focus = {
		id = LIB_spread_unionism
		icon = GFX_goal_ideology_social_liberal
		cost = 5
		prerequisite = { focus = LIB_legitimize_unions }
		available = {
			has_government = social_liberal
		}
		relative_position_id = LIB_legitimize_unions
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_spread_unionism"
			add_political_power = 50
			every_neighbor_country = {
				limit = { is_in_africa = yes }
				country_event = LIB.9
			}
		}
	}

	focus = {
		id = LIB_african_investment
		icon = GFX_goal_reichsautobahn
		cost = 8
		prerequisite = { focus = LIB_spread_unionism }
		available = {
			has_government = social_liberal
		}
		relative_position_id = LIB_spread_unionism
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_african_investment"
			add_ideas = LIB_industrial_investments
			add_manpower = -5000
			if = {
				limit = { owns_state = 298 }
				298 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = LIB_peculiar_institutions
		icon = GFX_goal_LIB_Peculiar_Institutions
		cost = 5
		prerequisite = { focus = LIB_african_investment }
		available = {
			has_government = social_liberal
		}
		relative_position_id = LIB_african_investment
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_peculiar_institutions"
			add_political_power = -100
			add_ideas = LIB_soclib_emancipation
		}
	}


	### MILITARY TREE

	focus = {
		id = LIB_assess_military
		icon = GFX_goal_generic_military_sphere
		cost = 8
		x = 33
		y = 0

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_assess_military"
			army_experience = 20
			navy_experience = 20
			air_experience = 20
		}
	}

	focus = {
		id = LIB_remove_corruption
		icon = GFX_goal_anti_comintern_pact
		cost = 8
		prerequisite = { focus = LIB_assess_military }
		relative_position_id = LIB_assess_military
		x = -4
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_remove_corruption"
			add_political_power = 50
			add_tech_bonus = {
				name = LIB_remove_corruption
				bonus = 0.25
				uses = 2
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = LIB_fighting_tooth_nail
		icon = GFX_goal_generic_secret_weapon
		cost = 8
		prerequisite = { focus = LIB_remove_corruption }
		mutually_exclusive = { focus = LIB_copy_best }
		relative_position_id = LIB_remove_corruption
		x = -1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 0
				has_tech = mass_assault
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_fighting_tooth_nail"
			if = {
				limit = {
					OR = {
						has_tech = mobile_warfare
						has_tech = superior_firepower
					}
				}
				add_tech_bonus = {
					name = LIB_fighting_tooth_nail
					bonus = 0.50
					uses = 1
					category = land_doctrine
				}
				else = {
					add_tech_bonus = {
						name = LIB_fighting_tooth_nail
						bonus = 0.50
						uses = 1
						category = cat_mass_assault
					}
				}
			}
		}
	}

	focus = {
		id = LIB_train_militias
		icon = GFX_goal_LEC_police3
		cost = 8
		prerequisite = { focus = LIB_fighting_tooth_nail }
		relative_position_id = LIB_fighting_tooth_nail
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_train_militias"
			army_experience = 25
			add_tech_bonus = {
				name = LIB_train_militias
				bonus = 0.50
				uses = 1
				category = support_tech
			}
		}
	}

	focus = {
		id = LIB_battle_principles
		icon = GFX_goal_national_artillery
		cost = 8
		prerequisite = { focus = LIB_train_militias }
		relative_position_id = LIB_train_militias
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_battle_principles"
			add_tech_bonus = {
				name = LIB_battle_principles
				bonus = 0.50
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = LIB_defense_force
		icon = GFX_focus_generic_coastal_fort
		cost = 8
		prerequisite = { focus = LIB_battle_principles }
		relative_position_id = LIB_battle_principles
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_defense_force"
			add_tech_bonus = {
				name = LIB_defense_force
				bonus = 0.5
				uses = 2
				technology = tech_mountaineers
				technology = tech_mountaineers2
				technology = marines
				technology = marines2
				technology = paratroopers
				technology = paratroopers2
			}
			army_experience = 50
			add_ideas = LIB_task_force
		}
	}

	focus = {
		id = LIB_copy_best
		icon = GFX_goal_generic_axis_build_infantry
		cost = 8
		prerequisite = { focus = LIB_remove_corruption }
		mutually_exclusive = { focus = LIB_fighting_tooth_nail }
		relative_position_id = LIB_remove_corruption
		x = 1
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 0
				has_tech = trench_warfare
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_copy_best"
			if = {
				limit = {
					OR = {
						has_tech = mobile_warfare
						has_tech = superior_firepower
					}
				}
				add_tech_bonus = {
					name = LIB_copy_best
					bonus = 0.50
					uses = 1
					category = land_doctrine
				}
				else = {
					add_tech_bonus = {
						name = LIB_copy_best
						bonus = 0.50
						uses = 1
						category = cat_grand_battle_plan
					}
				}
			}
		}
	}

	focus = {
		id = LIB_bush_clearing
		icon = GFX_goal_generic_army_motorized
		cost = 8
		prerequisite = { focus = LIB_copy_best }
		relative_position_id = LIB_copy_best
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_bush_clearing"
			add_tech_bonus = {
				name = LIB_bush_clearing
				bonus = 0.50
				uses = 1
				category = motorized_equipment
			}
			add_tech_bonus = {
				name = LIB_bush_clearing
				bonus = 0.50
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = LIB_modern_war
		icon = GFX_goal_RUS_Markov_plan
		cost = 8
		prerequisite = { focus = LIB_bush_clearing }
		relative_position_id = LIB_bush_clearing
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_modern_war"
			add_tech_bonus = {
				name = LIB_modern_war
				bonus = 0.50
				uses = 2
				category = land_doctrine
			}
			army_experience = 20
		}
	}

	focus = {
		id = LIB_new_army
		icon = GFX_focus_generic_strike_at_democracy1
		cost = 8
		prerequisite = { focus = LIB_modern_war }
		relative_position_id = LIB_modern_war
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_new_army"
			add_ideas = LIB_new_army_idea
			army_experience = 20
		}
	}

	focus = {
		id = LIB_ambassador_lessons
		icon = GFX_goal_generic_dangerous_deal
		cost = 12
		prerequisite = { focus = LIB_assess_military }
		available = {
			298 = { is_owned_and_controlled_by = LIB }
		}
		relative_position_id = LIB_assess_military
		x = 0
		y = 1

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { owns_state = 298 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_ambassador_lessons"
			add_tech_bonus = {
				name = LIB_ambassador_lessons
				bonus = 0.5
				uses = 1
				category = naval_doctrine
			}
			298 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = LIB_trade_connections
		icon = GFX_goal_generic_trade
		cost = 8
		prerequisite = { focus = LIB_ambassador_lessons }
		available = {
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		relative_position_id = LIB_ambassador_lessons
		x = -1
		y = 1

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_trade_connections"
			navy_experience = 20
			add_ideas = LIB_trade_connections_idea
		}
	}

	focus = {
		id = LIB_convenient_convoys
		icon = GFX_goal_generic_coastal_navy
		cost = 8
		prerequisite = { focus = LIB_ambassador_lessons }
		available = {
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		relative_position_id = LIB_ambassador_lessons
		x = 1
		y = 1

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_convenient_convoys"
			add_equipment_to_stockpile = {
				type = convoy_1
				amount = 30
				producer = LIB
			}
		}
	}

	focus = {
		id = LIB_defend_trade
		icon = GFX_goal_generic_occupy_states_coastal
		cost = 8
		prerequisite = { focus = LIB_trade_connections }
		prerequisite = { focus = LIB_convenient_convoys }
		available = {
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		relative_position_id = LIB_trade_connections
		x = 1
		y = 1

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_defend_trade"
			add_tech_bonus = {
				name = LIB_defend_trade
				bonus = 0.5
				uses = 2
				category = dd_tech
			}
			add_tech_bonus = {
				name = LIB_defend_trade
				bonus = 0.5
				uses = 1
				category = cl_tech
			}
		}
	}

	focus = {
		id = LIB_swamp_eels
		icon = GFX_goal_generic_navy_anti_submarine
		cost = 8
		prerequisite = { focus = LIB_defend_trade }
		available = {
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		relative_position_id = LIB_defend_trade
		x = 0
		y = 1

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_swamp_eels"
			add_tech_bonus = {
				name = LIB_swamp_eels
				bonus = 0.5
				uses = 1
				category = ss_tech
			}
			navy_experience = 20
		}
	}

	focus = {
		id = LIB_air_force
		icon = GFX_goal_generic_build_airforce
		cost = 12
		prerequisite = { focus = LIB_assess_military }
		available = {
			298 = { is_owned_and_controlled_by = LIB }
		}
		relative_position_id = LIB_assess_military
		x = 4
		y = 1

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { owns_state = 298 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_air_force"
			add_tech_bonus = {
				name = LIB_air_force
				bonus = 0.5
				uses = 2
				category = air_doctrine
			}
			298 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = LIB_borrowing_research
		icon = GFX_goal_generic_scientific_exchange
		cost = 8
		prerequisite = { focus = LIB_air_force }
		relative_position_id = LIB_air_force
		x = -1
		y = 1

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_borrowing_research"
			add_tech_bonus = {
				name = LIB_borrowing_research
				bonus = 0.5
				uses = 2
				category = light_fighter
				category = naval_air
			}
		}
	}

	focus = {
		id = LIB_african_airmail
		icon = GFX_goal_generic_air_bomber
		cost = 8
		prerequisite = { focus = LIB_air_force }
		relative_position_id = LIB_air_force
		x = 1
		y = 1

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_african_airmail"
			add_tech_bonus = {
				name = LIB_african_airmail
				bonus = 0.5
				uses = 2
				category = tactical_bomber
				category = cat_strategic_bomber
				category = cas_bomber
			}
		}
	}

	focus = {
		id = LIB_tuskegee
		icon = GFX_goal_LIB_Tuskegee_Institute
		cost = 8
		prerequisite = { focus = LIB_borrowing_research }
		prerequisite = { focus = LIB_african_airmail }
		relative_position_id = LIB_borrowing_research
		x = 1
		y = 1

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_tuskegee"
			add_manpower = 5000
			air_experience = 30
		}
	}

	focus = {
		id = LIB_flying_stars
		icon = GFX_goal_LIB_Flying_Stars
		cost = 8
		prerequisite = { focus = LIB_tuskegee }
		available = {
			has_tech = fighter1
		}
		relative_position_id = LIB_tuskegee
		x = 0
		y = 1

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_flying_stars"
			add_equipment_to_stockpile = {
				type = fighter_equipment_1
				amount = 50
				producer = LIB
			}
		}
	}

	focus = {
		id = LIB_found_military_academy
		icon = GFX_goal_tfv_generic_tech_sharing
		cost = 10
		prerequisite = { focus = LIB_swamp_eels }
		prerequisite = { focus = LIB_flying_stars }
		relative_position_id = LIB_flying_stars
		x = -2
		y = 1

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				OR = {
					has_government = totalist
					has_dictatorship_government = yes
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_found_military_academy"
			add_ideas = LIB_military_academy
		}
	}


	### FOREIGN RELATIONS TREE

	focus = {
		id = LIB_star_of_africa
		icon = GFX_goal_LIB_africa_star
		cost = 5
		available = {
			is_subject = no
			has_war = no
		}
		x = 43
		y = 0

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 3
				OR = {
					has_government = national_populist
					has_government = totalist
				}
			}
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_star_of_africa"
			add_war_support = 0.10
			add_state_claim = 700 #Sierra Leone
			add_state_claim = 807 #Ivory Coast
			add_state_claim = 963 #Akanland
		}
	}

	focus = {
		id = LIB_demand_sierra_leone
		icon = GFX_goal_natfrance
		cost = 1
		prerequisite = { focus = LIB_star_of_africa }
		will_lead_to_war_with = NFA
		available = {
			has_war = no
			is_subject = no
			NOT = { is_in_faction_with = NFA }
			700 = { is_owned_and_controlled_by = NFA }
			has_army_manpower = { size > 19999 }
		}
		relative_position_id = LIB_star_of_africa
		x = -3
		y = 1

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				is_in_faction = yes
				is_faction_leader = no
			}
			modifier = {
				factor = 0
				NFA = {
					has_war = no
					strength_ratio = { tag = LIB ratio > 1.5 }
				}
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = NFA ratio < 0.5 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = NFA ratio < 0.25 }
			}
			modifier = {
				factor = 0
				NFA = {
					has_war = yes
					surrender_progress < 0.25
					strength_ratio = { tag = LIB ratio > 4.0 }
				}
			}
			modifier = {
				factor = 2
				NFA = {
					has_war = yes
					surrender_progress > 0.25
				}
			}
		}

		bypass = {
			owns_state = 700
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_demand_sierra_leone"
			NFA = { country_event = LIB.51 }
		}
	}

	focus = {
		id = LIB_claim_sierra_leone
		icon = GFX_goal_generic_major_war
		cost = 1
		prerequisite = { focus = LIB_star_of_africa }
		available = {
			has_war = no
			is_subject = no
			has_army_manpower = { size > 19999 }
			700 = {
				owner = {
					is_valid_war_target = yes
					NOT = { tag = LIB }
					NOT = { tag = NFA }
					controls_state = 700
				}
			}
		}
		relative_position_id = LIB_star_of_africa
		x = -1
		y = 1

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				is_in_faction = yes
				is_faction_leader = no
			}
			modifier = {
				factor = 0
				NOT = { has_government = national_populist }
				SIE = {
					owns_state = 700
					same_government_type_as_ROOT = yes
				}
			}
			modifier = {
				factor = 0
				700 = {
					owner = {
						is_subject = yes
						overlord = { strength_ratio = { tag = LIB ratio > 2.0 } }
					}
				}
			}
			modifier = {
				factor = 0
				700 = {
					owner = {
						has_war = no
						strength_ratio = { tag = LIB ratio > 1.0 }
					}
				}
			}
			modifier = {
				factor = 0.5
				700 = {
					owner = {
						strength_ratio = { tag = LIB ratio > 2.0 }
					}
				}
			}
			modifier = {
				factor = 0.5
				700 = {
					owner = {
						strength_ratio = { tag = LIB ratio > 3.0 }
					}
				}
			}
			modifier = {
				factor = 0
				700 = {
					owner = {
						has_war = yes
						surrender_progress < 0.25
						strength_ratio = { tag = LIB ratio > 3.0 }
					}
				}
			}
			modifier = {
				factor = 2
				700 = {
					owner = {
						has_war = yes
						surrender_progress > 0.25
					}
				}
			}
		}

		bypass = {
			owns_state = 700
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_claim_sierra_leone"
			700 = {
				owner = {
					LIB = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
			}
		}
	}

	focus = {
		id = LIB_sierra_leone_liberated
		icon = GFX_goal_sierra_leone
		cost = 5
		prerequisite = {
			focus = LIB_demand_sierra_leone
			focus = LIB_claim_sierra_leone
		}
		available = {
			700 = { is_owned_and_controlled_by = LIB } #Sierra Leone
		}
		relative_position_id = LIB_star_of_africa
		x = -2
		y = 2

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_sierra_leone_liberated"
			add_political_power = 100
		}
	}

	focus = {
		id = LIB_demand_ivory_coast
		icon = GFX_goal_mittelafrika
		cost = 1
		prerequisite = { focus = LIB_star_of_africa }
		will_lead_to_war_with = MAF
		available = {
			has_war = no
			is_subject = no
			NOT = { is_in_faction_with = MAF }
			807 = { is_owned_and_controlled_by = MAF }
			has_army_manpower = { size > 19999 }
		}
		relative_position_id = LIB_star_of_africa
		x = 1
		y = 1

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				is_in_faction = yes
				is_faction_leader = no
			}
			modifier = {
				factor = 0
				MAF = {
					has_war = no
					strength_ratio = { tag = LIB ratio > 1.5 }
				}
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = MAF ratio < 0.5 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = MAF ratio < 0.25 }
			}
			modifier = {
				factor = 0
				MAF = {
					has_war = yes
					surrender_progress < 0.25
					strength_ratio = { tag = LIB ratio > 3.0 }
				}
			}
			modifier = {
				factor = 2
				MAF = {
					has_war = yes
					surrender_progress > 0.25
				}
			}
		}

		available_if_capitulated = no

		bypass = {
			owns_state = 807
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_demand_ivory_coast"
			MAF = { country_event = LIB.57 }
		}
	}

	focus = {
		id = LIB_claim_ivory_coast
		icon = GFX_goal_generic_major_war
		cost = 1
		prerequisite = { focus = LIB_star_of_africa }
		available = {
			has_war = no
			is_subject = no
			has_army_manpower = { size > 19999 }
			807 = {
				owner = {
					NOT = { is_in_faction_with = LIB }
					NOT = { tag = LIB }
					NOT = { tag = MAF }
					controls_state = 807
				}
			}
		}
		relative_position_id = LIB_star_of_africa
		x = 3
		y = 1

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				is_in_faction = yes
				is_faction_leader = no
			}
			modifier = {
				factor = 0
				NOT = { has_government = national_populist }
				CIV = {
					owns_state = 700
					same_government_type_as_ROOT = yes
				}
			}
			modifier = {
				factor = 0
				807 = {
					owner = {
						is_subject = yes
						overlord = { strength_ratio = { tag = LIB ratio > 2.0 } }
					}
				}
			}
			modifier = {
				factor = 0
				807 = {
					owner = {
						has_war = no
						strength_ratio = { tag = LIB ratio > 1.0 }
					}
				}
			}
			modifier = {
				factor = 0.5
				807 = {
					owner = {
						strength_ratio = { tag = LIB ratio > 2.0 }
					}
				}
			}
			modifier = {
				factor = 0.5
				807 = {
					owner = {
						strength_ratio = { tag = LIB ratio > 3.0 }
					}
				}
			}
			modifier = {
				factor = 0
				807 = {
					owner = {
						has_war = yes
						surrender_progress < 0.25
						strength_ratio = { tag = LIB ratio > 3.0 }
					}
				}
			}
			modifier = {
				factor = 2
				807 = {
					owner = {
						has_war = yes
						surrender_progress > 0.25
					}
				}
			}
		}

		available_if_capitulated = no

		bypass = {
			owns_state = 807
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_claim_ivory_coast"
			807 = {
				owner = {
					LIB = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
			}
		}
	}

	focus = {
		id = LIB_ivory_coast_liberated
		icon = GFX_goal_ivory_coast
		cost = 5
		prerequisite = {
			focus = LIB_demand_ivory_coast
			focus = LIB_claim_ivory_coast
		}
		available = {
			807 = { is_owned_and_controlled_by = LIB } #Ivory Coast
		}
		relative_position_id = LIB_star_of_africa
		x = 2
		y = 2

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_ivory_coast_liberated"
			add_political_power = 100
		}
	}

	focus = {
		id = LIB_keep_our_promise
		icon = GFX_goal_generic_national_unity
		cost = 5
		prerequisite = { focus = LIB_sierra_leone_liberated }
		prerequisite = { focus = LIB_ivory_coast_liberated }
		mutually_exclusive = { focus = LIB_military_occupation }
		available = {
			700 = { is_owned_and_controlled_by = LIB }
			807 = { is_owned_and_controlled_by = LIB }
			NOT = { has_government = national_populist }
			NOT = { has_idea = LIB_ger_bailout }
		}
		relative_position_id = LIB_star_of_africa
		x = -1
		y = 3

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				has_idea = LIB_ger_bailout
			}
			modifier = {
				factor = 1.5
				has_elected_government = yes
			}
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_keep_our_promise"
			add_political_power = 100
			increase_ruling_party_popularity_by_10 = yes
		}
	}

	focus = {
		id = LIB_military_occupation
		icon = GFX_goal_revolution
		cost = 5
		prerequisite = { focus = LIB_sierra_leone_liberated }
		prerequisite = { focus = LIB_ivory_coast_liberated }
		mutually_exclusive = { focus = LIB_keep_our_promise }
		available = {
			700 = { is_owned_and_controlled_by = LIB }
			807 = { is_owned_and_controlled_by = LIB }
		}
		relative_position_id = LIB_star_of_africa
		x = 1
		y = 3

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 1.5
				NOT = { has_elected_government = yes }
			}
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_military_occupation"
			add_stability = -0.10
			decrease_ruling_party_popularity_by_10 = yes
			add_state_core = 700
			add_state_core = 807
			add_state_core = 963
		}
	}

	focus = {
		id = LIB_african_commonwealth
		icon = GFX_goal_LIB_back_to_africa
		cost = 5
		prerequisite = { focus = LIB_keep_our_promise }
		available = {
			700 = { is_owned_and_controlled_by = LIB }
			807 = { is_owned_and_controlled_by = LIB }
			NOT = { country_exists = SIE }
			NOT = { country_exists = CIV }
			controls_all_owned_states = yes
		}
		relative_position_id = LIB_star_of_africa
		x = -1
		y = 4

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_african_commonwealth"
			add_political_power = 100
			add_ideas = LIB_west_african_commonwealth
			hidden_effect = {
				remove_state_claim = 700 #Sierra Leone
				remove_state_claim = 807 #Ivory Coast
				remove_state_claim = 963 #Akanland
			}
			SIE = { transfer_state = 700 }
			puppet = SIE
			CIV = {
				transfer_state = 807
				if = {
					limit = { LIB = { owns_state = 963 } }
					transfer_state = 963
				}
			}
			puppet = CIV
		}
	}

	focus = {
		id = LIB_greater_liberia
		icon = GFX_goal_liberty
		cost = 5
		prerequisite = { focus = LIB_military_occupation }
		available = {
			700 = { is_owned_and_controlled_by = LIB }
			807 = { is_owned_and_controlled_by = LIB }
			controls_all_owned_states = yes
		}
		relative_position_id = LIB_star_of_africa
		x = 1
		y = 4

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_greater_liberia"
			add_political_power = -100
			add_ideas = LIB_pax_africana
			add_state_claim = 806 #Guinea
			add_state_claim = 274 #Gold Coast
			add_state_claim = 877 #Togoland
		}
	}

	focus = {
		id = LIB_great_minds
		icon = GFX_focus_research
		cost = 10
		prerequisite = {
			focus = LIB_greater_liberia
			focus = LIB_african_commonwealth
		}
		relative_position_id = LIB_star_of_africa
		x = 1
		y = 5

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_great_minds"
			add_research_slot = 1
		}
	}

	focus = {
		id = LIB_integrate_guinea
		icon = GFX_goal_guinea
		cost = 5
		prerequisite = {
			focus = LIB_greater_liberia
			focus = LIB_african_commonwealth
		}
		available = {
			806 = { is_owned_and_controlled_by = LIB } #Guinea
			NOT = { country_exists = GNE }
		}
		relative_position_id = LIB_star_of_africa
		x = -3
		y = 5

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_integrate_guinea"
			if = {
				limit = { has_idea = LIB_pax_africana }
				add_political_power = -50
				add_state_core = 806
				else = {
					add_political_power = 50
					GNE = { transfer_state = 806 }
					puppet = GNE
				}
			}
		}
	}

	focus = {
		id = LIB_integrate_ghana
		icon = GFX_goal_ghana
		cost = 5
		prerequisite = {
			focus = LIB_greater_liberia
			focus = LIB_african_commonwealth
		}
		available = {
			274 = { is_owned_and_controlled_by = LIB } #Gold Coast
			NOT = { country_exists = GHA }
		}
		relative_position_id = LIB_star_of_africa
		x = -1
		y = 5

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_integrate_ghana"
			if = {
				limit = { has_idea = LIB_pax_africana }
				add_political_power = -50
				add_state_core = 274
				else = {
					add_political_power = 50
					GHA = { transfer_state = 274 }
					puppet = GHA
				}
			}
		}
	}

	focus = {
		id = LIB_integrate_togoland
		icon = GFX_goal_togoland
		cost = 5
		prerequisite = {
			focus = LIB_greater_liberia
			focus = LIB_african_commonwealth
		}
		available = {
			877 = { is_owned_and_controlled_by = LIB } #Togoland
			NOT = { country_exists = TOG }
		}
		relative_position_id = LIB_star_of_africa
		x = 3
		y = 5

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIB_integrate_togoland"
			if = {
				limit = { has_idea = LIB_pax_africana }
				add_political_power = -50
				add_state_core = 877
				else = {
					add_political_power = 50
					TOG = { transfer_state = 877 }
					puppet = TOG
				}
			}
		}
	}
}

