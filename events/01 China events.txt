###########################
# Shared Chinese Events
###########################

add_namespace = china_events
add_namespace = RKT.zealmechanic
add_namespace = CHN.foreignpolicy

###########################
### ATTACK NOTIFICATION ###
###########################

country_event = { #Generic war notification
	id = china_events.0
	title = {
		text = china_events.0.t.target
		trigger = {
			NOT = { FROM = { is_ally_with = ROOT } }
		}
	}
	title = {
		text = china_events.0.t.ally_of_target
		trigger = {
			FROM = { is_ally_with = ROOT }
		}
	}

	desc = {
		text = china_events.0.d.target
		trigger = {
			NOT = { FROM = { is_ally_with = ROOT } }
		}
	}
	desc = {
		text = china_events.0.d.ally_of_target
		trigger = {
			FROM = { is_ally_with = ROOT }
		}
	}

	picture = GFX_report_event_CHN_intelligence

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.0 option china_events.0.a"
		name = china_events.0.a
		if = {
			limit = { NOT = { FROM = { is_ally_with = ROOT } } }
			every_other_country = {
				limit = {
					is_ally_with = ROOT
					is_ai = no
				}
				country_event = china_events.0
			}
		}
	}
}

#########################
### DEMAND SUBMISSION ###
#########################

country_event = { #FROM demands ROOT submit
	id = china_events.1
	title = china_events.1.t
	desc = china_events.1.d
	picture = GFX_report_event_QIE_soldiers_planning

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.1 option china_events.1.a"
		name = china_events.1.a #Yes
		trigger = {
			china_is_potential_government = no
			OR = {
				china_is_unaligned = yes
				AND = { #Exception so Tang Xiangming can align with Yan Xishan if Zhili are dead
					FROM = {
						tag = SHX
						has_country_leader = { character = SHX_yan_xishan }
						has_country_flag = SHX_yan_victory_over_gmj
					}
					has_country_leader = { character = HNN_tang_xiangming }
					OR = {
						QIE = { china_is_aligned_with_zhili = no }
						QIE = { exists = no }
					}
					OR = {
						SZC = { china_is_aligned_with_zhili = no }
						SZC = { exists = no }
					}
					LEP = { exists = no }
				}
				AND = { #Exception so Liu Wenhui can align with Beiyang if Federalists are dead
					FROM = { china_alignment_beiyang = yes }
					has_country_leader = { character = SZC_liu_wenhui }
					NOT = { country_exists = UPC }
				}
				AND = { #Exception so Xiong Kewu can align with Kuomintang if Federalists are dead
					FROM = {
						OR = {
							china_alignment_left_kuomintang = yes
							china_alignment_right_kuomintang = yes
						}
					}
					has_country_leader = { character = SZC_liu_wenhui }
					NOT = { country_exists = UPC }
				}
			}
			is_subject = no
			if = {
				limit = {
					original_tag = ANQ
				}
				FROM = {
					china_alignment_left_kuomintang = no
					china_alignment_right_kuomintang = no
					china_alignment_manchu_qing = no
				}
			}
			if = {
				limit = {
					original_tag = SHD
				}
				FROM = {
					NOT = { tag = QIE }
					china_is_aligned_with_republicans = no
					china_is_aligned_with_zhili = no
				}
			}
			FROM = { china_is_aligned_with_manchu = no }
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				###check for ANQ rules
				tag = ANQ
				OR = {
					AND = { #check for Feds
						has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_UPC }
						FROM = { china_is_aligned_with_federalists = no }
					}
					AND = { #check for FNG
						has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_FNG }
						FROM = { china_is_aligned_with_fengtian = no }
					}
					AND = { #check for NPA
						has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_NPA }
						FROM = { NOT = { tag = NPA } }
					}
					AND = { #check for QIE
						has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_QIE }
						FROM = { NOT = { tag = QIE } }
					}
					AND = { #check for Zhili Exiles
						has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_ZHL }
						FROM = { china_is_aligned_with_zhili = no }
					}
					#outright refuse if independent
					has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_ANQ }
				}
			}
			modifier = {
				factor = 0
				###check if they are GXC and have a non-fitting forpol rule set
				tag = GXC
				NOT = { has_game_rule = { rule = GXC_forpol option = DEFAULT } }
				OR = {
					AND = { #check for FNG
						has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_FNG }
						FROM = { china_is_aligned_with_fengtian = no }
					}
					AND = { #check for LKMT
						has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_LKMT }
						FROM = { china_is_aligned_with_left_kmt = no }
					}
					AND = { #check for NPA
						OR = {
							has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_NPA }
						}
						FROM = { NOT = { tag = NPA } }
					}
					AND = { #check for Zhili
						has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_ZHL }
						FROM = { china_is_aligned_with_zhili = no }
					}
					#outright refuse if independent
					has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_GXC }
				}
			}
			modifier = {
				factor = 0
				###check if they are LEP and have a non-fitting forpol rule set
				tag = LEP
				NOT = { has_game_rule = { rule = LEP_forpol option = DEFAULT } }
				OR = {
					AND = { #check for QIE
						has_game_rule = { rule = LEP_forpol option = LEP_FORPOL_QIE }
						FROM = { NOT = { tag = QIE } }
					}
					AND = { #check for Zhili Exiles
						has_game_rule = { rule = LEP_forpol option = LEP_FORPOL_ZHL }
						FROM = { china_is_aligned_with_zhili = no }
					}
					#outright refuse if independent
					has_game_rule = { rule = LEP_forpol option = LEP_FORPOL_LEP }
				}
			}
			modifier = {
				factor = 0
				###check if they are SHX and have a non-fitting forpol rule set
				tag = SHX
				NOT = { has_game_rule = { rule = SHX_forpol option = DEFAULT } }
				OR = {
					AND = { #check for Feds
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_UPC }
						FROM = { china_is_aligned_with_federalists = no }
					}
					AND = { #check for FNG
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_FNG }
						FROM = { china_is_aligned_with_fengtian = no }
					}
					AND = { #check for RKMT
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_RKMT }
						FROM = { china_is_aligned_with_right_kmt = no }
					}
					AND = { #check for LKMT
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_LKMT }
						FROM = { china_is_aligned_with_left_kmt = no }
					}
					AND = { #check for NPA
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_NPA }
						FROM = { NOT = { tag = NPA } }
					}
					AND = { #check for QIE
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_QIE }
						FROM = { NOT = { tag = QIE } }
					}
					AND = { #check for Zhili Exiles
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_ZHL }
						FROM = { china_is_aligned_with_zhili = no }
					}
					#outright refuse if independent
					has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_SHX }
				}
			}
			modifier = {
				factor = 0
				###check for SHD rules
				tag = SHD
				OR = {
					AND = { #check for FNG
						has_game_rule = { rule = SHD_forpol option = SHD_FORPOL_FNG }
						FROM = { china_is_aligned_with_fengtian = no }
					}
					AND = { #check for NPA
						has_game_rule = { rule = SHD_forpol option = SHD_FORPOL_NPA }
						FROM = { NOT = { tag = NPA } }
					}
					#outright refuse if independent
					has_game_rule = { rule = SHD_forpol option = SHD_FORPOL_SHD }
				}
			}
			modifier = {
				factor = 0
				###check if they are SZC and have a non-fitting forpol rule/leader combination set
				tag = SZC
				OR = {
					AND = { #check for Feds
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_UPC }
						FROM = { china_is_aligned_with_federalists = no }
					}
					AND = { #check for FNG
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_FNG }
						FROM = { china_is_aligned_with_fengtian = no }
					}
					AND = { #check for RKMT
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_RKMT }
						FROM = { china_is_aligned_with_right_kmt = no }
					}
					AND = { #check for LKMT
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_LKMT }
						FROM = { china_is_aligned_with_left_kmt = no }
					}
					AND = { #check for NPA
						OR = {
							has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_FORM_NPA }
							has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_NPA }
						}
						FROM = { NOT = { tag = NPA } }
					}
					AND = { #check for QIE
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_QIE }
						FROM = { NOT = { tag = QIE } }
					}
					#outright refuse if independent
					has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_SZC }
				}
				OR = {
					AND = { #Xiong Kewu/Li Jiayu will not join the KMT if UPC exists
						OR = {
							has_country_leader = { character = SZC_xiong_kewu }
							has_country_leader = { character = SZC_li_jiayu }
						}
						FROM = { china_is_aligned_with_kmt = yes }
						country_exists = UPC
					}
					AND = {
						has_country_leader = { character = SZC_xiong_kewu } #Xiong Kewu will not join LKT if RKT exists and is lead by Hu Hanmin
						FROM = { china_alignment_left_kuomintang = yes }
						country_exists = RKT
						RKT = { has_country_leader = { character = GXC_hu_hanmin } }
					}
					AND = { #Li Jiayu will not join the LKT
						has_country_leader = { character = SZC_li_jiayu }
						FROM = { china_alignment_left_kuomintang = yes }
					}
					AND = { #Liu Xiang/Liu Wenhui will not join the KMT
						OR = {
							has_country_leader = { character = SZC_liu_xiang }
							has_country_leader = { character = SZC_liu_wenhui }
						}
						FROM = { china_is_aligned_with_kmt = yes }
					}
					AND = { #Liu Wenhui will not join Beiyang if UPC exists
						has_country_leader = { character = SZC_liu_xiang }
						FROM = { china_is_aligned_with_beiyang = yes }
						country_exists = UPC
					}
				}
			}
			modifier = {
				factor = 0
				###check if they are YUN and have a non-fitting forpol rule set
				tag = YUN
				NOT = { has_game_rule = { rule = YUN_forpol option = DEFAULT } }
				OR = {
					has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_YUN }
					AND = { #check for RKMT
						has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_RKMT }
						FROM = { china_is_aligned_with_right_kmt = no }
					}
					AND = { #check for LKMT
						has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_LKMT }
						FROM = { china_is_aligned_with_left_kmt = no }
					}
					AND = { #check for NPA
						has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_NPA }
						FROM = { NOT = { tag = NPA } }
					}
					AND = { #check for Zhili
						has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_ZHL }
						FROM = { china_is_aligned_with_zhili = no }
					}
				}
			}
			modifier = {
				factor = 0
				china_is_unaligned = no
				china_compatible_alignment_to_FROM = no
			}
			modifier = {
				factor = 2
				has_opinion = { target = FROM value > 99 }
			}
			modifier = {
				factor = 1.2
				strength_ratio = { tag = FROM ratio < 1 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = FROM ratio < 0.75 }
			}
		}
		FROM = {
			effect_tooltip = { china_puppet_ROOT_effect = yes }
			country_event = { id = china_events.2 hours = 8 }
		}
		if = {
			limit = {
				tag = SHX
				FROM = { tag = QIE }
				NOT = { has_completed_focus = SHX_recognise_gov }
			}
			if = {
				limit = { has_completed_focus = SHX_destiny }
				uncomplete_national_focus = {
					focus = SHX_out_of_beijing
					uncomplete_children = yes
				}
			}
			unlock_national_focus = SHX_out_of_beijing
			complete_national_focus = SHX_recognise_gov
		}
		if = {
			limit = {
				FROM = { is_in_faction_with = JAP }
				JAP = { is_faction_leader = yes }
			}
			set_country_flag = FNG_collaborated_with_japan
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.1 option china_events.1.b"
		name = china_events.1.b #No
		trigger = {
			china_is_potential_government = no
			OR = {
				china_is_unaligned = yes
				AND = { #Exception so Tang Xiangming can align with Yan Xishan if Zhili are dead
					FROM = {
						tag = SHX
						has_country_leader = { character = SHX_yan_xishan }
						has_country_flag = SHX_yan_victory_over_gmj
					}
					has_country_leader = { character = HNN_tang_xiangming }
					OR = {
						QIE = { china_is_aligned_with_zhili = no }
						QIE = { exists = no }
					}
					OR = {
						SZC = { china_is_aligned_with_zhili = no }
						SZC = { exists = no }
					}
					LEP = { exists = no }
				}
				AND = { #Exception so Liu Wenhui can align with Beiyang if Federalists are dead
					FROM = { china_alignment_beiyang = yes }
					has_country_leader = { character = SZC_liu_wenhui }
					NOT = { country_exists = UPC }
				}
				AND = { #Exception so Xiong Kewu can align with Kuomintang if Federalists are dead
					FROM = {
						OR = {
							china_alignment_left_kuomintang = yes
							china_alignment_right_kuomintang = yes
						}
					}
					has_country_leader = { character = SZC_liu_wenhui }
					NOT = { country_exists = UPC }
				}
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				###check if they are ANQ and have a non-fitting forpol rule set
				tag = ANQ
				NOT = { has_game_rule = { rule = ANQ_forpol option = DEFAULT } }
				NOT = { has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_ANQ } }
				OR = {
					AND = { #check for Feds
						has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_UPC }
						FROM = { china_is_aligned_with_federalists = yes }
					}
					AND = { #check for FNG
						has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_FNG }
						FROM = { china_is_aligned_with_fengtian = yes }
					}
					AND = { #check for NPA
						has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_NPA }
						FROM = { tag = NPA }
					}
					AND = { #check for QIE
						has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_QIE }
						FROM = { tag = QIE }
					}
					AND = { #check for Zhili Exiles
						has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_ZHL }
						FROM = { china_is_aligned_with_zhili = yes }
					}
				}
			}
			modifier = {
				factor = 0
				###check if they are LEP and have a non-fitting forpol rule set
				tag = LEP
				NOT = { has_game_rule = { rule = LEP_forpol option = DEFAULT } }
				NOT = { has_game_rule = { rule = LEP_forpol option = LEP_FORPOL_LEP } }
				OR = {
					AND = { #check for QIE
						has_game_rule = { rule = LEP_forpol option = LEP_FORPOL_QIE }
						FROM = { tag = QIE }
					}
					AND = { #check for Zhili Exiles
						has_game_rule = { rule = LEP_forpol option = LEP_FORPOL_ZHL }
						FROM = { china_is_aligned_with_zhili = yes }
					}
				}
			}
			modifier = {
				factor = 0
				###check if they are SHX and have a non-fitting forpol rule set
				tag = SHX
				NOT = { has_game_rule = { rule = SHX_forpol option = DEFAULT } }
				NOT = { has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_SHX } }
				OR = {
					AND = { #check for Feds
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_UPC }
						FROM = { china_is_aligned_with_federalists = yes }
					}
					AND = { #check for FNG
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_FNG }
						FROM = { china_is_aligned_with_fengtian = yes }
					}
					AND = { #check for RKMT
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_RKMT }
						FROM = { china_is_aligned_with_right_kmt = yes }
					}
					AND = { #check for LKMT
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_LKMT }
						FROM = { china_is_aligned_with_left_kmt = yes }
					}
					AND = { #check for NPA
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_NPA }
						FROM = { tag = NPA }
					}
					AND = { #check for QIE
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_QIE }
						FROM = { tag = QIE }
						FROM = { china_is_aligned_with_manchu = no }
					}
					AND = { #check for Zhili Exiles
						has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_ZHL }
						FROM = { china_is_aligned_with_zhili = yes }
					}
				}
			}
			modifier = {
				factor = 0
				###check if they are SHD and have a non-fitting forpol rule set
				tag = SHD
				NOT = { has_game_rule = { rule = SHD_forpol option = DEFAULT } }
				NOT = { has_game_rule = { rule = SHD_forpol option = SHD_FORPOL_SHD } }
				OR = {
					AND = { #check for FNG
						has_game_rule = { rule = SHD_forpol option = SHD_FORPOL_FNG }
						FROM = { china_is_aligned_with_fengtian = yes }
					}
					AND = { #check for NPA
						has_game_rule = { rule = SHD_forpol option = SHD_FORPOL_NPA }
						FROM = { tag = NPA }
					}
				}
			}
			modifier = {
				factor = 0
				###check if they are SZC and have a non-fitting forpol rule set
				tag = SZC
				NOT = { has_game_rule = { rule = SZC_forpol option = DEFAULT } }
				NOT = { has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_SZC } }
				OR = {
					AND = { #check for Feds
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_UPC }
						FROM = { china_is_aligned_with_federalists = yes }
					}
					AND = { #check for FNG
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_FNG }
						FROM = { china_is_aligned_with_fengtian = yes }
					}
					AND = { #check for RKMT
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_RKMT }
						FROM = { china_is_aligned_with_right_kmt = yes }
					}
					AND = { #check for LKMT
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_LKMT }
						FROM = { china_is_aligned_with_left_kmt = yes }
					}
					AND = { #check for NPA
						OR = {
							has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_FORM_NPA }
							has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_NPA }
						}
						FROM = { tag = NPA }
					}
					AND = { #check for QIE
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_QIE }
						FROM = { tag = QIE }
						FROM = { china_is_aligned_with_manchu = no }
					}
				}
			}
			modifier = {
				factor = 0
				###check if they are YUN and have a non-fitting forpol rule set
				tag = YUN
				NOT = { has_game_rule = { rule = YUN_forpol option = DEFAULT } }
				OR = {
					has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_YUN }
					AND = { #check for RKMT
						has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_RKMT }
						FROM = { china_is_aligned_with_right_kmt = yes }
					}
					AND = { #check for LKMT
						has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_LKMT }
						FROM = { china_is_aligned_with_left_kmt = yes }
					}
					AND = { #check for NPA
						has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_NPA }
						FROM = { tag = NPA }
					}
					AND = { #check for Zhili Exiles
						has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_ZHL }
						FROM = { china_is_aligned_with_zhili = yes }
					}
				}
			}
			modifier = {
				factor = 0.01 #so there will be a chance to pick this if path set
				FROM = { enemies_strength_ratio < 1 }
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
			modifier = {
				factor = 0
				FROM = {
					tag = SHX
					has_country_leader = { character = SHX_yan_xishan }
					has_country_flag = SHX_yan_victory_over_gmj
				}
				has_country_leader = { character = HNN_tang_xiangming }
				OR = {
					QIE = { china_is_aligned_with_zhili = no }
					QIE = { exists = no }
				}
				OR = {
					SZC = { china_is_aligned_with_zhili = no }
					SZC = { exists = no }
				}
				LEP = { exists = no }
			}
			modifier = {
				factor = 0
				FROM = { china_is_the_unifier_of_china_trigger = yes }
			}
			modifier = {
				factor = 0
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 1.2
				strength_ratio = { tag = ROOT ratio > 1 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = ROOT ratio > 1.5 }
			}
			modifier = {
				factor = 10
				strength_ratio = { tag = ROOT ratio > 2 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 199 }
			}
			modifier = {
				factor = 0.75
				has_opinion = { target = FROM value > 149 }
			}
			modifier = {
				factor = 0.75
				has_opinion = { target = FROM value > 49 }
			}
		}
		if = {
			limit = { is_in_faction_with = FROM }
			leave_faction = yes
		}
		custom_effect_tooltip = {
			localization_key = may_lead_to_war_with
			COUNTRY = "[FROM.GetNameDef]"
		}
		FROM = {
			country_event = { id = china_events.3 hours = 8 }
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.1 option china_events.1.c"
		name = china_events.1.c #They are delusional, surely
		trigger = {
			OR = {
				china_is_potential_government = yes
				AND = {
					china_is_unaligned = no
					NOT = {
						AND = { #Exception so Tang Xiangming can align with Yan Xishan if Zhili are dead
							FROM = {
								tag = SHX
								has_country_leader = { character = SHX_yan_xishan }
								has_country_flag = SHX_yan_victory_over_gmj
							}
							has_country_leader = { character = HNN_tang_xiangming }
							OR = {
								QIE = { china_is_aligned_with_zhili = no }
								QIE = { exists = no }
							}
							OR = {
								SZC = { china_is_aligned_with_zhili = no }
								SZC = { exists = no }
							}
							LEP = { exists = no }
						}
						AND = { #Exception so Liu Wenhui can align with Beiyang if Federalists are dead
							FROM = { china_alignment_beiyang = yes }
							has_country_leader = { character = SZC_liu_wenhui }
							NOT = { country_exists = UPC }
						}
						AND = { #Exception so Xiong Kewu can align with Kuomintang if Federalists are dead
							FROM = {
								OR = {
									china_alignment_left_kuomintang = yes
									china_alignment_right_kuomintang = yes
								}
							}
							has_country_leader = { character = SZC_liu_wenhui }
							NOT = { country_exists = UPC }
						}
					}
				}
			}
		}
		if = {
			limit = { is_in_faction_with = FROM }
			leave_faction = yes
		}
		custom_effect_tooltip = {
			localization_key = may_lead_to_war_with
			COUNTRY = "[FROM.GetNameDef]"
		}
		FROM = {
			country_event = { id = china_events.3 hours = 8 }
		}
	}
}

country_event = { #FROM submits to ROOT
	id = china_events.2
	title = china_events.2.t
	desc = china_events.2.d
	picture = GFX_report_event_CHI_speech

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.2 option china_events.2.a"
		name = china_events.2.a
		china_puppet_FROM_effect = yes
		clear_decision_attack_AI = yes
		CHI_subject_accceptance_influence_effect = yes
	}
}

country_event = { #FROM refuses to submit to ROOT
	id = china_events.3
	title = china_events.3.t
	desc = china_events.3.d
	picture = GFX_report_event_CHN_warlord_cavalry

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.3 option china_events.3.a"
		name = china_events.3.a #Later
		ai_chance = { base = 1 } #AI will click this option if the below triggers turning 100 into 0 are met.
		add_ai_strategy = {
			type = antagonize
			id = FROM
			value = 200
		}
		activate_targeted_decision = { decision = china_attack_decision target = FROM }
	}

	option = {
		log = "[GetLogInfo]: event china_events.3 option china_events.3.b"
		name = china_events.3.b #Attack
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				FROM = { default_attack_AI_trigger = yes }
			}
		}
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
	}

	after = {
		clear_decision_attack_AI = yes
		CHI_subject_rejection_influence_effect = yes
	}
}

#####################
### JOINT STRIKES ###
#####################

country_event = { #event for either seeking alliance to other tags
	id = china_events.3000
	title = china_events.3000.t
	desc = china_events.3000.d

	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = { #We agree
		log = "[GetLogInfo]: event china_events.3000 option china_events.3000.a"
		name = china_events.3000.a
		activate_mission = china_joint_strike_GXC_attack_mission
		set_country_flag = { flag = china_attack_decision_one_month_cooldown days = 30 value = 1 }
		FROM = { country_event = china_events.3001 }
	}
	option = { #We refuse
		log = "[GetLogInfo]: event china_events.3000 option china_events.3000.b"
		name = china_events.3000.b
		ai_chance = { base = 0 }
		FROM = { country_event = china_events.3002 }
	}
}

country_event = { #return event for sucesseful agreement
	id = china_events.3001
	title = china_events.3001.t
	desc = china_events.3001.d

	picture = GFX_report_event_CHN_warlord_cavalry

	is_triggered_only = yes

	option = { #We prepare for the war
		log = "[GetLogInfo]: event china_events.3001 option china_events.3001.a"
		name = china_events.3001.a
	}
}

country_event = { #return event for denied agreement
	id = china_events.3002
	title = china_events.3002.t
	desc = china_events.3002.d

	picture = GFX_report_event_CHN_warlord_cavalry

	is_triggered_only = yes

	immediate = {
		hidden_effect = { remove_targeted_decision = { target = FROM decision = china_joint_strike_GXC_decision } }
	}

	option = { #cowards
		log = "[GetLogInfo]: event china_events.3002 option china_events.3002.a"
		name = china_events.3002.a
		clr_country_flag = china_sent_strike_offer
		activate_targeted_decision = { target = GXC decision = china_attack_decision }
	}
}

country_event = { #event for ROOT about FROM chickening out
	id = china_events.3003
	title = china_events.3003.t
	desc = china_events.3003.d

	picture = GFX_report_event_generic_diplomacy3
	is_triggered_only = yes

	trigger = {
		is_subject = no
	}

	immediate = {
		hidden_effect = { remove_targeted_decision = { target = FROM decision = china_joint_strike_GXC_decision } }
	}

	option = { #Well do it anyway
		log = "[GetLogInfo]: event china_events.3003 option china_events.3003.a"
		name = china_events.3003.a
		var:592.owner = {
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
				GXC = { setup_decision_attack_AI = yes }
			}
		}
	}
	option = { #Not happening
		log = "[GetLogInfo]: event china_events.3003 option china_events.3003.b"
		name = china_events.3003.b
		ai_chance = { base = 0 }
	}
	after = {
		clr_country_flag = china_sent_strike_offer
	}
}
country_event = { #Event for GXC to notice them of attacking faction
	id = china_events.3004
	title = china_events.3004.t
	desc = china_events.3004.d
	picture = GFX_report_event_CHN_warlord_cavalry
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.3004 option china_events.3004.a"
		name = china_events.3004.a #We must prepare quickly!
		setup_decision_attack_AI = yes
	}
}

#################
### ALLIANCES ###
#################

country_event = { #FROM wants alliance with ROOT (THIS IS FROM POV OF THE POTENTIAL MASTER)
	id = china_events.4
	title = china_events.4.t
	desc = china_events.4.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.4 option china_events.4.a"
		name = china_events.4.a #Yes
		trigger = {
			FROM = { is_subject = no }
		}
		effect_tooltip = { china_puppet_FROM_effect = yes }
		CHI_subject_accceptance_influence_effect = yes
		FROM = {
			country_event = { id = china_events.5 hours = 8 }
		}
		if = {
			limit = {
				is_in_faction_with = JAP
				JAP = { is_faction_leader = yes }
			}
			FROM = { set_country_flag = FNG_collaborated_with_japan }
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.4 option china_events.4.b"
		name = china_events.4.b #No
		ai_chance = { base = 0 }
		if = {
			limit = { is_in_faction_with = FROM }
			leave_faction = yes
		}
		set_country_flag = china_refused_alliance_@FROM
		CHI_subject_rejection_influence_effect = yes
		FROM = {
			#if = {
			#	limit = { china_same_alignment_as_PREV = yes }
			#	var:country_leader = { china_set_character_alignment_unaligned = yes }
			#}
			if = {
				limit = { is_in_array = { china_possible_allies_array = ROOT } }
				remove_from_array = { china_possible_allies_array = ROOT }
			}
			if = {
				limit = { is_in_array = { china_possible_allies_array_northwest = ROOT } }
				remove_from_array = { china_possible_allies_array_northwest = ROOT }
			}
			set_country_flag = china_refused_alliance_@ROOT
			effect_tooltip = {
				add_opinion_modifier = {
					target = FROM
					modifier = KR_displeased
				}
			}
			country_event = { id = china_events.6 hours = 8 }
		}
	}
}

country_event = { #FROM accepts alliance with ROOT
	id = china_events.5
	title = china_events.5.t
	desc = china_events.5.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.5 option china_events.5.a"
		name = china_events.5.a
		FROM = { china_puppet_ROOT_effect = yes }
	}
}

country_event = { #FROM refuses alliance with ROOT
	id = china_events.6
	title = china_events.6.t
	desc = china_events.6.d
	picture = GFX_report_event_QIE_wtf

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.6 option china_events.6.a"
		name = china_events.6.a
		add_opinion_modifier = {
			target = FROM
			modifier = KR_displeased
		}
		add_ai_strategy = {
			type = contain
			id = FROM
			value = 100
		}
		add_ai_strategy = {
			type = antagonize
			id = FROM
			value = 100
		}
	}
}

country_event = { #FROM invites ROOT to alliance - THIS IS FROM THE POV OF THE POTENTIAL SUBJECT
	id = china_events.7
	title = china_events.7.t
	desc = china_events.7.d
	picture = GFX_report_event_QIE_cardgame

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.7 option china_events.7.a"
		name = china_events.7.a #Yes
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 50
			modifier = {
				#Will always say no if there is another faction out there with an identical alignment
				factor = 0
				CHN_no_aligned_unifier_exists_trigger = no
				china_same_alignment_as_FROM = no
				china_alignment_southern_zhili = no #Handled seprately because of Ma Ji
			}
			modifier = {
				#Fixes edge case caused by Ma Ji
				factor = 0
				china_alignment_southern_zhili = yes
				SZH = {
					china_is_potential_government = yes
					exists = yes
					is_subject = no
				}
				china_same_alignment_as_FROM = no
			}
			modifier = {
				factor = 2
				#If potential leader is owning major cities, will swing odds of alignment
				FROM = {
					owns_any_state_of = {
						592 #Guangzhou
						608 #Beijing
						613 #Nanjing
						1048 #Wuhan
					}
				}
			}
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio < 0.8 }
			}
			modifier = { #Makes it a 3:12.5 ratio which comes out to approximately 25% chance to accept 75% chance to decline if Chen was supported in the League Collapse War
				factor = 0.02
				tag = LEP
				FROM = { has_country_flag = wu_intervenes_proANQ }
			}
			modifier = { #Makes it a 12:12.5 ratio which comes out to approximately 50% chance to accept 50% chance to decline if nobody was supported in the League Collapse War
				factor = 0.08
				tag = LEP
				OR = {
					FROM = {
						tag = QIE
						NOT = { has_country_flag = wu_intervenes_proANQ }
						NOT = { has_country_flag = wu_intervenes_proLEP }
					}
					FROM = { tag = SZC }
				}
			}
			modifier = {
				factor = 0
				###check if they are SZC and have a non-fitting forpol rule/leader combination set
				tag = SZC
				OR = {
					AND = { #check for Feds
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_UPC }
						FROM = { china_is_aligned_with_federalists = no }
					}
					AND = { #check for FNG
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_FNG }
						FROM = { china_is_aligned_with_fengtian = no }
					}
					AND = { #check for RKMT
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_RKMT }
						FROM = { china_is_aligned_with_right_kmt = no }
					}
					AND = { #check for LKMT
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_LKMT }
						FROM = { china_is_aligned_with_left_kmt = no }
					}
					AND = { #check for NPA
						OR = {
							has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_FORM_NPA }
							has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_NPA }
						}
						FROM = { NOT = { tag = NPA } }
					}
					AND = { #check for QIE
						has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_QIE }
						FROM = { NOT = { tag = QIE } }
					}
					#outright refuse if independent
					has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_SZC }
				}
				OR = {
					AND = { #Xiong Kewu/Li Jiayu will not join the KMT if UPC exists
						OR = {
							has_country_leader = { character = SZC_xiong_kewu }
							has_country_leader = { character = SZC_li_jiayu }
						}
						FROM = { china_is_aligned_with_kmt = yes }
						country_exists = UPC
					}
					AND = {
						has_country_leader = { character = SZC_xiong_kewu } #Xiong Kewu will not join LKT if RKT exists and is lead by Hu Hanmin
						FROM = { china_alignment_left_kuomintang = yes }
						country_exists = RKT
						RKT = { has_country_leader = { character = GXC_hu_hanmin } }
					}
					AND = { #Li Jiayu will not join the LKT
						has_country_leader = { character = SZC_li_jiayu }
						FROM = { china_alignment_left_kuomintang = yes }
					}
					AND = { #Liu Xiang/Liu Wenhui will not join the KMT
						OR = {
							has_country_leader = { character = SZC_liu_xiang }
							has_country_leader = { character = SZC_liu_wenhui }
						}
						FROM = { china_is_aligned_with_kmt = yes }
					}
					AND = { #Liu Wenhui will not join Beiyang if UPC exists
						has_country_leader = { character = SZC_liu_xiang }
						FROM = { china_is_aligned_with_beiyang = yes }
						country_exists = UPC
					}
				}
			}
			modifier = {
				factor = 0
				china_same_alignment_as_FROM = no #Same alignment tags are supposed to ally each other no matter what forpol rule was set
				OR = {
					###check for ANQ rules
					AND = {
						tag = ANQ
						OR = {
							AND = { #check for Feds
								has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_UPC }
								FROM = { china_is_aligned_with_federalists = no }
							}
							AND = { #check for FNG
								has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_FNG }
								FROM = { china_is_aligned_with_fengtian = no }
							}
							AND = { #check for NPA
								has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_NPA }
								FROM = { NOT = { tag = NPA } }
							}
							AND = { #check for QIE
								has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_QIE }
								FROM = { NOT = { tag = QIE } }
							}
							AND = { #check for Zhili Exiles
								has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_ZHL }
								FROM = { china_is_aligned_with_zhili = no }
							}
							#outright refuse if independent
							has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_ANQ }
						}
					}
					###check if they are GXC and have a non-fitting forpol rule set
					AND = {
						tag = GXC
						NOT = { has_game_rule = { rule = GXC_forpol option = DEFAULT } }
						OR = {
							AND = { #check for FNG
								has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_FNG }
								FROM = { china_is_aligned_with_fengtian = no }
							}
							AND = { #check for LKMT
								has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_LKMT }
								FROM = { china_is_aligned_with_left_kmt = no }
							}
							AND = { #check for NPA
								OR = {
									has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_NPA }
								}
								FROM = { NOT = { tag = NPA } }
							}
							AND = { #check for Zhili
								has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_ZHL }
								FROM = { china_is_aligned_with_zhili = no }
							}
							#outright refuse if independent
							has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_GXC }
						}
					}
					###check if they are LEP and have a non-fitting forpol rule set
					AND = {
						tag = LEP
						NOT = { FROM = { has_country_flag = wu_intervenes_proLEP } } #LEP should always ally QIE if supported no matter what forpol rule was set
						NOT = { has_game_rule = { rule = LEP_forpol option = DEFAULT } }
						OR = {
							AND = { #check for QIE
								has_game_rule = { rule = LEP_forpol option = LEP_FORPOL_QIE }
								FROM = { NOT = { tag = QIE } }
							}
							AND = { #check for Zhili Exiles
								has_game_rule = { rule = LEP_forpol option = LEP_FORPOL_ZHL }
								FROM = { china_is_aligned_with_zhili = no }
							}
							#outright refuse if independent
							has_game_rule = { rule = LEP_forpol option = LEP_FORPOL_LEP }
						}
					}
					###check if they are SHX and have a non-fitting forpol rule set
					AND = {
						tag = SHX
						NOT = { has_game_rule = { rule = SHX_forpol option = DEFAULT } }
						OR = {
							AND = { #check for Feds
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_UPC }
								FROM = { china_is_aligned_with_federalists = no }
							}
							AND = { #check for FNG
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_FNG }
								FROM = { china_is_aligned_with_fengtian = no }
							}
							AND = { #check for RKMT
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_RKMT }
								FROM = { china_is_aligned_with_right_kmt = no }
							}
							AND = { #check for LKMT
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_LKMT }
								FROM = { china_is_aligned_with_left_kmt = no }
							}
							AND = { #check for NPA
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_NPA }
								FROM = { NOT = { tag = NPA } }
							}
							AND = { #check for QIE
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_QIE }
								FROM = { NOT = { tag = QIE } }
							}
							AND = { #check for Zhili Exiles
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_ZHL }
								FROM = { china_is_aligned_with_zhili = no }
							}
							#outright refuse if independent
							has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_SHX }
						}
					}
					###check for SHD rules
					AND = {
						tag = SHD
						OR = {
							AND = { #check for FNG
								has_game_rule = { rule = SHD_forpol option = SHD_FORPOL_FNG }
								FROM = { china_is_aligned_with_fengtian = no }
							}
							AND = { #check for NPA
								has_game_rule = { rule = SHD_forpol option = SHD_FORPOL_NPA }
								FROM = { NOT = { tag = NPA } }
							}
							#outright refuse if independent
							has_game_rule = { rule = SHD_forpol option = SHD_FORPOL_SHD }
						}
					}
					###check if they are SZC and have a non-fitting forpol rule set
					AND = {
						tag = SZC
						NOT = { #Ignore forpol rules under the following conditions to prevent the player from doing stuff they're not supposed to
							AND = { #Xiong Kewu is leader, LKMT are FROM, and RKMT doesn't have Hu Hanmin
								has_country_leader = { character = SZC_xiong_kewu }
								FROM = { china_alignment_left_kuomintang = yes }
								NOT = { RKT = { has_country_leader = { character = GXC_hu_hanmin } } }
							}
							AND = { #Xiong Kewu is leader and RKMT are FROM, Hu Hanmin is leader
								has_country_leader = { character = SZC_xiong_kewu }
								FROM = { china_alignment_right_kuomintang = yes }
								RKT = { has_country_leader = { character = GXC_hu_hanmin } }
							}
							AND = { #Li Jiayu, Liu Wenhui, or Deng Xihou are leader and Feds are FROM
								OR = {
									has_country_leader = { character = SZC_li_jiayu }
									has_country_leader = { character = SZC_liu_wenhui }
									has_country_leader = { character = SZC_deng_xihou }
								}
								FROM = { china_alignment_federalists = yes }
							}
							AND = { #Li Jiayu, is leader and KMT are FROM AND UPC is not around
								has_country_leader = { character = SZC_li_jiayu }
								FROM = { china_is_aligned_with_kmt = yes }
								NOT = { country_exists = UPC }
							}
							AND = { # Liu Wenhui or Deng Xihou are leader and Beiyang are FROM
								OR = {
									has_country_leader = { character = SZC_liu_wenhui }
									has_country_leader = { character = SZC_deng_xihou }
								}
								FROM = { china_alignment_beiyang = yes }
							}
						}
						OR = {
							AND = { #check for Feds
								has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_UPC }
								FROM = { china_is_aligned_with_federalists = no }
							}
							AND = { #check for FNG
								has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_FNG }
								FROM = { china_is_aligned_with_fengtian = no }
							}
							AND = { #check for RKMT
								has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_RKMT }
								FROM = { china_is_aligned_with_right_kmt = no }
							}
							AND = { #check for LKMT
								has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_LKMT }
								FROM = { china_is_aligned_with_left_kmt = no }
							}
							AND = { #check for NPA
								OR = {
									has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_FORM_NPA }
									has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_NPA }
								}
								FROM = { NOT = { tag = NPA } }
							}
							AND = { #check for QIE
								has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_QIE }
								FROM = { NOT = { tag = QIE } }
							}
							#outright refuse if independent
							has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_SZC }
						}
					}
					###check if they are YUN and have a non-fitting forpol rule set
					AND = {
						tag = YUN
						NOT = { has_game_rule = { rule = YUN_forpol option = DEFAULT } }
						OR = {
							has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_YUN }
							AND = { #check for RKMT
								has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_RKMT }
								FROM = { china_is_aligned_with_right_kmt = no }
							}
							AND = { #check for LKMT
								has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_LKMT }
								FROM = { china_is_aligned_with_left_kmt = no }
							}
							AND = { #check for NPA
								has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_NPA }
								FROM = { NOT = { tag = NPA } }
							}
							AND = { #check for Zhili
								has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_ZHL }
								FROM = { china_is_aligned_with_zhili = no }
							}
						}
					}
				}
			}
		}
		FROM = {
			effect_tooltip = { china_puppet_ROOT_effect = yes }
			country_event = { id = china_events.8 hours = 8 }
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.7 option china_events.7.b"
		name = china_events.7.b #No
		ai_chance = {
			base = 50
			modifier = {
				#Will always say yes if you have identical alignments.
				factor = 0
				china_same_alignment_as_FROM = yes
			}
			modifier = {
				factor = 0.5
				#Tags that own a major city are less likely to naturally align.
				owns_any_state_of = {
					592 #Guangzhou
					608 #Beijing
					613 #Nanjing
					1048 #Wuhan
				}
			}
			modifier = {
				#If they out number you by over 2x, then will always align.
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
			modifier = {
				factor = 0
				tag = LEP
				FROM = { has_country_flag = wu_intervenes_proLEP }
			}
			modifier = {
				#Hunan should always accept alliance under the following conditions
				factor = 0
				tag = HNN
				OR = {
					AND = { #Zhao Hengti is leader, FROM are the Northern Zhili in Beijing, the other federalists aren't around
						china_alignment_federalists = yes
						FROM = {
							tag = QIE
							china_alignment_northern_zhili = yes
						}
						NOT = { GXC = { china_is_aligned_with_federalists = yes } }
						NOT = { SZC = { china_is_aligned_with_federalists = yes } }
						NOT = { YUN = { china_is_aligned_with_federalists = yes } }
					}
					AND = { #Tang Shengzhi is leader and
						china_alignment_left_kuomintang = yes
						OR = {
							AND = { #FROM are the RKMT and the LKMT don't exist
								NOT = { country_exists = LKT }
								FROM = { china_alignment_right_kuomintang = yes }
							}
							AND = { #FROM are the Federalists and both the LKMT and RKMT don't exist
								NOT = { country_exists = LKT }
								NOT = { country_exists = RKT }
								FROM = { china_alignment_federalists = yes }
							}
						}
					}
					AND = { #Cheng Qian is leader, FROM are the LKMT, and the RKMT don't exist
						china_alignment_right_kuomintang = yes
						NOT = { country_exists = RKT }
						FROM = {
							china_alignment_left_kuomintang = yes
						}
					}
					AND = { #Tang Xiangming is leader, FROM are the Southern Zhili, and the Northern Zhili don't exist
						china_alignment_northern_zhili = yes
						NOT = { country_exists = NZH }
						FROM = {
							china_alignment_southern_zhili = yes
						}
					}
				}
			}
			modifier = {
				#Sichuan should always accept alliance under the following conditions
				factor = 0
				tag = SZC
				OR = {
					AND = { #Xiong Kewu is leader and UPC are FROM
						has_country_leader = { character = SZC_xiong_kewu }
						FROM = { china_alignment_federalists = yes }
					}
					AND = { #Xiong Kewu is leader and LKT are FROM, RKT does not have Hu Hanmin as leader
						has_country_leader = { character = SZC_xiong_kewu }
						FROM = { china_alignment_left_kuomintang = yes }
						NOT = { RKT = { has_country_leader = { character = GXC_hu_hanmin } } }
					}
					AND = { #Xiong Kewu is leader, RKT are FROM, LKT is dead, and Hu Hanmin is leader
						has_country_leader = { character = SZC_xiong_kewu }
						FROM = { china_alignment_right_kuomintang = yes }
						CHI = { exists = no }
						RKT = { has_country_leader = { character = GXC_hu_hanmin } }
					}
					AND = { #Li Jiayu, Liu Wenhui or Deng Xihou are leader and Feds are FROM
						OR = {
							has_country_leader = { character = SZC_li_jiayu }
							has_country_leader = { character = SZC_liu_wenhui }
							has_country_leader = { character = SZC_deng_xihou }
						}
						FROM = { china_alignment_federalists = yes }
					}
					AND = { #Li Jiayu is leader and KMT are FROM and UPC is not around
						has_country_leader = { character = SZC_li_jiayu }
						FROM = { china_is_aligned_with_kmt = yes }
						NOT = { country_exists = UPC }
					}
					AND = { #Liu Wenhui or Deng Xihou are leader and Beiyang are FROM
						OR = {
							has_country_leader = { character = SZC_liu_wenhui }
							has_country_leader = { character = SZC_deng_xihou }
						}
						FROM = { china_alignment_beiyang = yes }
					}
				}
			}
			modifier = {
				factor = 0
				CHN_no_aligned_unifier_exists_trigger = yes #Tags are supposed to always say no if theres a same alignment unifier no matter what forpol rule was set
				OR = {
					###check for ANQ rules
					AND = {
						tag = ANQ
						NOT = { has_game_rule = { rule = ANQ_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_ANQ } }
						OR = {
							AND = { #check for Feds
								has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_UPC }
								FROM = { china_is_aligned_with_federalists = yes }
							}
							AND = { #check for FNG
								has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_FNG }
								FROM = { china_is_aligned_with_fengtian = yes }
							}
							AND = { #check for NPA
								has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_NPA }
								FROM = { tag = NPA }
							}
							AND = { #check for QIE
								has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_QIE }
								FROM = { tag = QIE }
							}
							AND = { #check for Zhili Exiles
								has_game_rule = { rule = ANQ_forpol option = ANQ_FORPOL_ZHL }
								FROM = { china_is_aligned_with_zhili = yes }
							}
						}
					}
					###check if they are GXC and have a non-fitting forpol rule set
					AND = {
						tag = GXC
						NOT = { has_game_rule = { rule = GXC_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_GXC } }
						OR = {
							AND = { #check for FNG
								has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_FNG }
								FROM = { china_is_aligned_with_fengtian = yes }
							}
							AND = { #check for LKMT
								has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_LKMT }
								FROM = { china_is_aligned_with_left_kmt = yes }
							}
							AND = { #check for NPA
								OR = {
									has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_NPA }
								}
								FROM = { tag = NPA }
							}
							AND = { #check for Zhili
								has_game_rule = { rule = GXC_forpol option = GXC_FORPOL_ZHL }
								FROM = { china_is_aligned_with_zhili = yes }
							}
						}
					}
					###check if they are LEP and have a non-fitting forpol rule set
					AND = {
						tag = LEP
						NOT = { has_game_rule = { rule = LEP_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = LEP_forpol option = LEP_FORPOL_LEP } }
						OR = {
							AND = { #check for QIE
								has_game_rule = { rule = LEP_forpol option = LEP_FORPOL_QIE }
								FROM = { tag = QIE }
							}
							AND = { #check for Zhili Exiles
								has_game_rule = { rule = LEP_forpol option = LEP_FORPOL_ZHL }
								FROM = { china_is_aligned_with_zhili = yes }
							}
						}
					}
					###check if they are SHX and have a non-fitting forpol rule set
					AND = {
						tag = SHX
						NOT = { has_game_rule = { rule = SHX_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_SHX } }
						OR = {
							AND = { #check for Feds
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_UPC }
								FROM = { china_is_aligned_with_federalists = yes }
							}
							AND = { #check for FNG
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_FNG }
								FROM = { china_is_aligned_with_fengtian = yes }
							}
							AND = { #check for RKMT
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_RKMT }
								FROM = { china_is_aligned_with_right_kmt = yes }
							}
							AND = { #check for LKMT
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_LKMT }
								FROM = { china_is_aligned_with_left_kmt = yes }
							}
							AND = { #check for NPA
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_NPA }
								FROM = { tag = NPA }
							}
							AND = { #check for QIE
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_QIE }
								FROM = { tag = QIE }
							}
							AND = { #check for Zhili Exiles
								has_game_rule = { rule = SHX_forpol option = SHX_FORPOL_ZHL }
								FROM = { china_is_aligned_with_zhili = yes }
							}
						}
					}
					###check for SHD rules
					AND = {
						tag = SHD
						NOT = { has_game_rule = { rule = SHD_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = SHD_forpol option = SHD_FORPOL_SHD } }
						OR = {
							AND = { #check for FNG
								has_game_rule = { rule = SHD_forpol option = SHD_FORPOL_FNG }
								FROM = { china_is_aligned_with_fengtian = yes }
							}
							AND = { #check for NPA
								has_game_rule = { rule = SHD_forpol option = SHD_FORPOL_NPA }
								FROM = { tag = NPA }
							}
						}
					}
					###check if they are SZC and have a non-fitting forpol rule set
					AND = {
						tag = SZC
						NOT = {
							AND = { #Xiong Kewu/Li Jiayu will not join the KMT if UPC exists
								OR = {
									has_country_leader = { character = SZC_xiong_kewu }
									has_country_leader = { character = SZC_li_jiayu }
								}
								FROM = { china_is_aligned_with_kmt = yes }
								country_exists = UPC
							}
							AND = {
								OR = { #Xiong Kewu, Liu Wenhui, and Li Jiayu will not join the LKMT if RKT exists
									has_country_leader = { character = SZC_xiong_kewu }
									has_country_leader = { character = SZC_li_jiayu }
									has_country_leader = { character = SZC_liu_wenhui }
								}
								FROM = { china_alignment_left_kuomintang = yes }
								country_exists = RKT
							}
						}
						NOT = { has_game_rule = { rule = SZC_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_SZC } }
						OR = {
							AND = { #check for Feds
								has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_UPC }
								FROM = { china_is_aligned_with_federalists = yes }
							}
							AND = { #check for FNG
								has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_FNG }
								FROM = { china_is_aligned_with_fengtian = yes }
							}
							AND = { #check for RKMT
								has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_RKMT }
								FROM = { china_is_aligned_with_right_kmt = yes }
							}
							AND = { #check for LKMT
								has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_LKMT }
								FROM = { china_is_aligned_with_left_kmt = yes }
							}
							AND = { #check for NPA
								OR = {
									has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_FORM_NPA }
									has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_NPA }
								}
								FROM = { tag = NPA }
							}
							AND = { #check for QIE
								has_game_rule = { rule = SZC_forpol option = SZC_FORPOL_QIE }
								FROM = { tag = QIE }
							}
						}
					}
					###check if they are YUN and have a non-fitting forpol rule set
					AND = {
						tag = YUN
						NOT = { has_game_rule = { rule = YUN_forpol option = DEFAULT } }
						OR = {
							has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_YUN }
							AND = { #check for RKMT
								has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_RKMT }
								FROM = { china_is_aligned_with_right_kmt = yes }
							}
							AND = { #check for LKMT
								has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_LKMT }
								FROM = { china_is_aligned_with_left_kmt = yes }
							}
							AND = { #check for NPA
								has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_NPA }
								FROM = { tag = NPA }
							}
							AND = { #check for Zhili
								has_game_rule = { rule = YUN_forpol option = YUN_FORPOL_ZHL }
								FROM = { china_is_aligned_with_zhili = yes }
							}
						}
					}
				}
			}
			modifier = {
				#Will always say yes if FROM has already united China
				factor = 0
				FROM = { china_is_the_unifier_of_china_trigger = yes }
			}
		}
		set_country_flag = china_refused_alliance_@FROM
		#if = {
		#	limit = { china_same_alignment_as_FROM = yes }
		#	var:country_leader = { china_set_character_alignment_unaligned = yes }
		#}
		if = {
			limit = { is_in_array = { china_possible_allies_array = FROM } }
			remove_from_array = { china_possible_allies_array = FROM }
		}
		if = {
			limit = { is_in_array = { china_possible_allies_array_northwest = FROM } }
			remove_from_array = { china_possible_allies_array_northwest = FROM }
		}
		if = {
			limit = {
				OR = {
					tag = ANQ
					tag = LEP
				}
				has_cosmetic_tag = LSEP_QIE
				FROM = { has_cosmetic_tag = QIE_government_qing }
			}
			set_cosmetic_tag = LSEP_REP
		}
		else_if = {
			limit = {
				tag = LEP
				has_cosmetic_tag = LEP_LEP
				FROM = { has_cosmetic_tag = QIE_government_qing }
			}
			set_cosmetic_tag = LEP_LEP_REP
		}
		else_if = {
			limit = {
				tag = SHD
				has_country_leader = { character = SHD_qu_yingguang }
				FROM = { has_cosmetic_tag = QIE_government_qing }
			}
			set_cosmetic_tag = SHD_REP
		}
		else_if = {
			limit = {
				tag = HNN
				has_cosmetic_tag = HNN_zhili_monarchy
				FROM = { has_cosmetic_tag = QIE_government_qing }
			}
			set_cosmetic_tag = HNN_zhili_republic
		}
		FROM = {
			set_country_flag = china_refused_alliance_@ROOT
			effect_tooltip = {
				add_opinion_modifier = {
					target = FROM
					modifier = KR_displeased
				}
			}
			country_event = { id = china_events.9 hours = 8 }
		}
	}
}

country_event = { #FROM accepts alliance with ROOT
	id = china_events.8
	title = china_events.8.t
	desc = china_events.8.d
	picture = GFX_report_event_YUN_KMT_march

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.8 option china_events.8.a"
		name = china_events.8.a
		china_puppet_FROM_effect = yes
		CHI_subject_accceptance_influence_effect = yes
	}
}

country_event = { #FROM refuses alliance with ROOT
	id = china_events.9
	title = china_events.9.t
	desc = china_events.9.d
	picture = GFX_report_event_YUN_army

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.9 option china_events.9.a"
		name = china_events.9.a
		activate_targeted_decision = { target = FROM decision = china_attack_decision }
		add_opinion_modifier = {
			target = FROM
			modifier = KR_displeased
		}
		add_ai_strategy = {
			type = antagonize
			id = FROM
			value = 200
		}
		CHI_subject_rejection_influence_effect = yes
	}
}

##########################
### PUPPET INTEGRATION ###
##########################

country_event = { #FROM requests our integration
	id = china_events.10
	title = china_events.10.t

	desc = {
		text = china_events.10.d.integration_level_1
		trigger = {
			NOT = { has_autonomy_state = autonomous_governorate }
			NOT = { has_autonomy_state = governorate }
			NOT = { has_autonomy_state = integrated_governorate }
		}
	}
	desc = {
		text = china_events.10.d.integration_level_2
		trigger = { has_autonomy_state = autonomous_governorate }
	}
	desc = {
		text = china_events.10.d.integration_level_3
		trigger = { has_autonomy_state = governorate }
	}
	desc = {
		text = china_events.10.d.integration_final
		trigger = { has_autonomy_state = integrated_governorate }
	}

	picture = GFX_report_event_CHN_riot_police

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.10 option china_events.10.a"
		name = china_events.10.a
		ai_chance = {
			base = 0
			modifier = {
				FROM = { ROOT = { set_temp_variable = { acceptance = mtth:china_integration_acceptance_chance } } }
				add = var:acceptance
			}
		}
		effect_tooltip = { activate_mission = china_integration_timer }
	}

	option = {
		log = "[GetLogInfo]: event china_events.10 option china_events.10.b"
		name = china_events.10.b
		ai_chance = {
			base = 0
			modifier = {
				FROM = { ROOT = { set_temp_variable = { refusal = mtth:china_integration_refusal_chance } } }
				add = var:refusal
			}
		}
		hidden_effect = { remove_mission = china_integration_timer }
		if = {
			limit = { china_compatible_alignment_to_FROM = yes }
			add_stability = -0.15
			add_political_power = -100
			#if = {
			#	limit = { china_same_alignment_as_FROM = yes }
			#	var:country_leader = { china_set_character_alignment_unaligned = yes }
			#}
		}
		set_country_flag = china_revolted_against_@FROM
		create_wargoal = {
			target = FROM
			type = topple_government
		}
		china_break_puppet_effect = yes
		FROM = {
			if = {
				limit = { is_in_array = { china_possible_allies_array = ROOT } }
				remove_from_array = { china_possible_allies_array = ROOT }
			}
			if = {
				limit = { is_in_array = { china_possible_allies_array_northwest = ROOT } }
				remove_from_array = { china_possible_allies_array_northwest = ROOT }
			}
			effect_tooltip = {
				create_wargoal = {
					target = ROOT
					type = annex_everything
				}
			}
			if = {
				limit = { NOT = { any_other_country = { has_country_flag = china_revolted_against_@FROM } } }
				country_event = { id = china_events.13 hours = 8 }
			}
			else = {
				country_event = { id = china_events.15 hours = 8 }
			}
		}
	}
}

country_event = { #Overlord increases integration
	id = china_events.11
	title = china_events.11.t

	desc = {
		text = china_events.11.d.integration_level_1
		trigger = {
			NOT = { has_autonomy_state = autonomous_governorate }
			NOT = { has_autonomy_state = governorate }
			NOT = { has_autonomy_state = integrated_governorate }
		}
	}
	desc = {
		text = china_events.11.d.integration_level_2
		trigger = { has_autonomy_state = autonomous_governorate }
	}
	desc = {
		text = china_events.11.d.integration_level_3
		trigger = { has_autonomy_state = governorate }
	}
	desc = {
		text = china_events.11.d.integration_final
		trigger = { has_autonomy_state = integrated_governorate }
	}

	picture = GFX_report_event_YUN_inspection

	is_triggered_only = yes

	immediate = {
		save_event_target_as = target
	}

	option = {
		log = "[GetLogInfo]: event china_events.11 option china_events.11.a"
		name = china_events.11.a
		hidden_effect = { overlord = { country_event = china_events.12 } }
		effect_tooltip = {
			if = {
				limit = { has_autonomy_state = integrated_governorate }
				overlord = {
					add_collaboration = { target = ROOT value = 0.05 }
					china_integrate_TARGET_effect = yes
				}
			}
			else_if = {
				limit = { has_autonomy_state = governorate }
				overlord = {
					add_collaboration = { target = ROOT value = 0.05 }
					set_autonomy = {
						target = event_target:target
						autonomy_state = integrated_governorate
						end_wars = no
					}
				}
			}
			else_if = {
				limit = { has_autonomy_state = autonomous_governorate }
				overlord = {
					add_collaboration = { target = ROOT value = 0.05 }
					set_autonomy = {
						target = event_target:target
						autonomy_state = governorate
						end_wars = no
					}
				}
			}
			else = {
				overlord = {
					add_collaboration = { target = ROOT value = 0.05 }
					set_autonomy = {
						target = event_target:target
						autonomy_state = autonomous_governorate
						end_wars = no
					}
				}
			}
		}
	}
}

country_event = { #Increased Integration of FROM
	id = china_events.12
	title = china_events.12.t

	desc = {
		text = china_events.12.d.integration_level_1
		trigger = {
			FROM = {
				NOT = { has_autonomy_state = autonomous_governorate }
				NOT = { has_autonomy_state = governorate }
				NOT = { has_autonomy_state = integrated_governorate }
			}
		}
	}
	desc = {
		text = china_events.12.d.integration_level_2
		trigger = { FROM = { has_autonomy_state = autonomous_governorate } }
	}
	desc = {
		text = china_events.12.d.integration_level_3
		trigger = { FROM = { has_autonomy_state = governorate } }
	}
	desc = {
		text = china_events.12.d.integration_final
		trigger = { FROM = { has_autonomy_state = integrated_governorate } }
	}

	picture = GFX_report_event_YUN_inspection

	is_triggered_only = yes

	immediate = {
		FROM = { save_event_target_as = target }
	}

	option = {
		log = "[GetLogInfo]: event china_events.12 option china_events.12.a"
		name = china_events.12.a
		add_collaboration = { target = FROM value = 0.05 }
		if = {
			limit = { FROM = { has_autonomy_state = integrated_governorate } }
			china_integrate_TARGET_effect = yes
		}
		else = {
			FROM = { get_current_government_type = yes }
			if = {
				limit = { FROM = { has_autonomy_state = governorate } }
				set_autonomy = {
					target = FROM
					autonomy_state = integrated_governorate
					end_wars = no
				}
			}
			else_if = {
				limit = { FROM = { has_autonomy_state = autonomous_governorate } }
				set_autonomy = {
					target = FROM
					autonomy_state = governorate
					end_wars = no
				}
			}
			else = {
				set_autonomy = {
					target = FROM
					autonomy_state = autonomous_governorate
					end_wars = no
				}
			}
			FROM = { restore_previous_government_type = yes }
		}
	}
}

country_event = { #Clique refused integration
	id = china_events.13
	title = china_events.13.t
	desc = china_events.13.d
	picture = GFX_report_event_SHX_feng_advisors

	is_triggered_only = yes

	immediate = {
		set_country_flag = { flag = china_central_plains_war_might_happen days = 30 value = 1 }
	}

	option = {
		log = "[GetLogInfo]: event china_events.13 option china_events.13.a"
		name = china_events.13.a #Attack
		effect_tooltip = {
			FROM = { china_break_puppet_effect = yes }
		}
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
		every_subject_country = {
			limit = {
				OR = {
					has_autonomy_state = associated_governorate
					has_autonomy_state = autonomous_governorate
					has_autonomy_state = governorate
					has_autonomy_state = integrated_governorate
				}
			}
			country_event = { id = china_events.14 days = 1 random_days = 2 }
		}
	}
}

country_event = { #FROM.FROM Revolts against FROM
	id = china_events.14
	title = china_events.14.t
	desc = china_events.14.d
	picture = GFX_report_event_SHX_feng_soldiers

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.14 option china_events.14.a"
		name = china_events.14.a #Side with FROM.FROM
		ai_chance = {
			base = 0
			modifier = {
				FROM = { ROOT = { set_temp_variable = { refusal = mtth:china_integration_refusal_chance } } }
				add = var:refusal
			}
			modifier = {
				factor = 0
				FROM.FROM = { china_compatible_alignment_to_PREV = no }
				FROM = { china_same_alignment_as_PREV = yes }
			}
		}
		china_break_puppet_effect = yes
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
		FROM = {
			if = {
				limit = { is_in_array = { china_possible_allies_array = ROOT } }
				remove_from_array = { china_possible_allies_array = ROOT }
			}
			if = {
				limit = { is_in_array = { china_possible_allies_array_northwest = ROOT } }
				remove_from_array = { china_possible_allies_array_northwest = ROOT }
			}
			effect_tooltip = {
				create_wargoal = {
					target = ROOT
					type = annex_everything
				}
			}
			country_event = china_events.15
		}
		FROM.FROM = {
			country_event = china_events.16
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.14 option china_events.14.b"
		name = china_events.14.b #Side with FROM
		ai_chance = {
			base = 20
			modifier = {
				FROM = { ROOT = { set_temp_variable = { refusal = mtth:china_integration_acceptance_chance } } }
				add = var:acceptance
			}
			modifier = {
				factor = 0
				FROM.FROM = { china_same_alignment_as_PREV = yes }
				FROM = { china_compatible_alignment_to_PREV = no }
			}
		}
	}
}

country_event = { #Clique sides with revolter
	id = china_events.15
	title = china_events.15.t
	desc = china_events.15.d
	picture = GFX_report_event_SHX_feng_looking_in_telescope

	immediate = {
		modify_country_flag = { flag = china_central_plains_war_might_happen value = 1 }
		if = {
			limit = {
				has_country_flag = { flag = china_central_plains_war_might_happen value > 2 }
				NOT = { has_country_flag = china_central_plains_war_happened }
			}
			set_country_flag = china_central_plains_war_happened
			hidden_effect = { news_event = { id = china_events.17 days = 4 } }
		}
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.15 option china_events.15.a"
		name = china_events.15.a #Attack
		FROM = {
			effect_tooltip = {
				china_break_puppet_effect = yes
				create_wargoal = {
					target = ROOT
					type = annex_everything
				}
			}
		}
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
	}
}

country_event = { #Clique sides with us
	id = china_events.16
	title = china_events.16.t
	desc = china_events.16.d
	picture = GFX_report_event_QIE_warlord_soldiers

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.16 option china_events.16.a"
		name = china_events.16.a #Attack
		china_puppet_FROM_effect = yes
	}
}

#Central Plains War
news_event = {
	id = china_events.17
	immediate = { log = "[GetLogInfo]: event china_events.17" }
	title = china_events.17.t
	desc = china_events.17.d #text set by scripted loc
	picture = GFX_news_event_SIK_western_china

	trigger = { wants_world_news = yes }

	is_triggered_only = yes

	major = yes
	show_major = { regional_asia_news = yes }

	option = {
		name = china_events.17.a #text set by scripted loc
	}
}

country_event = { #[FROM.Adjective] Nationalists Return to the Fold
	id = china_events.18
	title = china_events.18.t
	desc = china_events.18.d
	picture = GFX_report_event_YUN_KMT

	is_triggered_only = yes #Event: GXC.lategame.444.a, GXC.lategame.515.a, GXC.lategame.516.a

	option = {
		log = "[GetLogInfo]: event china_events.18 option china_events.18.a"
		name = china_events.18.a #We salute these faithful servants of the revolution.
		trigger = { tag = RKT }
		FROM = { save_event_target_as = target }
		china_integrate_TARGET_effect = yes
	}

	option = {
		log = "[GetLogInfo]: event china_events.18 option china_events.18.b"
		name = china_events.18.b #One nation, one party, one future...
		trigger = { NOT = { tag = RKT } }
	}
}

country_event = { #[FROM.GetAdjective] Leftists Submit to the Party-State
	id = china_events.19
	title = china_events.19.t
	desc = china_events.19.d
	picture = GFX_report_event_YUN_KMT

	is_triggered_only = yes #Event: CHI.lategame.295.c

	option = {
		log = "[GetLogInfo]: event china_events.19 option china_events.19.a"
		name = china_events.19.a #We will never forget the faithful comrades and their sacrifices.
		trigger = { tag = LKT }
		FROM = { save_event_target_as = target }
		china_integrate_TARGET_effect = yes
	}

	option = {
		log = "[GetLogInfo]: event china_events.19 option china_events.19.b"
		name = china_events.19.b #[FROM.FROM.GetLeader] has one fewer threat from within.
		trigger = { NOT = { tag = LKT } }
	}
}

country_event = { #[FROM.GetAdjective] Federalists Join Our Government
	id = china_events.190
	title = china_events.190.t
	desc = china_events.190.d
	picture = GFX_report_event_HNN_new_army_soldiers

	is_triggered_only = yes #[EVENT] GXC.endgame.301

	option = {
		log = "[GetLogInfo]: event china_events.190 option china_events.190.a"
		name = china_events.190.a #You will forever be in history as one of the better men.
		trigger = { tag = UPC }
		FROM = { save_event_target_as = target }
		china_integrate_TARGET_effect = yes
	}

	option = {
		log = "[GetLogInfo]: event china_events.190 option china_events.190.b"
		name = china_events.190.b #And so strengthens the Federalist Government.
		trigger = { NOT = { tag = UPC } }
	}
}

country_event = { #[FROM.GetAdjective] Joins Our Government
	id = china_events.191
	title = china_events.191.t
	desc = china_events.191.d
	picture = GFX_report_event_HNN_old_guizhou_clique

	is_triggered_only = yes #[EVENT]  china_events.22 & generic integration event

	option = {
		log = "[GetLogInfo]: event china_events.191 option china_events.191.a"
		name = china_events.191.a #
		trigger = { tag = FROM.FROM }
		FROM = { save_event_target_as = target }
		china_integrate_TARGET_effect = yes
	}

	option = {
		log = "[GetLogInfo]: event china_events.191 option china_events.191.b"
		name = china_events.191.b #
		trigger = { NOT = { tag = FROM.FROM } }
	}
}

country_event = { #National Unification and New Troubles
	id = china_events.2145
	title = china_events.2145.t
	desc = china_events.2145.d
	picture = GFX_report_event_CHN_china_five_colour_guard

	is_triggered_only = yes #Triggered by [EFFECT] china_generic_unification_effect

	option = {
		log = "[GetLogInfo]: event china_events.2145 option china_events.2145.a"
		name = china_events.2145.a #Let us begin to rebuild the pieces.
	}
}

country_event = { #Unification On [FROM.GetAdjective]'s Terms
	id = china_events.2200
	title = china_events.2200.t
	desc = china_events.2200.d
	picture = GFX_report_event_CHN_five_colour_flag_gate_2

	is_triggered_only = yes #[EVENT] china_events.2145

	option = {
		log = "[GetLogInfo]: event china_events.2200 option china_events.2200.a"
		name = china_events.2200.a #We were hardly honest.
		trigger = {
			CHN_has_civil_war_prep_trigger = yes
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 2
				strength_ratio = {
					tag = CHN
					ratio > 0.80
				}
			}
			modifier = {
				factor = 2
				ic_ratio = {
					tag = CHN
					ratio > 0.8
				}
			}
			modifier = {
				factor = 1.5
				CHN = { has_war = yes }
			}
			modifier = {
				factor = 0
				is_chinese_tag = no
				strength_ratio = {
					tag = CHN
					ratio < 0.75
				}
			}
			modifier = {
				factor = 3
				check_variable = { CHN_civil_war_preparation_var > 0 }
			}
		}
		#Penalty depending on your alignment - PP and Stab already deducted earlier.
		if = {
			limit = { china_same_alignment_as_FROM = yes }
			add_command_power = -100
			add_war_support = -0.10
		}
		else_if = {
			limit = { china_compatible_alignment_to_FROM = yes }
			add_command_power = -50
			add_war_support = -0.05
		}
		else = {
			#Everyone else
			add_command_power = -30
			add_war_support = -0.03
		}

		#Break the Puppetship
		china_break_puppet_effect = yes
		if = {
			limit = { can_declare_war_on = FROM }
			create_wargoal = {
				target = FROM
				type = topple_government
			}
		}

		#Inform ROOT
		hidden_effect = {
			every_other_country = {
				limit = { is_chinese_tag = yes }
				country_event = { id = china_events.2300 days = 1 } #[FROM.GetAdjective] Rises in Revolt!
			}
			if = {
				limit = { tag = GXC }
				country_event = { id = GXC.lategame.960 days = 2 } #Civil War Breaks Out
			}
			else_if = {
				limit = { tag = YUN }
				country_event = { id = YUN.lategame.830 days = 2 } #The Yunnan Uprising!
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event china_events.2200 option china_events.2200.b"
		name = china_events.2200.b #Send our overtures to [FROM.GetLeader]
		trigger = { china_compatible_alignment_to_FROM = no }
		ai_chance = { base = 75 }
		add_political_power = 15
	}
	option = {
		log = "[GetLogInfo]: event china_events.2200 option china_events.2200.c"
		name = china_events.2200.c #Let us travel to the capital to congralute them. (Switch to [FROM.GetNameDef])
		trigger = { china_compatible_alignment_to_FROM = yes }
		ai_chance = {
			base = 75
			modifier = {
				factor = 2
				china_same_alignment_as_FROM = yes
			}
			modifier = {
				factor = 0.25
				OR = {
					has_country_leader = { character = SHX_feng_yuxiang }
				}
			}
		}
		effect_tooltip = { china_integrate_ally_effect = yes }
		CHN = { change_tag_from = ROOT }
		custom_effect_tooltip = CHN_done_our_patriotic_duty_tt
		hidden_effect = {
			CHN = {
				country_event = { id = china_events.191 days = 3 } #[FROM.Adjective] Joins Our Government
			}
		}
	}
}

country_event = { #[FROM.GetLeader] Rises in Revolt!
	id = china_events.2300
	title = china_events.2300.t
	desc = china_events.2300.d
	picture = GFX_report_event_CHN_warlord_cavalry

	is_triggered_only = yes #[EVENT] china_events.2200

	option = {
		log = "[GetLogInfo]: event china_events.2300 option china_events.2300.a"
		name = china_events.2300.a #They'd be fools to try!
		trigger = { tag = CHN }
		ai_chance = { base = 100 }
		if = {
			limit = { can_declare_war_on = FROM }
			create_wargoal = {
				target = FROM
				type = annex_everything
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.2300 option china_events.2300.b"
		name = china_events.2300.b #Such is the state of the Warlord Era!
		trigger = { NOT = { tag = CHN } }
		ai_chance = { base = 100 }
	}
}

####################
### UNITED FRONT ###
####################
country_event = { #United Front ends
	id = china_events.23
	title = china_events.23.t
	desc = china_events.23.d
	picture = GFX_report_event_CHI_infiltration

	trigger = {
		tag = CUF
		is_faction_leader = yes
		NOT = {
			any_enemy_country = {
				is_major = yes
				num_of_controlled_factories > 50
				is_chinese_tag = no
			}
		}
	}

	immediate = {
		clear_global_event_target = china_united_front_leader
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.23 option china_events.23.a"
		name = china_events.23.a
		clear_rule = { can_not_declare_war = yes }
		dismantle_faction = yes
		every_other_country = {
			limit = { has_country_flag = was_in_united_front }
			set_truce = { target = FROM days = 120 }
			hidden_effect = {
				every_other_country = {
					limit = { has_country_flag = was_in_united_front }
					set_truce = { target = PREV days = 120 }
				}
			}
		}
		every_other_country = {
			limit = {
				OR = {
					has_country_flag = was_in_united_front
					has_variable = china_was_at_war_with_before_joining_front^num
				}
			}
			country_event = china_events.24
		}
		every_other_country = {
			limit = {
				is_in_array = { ROOT.china_was_at_war_with_before_joining_front = THIS }
				NOT = { is_subject_of = ROOT }
			}
			ROOT = {
				create_wargoal = {
					target = PREV
					type = annex_everything
				}
			}
		}
		clr_country_flag = was_in_united_front
		clear_array = china_was_at_war_with_before_joining_front
	}
}

country_event = { #United Front disbanded
	id = china_events.24
	title = china_events.24.t
	desc = china_events.24.d
	picture = GFX_report_event_FNG_army1

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { has_country_flag = was_in_united_front }
				clear_rule = { can_not_declare_war = yes }
			}
			every_possible_country = {
				limit = { has_country_flag = china_united_front_can_join_factions }
				clr_country_flag = china_united_front_can_join_factions
				clear_rule = { can_join_factions = yes }
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.24 option china_events.24.a"
		name = china_events.24.a
		if = {
			limit = { has_country_flag = was_in_united_front }
			effect_tooltip = { clear_rule = { can_not_declare_war = yes } }
			clr_country_flag = was_in_united_front
		}
		every_other_country = {
			limit = {
				is_in_array = { ROOT.china_was_at_war_with_before_joining_front = THIS }
				NOT = { is_subject_of = ROOT }
			}
			ROOT = {
				create_wargoal = {
					target = PREV
					type = annex_everything
				}
			}
		}
		clear_array = china_was_at_war_with_before_joining_front
	}
}

country_event = { #United Front formed
	id = china_events.25
	title = china_events.25.t
	desc = china_events.25.d
	picture = GFX_report_event_QIE_youth_league

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.25 option china_events.25.a"
		name = china_events.25.a
		effect_tooltip = { set_rule = { can_join_factions = yes } }
		add_ideas = CHN_calls_for_a_united_front_idea
	}
}

#United Front news event
news_event = {
	id = china_events.26
	immediate = { log = "[GetLogInfo]: event china_events.26" }
	title = china_events.26.t
	desc = china_events.26.d
	picture = GFX_news_event_chinese_soldiers_march

	is_triggered_only = yes

	trigger = { wants_world_news = yes } #Global news event

	option = {
		name = china_events.26.a
	}
}

country_event = { #Chinese tag: clique offers ceasefire
	id = china_events.27
	title = china_events.27.t
	desc = china_events.27.d
	picture = GFX_report_event_CHN_machinegun_fighting

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.27 option china_events.27.a"
		name = china_events.27.a #Accept
		if = {
			limit = { has_offensive_war_with = FROM }
			add_to_array = { china_was_at_war_with_before_joining_front = FROM }
		}
		else = {
			add_to_array = { FROM.china_was_at_war_with_before_joining_front = ROOT }
		}
		effect_tooltip = {
			every_subject_country = {
				limit = {
					has_capitulated = yes
					capital_scope = { controller = { is_ally_with = FROM } }
				}
				remove_puppet_and_leave_faction = yes
			}
			every_controlled_state = {
				limit = { owner = { is_ally_with = FROM } }
				transfer_state_to = ROOT
			}
		}
		FROM = {
			effect_tooltip = {
				every_subject_country = {
					limit = {
						has_capitulated = yes
						capital_scope = { controller = { is_ally_with = ROOT } }
					}
					remove_puppet_and_leave_faction = yes
				}
				every_controlled_state = {
					limit = { owner = { is_ally_with = ROOT } }
					transfer_state_to = FROM
				}
			}
			country_event = { id = china_events.28 hours = 8 }
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.27 option china_events.27.b"
		name = china_events.27.b #Refuse
		ai_chance = { base = 0 }
		set_country_flag = china_refused_ceasefire
	}
}

country_event = { #Chinese tag: FROM accepts ceasefire
	id = china_events.28
	title = china_events.28.t
	desc = china_events.28.d
	picture = GFX_report_event_CHN_warlords

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.28 option china_events.28.a"
		name = china_events.28.a
		every_subject_country = {
			limit = {
				has_capitulated = yes
				capital_scope = { controller = { is_ally_with = FROM } }
			}
			remove_puppet_and_leave_faction = yes
		}
		FROM = {
			every_subject_country = {
				limit = {
					has_capitulated = yes
					capital_scope = { controller = { is_ally_with = ROOT } }
				}
				remove_puppet_and_leave_faction = yes
			}
		}
		every_subject_country = {
			every_controlled_state = {
				limit = { owner = { is_ally_with = FROM } }
				if = {
					limit = {
						OR = {
							is_core_of = PREV
							is_claimed_by = PREV
						}
					}
					transfer_state_to = PREV
				}
				else = {
					transfer_state_to = ROOT
				}
			}
		}
		every_controlled_state = {
			limit = { owner = { is_ally_with = FROM } }
			transfer_state_to = ROOT
		}
		FROM = {
			every_subject_country = {
				every_controlled_state = {
					limit = { owner = { is_ally_with = ROOT } }
					if = {
						limit = {
							OR = {
								is_core_of = PREV
								is_claimed_by = PREV
							}
						}
						transfer_state_to = PREV
					}
					else = {
						transfer_state_to = FROM
					}
				}
			}
			every_controlled_state = {
				limit = { owner = { is_ally_with = ROOT } }
				transfer_state_to = FROM
			}
			ROOT = {
				set_country_flag = {
					flag = CHN_block_ships_from_being_transferred_flag #So when you White Peace someone it doesn't trigger the China unique effect to steal their ships.
					days = 3
					value = 1
				}
			}
			set_country_flag = {
				flag = CHN_block_ships_from_being_transferred_flag #So when you White Peace someone it doesn't trigger the China unique effect to steal their ships.
				days = 3
				value = 1
			}
			white_peace_with_ROOT = yes
		}

		#clean up isolated states
		hidden_effect = {
			every_owned_state = {
				limit = {
					owner = { is_ally_with = ROOT }
					all_neighbor_state = { owner = { is_ally_with = FROM } }
				}
				transfer_state_to = FROM
			}
			every_subject_country = {
				every_owned_state = {
					limit = {
						owner = { is_ally_with = ROOT }
						all_neighbor_state = { owner = { is_ally_with = FROM } }
					}
					transfer_state_to = FROM
				}
			}
			FROM = {
				every_owned_state = {
					limit = {
						owner = { is_ally_with = ROOT }
						all_neighbor_state = { owner = { is_ally_with = FROM } }
					}
					transfer_state_to = FROM
				}
				every_subject_country = {
					every_owned_state = {
						limit = {
							owner = { is_ally_with = ROOT }
							all_neighbor_state = { owner = { is_ally_with = FROM } }
						}
						transfer_state_to = FROM
					}
				}
			}
		}
	}
}

country_event = { #FROM refuses ceasefire
	id = china_events.29
	title = china_events.29.t
	desc = china_events.29.d
	picture = GFX_report_event_CHN_warlord_observer

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.29 option china_events.29.a"
		name = china_events.29.a
		add_to_faction = FROM.FROM
	}

	option = {
		log = "[GetLogInfo]: event china_events.29 option china_events.29.a"
		name = china_events.29.a
		ai_chance = { base = 0 }
		FROM.FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = KR_outraged
			}
		}
	}
}

country_event = { #The Northeastern Gambit
	id = china_events.30
	title = china_events.30.t
	desc = china_events.30.d
	picture = GFX_report_event_QIE_youth_league

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.30 option china_events.30.a"
		name = china_events.30.a
		effect_tooltip = { set_rule = { can_join_factions = yes } }
		add_ideas = CHN_calls_for_a_united_front_idea
	}
}

#China Enters the Pacific War
news_event = {
	id = china_events.31
	immediate = { log = "[GetLogInfo]: event china_events.31" }
	title = china_events.31.t
	desc = china_events.31.d
	picture = GFX_news_event_chinese_soldiers_march

	is_triggered_only = yes

	trigger = { wants_world_news = yes } #Global news event

	option = {
		name = china_events.31.a
	}
}

###################
### ARMY REFORM ###
###################

country_event = { #Army Reform Progresses
	id = china_events.40

	title = {
		text = china_events.40.t.first_step
		trigger = {
			OR = {
				has_idea = china_poor_army_3_officers
				has_idea = china_poor_army_3
			}
		}
	}
	title = {
		text = china_events.40.t.second_step
		trigger = {
			OR = {
				has_idea = china_poor_army_2_officers
				has_idea = china_poor_army_2
			}
		}
	}
	title = {
		text = china_events.40.t.third_step_officers
		trigger = {
			has_idea = china_poor_army_1_officers
		}
	}
	title = {
		text = china_events.40.t.third_step_finished
		trigger = {
			has_idea = china_poor_army_1
		}
	}

	desc = {
		text = china_events.40.d.first_step
		trigger = {
			OR = {
				has_idea = china_poor_army_3_officers
				has_idea = china_poor_army_3
			}
		}
	}
	desc = {
		text = china_events.40.d.second_step
		trigger = {
			OR = {
				has_idea = china_poor_army_2_officers
				has_idea = china_poor_army_2
			}
		}
	}
	desc = {
		text = china_events.40.d.third_step_officers
		trigger = {
			has_idea = china_poor_army_1_officers
		}
	}
	desc = {
		text = china_events.40.d.third_step_finished
		trigger = {
			has_idea = china_poor_army_1
		}
	}

	picture = GFX_report_event_CHN_beijing_beiyang_flag

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.40 option china_events.40.a"
		name = china_events.40.a
		china_army_reform_increase_step = yes
	}
}

country_event = { #A New Officer Corps
	id = china_events.41

	title = {
		text = china_events.41.t.army_reform_ongoing
		trigger = { NOT = { has_idea = china_poor_army_0 } }
	}
	title = {
		text = china_events.41.t.army_reform_finished
		trigger = { has_idea = china_poor_army_0 }
	}

	desc = {
		text = china_events.41.d.army_reform_ongoing
		trigger = { NOT = { has_idea = china_poor_army_0 } }
	}
	desc = {
		text = china_events.41.d.army_reform_finished
		trigger = { has_idea = china_poor_army_0 }
	}

	picture = GFX_report_event_CHN_beijing_beiyang_flag

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.41 option china_events.40.a"
		name = china_events.40.a
		china_army_reform_remove_officer_penalty = yes
	}
}

########################
### POST UNIFICATION ###
########################

country_event = { #Choice of capital
	id = china_events.50
	title = china_events.50.t
	desc = china_events.50.d

	picture = GFX_report_event_CHN_beijing_beiyang_flag

	is_triggered_only = yes

	immediate = {
		set_country_flag = CHN_has_chosen_a_capital_flag
		if = {
			limit = { 608 = { has_state_flag = CHN_is_capital_of_china_flag } }
			608 = {
				clr_state_flag = CHN_is_capital_of_china_flag
				add_victory_points = {
					province = 9843 #Beijing
					value = -10
				}
			}
		}
		else_if = {
			limit = { 613 = { has_state_flag = CHN_is_capital_of_china_flag } }
			613 = {
				clr_state_flag = CHN_is_capital_of_china_flag
				add_victory_points = {
					province = 11913 #Nanjing
					value = -10
				}
			}
		}
		else_if = {
			limit = { 1048 = { has_state_flag = CHN_is_capital_of_china_flag } }
			1048 = {
				clr_state_flag = CHN_is_capital_of_china_flag
				china_splits_wuhan = yes #This will automatically reset it back to 40 total
			}
		}
		else_if = {
			limit = { 592 = { has_state_flag = CHN_is_capital_of_china_flag } }
			592 = {
				clr_state_flag = CHN_is_capital_of_china_flag
				add_victory_points = {
					province = 1047 #Guangzhou
					value = -10
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.50 option china_events.50.a"
		name = china_events.50.a #Beijing
		ai_chance = {
			base = 35
			modifier = {
				add = 3
				OR = {
					tag = QIE
					tag = FNG
					tag = SHX
					tag = SHD
				}
			}
		}
		set_capital = { state = 608 remember_old_capital = no }
		608 = {
			set_state_flag = CHN_is_capital_of_china_flag
			add_victory_points = {
				province = 9843 #Beijing
				value = 10
			}
			if = {
				limit = { has_state_flag = beiping_rename_flag }
				clr_state_flag = beiping_rename_flag
				effect_tooltip = {
					set_province_name = { id = 9843 name = VICTORY_POINTS_9843 }
				}
				rename_state_effect = yes
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.50 option china_events.50.b"
		name = china_events.50.b #Nanjing
		ai_chance = {
			base = 20
			modifier = {
				add = 3
				OR = {
					tag = LEP
					tag = CHI
					tag = ANQ
					tag = SHD
				}
			}
		}
		set_capital = { state = 613 remember_old_capital = no }
		613 = {
			set_state_flag = CHN_is_capital_of_china_flag
			add_victory_points = {
				province = 11913 #Nanjing
				value = 10
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.50 option china_events.50.c"
		name = china_events.50.c #Wuhan
		ai_chance = {
			base = 20
			modifier = {
				add = 2
				china_is_aligned_with_republicans = yes
			}
		}
		set_capital = { state = 1048 remember_old_capital = no }
		china_merges_wuhan = yes # Merges the tri-cities
		1048 = {
			set_state_flag = CHN_is_capital_of_china_flag
			add_victory_points = {
				province = 4619 #Wuhan
				value = 10
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.50 option china_events.50.e"
		name = china_events.50.e #Guangzhou
		ai_chance = { base = 10 }
		set_capital = { state = 592 remember_old_capital = no }
		592 = {
			set_state_flag = CHN_is_capital_of_china_flag
			add_victory_points = {
				province = 1047 #Guangzhou
				value = 10
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.50 option china_events.50.f"
		name = china_events.50.f #Keep current
		ai_chance = { base = 15 }
		trigger = {
			NOT = {
				capital_scope = { state = 608 } #Beijing
				capital_scope = { state = 613 } #Nanjing
				capital_scope = { state = 1048 } #Wuhan
				capital_scope = { state = 592 } #Guangzhou
			}
		}
	}
}

country_event = { #[ROOT.Capital.GetCapitalVictoryPointName]'s Growing Renown
	id = china_events.51
	title = china_events.51.t
	desc = china_events.51.d

	picture = GFX_report_event_generic_beijing_map

	is_triggered_only = yes #Triggered by EFFECT: find_next_chinese_target

	option = {
		log = "[GetLogInfo]: event china_events.51 option china_events.51.a"
		name = china_events.51.a
		custom_effect_tooltip = china_becomes_CHN_tt
	}
}

country_event = { #A Provisional Capital?
	id = china_events.52
	title = china_events.52.t
	desc = china_events.52.d
	picture = GFX_report_event_GXC_guangzhou_government_gate

	is_triggered_only = yes #Decision: china_provisional_capital

	option = {
		log = "[GetLogInfo]: event china_events.52 option china_events.52.a"
		name = china_events.52.a #Beijing
		trigger = {
			controls_state = 608
			NOT = { capital_scope = { state = 608 } }
		}
		set_capital = { state = 608 remember_old_capital = yes }
	}
	option = {
		log = "[GetLogInfo]: event china_events.52 option china_events.52.b"
		name = china_events.52.b #Wuhan
		trigger = {
			controls_state = 1048
			NOT = { capital_scope = { state = 1048 } }
		}
		set_capital = { state = 1048 remember_old_capital = yes }
		china_merges_wuhan = yes # Merges the tri-cities
	}
	option = {
		log = "[GetLogInfo]: event china_events.52 option china_events.52.c"
		name = china_events.52.c #Nanjing
		trigger = {
			controls_state = 613
			NOT = { capital_scope = { state = 613 } }
		}
		set_capital = { state = 613 remember_old_capital = yes }
	}
	option = {
		log = "[GetLogInfo]: event china_events.52 option china_events.52.e"
		name = china_events.52.e #Let us remain in place in [ROOT.Capital.GetCapitalVictoryPointName]
	}
}

########################
###### Other Stuff #####
########################
country_event = { #The Central Government Demands Beijing
	id = china_events.60
	title = china_events.60.t
	desc = china_events.60.d

	picture = GFX_report_event_generic_beijing_map

	is_triggered_only = yes #Triggered by decision CHN_demand_control_of_beijing

	trigger = { NOT = { var:608.owner = { tag = FROM } } }

	option = {
		log = "[GetLogInfo]: event china_events.60 option china_events.60.a"
		name = china_events.60.a #So be it, we yield.
		ai_chance = {
			base = 75
			modifier = {
				factor = 2
				strength_ratio = {
					tag = FROM
					ratio < 0.25
				}
			}
			modifier = {
				factor = 2
				ic_ratio = {
					tag = FROM
					ratio < 0.3
				}
			}
			modifier = {
				factor = 10
				has_opinion_modifier = KR_approves_of_govt #Yeah there's plenty of room for cheese but it's whatever
			}
		}
		event_option_tooltip = china_events.61.a
		FROM = { country_event = china_events.61 } #[FROM.GetNameDefCap] Yields Beijing
	}
	option = {
		log = "[GetLogInfo]: event china_events.60 option china_events.60.b"
		name = china_events.60.b #Perhaps it is our moment to shine...
		ai_chance = {
			base = 25
			modifier = {
				factor = 2
				strength_ratio = {
					tag = FROM
					ratio > 0.75
				}
			}
			modifier = {
				factor = 2
				ic_ratio = {
					tag = FROM
					ratio > 0.8
				}
			}
			modifier = {
				factor = 0.1
				has_opinion_modifier = KR_approves_of_govt
			}
			modifier = {
				factor = 0
				FROM = { tag = CHI }
				has_game_rule = { rule = CHI_ally_betrayal option = CHI_ALLY_BETRAYAL_NEVER }
			}
		}
		if = {
			limit = { china_compatible_alignment_to_FROM = yes }
			add_stability = -0.2
			add_political_power = -200
			#if = {
			#	limit = { china_same_alignment_as_FROM = yes }
			#	var:country_leader = { china_set_character_alignment_unaligned = yes }
			#}
		}
		set_country_flag = china_revolted_against_@FROM
		create_wargoal = {
			target = FROM
			type = topple_government
		}
		china_break_puppet_effect = yes
		FROM = {
			if = {
				limit = { is_in_array = { china_possible_allies_array = ROOT } }
				remove_from_array = { china_possible_allies_array = ROOT }
			}
			if = {
				limit = { is_in_array = { china_possible_allies_array_northwest = ROOT } }
				remove_from_array = { china_possible_allies_array_northwest = ROOT }
			}
			effect_tooltip = {
				create_wargoal = {
					target = ROOT
					type = annex_everything
				}
			}
			if = {
				limit = { NOT = { any_other_country = { has_country_flag = china_revolted_against_@FROM } } }
				country_event = { id = china_events.13 hours = 8 }
			}
			else = {
				country_event = { id = china_events.15 hours = 8 }
			}
		}
	}
}

country_event = { #[FROM.GetNameDefCap] Yields Beijing
	id = china_events.61
	title = china_events.61.t
	desc = china_events.61.d

	picture = GFX_report_event_generic_beijing_map

	is_triggered_only = yes #Triggered by decision CHN_demand_control_of_beijing

	option = {
		log = "[GetLogInfo]: event china_events.61 option china_events.61.a"
		name = china_events.61.a #As it should be.
		transfer_state = 608
		reverse_add_opinion_modifier = {
			target = FROM
			modifier = KR_outraged
		}
	}
}

#Satellite Becoming a Challenger Warning
country_event = { #[FROM.GetLeader] Challenges Our Legitimacy
	id = china_events.62
	title = china_events.62.t
	desc = china_events.62.d

	picture = GFX_report_event_SHX_yan_speech

	is_triggered_only = yes #Triggered by effect CHN_add_to_civil_war_preparation_effect

	option = {
		log = "[GetLogInfo]: event china_events.62 option china_events.62.a"
		name = china_events.62.a #We would be well served not to lower our guard.
		custom_effect_tooltip = CHN_begin_civil_war_preparation_warning_tt
	}
}

#Satellite Demanding Master Acts
country_event = { #[FROM.GetLeader] Pressures Us To Act!
	id = china_events.63
	title = china_events.63.t
	desc = china_events.63.d

	picture = GFX_report_event_generic_beijing_map

	is_triggered_only = yes #Triggered by decision
	trigger = {
		NOT = { has_global_flag = china_united }
	}

	option = {
		log = "[GetLogInfo]: event china_events.63 option china_events.63.a"
		name = china_events.63.a #All in due time...
		add_to_variable = {
			var = CHN_pressure_to_act_variable
			value = 1
		}
		activate_mission = CHN_pressure_to_act_mission
	}
}

country_event = { #[FROM.GetLeader] Adds Further Pressure
	id = china_events.64
	title = china_events.64.t
	desc = china_events.64.d

	picture = GFX_report_event_generic_beijing_map

	is_triggered_only = yes #Triggered by decision
	trigger = {
		NOT = { has_global_flag = china_united }
	}

	option = {
		log = "[GetLogInfo]: event china_events.64 option china_events.64.a"
		name = china_events.64.a #We are getting to it!
		add_to_variable = {
			var = CHN_pressure_to_act_variable
			value = 1
			tooltip = CHN_pressure_to_act_tt
		}
	}
}

#########################
######## Flavor #########
#########################
country_event = { #National Day of the Republic of China
	id = china_events.70
	title = china_events.70.t
	desc = {
		text = china_events.70.d.zhili_monarchy
		trigger = {
			OR = {
				is_monarchy = yes
				AND = {
					is_subject_of = QIE
					QIE = { is_monarchy = yes }
				}
			}
			OR = {
				china_alignment_northern_zhili = yes
				china_alignment_southern_zhili = yes
			}
		}
	}
	desc = {
		text = china_events.70.d.other_monarchy
		trigger = {
			OR = {
				is_monarchy = yes
				AND = {
					is_subject_of = SHD
					SHD = { is_monarchy = yes }
				}
			}
			NOT = {
				china_alignment_northern_zhili = yes
				china_alignment_southern_zhili = yes
			}
		}
	}
	desc = {
		text = china_events.70.d.kuomintang_republic
		trigger = {
			OR = {
				china_alignment_right_kuomintang = yes
				china_alignment_left_kuomintang = yes
			}
		}
	}
	desc = {
		text = china_events.70.d.other_republic
		trigger = {
			NOT = {
				is_monarchy = yes
				OVERLORD = { is_monarchy = yes }
			}
			NOT = {
				china_alignment_right_kuomintang = yes
				china_alignment_left_kuomintang = yes
				china_alignment_northern_zhili = yes
				china_alignment_southern_zhili = yes
			}
		}
	}

	picture = GFX_report_event_CHI_military_parade

	is_triggered_only = yes #Triggered by history files + yearly cycle.

	immediate = {
		hidden_effect = {
			country_event = { id = china_events.70 days = 365 } #Yearly Holiday
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.70 option china_events.70.a"
		name = china_events.70.a #Zhonghua Minguo Wansui!
		trigger = {
			NOT = {
				is_monarchy = yes
				AND = {
					is_subject_of = QIE
					QIE = { is_monarchy = yes }
					NOT = { has_global_flag = china_united }
				}
			}
		}
		add_political_power = 10
	}

	option = {
		log = "[GetLogInfo]: event china_events.70 option china_events.70.b"
		name = china_events.70.b #Zhonghua Minguo Wansui...
		trigger = {
			OR = {
				is_monarchy = yes
				AND = {
					is_subject_of = QIE
					QIE = { is_monarchy = yes }
				}
			}
			OR = {
				china_alignment_northern_zhili = yes
				china_alignment_southern_zhili = yes
			}
			NOT = {
				has_global_flag = china_united
			}
		}
		add_political_power = -5
	}

	option = {
		log = "[GetLogInfo]: event china_events.70 option china_events.70.c"
		name = china_events.70.c #Let October 10th fade from memory!
		trigger = {
			OR = {
				is_monarchy = yes
				AND = {
					is_subject_of = QIE
					QIE = { is_monarchy = yes }
				}
				AND = {
					is_subject_of = SHD
					SHD = { is_monarchy = yes }
				}
			}
			NOT = {
				china_alignment_northern_zhili = yes
				china_alignment_southern_zhili = yes
			}
		}
		if = {
			limit = { has_global_flag = china_united }
			add_political_power = 10
		}
		else = {
			add_political_power = -10
		}
	}
}

##############################
### DEALING WITH OUTSKIRTS ###
##############################

country_event = { #MON/TIB/ETS: China demands our annexation
	id = china_events.100
	title = china_events.100.t

	desc = {
		text = china_events.100.d.independent
		trigger = {
			is_subject = no
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			NOT = { has_event_target = abandoned_by_overlord }
			NOT = { has_event_target = abandoned_by_allies }
		}
	}
	desc = {
		text = china_events.100.d.is_puppet
		trigger = {
			is_subject = yes
		}
	}
	desc = {
		text = china_events.100.d.was_puppet
		trigger = {
			has_event_target = abandoned_by_overlord
		}
	}
	desc = {
		text = china_events.100.d.is_in_faction
		trigger = {
			is_subject = no
			is_in_faction = yes
			is_faction_leader = no
		}
	}
	desc = {
		text = china_events.100.d.was_in_faction
		trigger = {
			has_event_target = abandoned_by_allies
		}
	}

	picture = GFX_report_event_FNG_dairen

	is_triggered_only = yes

	trigger = {
		FROM = { can_declare_war_on = ROOT }
	}

	immediate = {
		hidden_effect = {
			save_event_target_as = target_country
			FROM = { save_event_target_as = china }
			if = {
				limit = { any_owned_state = { is_core_china = yes } }
				save_event_target_as = can_give_away_lands
			}
			if = {
				limit = {
					OR = {
						NOT = { country_exists = RUS }
						RUS = { is_subject = yes }
					}
					FER = { owns_state = 219 } #Moscow
				}
				FER = { save_event_target_as = russia }
			}
			else = {
				RUS = { save_event_target_as = russia }
			}
			if = {
				limit = {
					count_triggers = {
						amount = 2
						NOT = { country_exists = HND }
						NOT = { country_exists = PRF }
						NOT = { country_exists = RAJ }
					}
				}
				if = {
					limit = { is_neighbor_of = HND }
					HND = { save_event_target_as = india }
				}
				else_if = {
					limit = { is_neighbor_of = RAJ }
					RAJ = { save_event_target_as = india }
				}
				else_if = {
					limit = { is_neighbor_of = PRF }
					PRF = { save_event_target_as = india }
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.100 option china_events.100.a"
		name = china_events.100.a #Accept
		trigger = {
			is_subject = no
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			NOT = { is_guaranteed_by = event_target:russia }
			NOT = { is_guaranteed_by = event_target:india }
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				has_event_target = abandoned_by_overlord #we give up
			}
		}
		FROM = { country_event = { id = china_events.101 days = 1 } } #China: FROM surrenders
		custom_effect_tooltip = GAME_OVER_TT
		effect_tooltip = {
			FROM = {
				annex_country = {
					target = ROOT
					transfer_troops = no
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.100 option china_events.100.b"
		name = china_events.100.b #Autonomy in exchange
		trigger = {
			is_subject = no
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			NOT = { is_guaranteed_by = event_target:russia }
			NOT = { is_guaranteed_by = event_target:india }
		}
		ai_chance = { base = 100 }
		FROM = { country_event = { id = china_events.102 days = 1 } } #China: FROM demands autonomy
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			every_subject_country = {
				FROM = { puppet = PREV }
			}
			FROM = {
				set_autonomy = {
					target = ROOT
					autonomy_state = chinese_suzerainty
					end_wars = yes
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.100 option china_events.100.c"
		name = china_events.100.c #Lands in exchange for independence
		trigger = {
			has_event_target = can_give_away_lands
			is_subject = no
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			NOT = { is_guaranteed_by = event_target:russia }
			NOT = { is_guaranteed_by = event_target:india }
		}
		FROM = { country_event = { id = china_events.107 days = 1 } } #China: FROM offers Han lands in exchange for independence
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			every_owned_state = {
				limit = { is_core_china = yes }
				transfer_state_to = FROM
			}
			set_truce = { target = FROM days = 1095 }
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.100 option china_events.100.d"
		name = china_events.100.d #Ask Russia for protection
		trigger = {
			is_subject = no
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			has_event_target = russia
			OR = {
				china_russia_can_protect_country = yes
				is_guaranteed_by = event_target:russia
			}
		}
		event_target:russia = { country_event = { id = china_events.110 days = 1 } } #RUS/HND/RAJ/PRF: FROM asks for protection against China
		if = {
			limit = {
				has_socialist_government = no
				event_target:russia = { has_socialist_government = yes }
			}
			custom_effect_tooltip = china_country_may_demand_regime_change
		}
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			if = {
				limit = { event_target:russia = { is_in_faction = yes } }
				var:event_target:russia.faction_leader = { add_to_faction = ROOT }
			}
			else = {
				event_target:russia = {
					give_guarantee = FROM
					diplomatic_relation = {
						country = FROM
						relation = non_aggression_pact
					}
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.100 option china_events.100.e"
		name = china_events.100.e #Ask India for protection
		trigger = {
			is_subject = no
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			has_event_target = india
			OR = {
				china_india_can_protect_country = yes
				is_guaranteed_by = event_target:india
			}
		}
		event_target:india = { country_event = { id = china_events.110 days = 1 } } #RUS/HND/RAJ/PRF: FROM asks for protection against China
		if = {
			limit = {
				has_socialist_government = no
				event_target:india = { has_socialist_government = yes }
			}
			custom_effect_tooltip = china_country_may_demand_regime_change
		}
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			if = {
				limit = { event_target:india = { is_in_faction = yes } }
				var:event_target:india.faction_leader = { add_to_faction = ROOT }
			}
			else = {
				event_target:india = {
					give_guarantee = FROM
					diplomatic_relation = {
						country = FROM
						relation = non_aggression_pact
					}
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.100 option china_events.100.f"
		name = china_events.100.f #Refuse
		trigger = {
			is_subject = no
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			NOT = { is_guaranteed_by = event_target:russia }
			NOT = { is_guaranteed_by = event_target:india }
		}
		ai_chance = { base = 0 }
		FROM = {
			effect_tooltip = {
				create_wargoal = {
					target = ROOT
					type = annex_everything
				}
			}
			country_event = china_events.118 #China: FROM refuses annexation
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.100 option china_events.100.g"
		name = china_events.100.g #Ask overlord to intervene
		trigger = {
			is_subject = yes
		}
		overlord = { country_event = { id = china_events.119 days = 1 } } #Overlord/faction leader of MON/TIB/ETS: China demands annexation of FROM
	}

	option = {
		log = "[GetLogInfo]: event china_events.100 option china_events.100.h"
		name = china_events.100.h #Ask faction leader to intervene
		trigger = {
			is_subject = no
			is_in_faction = yes
			is_faction_leader = no
		}
		faction_leader = { country_event = { id = china_events.119 days = 1 } } #Overlord/faction leader of MON/TIB/ETS: China demands annexation of FROM
	}
}

country_event = { #China: FROM surrenders
	id = china_events.101
	title = china_events.101.t
	desc = china_events.101.d

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.101 option china_events.101.a"
		name = china_events.101.a
		annex_country = {
			target = FROM
			transfer_troops = no
		}
	}
}

country_event = { #China: FROM demands autonomy
	id = china_events.102
	title = china_events.102.t
	desc = china_events.102.d
	picture = GFX_report_event_MON_monastery

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.102 option china_events.102.a"
		name = china_events.102.a #Yes
		effect_tooltip = {
			FROM = {
				every_subject_country = { ROOT = { puppet = PREV } }
			}
			set_autonomy = {
				target = FROM
				autonomy_state = chinese_suzerainty
				end_wars = yes
			}
		}
		FROM = { country_event = { id = china_events.103 days = 1 } } #MON/TIB/ETS: China accepts autonomy
	}

	option = {
		log = "[GetLogInfo]: event china_events.102 option china_events.102.b"
		name = china_events.102.b #Demand the return of Han lands in exchange
		trigger = {
			has_event_target = can_give_away_lands
		}
		FROM = { country_event = { id = china_events.104 days = 1 } } #MON/TIB/ETS: China wants Han lands
	}

	option = {
		log = "[GetLogInfo]: event china_events.102 option china_events.102.c"
		name = china_events.102.c #No
		save_event_target_as = refused_autonomy
		if = {
			limit = { has_event_target = refused_lands }
			FROM = { #MON/TIB/ETS: repeating event to exhaust option
				custom_effect_tooltip = {
					localization_key = EFFECT_COUNTRY_EVENT
					EVENT = china_events.109.t.from_china_refused_both
				}
			}
		}
		else = {
			FROM = { #MON/TIB/ETS: repeating event to exhaust options
				custom_effect_tooltip = {
					localization_key = EFFECT_COUNTRY_EVENT
					EVENT = china_events.109.t.from_china_refused_autonomy
				}
			}
		}
		hidden_effect = {
			FROM = { country_event = { id = china_events.109 days = 1 } } #MON/TIB/ETS: repeating event to exhaust options
		}
	}
}

country_event = { #MON/TIB/ETS: China accepts autonomy
	id = china_events.103
	title = china_events.103.t

	desc = {
		text = china_events.103.d.default
		trigger = { NOT = { has_event_target = refused_lands } }
	}
	desc = {
		text = china_events.103.d.kept_lands
		trigger = { has_event_target = refused_lands }
	}

	picture = GFX_report_event_TIB_army_3

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.103 option china_events.103.a"
		name = china_events.103.a
		hidden_effect = {
			every_subject_country = {
				get_current_government_type = yes
				FROM = {
					puppet = {
						target = PREV
						end_wars = no
					}
				}
				restore_previous_government_type = yes
			}
			get_current_government_type = yes
		}
		FROM = {
			set_autonomy = {
				target = PREV
				autonomy_state = chinese_suzerainty
				end_wars = yes
			}
		}
		hidden_effect = { restore_previous_government_type = yes }
	}
}

country_event = { #MON/TIB/ETS: China wants Han lands
	id = china_events.104
	title = china_events.104.t
	desc = china_events.104.d
	picture = GFX_report_event_TIB_army

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.104 option china_events.104.a"
		name = china_events.104.a #Yes
		effect_tooltip = {
			every_owned_state = {
				limit = { is_core_china = yes }
				transfer_state_to = FROM
			}
		}
		FROM = {
			effect_tooltip = {
				set_autonomy = {
					target = PREV
					autonomy_state = chinese_suzerainty
					end_wars = yes
				}
			}
			country_event = china_events.105 #China: FROM returns lands
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.104 option china_events.104.b"
		name = china_events.104.b #No
		save_event_target_as = refused_lands
		FROM = { country_event = { id = china_events.106 days = 1 } } #China: FROM refuses to return lands
	}
}

country_event = { #China: FROM returns lands
	id = china_events.105
	title = china_events.105.t
	desc = china_events.105.d
	picture = GFX_report_event_FNG_colonel

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.105 option china_events.105.a"
		name = china_events.105.a #Yes
		FROM = {
			every_owned_state = {
				limit = { is_core_china = yes }
				transfer_state_to = ROOT
			}
			hidden_effect = { get_current_government_type = yes }
		}
		set_autonomy = {
			target = FROM
			autonomy_state = chinese_suzerainty
			end_wars = yes
		}
		hidden_effect = {
			FROM = { restore_previous_government_type = yes }
		}
	}
}

country_event = { #China: FROM refuses to return lands
	id = china_events.106
	title = china_events.106.t
	desc = china_events.106.d
	picture = GFX_report_event_FNG_kempeitai

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.106 option china_events.106.a"
		name = china_events.106.a #Agree to autonomy
		effect_tooltip = {
			FROM = { every_subject_country = { ROOT = { puppet = PREV } } }
			set_autonomy = {
				target = FROM
				autonomy_state = chinese_suzerainty
				end_wars = yes
			}
		}
		FROM = { country_event = { id = china_events.103 days = 1 } } #MON/TIB/ETS: China accepts autonomy
	}

	option = {
		log = "[GetLogInfo]: event china_events.106 option china_events.106.b"
		name = china_events.106.b #Refuse
		if = {
			limit = {
				OR = {
					event_target:target_country = { china_russia_can_protect_country = yes }
					event_target:target_country = { china_india_can_protect_country = yes }
				}
			}
			custom_effect_tooltip = china_from_may_seek_foreign_protection
		}
		save_event_target_as = refused_lands
		save_event_target_as = refused_autonomy
		FROM = {
			custom_override_tooltip = {
				tooltip = {
					localization_key = EFFECT_COUNTRY_EVENT
					EVENT = china_events.109.t.from_china_refused_both
				}
				country_event = { id = china_events.109 days = 1 }
			}
		}
	}
}

country_event = { #China: FROM offers Han lands in exchange for independence
	id = china_events.107
	title = china_events.107.t
	desc = china_events.107.d
	picture = GFX_report_event_ETS_founding_nation

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.107 option china_events.107.a"
		name = china_events.107.a #Agree
		effect_tooltip = {
			FROM = {
				every_owned_state = {
					limit = { is_core_china = yes }
					transfer_state_to = ROOT
				}
			}
			set_truce = { target = ROOT days = 1095 }
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
			}
		}
		FROM = { country_event = { id = china_events.108 days = 1 } } #MON/TIB/ETS: Lands for independence
	}

	option = {
		log = "[GetLogInfo]: event china_events.107 option china_events.107.b"
		name = china_events.107.b #Refuse
		if = {
			limit = {
				OR = {
					event_target:target_country = { china_russia_can_protect_country = yes }
					event_target:target_country = { china_india_can_protect_country = yes }
				}
			}
			custom_effect_tooltip = china_from_may_seek_foreign_protection
		}
		save_event_target_as = refused_lands
		if = {
			limit = { has_event_target = refused_autonomy }
			FROM = {
				custom_effect_tooltip = {
					localization_key = EFFECT_COUNTRY_EVENT
					EVENT = china_events.109.t.from_china_refused_both
				}
			}
		}
		else = {
			FROM = { #MON/TIB/ETS: repeating event to exhaust options
				custom_effect_tooltip = {
					localization_key = EFFECT_COUNTRY_EVENT
					EVENT = china_events.109.t.from_china_refused_lands
				}
			}
		}
		hidden_effect = {
			FROM = { country_event = { id = china_events.109 days = 1 } } #MON/TIB/ETS: repeating event to exhaust options
		}
	}
}

country_event = { #MON/TIB/ETS: Lands for independence
	id = china_events.108
	title = china_events.108.t
	desc = china_events.108.d
	picture = GFX_report_event_ETS_declaration

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.108 option china_events.108.a"
		name = china_events.108.a
		every_owned_state = {
			limit = { is_core_china = yes }
			transfer_state_to = FROM
		}
		set_truce = { target = ROOT days = 1095 }
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
		}
	}
}

country_event = { #MON/TIB/ETS: repeating event to exhaust options
	id = china_events.109

	title = {
		text = china_events.109.t.from_russia
		trigger = { FROM = { tag = event_target:russia } }
	}
	title = {
		text = china_events.109.t.from_india
		trigger = { FROM = { tag = event_target:india } }
	}
	title = {
		text = china_events.109.t.from_china_refused_autonomy
		trigger = {
			FROM = {
				NOT = { tag = event_target:russia }
				NOT = { tag = event_target:india }
			}
			has_event_target = refused_autonomy
			NOT = { has_event_target = refused_lands }
		}
	}
	title = {
		text = china_events.109.t.from_china_refused_lands
		trigger = {
			FROM = {
				NOT = { tag = event_target:russia }
				NOT = { tag = event_target:india }
			}
			has_event_target = refused_lands
			NOT = { has_event_target = refused_autonomy }
		}
	}
	title = {
		text = china_events.109.t.from_china_refused_both
		trigger = {
			FROM = {
				NOT = { tag = event_target:russia }
				NOT = { tag = event_target:india }
			}
			has_event_target = refused_autonomy
			has_event_target = refused_lands
		}
	}

	desc = {
		text = china_events.109.d.from_russia
		trigger = { FROM = { tag = event_target:russia } }
	}
	desc = {
		text = china_events.109.d.from_india
		trigger = { FROM = { tag = event_target:india } }
	}
	desc = {
		text = china_events.109.d.from_china_refused_autonomy
		trigger = {
			FROM = {
				NOT = { tag = event_target:russia }
				NOT = { tag = event_target:india }
			}
			has_event_target = refused_autonomy
			NOT = { has_event_target = refused_lands }
		}
	}
	desc = {
		text = china_events.109.d.from_china_refused_lands
		trigger = {
			FROM = {
				NOT = { tag = event_target:russia }
				NOT = { tag = event_target:india }
			}
			has_event_target = refused_lands
			NOT = { has_event_target = refused_autonomy }
		}
	}
	desc = {
		text = china_events.109.d.from_china_refused_both
		trigger = {
			FROM = {
				NOT = { tag = event_target:russia }
				NOT = { tag = event_target:india }
			}
			has_event_target = refused_autonomy
			has_event_target = refused_lands
		}
	}

	picture = GFX_report_event_MON_army2

	is_triggered_only = yes

	trigger = {
		NOT = { has_war_with = event_target:china }
	}

	option = {
		log = "[GetLogInfo]: event china_events.109 option china_events.109.a"
		name = china_events.109.a #Surrender
		ai_chance = { base = 0 }
		event_target:china = { country_event = { id = china_events.101 days = 1 } } #China: FROM surrenders
		custom_effect_tooltip = GAME_OVER_TT
		effect_tooltip = {
			event_target:china = {
				annex_country = {
					target = ROOT
					transfer_troops = no
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.109 option china_events.109.b"
		name = china_events.109.b #Autonomy in exchange
		trigger = {
			NOT = { has_event_target = refused_autonomy }
		}
		event_target:china = { country_event = { id = china_events.102 days = 1 } } #China: FROM demands autonomy
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			every_subject_country = {
				event_target:china = { puppet = PREV }
			}
			event_target:china = {
				set_autonomy = {
					target = ROOT
					autonomy_state = chinese_suzerainty
					end_wars = yes
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.109 option china_events.109.c"
		name = china_events.109.c #Lands in exchange for independence
		trigger = {
			has_event_target = can_give_away_lands
			NOT = { has_event_target = refused_lands }
		}
		event_target:china = { country_event = { id = china_events.107 days = 1 } } #China: FROM offers Han lands in exchange for independence
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			every_owned_state = {
				limit = { is_core_china = yes }
				transfer_state_to = event_target:china
			}
			set_truce = { target = event_target:china days = 1095 }
			diplomatic_relation = {
				country = event_target:china
				relation = non_aggression_pact
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.109 option china_events.109.d"
		name = china_events.109.d #Ask Russia for protection
		trigger = {
			NOT = { has_event_target = refused_russia }
			has_event_target = russia
			OR = {
				china_russia_can_protect_country = yes
				event_target:russia = { has_guaranteed = ROOT }
			}
		}
		event_target:russia = { country_event = { id = china_events.110 days = 1 } } #RUS/HND/RAJ/PRF: FROM asks for protection against China
		if = {
			limit = {
				has_socialist_government = no
				event_target:russia = { has_socialist_government = yes }
			}
			custom_effect_tooltip = china_country_may_demand_regime_change
		}
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			if = {
				limit = { event_target:russia = { is_in_faction = yes } }
				var:event_target:russia.faction_leader = { add_to_faction = ROOT }
			}
			else = {
				event_target:russia = {
					give_guarantee = ROOT
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
					}
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.109 option china_events.109.e"
		name = china_events.109.e #Ask India for protection
		trigger = {
			NOT = { has_event_target = refused_india }
			has_event_target = india
			OR = {
				china_india_can_protect_country = yes
				event_target:india = { has_guaranteed = ROOT }
			}
		}
		event_target:india = { country_event = { id = china_events.110 days = 1 } } #RUS/HND/RAJ/PRF: FROM asks for protection against China
		if = {
			limit = {
				has_socialist_government = no
				event_target:russia = { has_socialist_government = yes }
			}
			custom_effect_tooltip = china_country_may_demand_regime_change
		}
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			if = {
				limit = { event_target:india = { is_in_faction = yes } }
				var:event_target:india.faction_leader = { add_to_faction = ROOT }
			}
			else = {
				event_target:india = {
					give_guarantee = ROOT
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
					}
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.109 option china_events.109.f"
		name = china_events.109.f #Refuse
		event_target:china = {
			effect_tooltip = {
				create_wargoal = {
					target = ROOT
					type = annex_everything
				}
			}
			country_event = china_events.118 #China: FROM refuses annexation
		}
	}
}

country_event = { #RUS/HND/RAJ/PRF: FROM asks for protection against China
	id = china_events.110
	title = china_events.110.t
	picture = GFX_report_event_SIK_uyghur_family
	desc = {
		text = china_events.110.d.russia_already_guaranteed
		trigger = {
			has_guaranteed = FROM
			is_russian_tag = yes
		}
	}
	desc = {
		text = china_events.110.d.russia
		trigger = {
			NOT = { has_guaranteed = FROM }
			is_russian_tag = yes
		}
	}
	desc = {
		text = china_events.110.d.india_already_guaranteed
		trigger = {
			has_guaranteed = FROM
			is_russian_tag = no
		}
	}
	desc = {
		text = china_events.110.d.india
		trigger = {
			NOT = { has_guaranteed = FROM }
			is_russian_tag = no
		}
	}

	trigger = {
		NOT = { has_war_with = FROM }
		NOT = { FROM = { has_war_with = event_target:china } }
	}

	is_triggered_only = yes

	option = { #Yes
		log = "[GetLogInfo]: event china_events.110 option china_events.110.a"
		name = china_events.110.a
		trigger = {
			NOT = {
				AND = {
					has_socialist_government = no
					FROM = { has_socialist_government = yes }
				}
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_war_with_major = yes
					AND = {
						OR = {
							is_russian_tag = yes
							is_ally_with = RUS
							is_ally_with = INT
						}
						country_exists = GER
					}
					AND = {
						OR = {
							is_ally_with = ENT
							is_ally_with = GER
						}
						country_exists = INT
					}
				}
			}
		}
		effect_tooltip = {
			if = {
				limit = { is_in_faction = yes }
				faction_leader = { add_to_faction = FROM }
			}
			else = {
				give_guarantee = FROM
				diplomatic_relation = {
					country = FROM
					relation = non_aggression_pact
				}
			}
		}
		FROM = { country_event = { id = china_events.111 days = 1 } } #MON/TIB/ETS: FROM agrees to protect us against China
	}

	option = { #Demand regime change
		log = "[GetLogInfo]: event china_events.110 option china_events.110.b"
		name = china_events.110.b
		trigger = {
			has_socialist_government = yes
			FROM = { has_socialist_government = no }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_war_with_major = yes
					AND = {
						OR = {
							is_russian_tag = yes
							is_ally_with = RUS
							is_ally_with = INT
						}
						country_exists = GER
					}
					AND = {
						OR = {
							is_ally_with = ENT
							is_ally_with = GER
						}
						country_exists = INT
					}
				}
			}
		}
		FROM = { country_event = { id = china_events.115 days = 1 } } #MON/TIB/ETS: FROM wants regime change in exchange for protection
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = { puppet = FROM }
	}

	option = { #No
		log = "[GetLogInfo]: event china_events.110 option china_events.110.c"
		name = china_events.110.c
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				OR = {
					has_war_with_major = yes
					AND = {
						OR = {
							is_russian_tag = yes
							is_ally_with = RUS
							is_ally_with = INT
						}
						country_exists = GER
					}
					AND = {
						OR = {
							is_ally_with = ENT
							is_ally_with = GER
						}
						country_exists = INT
					}
				}
			}
		}
		if = {
			limit = { has_guaranteed = FROM }
			diplomatic_relation = {
				country = FROM
				relation = guarantee
				active = no
			}
		}
		if = {
			limit = { has_military_access_to = FROM }
			diplomatic_relation = {
				country = FROM
				relation = military_access
				active = no
			}
		}
		if = {
			limit = { is_russian_tag = yes }
			save_event_target_as = refused_russia
			FROM = {
				custom_effect_tooltip = {
					localization_key = EFFECT_COUNTRY_EVENT
					EVENT = china_events.109.t.from_russia
				}
			}
		}
		else = {
			save_event_target_as = refused_india
			FROM = {
				custom_effect_tooltip = {
					localization_key = EFFECT_COUNTRY_EVENT
					EVENT = china_events.109.t.from_india
				}
			}
		}
		hidden_effect = {
			FROM = { country_event = { id = china_events.109 days = 1 } } #MON/TIB/ETS: repeating event to exhaust options
		}
	}
}

country_event = { #MON/TIB/ETS: FROM agrees to protect us against China
	id = china_events.111
	title = china_events.111.t
	picture = GFX_report_event_SIK_mongols
	desc = {
		text = china_events.111.d.russia
		trigger = { FROM = { is_russian_tag = yes } }
	}
	desc = {
		text = china_events.111.d.india
		trigger = { FROM = { is_russian_tag = no } }
	}

	trigger = {
		NOT = { has_war_with = FROM }
		NOT = { has_war_with = event_target:china }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.111 option china_events.111.a"
		name = china_events.111.a #Yes
		FROM = {
			if = {
				limit = { is_in_faction = yes }
				faction_leader = { add_to_faction = ROOT }
			}
			else = {
				give_guarantee = ROOT
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
				}
			}
		}
		event_target:china = { country_event = { id = china_events.112 days = 1 } } #China: Russia/India protects FROM
	}
}

country_event = { #China: Russia/India protects FROM
	id = china_events.112
	title = china_events.112.t
	picture = GFX_report_event_RUS_army4
	desc = {
		text = china_events.112.d.russia
		trigger = { FROM.FROM = { is_russian_tag = yes } }
	}
	desc = {
		text = china_events.112.d.india
		trigger = { FROM.FROM = { is_russian_tag = no } }
	}

	trigger = {
		NOT = { has_war_with = FROM }
		NOT = { has_war_with = FROM.FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.112 option china_events.112.a"
		name = china_events.112.a #Back down
		FROM = {
			effect_tooltip = {
				set_truce = { target = ROOT days = 1095 }
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
				}
			}
			country_event = china_events.113 #MON/ETS/TIB/RUS/HND/RAJ/PRF: China backs down
		}
		FROM.FROM = {
			effect_tooltip = {
				set_truce = { target = ROOT days = 1095 }
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
				}
			}
			country_event = china_events.113 #MON/ETS/TIB/RUS/HND/RAJ/PRF: China backs down
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.112 option china_events.112.b"
		name = china_events.112.b #War
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
		FROM = { country_event = { id = china_events.114 days = 1 } } #MON/ETS/TIB/RUS/HND/RAJ/PRF: China prepares for war
		FROM.FROM = { country_event = { id = china_events.114 days = 1 } } #MON/ETS/TIB/RUS/HND/RAJ/PRF: China prepares for war
	}
}

country_event = { #MON/ETS/TIB/RUS/HND/RAJ/PRF: China backs down
	id = china_events.113
	title = china_events.113.t
	desc = china_events.113.d
	picture = GFX_report_event_HND_soldiers
	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.113 option china_events.113.a"
		name = china_events.113.a
		add_political_power = 25
		set_truce = { target = FROM days = 1095 }
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
		}
	}
}

country_event = { #MON/ETS/TIB/RUS/HND/RAJ/PRF: China prepares for war
	id = china_events.114
	title = china_events.114.t
	desc = china_events.114.d
	picture = GFX_report_event_QIE_imperial_guard
	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.114 option china_events.114.a"
		name = china_events.114.a
		effect_tooltip = {
			event_target:china = {
				create_wargoal = {
					target = event_target:target_country
					type = annex_everything
				}
			}
		}
	}
}

country_event = { #MON/TIB/ETS: FROM wants regime change in exchange for protection
	id = china_events.115
	title = china_events.115.t
	picture = GFX_report_event_ETS_declaration
	desc = {
		text = china_events.115.d.russia
		trigger = { FROM = { is_russian_tag = yes } }
	}
	desc = {
		text = china_events.115.d.india
		trigger = { FROM = { is_russian_tag = no } }
	}

	trigger = {
		NOT = { has_war_with = FROM }
		NOT = { has_war_with = event_target:china }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.115 option china_events.115.a"
		name = china_events.115.a #Yes
		FROM = {
			puppet = {
				target = ROOT
				end_wars = no
			}
			country_event = china_events.116 #RUS/HND/RAJ/PRF: FROM accepts regime change
		}
		event_target:china = { country_event = { id = china_events.112 days = 1 } } #China: Russia/India protects FROM
	}

	option = {
		log = "[GetLogInfo]: event china_events.115 option china_events.115.b"
		name = china_events.115.b #No
		if = {
			limit = { FROM = { is_russian_tag = yes } }
			save_event_target_as = refused_russia
		}
		else = {
			save_event_target_as = refused_india
		}
		FROM = { country_event = { id = china_events.117 days = 1 } } #RUS/HND/RAJ/PRF: FROM refuses regime change
	}
}

country_event = { #RUS/HND/RAJ/PRF: FROM accepts regime change
	id = china_events.116
	title = china_events.116.t
	desc = china_events.116.d
	picture = GFX_report_event_SIK_town
	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.116 option china_events.116.a"
		name = china_events.116.a
		effect_tooltip = { puppet = FROM }
	}
}

country_event = { #RUS/HND/RAJ/PRF: FROM refuses regime change
	id = china_events.117
	title = china_events.117.t
	desc = china_events.117.d
	picture = GFX_report_event_KUM_silk_gate
	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.117 option china_events.117.a"
		name = china_events.117.a
		if = {
			limit = { is_russian_tag = yes }
			save_event_target_as = refused_russia
		}
		else = {
			save_event_target_as = refused_india
		}
		if = {
			limit = { has_guaranteed = FROM }
			diplomatic_relation = {
				country = FROM
				relation = guarantee
				active = no
			}
		}
		if = {
			limit = { has_military_access_to = FROM }
			diplomatic_relation = {
				country = FROM
				relation = military_access
				active = no
			}
		}
		FROM = { country_event = { id = china_events.109 days = 1 } } #MON/TIB/ETS: repeating event to exhaust options
	}
}

country_event = { #China: FROM refuses annexation
	id = china_events.118
	title = china_events.118.t
	desc = china_events.118.d
	picture = GFX_report_event_KUM_kumul_rebellion
	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.118 option china_events.118.a"
		name = china_events.118.a
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
	}
}

country_event = { #Overlord/faction leader of MON/TIB/ETS: China demands annexation of FROM
	id = china_events.119
	title = china_events.119.t
	picture = GFX_report_event_QIE_american_merc_trainer
	desc = {
		text = china_events.119.d.faction_leader_can_give_lands
		trigger = {
			is_faction_leader = yes
			has_event_target = can_give_away_lands
		}
	}
	desc = {
		text = china_events.119.d.faction_leader_default
		trigger = {
			is_faction_leader = yes
			NOT = { has_event_target = can_give_away_lands }
		}
	}
	desc = {
		text = china_events.119.d.overlord_not_in_faction_can_give_lands
		trigger = {
			is_in_faction = yes
			is_faction_leader = no
			has_event_target = can_give_away_lands
		}
	}
	desc = {
		text = china_events.119.d.overlord_not_in_faction
		trigger = {
			is_in_faction = yes
			is_faction_leader = no
			NOT = { has_event_target = can_give_away_lands }
		}
	}
	desc = {
		text = china_events.119.d.overlord_in_faction_can_give_lands
		trigger = {
			is_in_faction = no
			has_event_target = can_give_away_lands
		}
	}
	desc = {
		text = china_events.119.d.overlord_in_faction
		trigger = {
			is_in_faction = no
			NOT = { has_event_target = can_give_away_lands }
		}
	}

	trigger = {
		NOT = { has_war_with = event_target:china }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.119 option china_events.119.a"
		name = china_events.119.a #Protect
		trigger = {
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
		}
		FROM = { country_event = { id = china_events.120 days = 1 } } #MON/TIB/ETS: Faction leader protects us
	}

	option = {
		log = "[GetLogInfo]: event china_events.119 option china_events.119.b"
		name = china_events.119.b #Overlord in faction: ask faction leader for support
		trigger = {
			is_in_faction = yes
			is_faction_leader = no
		}
		faction_leader = { country_event = { id = china_events.124 days = 1 } } #Faction leader of MON/ETS/TIB overlord: FROM asks for support
	}

	option = {
		log = "[GetLogInfo]: event china_events.119 option china_events.119.c"
		name = china_events.119.c #Compromise: lands for independence
		trigger = {
			has_event_target = can_give_away_lands
		}
		FROM = { country_event = { id = china_events.128 days = 1 } } #MON/ETS/TIB: Overlord/faction leader asks to compromise
	}

	option = {
		log = "[GetLogInfo]: event china_events.119 option china_events.119.d"
		name = china_events.119.d #Abandon
		FROM = {
			effect_tooltip = { remove_puppet_and_leave_faction = yes }
			country_event = china_events.135 #MON/TIB/ETS: Faction leader/overlord abandons country
		}
	}
}

country_event = { #MON/TIB/ETS: Faction leader protects us
	id = china_events.120
	title = china_events.120.t
	picture = GFX_report_event_RUS_speech
	desc = {
		text = china_events.120.d.default
		trigger = { NOT = { has_event_target = refused_lands } }
	}
	desc = {
		text = china_events.120.d.refused_lands
		trigger = { has_event_target = refused_lands }
	}

	trigger = {
		NOT = { has_war_with = event_target:china }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.120 option china_events.120.a"
		name = china_events.120.a
		event_target:china = { country_event = { id = china_events.121 days = 1 } } #China: Overlord/faction leader protects FROM
	}
}

country_event = { #China: Overlord/faction leader protects FROM
	id = china_events.121
	title = china_events.121.t
	picture = GFX_report_event_RUS_cossacks_3
	desc = {
		text = china_events.121.d.overlord
		trigger = {
			FROM = {
				is_subject = yes
				overlord = { is_in_faction = no }
			}
			NOT = { has_event_target = refused_to_protect_ally }
			NOT = { has_event_target = refused_lands }
		}
	}
	desc = {
		text = china_events.121.d.overlord_refused_lands
		trigger = {
			FROM = {
				is_subject = yes
				overlord = { is_in_faction = no }
			}
			NOT = { has_event_target = refused_to_protect_ally }
			has_event_target = refused_lands
		}
	}
	desc = {
		text = china_events.121.d.overlord_abandoned_by_allies
		trigger = {
			FROM = {
				is_subject = yes
				overlord = { is_in_faction = no }
			}
			has_event_target = refused_to_protect_ally
			NOT = { has_event_target = refused_lands }
		}
	}
	desc = {
		text = china_events.121.d.overlord_refused_lands_abandoned_by_allies
		trigger = {
			FROM = {
				is_subject = yes
				overlord = { is_in_faction = no }
			}
			has_event_target = refused_to_protect_ally
			has_event_target = refused_lands
		}
	}
	desc = {
		text = china_events.121.d.overlord_and_allies
		trigger = {
			FROM = {
				is_subject = yes
				overlord = { is_in_faction = yes }
			}
			NOT = { has_event_target = refused_lands }
		}
	}
	desc = {
		text = china_events.121.d.overlord_and_allies_refused_lands
		trigger = {
			FROM = {
				is_subject = yes
				overlord = { is_in_faction = yes }
			}
			has_event_target = refused_lands
		}
	}
	desc = {
		text = china_events.121.d.faction
		trigger = {
			FROM = { is_subject = no }
			NOT = { has_event_target = refused_lands }
		}
	}
	desc = {
		text = china_events.121.d.faction_refused_lands
		trigger = {
			FROM = { is_subject = no }
			NOT = { has_event_target = refused_lands }
		}
	}

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.121 option china_events.121.a"
		name = china_events.121.a #Back down
		FROM = {
			effect_tooltip = {
				set_truce = { target = ROOT days = 1095 }
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
				}
			}
			country_event = china_events.122 #MON/ETS/TIB and allies: China backs down
		}
		if = {
			limit = {
				FROM = {
					is_subject = yes
					overlord = { is_faction_leader = no }
				}
			}
			var:FROM.overlord = {
				effect_tooltip = {
					set_truce = { target = ROOT days = 1095 }
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
					}
				}
				country_event = china_events.122 #MON/ETS/TIB and allies: China backs down
			}
		}
		if = {
			limit = { FROM = { is_in_faction = yes } }
			var:FROM.faction_leader = {
				effect_tooltip = {
					set_truce = { target = ROOT days = 1095 }
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
					}
				}
				country_event = china_events.122 #MON/ETS/TIB and allies: China backs down
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.121 option china_events.121.b"
		name = china_events.121.b #War
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
		every_other_country = {
			limit = { is_ally_with = FROM }
			country_event = china_events.123 #MON/ETS/TIB and allies: China prepares for war
		}
	}
}

country_event = { #MON/ETS/TIB and allies: China backs down
	id = china_events.122
	title = china_events.122.t
	desc = china_events.122.d
	picture = GFX_report_event_RUS_partisans2
	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.122 option china_events.122.a"
		name = china_events.122.a
		add_political_power = 25
		set_truce = { target = FROM days = 1095 }
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
		}
	}
}

country_event = { #MON/ETS/TIB and allies: China prepares for war
	id = china_events.123
	title = china_events.123.t
	desc = china_events.123.d
	picture = GFX_report_event_CHN_interruption
	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.123 option china_events.123.a"
		name = china_events.123.a
		effect_tooltip = {
			FROM = {
				create_wargoal = {
					target = FROM.FROM
					type = annex_everything
				}
			}
		}
	}
}

country_event = { #Faction leader of MON/ETS/TIB overlord: FROM asks for support
	id = china_events.124
	title = china_events.124.t
	desc = china_events.124.d
	picture = GFX_report_event_SIK_sheng_baby
	trigger = {
		NOT = { FROM = { has_war_with = event_target:china } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.124 option china_events.124.a"
		name = china_events.124.a #Yes
		FROM = { country_event = { id = china_events.125 days = 1 } } #Overlord of MON/ETS/TIB: FROM supports us
	}

	option = {
		log = "[GetLogInfo]: event china_events.124 option china_events.124.b"
		name = china_events.124.b #No
		save_event_target_as = refused_to_protect_ally
		FROM = { country_event = { id = china_events.126 days = 1 } } #Overlord of MON/ETS/TIB: FROM won't support us
	}
}

country_event = { #Overlord of MON/ETS/TIB: FROM supports us
	id = china_events.125
	title = china_events.125.t
	desc = china_events.125.d
	picture = GFX_report_event_HND_calcutta
	trigger = {
		NOT = { has_war_with = event_target:china }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.125 option china_events.125.a"
		name = china_events.125.a
		FROM.FROM = { country_event = { id = china_events.120 days = 1 } } #MON/TIB/ETS: Faction leader protects us
	}
}

country_event = { #Overlord of MON/ETS/TIB: FROM won't support us
	id = china_events.126
	title = china_events.126.t
	desc = china_events.126.d
	picture = GFX_report_event_FNG_kempeitai
	trigger = {
		NOT = { has_war_with = event_target:china }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.126 option china_events.126.a"
		name = china_events.126.a #Protect regardless
		faction_leader = { country_event = { id = china_events.127 days = 1 } } #Faction leader of MON/ETS/TIB overlord: FROM left faction over refusal to support them
		leave_faction = yes
		peace_out_non_neighbours_after_leaving_faction = yes
		event_target:target_country = { country_event = { id = china_events.120 days = 1 } } #MON/TIB/ETS: Faction leader protects us
	}

	option = {
		log = "[GetLogInfo]: event china_events.126 option china_events.126.b"
		name = china_events.126.b #Offer compromise
		trigger = {
			has_event_target = can_give_away_lands
		}
		event_target:target_country = { country_event = { id = china_events.128 days = 1 } } #MON/ETS/TIB: Overlord/faction leader asks to compromise
	}

	option = {
		log = "[GetLogInfo]: event china_events.126 option china_events.126.c"
		name = china_events.126.c #Abandon
		event_target:target_country = {
			effect_tooltip = { remove_puppet_and_leave_faction = yes }
			country_event = china_events.135 #MON/TIB/ETS: Faction leader/overlord abandons country
		}
	}
}

country_event = { #Faction leader of MON/ETS/TIB overlord: FROM left faction over refusal to support them
	id = china_events.127
	title = china_events.127.t
	desc = china_events.127.d
	picture = GFX_report_event_MON_mongols
	trigger = {
		NOT = { FROM = { has_war_with = event_target:china } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.127 option china_events.127.a"
		name = china_events.127.a
		reverse_add_opinion_modifier = {
			target = FROM
			modifier = KR_outraged
		}
	}
}

country_event = { #MON/ETS/TIB: Overlord/faction leader asks to compromise
	id = china_events.128
	title = china_events.128.t
	picture = GFX_report_event_HND_leaders
	desc = {
		text = china_events.128.d.puppet
		trigger = { is_subject = yes }
	}
	desc = {
		text = china_events.128.d.not_puppet
		trigger = { is_subject = no }
	}

	trigger = {
		NOT = { has_war_with = event_target:china }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.128 option china_events.128.a"
		name = china_events.128.a #No choice
		trigger = { is_subject = yes }
		event_target:china = { country_event = { id = china_events.131 days = 1 } } #China: Allies of MON/TIB/ETS offer compromise
	}

	option = {
		log = "[GetLogInfo]: event china_events.128 option china_events.128.b"
		name = china_events.128.b #Yes
		trigger = { is_subject = no }
		FROM = { country_event = { id = china_events.129 days = 1 } } #Faction leader of MON/TIB/ETS: Country agrees to offer compromise
	}

	option = {
		log = "[GetLogInfo]: event china_events.128 option china_events.128.c"
		name = china_events.128.c #No
		trigger = { is_subject = no }
		FROM = { country_event = { id = china_events.130 days = 1 } } #Faction leader of MON/TIB/ETS: Country refuses to offer compromise
	}
}

country_event = { #Faction leader of MON/TIB/ETS: Country agrees to offer compromise
	id = china_events.129
	title = china_events.129.t
	desc = china_events.129.d
	picture = GFX_report_event_CHN_official_announcement
	trigger = {
		NOT = { has_war_with = event_target:china }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.129 option china_events.129.a"
		name = china_events.129.a
		event_target:china = { country_event = { id = china_events.131 days = 1 } } #China: Allies of MON/TIB/ETS offer compromise
	}
}

country_event = { #Faction leader of MON/TIB/ETS: Country refuses to offer compromise
	id = china_events.130
	title = china_events.130.t
	desc = china_events.130.d
	picture = GFX_report_event_CHN_riot
	trigger = {
		NOT = { has_war_with = event_target:china }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.130 option china_events.130.a"
		name = china_events.130.a #Protect
		FROM = { country_event = { id = china_events.120 days = 1 } } #MON/TIB/ETS: Faction leader protects us
	}

	option = {
		log = "[GetLogInfo]: event china_events.130 option china_events.130.b"
		name = china_events.130.b #Abandon
		effect_tooltip = { remove_from_faction = FROM }
		FROM = { country_event = { id = china_events.135 days = 1 } } #MON/TIB/ETS: Faction leader/overlord abandons country
	}
}

country_event = { #China: Allies of MON/TIB/ETS offer compromise
	id = china_events.131
	title = china_events.131.t
	picture = GFX_report_event_SIK_uyghurs
	desc = {
		text = china_events.131.d.puppet
		trigger = { event_target:target_country = { is_subject = yes } }
	}
	desc = {
		text = china_events.131.d.not_puppet
		trigger = { event_target:target_country = { is_subject = no } }
	}

	trigger = {
		NOT = { has_war_with = FROM }
		NOT = { has_war_with = event_target:target_country }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.131 option china_events.131.a"
		name = china_events.131.a #Agree
		event_target:target_country = {
			country_event = china_events.132 #MON/TIB/ETS and allies: China accepts compromise
			effect_tooltip = {
				every_owned_state = {
					limit = { is_core_china = yes }
					transfer_state_to = ROOT
				}
				set_truce = { target = ROOT days = 1095 }
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
				}
			}
		}
		if = {
			limit = {
				event_target:target_country = {
					is_subject = yes
					overlord = { is_faction_leader = no }
				}
			}
			var:event_target:target_country.overlord = {
				country_event = china_events.132 #MON/TIB/ETS and allies: China accepts compromise
				effect_tooltip = {
					set_truce = { target = ROOT days = 1095 }
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
					}
				}
			}
		}
		if = {
			limit = {
				event_target:target_country = { is_in_faction = yes }
			}
			var:event_target:target_country.faction_leader = {
				country_event = china_events.132 #MON/TIB/ETS and allies: China accepts compromise
				effect_tooltip = {
					set_truce = { target = ROOT days = 1095 }
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
					}
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.131 option china_events.131.b"
		name = china_events.131.b #Refuse
		save_event_target_as = refused_lands
		event_target:target_country = { country_event = { id = china_events.133 days = 1 } } #MON/TIB/ETS: China refuses compromise
		effect_tooltip = {
			if = {
				limit = { event_target:target_country = { is_subject = yes } }
				var:event_target:target_country.overlord = { country_event = { id = china_events.134 days = 1 } } #Faction leader/overlord of MON/TIB/ETS: China refuses compromise
			}
			else = {
				var:event_target:target_country.faction_leader = { country_event = { id = china_events.134 days = 1 } } #Faction leader/overlord of MON/TIB/ETS: China refuses compromise
			}
		}
	}
}

country_event = { #MON/TIB/ETS and allies: China accepts compromise
	id = china_events.132
	title = china_events.132.t
	picture = GFX_report_event_CHN_official_announcement
	desc = {
		text = china_events.132.d.target
		trigger = { tag = event_target:target_country }
	}
	desc = {
		text = china_events.132.d.faction_leader_abandoned_ally
		trigger = { tag = event_target:refused_to_protect_ally }
	}
	desc = {
		text = china_events.132.d.other_allies
		trigger = {
			NOT = { tag = event_target:target_country }
			NOT = { tag = event_target:refused_to_protect_ally }
		}
	}

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.132 option china_events.132.a"
		name = china_events.132.a
		trigger = { tag = event_target:target_country }
		every_owned_state = {
			limit = { is_core_china = yes }
			transfer_state_to = FROM
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.132 option china_events.132.b"
		name = china_events.132.b
		trigger = { tag = event_target:refused_to_protect_ally }
	}

	option = {
		log = "[GetLogInfo]: event china_events.132 option china_events.132.c"
		name = china_events.132.c
		trigger = {
			has_subject = event_target:target_country
			has_event_target = refused_to_protect_ally
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.132 option china_events.132.d"
		name = china_events.132.d
		trigger = {
			NOT = {
				tag = event_target:target_country
				tag = event_target:refused_to_protect_ally
				AND = {
					has_subject = event_target:target_country
					has_event_target = refused_to_protect_ally
				}
			}
		}
	}

	after = {
		set_truce = { target = ROOT days = 1095 }
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
		}
	}
}

country_event = { #MON/TIB/ETS: China refuses compromise
	id = china_events.133
	title = china_events.133.t
	desc = china_events.133.d
	picture = GFX_report_event_CHN_interruption
	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.133 option china_events.133.a"
		name = china_events.133.a
		if = {
			limit = { event_target:target_country = { is_subject = yes } }
			var:event_target:target_country.overlord = { country_event = { id = china_events.134 days = 1 } } #Faction leader/overlord of MON/TIB/ETS: China refuses compromise
		}
		else = {
			var:event_target:target_country.faction_leader = { country_event = { id = china_events.134 days = 1 } } #Faction leader/overlord of MON/TIB/ETS: China refuses compromise
		}
	}
}

country_event = { #Faction leader/overlord of MON/TIB/ETS: China refuses compromise
	id = china_events.134
	title = china_events.134.t
	picture = GFX_report_event_LEP_march
	desc = {
		text = china_events.134.d.overlord_in_faction
		trigger = {
			is_in_faction = yes
			is_faction_leader = no
			NOT = { has_event_target = refused_to_protect_ally }
		}
	}
	desc = {
		text = china_events.134.d.overlord_refused_by_faction
		trigger = {
			is_in_faction = yes
			is_faction_leader = no
			has_event_target = refused_to_protect_ally
		}
	}
	desc = {
		text = china_events.134.d.faction_leader
		trigger = {
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
		}
	}

	trigger = {
		NOT = { has_war_with = event_target:china }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.134 option china_events.134.a"
		name = china_events.134.a #Ask faction leader for support
		trigger = {
			is_in_faction = yes
			is_faction_leader = no
			NOT = { has_event_target = refused_to_protect_ally }
		}
		faction_leader = { country_event = { id = china_events.124 days = 1 } } #Faction leader of MON/ETS/TIB overlord: FROM asks for support
	}

	option = {
		log = "[GetLogInfo]: event china_events.134 option china_events.134.b"
		name = china_events.134.b #Protect regardless
		trigger = {
			is_in_faction = yes
			is_faction_leader = no
			has_event_target = refused_to_protect_ally
		}
		faction_leader = { country_event = { id = china_events.127 days = 1 } } #Faction leader of MON/ETS/TIB overlord: FROM left faction over refusal to support them
		leave_faction = yes
		peace_out_non_neighbours_after_leaving_faction = yes
		event_target:target_country = { country_event = { id = china_events.120 days = 1 } } #China: Overlord/faction leader protects FROM
	}

	option = {
		log = "[GetLogInfo]: event china_events.134 option china_events.134.c"
		name = china_events.134.c #Protect
		trigger = {
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
		}
		event_target:target_country = { country_event = { id = china_events.120 days = 1 } } #China: Overlord/faction leader protects FROM
	}

	option = {
		log = "[GetLogInfo]: event china_events.134 option china_events.134.d"
		name = china_events.134.d #Abandon
		event_target:target_country = { country_event = { id = china_events.135 days = 1 } } #MON/TIB/ETS: Faction leader/overlord abandons country
	}
}

country_event = { #MON/TIB/ETS: Faction leader/overlord abandons country
	id = china_events.135
	title = china_events.135.t
	picture = GFX_report_event_RUS_riders
	desc = {
		text = china_events.135.d.abandoned_by_allies
		trigger = { is_subject = no }
	}
	desc = {
		text = china_events.135.d.abandoned_by_overlord_allies
		trigger = {
			is_subject = yes
			has_event_target = refused_to_protect_ally
		}
	}
	desc = {
		text = china_events.135.d.abandoned_by_overlord
		trigger = {
			is_subject = yes
			NOT = { has_event_target = refused_to_protect_ally }
		}
	}

	trigger = {
		NOT = { has_war_with = event_target:target_country }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.135 option china_events.135.a"
		name = china_events.135.a
		if = {
			limit = { is_subject = yes }
			save_event_target_as = abandoned_by_overlord
		}
		else = {
			save_event_target_as = abandoned_by_allies
		}
		remove_puppet_and_leave_faction = yes
		event_target:china = { country_event = { id = china_events.136 days = 1 } } #China: MON/TIB/ETS abandoned by allies
	}
}

country_event = { #China: MON/TIB/ETS abandoned by allies
	id = china_events.136
	title = china_events.136.t
	desc = china_events.136.d
	picture = GFX_report_event_RUS_siberia1
	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.136 option china_events.136.a"
		name = china_events.136.a
		FROM = { country_event = { id = china_events.100 days = 1 } } #MON/TIB/ETS: China demands our annexation
	}
}

##########################
### Autonomous Regions ###
##########################

country_event = { #Establishing a Mongolian Administration
	id = china_events.150
	title = china_events.150.t
	desc = china_events.150.d
	picture = GFX_report_event_SIK_mongols

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.150 option china_events.150.a" #Authorise the creation of an Outer Mongolian Autonomous Region only.
		name = china_events.150.a
		every_owned_state = {
			limit = { region = 152 } #Outer Mongolia
			if = {
				limit = { has_resistance = yes }
				add_compliance = 15
			}
			add_dynamic_modifier = {
				modifier = CHN_autonomous_region_modifier
				scope = THIS
			}
		}
		every_owned_state = {
			limit = {
				OR = {
					region = 222 #Inner Mongolia
					state = 610 #Rehe
					state = 715 #Liaobei
					state = 996 #Barga
				}
				has_resistance = yes
			}
			add_compliance = -5
			add_resistance = 5
		}
		hidden_effect = {
			every_state = {
				limit = {
					NOT = { is_owned_by = ROOT }
					OR = {
						region = 152 #Outer Mongolia
						region = 222 #Inner Mongolia
						state = 610 #Rehe
						state = 715 #Liaobei
						state = 996 #Barga
					}
				}
				ROOT = { activate_targeted_decision = { target = PREV decision = china_expand_autonomous_region } } #In case you acquire more territory. Broad in case you acquire inner Mongolia second.
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event china_events.150 option china_events.150.b" #Establish both an Inner and Outer Mongolian Autonomous Region.
		name = china_events.150.b
		trigger = {
			owns_any_state_of = {
				348 #Ningxia
				616 #Ordos
				621 #Guisui
				612 #Chahar
				610 #Rehe
				715 #Liaobei
				996 #Barga
			}
		}
		every_owned_state = {
			limit = {
				OR = {
					is_mongolia = yes
					state = 610 #Rehe
					state = 715 #Liaobei
					state = 996 #Barga
				}
			}
			if = {
				limit = { has_resistance = yes }
				add_compliance = 20
			}
			add_dynamic_modifier = {
				modifier = CHN_autonomous_region_modifier
				scope = THIS
			}
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							region = 152 #Outer Mongolia
							region = 222 #Inner Mongolia
							state = 610 #Rehe
							state = 715 #Liaobei
							state = 996 #Barga
						}
					}
					ROOT = { activate_targeted_decision = { target = PREV decision = china_expand_autonomous_region } } #In case you acquire more territory.
				}
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event china_events.150 option china_events.150.c" #Mongolia shall be reorganised into ordinary provinces.
		name = china_events.150.c
		add_political_power = -35
		every_owned_state = {
			limit = {
				region = 152 #Outer Mongolia
				has_resistance = yes
			}
			add_compliance = -10
			add_resistance = 25
		}
		every_owned_state = {
			limit = {
				OR = {
					region = 222 #Inner Mongolia
					state = 610 #Rehe
					state = 715 #Liaobei
					state = 996 #Barga
				}
				has_resistance = yes
			}
			add_compliance = -10
			add_resistance = 10
		}
	}
}

country_event = { #Establishing a Xinjiang Administration
	id = china_events.151
	title = china_events.151.t
	desc = china_events.151.d
	picture = GFX_report_event_SIK_bughra_army

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.151 option china_events.151.a" #Authorise the creation of a Xinjiang Autonomous Region.
		name = china_events.151.a
		every_owned_state = {
			limit = { is_xinjiang = yes }
			#It's a little easier to bring Xinjiang under control
			if = {
				limit = { has_resistance = yes }
				add_compliance = 20
			}
			add_dynamic_modifier = {
				modifier = CHN_autonomous_region_modifier
				scope = THIS
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					NOT = { is_owned_by = ROOT }
					is_xinjiang = yes
				}
				ROOT = { activate_targeted_decision = { target = PREV decision = china_expand_autonomous_region } } #In case you acquire more territory.
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event china_events.151 option china_events.151.b" #Xinjiang shall remain a province.
		name = china_events.151.b
		add_political_power = -25
		every_owned_state = {
			limit = {
				is_xinjiang = yes
				has_resistance = yes
			}
			add_resistance = 20
		}
	}
}

country_event = { #Establishing a Tibetan Administration
	id = china_events.152
	title = china_events.152.t
	desc = china_events.152.d
	picture = GFX_report_event_TIB_potala

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.152 option china_events.152.a" #Authorise the creation of an \"Outer\" Tibet Autonomous Region only.
		name = china_events.152.a
		every_owned_state = {
			limit = {
				is_tibet = yes
				NOT = { state = 353 } #Yushu
			}
			if = {
				limit = { has_resistance = yes }
				add_compliance = 10
			}
			add_dynamic_modifier = {
				modifier = CHN_autonomous_region_modifier
				scope = THIS
			}
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 353 #Yushu
					state = 604 #Babao
					state = 601 #Xikang
				}
				has_resistance = yes
			}
			add_compliance = -5
			add_resistance = 5
		}
		hidden_effect = {
			every_state = {
				limit = {
					NOT = { is_owned_by = ROOT }
					OR = {
						is_tibet = yes
						state = 604 #Babao
						state = 601 #Xikang
					}
				}
				ROOT = { activate_targeted_decision = { target = PREV decision = china_expand_autonomous_region } } #In case you acquire more territory. Broad in case you take inner Tibet and they are like "wait why don't I have an option to expand the autonomous zone?"
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event china_events.152 option china_events.152.b" #The Tibet Autonomous Region should be expanded to include \"Inner Tibet\".
		name = china_events.152.b
		trigger = {
			owns_any_state_of = {
				353 #Yushu
				604 #Babao
				601 #Xikang
			}
		}
		every_owned_state = {
			limit = {
				OR = {
					is_tibet = yes
					state = 353 #Yushu
					state = 604 #Babao
					state = 601 #Xikang
				}
			}
			if = {
				limit = { has_resistance = yes }
				add_compliance = 20
			}
			add_dynamic_modifier = {
				modifier = CHN_autonomous_region_modifier
				scope = THIS
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					NOT = { is_owned_by = ROOT }
					OR = {
						is_tibet = yes
						state = 604 #Babao
						state = 601 #Xikang
					}
				}
				ROOT = { activate_targeted_decision = { target = PREV decision = china_expand_autonomous_region } } #In case you acquire more territory.
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event china_events.152 option china_events.152.c" #Tibet shall be administered as a province.
		name = china_events.152.c
		add_political_power = -35
		every_owned_state = {
			limit = {
				is_tibet = yes
				has_resistance = yes
			}
			add_compliance = -10
			add_resistance = 25
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 353 #Yushu
					state = 604 #Babao
					state = 601 #Xikang
				}
				has_resistance = yes
			}
			add_compliance = -10
			add_resistance = 10
		}
	}
}

country_event = { #The Sino-Phile Coup
	id = china_events.153
	title = china_events.153.t
	desc = china_events.153.d

	picture = GFX_report_event_SIK_xinjiang_troops

	is_triggered_only = yes #Triggered by decision china_orchestrate_sinophile_coup

	option = {
		log = "[GetLogInfo]: event china_events.153 option china_events.153.a"
		name = china_events.153.a #We can do little but accept the inevitable.
		ai_chance = { base = 100 }
		add_stability = -0.25
		add_war_support = -0.25
		FROM = {
			effect_tooltip = {
				if = {
					limit = { ROOT = { tag = TIB } }
					TIB_puppet_setup = yes
				}
				else_if = {
					limit = { ROOT = { tag = MON } }
					MON_puppet_setup = yes
				}
				else_if = {
					limit = { ROOT = { tag = ETS } }
					ETS_puppet_setup = yes
				}
				else = {
					#KUM
					KUM_puppet_setup = yes
				}
			}
			country_event = { id = china_events.154 days = 3 } #Bloodless Coup in [FROM.Capital.GetCapitalVictoryPointName]
		}
	}
	option = {
		log = "[GetLogInfo]: event china_events.153 option china_events.153.b"
		name = china_events.153.b #Perhaps it is our moment to shine...
		ai_chance = { base = 0 }
		FROM = {
			set_autonomy = {
				target = ROOT
				autonomy_state = autonomy_free
			}
			effect_tooltip = {
				create_wargoal = {
					target = ROOT
					type = annex_everything
				}
			}
			country_event = { id = china_events.155 days = 3 } #Sinophile Coup in [FROM.Capital.GetCapitalVictoryPointName] Collapses
		}
	}
}

country_event = { #Bloodless Coup in [FROM.Capital.GetCapitalVictoryPointName]
	id = china_events.154
	title = china_events.154.t
	desc = china_events.154.d

	picture = GFX_report_event_generic_beijing_map

	is_triggered_only = yes #Triggered by [EVENT] china_events.153.a

	option = {
		log = "[GetLogInfo]: event china_events.154 option china_events.154.a"
		name = china_events.154.a #That settles the matter.
		FROM = {
			add_stability = -0.25
			add_war_support = -0.25
		}
		if = {
			limit = { FROM = { tag = TIB } }
			TIB_puppet_setup = yes
		}
		else_if = {
			limit = { FROM = { tag = MON } }
			MON_puppet_setup = yes
		}
		else_if = {
			limit = { FROM = { tag = ETS } }
			ETS_puppet_setup = yes
		}
		else = {
			#KUM
			KUM_puppet_setup = yes
		}
	}
}

country_event = { #Sinophile Coup in [FROM.Capital.GetCapitalVictoryPointName] Collapses
	id = china_events.155
	title = china_events.155.t
	desc = china_events.155.d

	picture = GFX_report_event_generic_beijing_map

	is_triggered_only = yes #Triggered by [EVENT] china_events.153.b

	option = {
		log = "[GetLogInfo]: event china_events.155 option china_events.155.a"
		name = china_events.155.a #It seems they would prefer to be a province after all...
		effect_tooltip = {
			set_autonomy = {
				target = FROM
				autonomy_state = autonomy_free
			}
		}
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
	}
}

################################
### DEALING WITH CONCESSIONS ###
################################

country_event = { #POR/AST/CAN/GEA/JAP: China wants return of concessions
	id = china_events.200
	title = china_events.200.t
	desc = china_events.200.desc
	picture = GFX_report_event_LEP_march

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { is_subject = no }
				set_variable = { china_concession_value = 50 }
				every_state = {
					limit = {
						is_possible_legation_cities_state = yes
						OR = {
							is_owned_by = ROOT
							owner = { is_subject_of = ROOT }
						}
					}
					add_to_variable = { ROOT.china_concession_value = 25 }
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.200 option china_events.200.a"
		name = china_events.200.a #Sure
		trigger = { is_subject = no }
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				original_tag = JAP
				is_major = yes
			}
			modifier = {
				factor = 0
				event_target:china = {
					is_in_faction = yes
					is_faction_leader = no
					NOT = { is_in_faction_with = CUF }
					NOT = { is_in_faction_with = ROOT }
				}
			}
			modifier = {
				factor = 0
				event_target:china = { both_socialist_or_both_not_socialist = no }
			}
			modifier = {
				factor = 5
				is_in_faction_with = event_target:china
			}
		}
		effect_tooltip = {
			set_temp_variable = { target = event_target:china }
			every_state = {
				limit = {
					OR = {
						AND = {
							is_owned_by = ROOT
							is_core_china = yes
						}
						AND = {
							OR = {
								is_owned_by = ROOT
								owner = { is_subject_of = ROOT }
							}
							is_possible_legation_cities_state = yes
						}
					}
				}
				transfer_state_during_war = yes
			}
		}
		event_target:china = { country_event = { id = china_events.201 days = 1 } }
		clear_variable = china_concession_value
	}

	option = {
		log = "[GetLogInfo]: event china_events.200 option china_events.200.b"
		name = china_events.200.b #Demand compensation
		trigger = { is_subject = no }
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				original_tag = JAP
				is_major = yes
			}
			modifier = {
				factor = 0
				has_socialist_government = yes
			}
			modifier = {
				factor = 0
				event_target:china = {
					is_in_faction = yes
					is_faction_leader = no
					NOT = { is_in_faction_with = CUF }
					NOT = { is_in_faction_with = ROOT }
				}
			}
			modifier = {
				factor = 0
				event_target:china = { both_socialist_or_both_not_socialist = no }
			}
		}
		event_target:china = { country_event = { id = china_events.202 days = 1 } }
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			add_political_power = var:ROOT.china_concession_value
			set_temp_variable = { target = event_target:china }
			every_state = {
				limit = {
					OR = {
						AND = {
							is_owned_by = ROOT
							is_core_china = yes
						}
						AND = {
							OR = {
								is_owned_by = ROOT
								owner = { is_subject_of = ROOT }
							}
							is_possible_legation_cities_state = yes
						}
					}
				}
				transfer_state_to = event_target:china
			}
			event_target:china = {
				if = {
					limit = { NOT = { ROOT = { tag = event_target:concession_holder } } }
					add_opinion_modifier = {
						target = event_target:concession_holder
						modifier = KR_approves_of_govt
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = KR_approves_of_govt
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.200 option china_events.200.c"
		name = china_events.200.c #Never
		trigger = { is_subject = no }
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				has_socialist_government = yes
			}
			modifier = {
				factor = 0
				is_in_faction_with = event_target:china
			}
		}
		event_target:china = {
			country_event = { id = china_events.205 days = 1 }
			custom_effect_tooltip = tooltip_white_line
			effect_tooltip = {
				if = {
					limit = { NOT = { ROOT = { tag = event_target:concession_holder } } }
					add_opinion_modifier = {
						target = event_target:concession_holder
						modifier = KR_outraged
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = KR_outraged
				}
				if = {
					limit = { can_declare_war_on = event_target:concession_holder }
					activate_targeted_decision = { decision = china_seize_concessions target = event_target:concession_holder }
				}
			}
		}
		clear_variable = china_concession_value
	}

	option = {
		log = "[GetLogInfo]: event china_events.200 option china_events.200.d"
		name = china_events.200.d #Notify overlord
		trigger = { is_subject = yes }
		overlord = { country_event = china_events.200 }
	}
}

country_event = { #China: FROM returns concessions
	id = china_events.201
	title = china_events.201.t
	desc = china_events.201.d
	picture = GFX_report_event_CHN_beijing_beiyang_flag

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.201 option china_events.201.a"
		name = china_events.201.a #Sure
		set_temp_variable = { target = ROOT }
		every_state = {
			limit = {
				OR = {
					AND = {
						is_owned_by = FROM
						is_core_china = yes
					}
					AND = {
						OR = {
							is_owned_by = FROM
							owner = { is_subject_of = FROM }
						}
						is_possible_legation_cities_state = yes
					}
				}
			}
			hidden_effect = {
				remove_claim_by = owner
				remove_claim_by = FROM
			}
			clear_variable = ambition_area_@var:owner
			clear_variable = ambition_area_@FROM
			transfer_state_during_war = yes
		}
		if = {
			limit = { NOT = { FROM = { tag = event_target:concession_holder } } }
			add_opinion_modifier = {
				target = event_target:concession_holder
				modifier = KR_approves_of_govt
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = KR_approves_of_govt
		}
	}
}

country_event = { #China: FROM wants compensation for concessions
	id = china_events.202
	title = china_events.202.t
	desc = china_events.202.d
	picture = GFX_report_event_SHX_shanxi_provincal_bank

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_variable = { FROM.china_concession_value = 50 }
			every_state = {
				limit = {
					is_possible_legation_cities_state = yes
					OR = {
						is_owned_by = FROM
						owner = { is_subject_of = FROM }
					}
				}
				add_to_variable = { FROM.china_concession_value = 25 }
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.202 option china_events.202.a"
		name = china_events.202.a #Sure
		set_temp_variable = { china_concession_cost = FROM.china_concession_value }
		multiply_temp_variable = { china_concession_cost = -1 }
		add_political_power = var:china_concession_cost

		custom_effect_tooltip = tooltip_white_line
		effect_tooltip = {
			every_state = {
				limit = {
					OR = {
						AND = {
							is_owned_by = FROM
							is_core_china = yes
						}
						AND = {
							OR = {
								is_owned_by = FROM
								owner = { is_subject_of = FROM }
							}
							is_possible_legation_cities_state = yes
						}
					}
				}
				transfer_state_to = ROOT
			}
		}
		FROM = { country_event = { id = china_events.203 days = 1 } }
	}

	option = {
		log = "[GetLogInfo]: event china_events.202 option china_events.202.b"
		name = china_events.202.b #What? No!
		if = {
			limit = { NOT = { FROM = { tag = event_target:concession_holder } } }
			add_opinion_modifier = {
				target = event_target:concession_holder
				modifier = KR_hates_govt
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = KR_hates_govt
		}
		FROM = { country_event = { id = china_events.204 days = 1 } }
		custom_effect_tooltip = tooltip_white_line
		if = {
			limit = { can_declare_war_on = event_target:concession_holder }
			activate_targeted_decision = { decision = china_seize_concessions target = event_target:concession_holder }
		}
		clear_variable = FROM.china_concession_value
	}
}

country_event = { #POR/AST/CAN/GEA/JAP: China accepts compensation for concessions
	id = china_events.203
	title = china_events.203.t
	desc = china_events.203.d
	picture = GFX_report_event_GEA_coltroops

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.203 option china_events.203.a"
		name = china_events.203.a #Pleasure doing business
		add_political_power = var:china_concession_value
		clear_variable = china_concession_value

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { target = FROM }
		every_state = {
			limit = {
				OR = {
					AND = {
						is_owned_by = ROOT
						is_core_china = yes
					}
					AND = {
						OR = {
							is_owned_by = ROOT
							owner = { is_subject_of = ROOT }
						}
						is_possible_legation_cities_state = yes
					}
				}
			}
			hidden_effect = {
				remove_claim_by = ROOT
				remove_claim_by = owner
			}
			clear_variable = ambition_area_@var:owner
			clear_variable = ambition_area_@ROOT
			transfer_state_during_war = yes
		}
	}
}

country_event = { #POR/AST/CAN/GEA/JAP: China refuses compensation for concessions
	id = china_events.204
	title = china_events.204.t
	desc = china_events.204.d
	picture = GFX_report_event_FNG_troops

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.204 option china_events.204.a"
		name = china_events.204.a
		effect_tooltip = {
			FROM = {
				if = {
					limit = { NOT = { ROOT = { tag = event_target:concession_holder } } }
					add_opinion_modifier = {
						target = event_target:concession_holder
						modifier = KR_hates_govt
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = KR_hates_govt
				}
				if = {
					limit = { can_declare_war_on = event_target:concession_holder }
					activate_targeted_decision = { decision = china_seize_concessions target = event_target:concession_holder }
				}
			}
		}
	}
}

country_event = { #China: FROM refuses to return concessions
	id = china_events.205
	title = china_events.205.t
	desc = china_events.205.d
	picture = GFX_report_event_GXC_federalist_troops_atgun

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.205 option china_events.205.a"
		name = china_events.205.a
		if = {
			limit = { NOT = { FROM = { tag = event_target:concession_holder } } }
			add_opinion_modifier = {
				target = event_target:concession_holder
				modifier = KR_outraged
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = KR_outraged
		}
		custom_effect_tooltip = tooltip_white_line
		if = {
			limit = { can_declare_war_on = event_target:concession_holder }
			activate_targeted_decision = { decision = china_seize_concessions target = event_target:concession_holder }
		}
	}
}

country_event = { #POR/AST/CAN/GEA/JAP: China has occupied concessions
	id = china_events.210
	title = china_events.210.t
	desc = china_events.210.d
	picture = GFX_report_event_GXC_federalist_troops_rally

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.210 option china_events.210.a"
		name = china_events.210.a #Threaten war
		trigger = { is_subject = no }
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				event_target:china = { default_attack_AI_trigger = yes }
			}
		}
		event_target:china = { country_event = { id = china_events.212 days = 1 } }
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			every_country = {
				display_individual_scopes = yes
				limit = {
					OR = {
						tag = ROOT
						any_owned_state = { is_core_china = yes }
					}
					OR = {
						is_subject_of = ROOT
						any_owned_state = { is_possible_legation_cities_state = yes }
					}
				}
				set_truce = { target = event_target:china days = 1095 }
				diplomatic_relation = {
					country = event_target:china
					relation = non_aggression_pact
				}
			}
		}
		custom_effect_tooltip = if_they_refuse_tt
		effect_tooltip = {
			set_temp_variable = { target = event_target:china }
			every_state = {
				display_individual_scopes = yes
				limit = {
					OR = {
						AND = {
							is_owned_by = ROOT
							is_core_china = yes
						}
						AND = {
							OR = {
								is_owned_by = ROOT
								owner = { is_subject_of = ROOT }
							}
							is_possible_legation_cities_state = yes
						}
					}
				}
				transfer_state_to = event_target:china
			}
			create_wargoal = {
				target = event_target:china
				type = topple_government
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.210 option china_events.210.b"
		name = china_events.210.b #Back down
		trigger = { is_subject = no }
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				original_tag = JAP
				is_major = yes
			}
			modifier = {
				factor = 0.125
				country_is_in_dangerous_war = no
				event_target:china = { default_attack_AI_trigger = no }
			}
		}
		effect_tooltip = {
			set_temp_variable = { target = event_target:china }
			every_state = {
				display_individual_scopes = yes
				limit = {
					OR = {
						AND = {
							is_owned_by = ROOT
							is_core_china = yes
						}
						AND = {
							OR = {
								is_owned_by = ROOT
								owner = { is_subject_of = ROOT }
							}
							is_possible_legation_cities_state = yes
						}
					}
				}
				transfer_state_to = event_target:china
			}
		}
		event_target:china = { country_event = { id = china_events.211 days = 1 } }
	}

	option = {
		log = "[GetLogInfo]: event china_events.210 option china_events.210.c"
		name = china_events.210.c #Notify overlord
		trigger = { is_subject = yes }
		overlord = { country_event = china_events.210 }
	}
}

country_event = { #China: FROM backs down
	id = china_events.211
	title = china_events.211.t
	desc = china_events.211.d
	picture = GFX_report_event_LEC_shanghai_police_patrol

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.211 option china_events.211.a"
		name = china_events.211.a
		every_state = {
			display_individual_scopes = yes
			limit = {
				OR = {
					AND = {
						is_owned_by = FROM
						is_core_china = yes
					}
					AND = {
						OR = {
							is_owned_by = FROM
							owner = { is_subject_of = FROM }
						}
						is_possible_legation_cities_state = yes
					}
				}
			}
			transfer_state_to = ROOT
		}
		every_other_country = {
			display_individual_scopes = yes
			limit = {
				OR = {
					tag = FROM
					any_owned_state = { is_core_china = yes }
				}
				OR = {
					is_subject_of = FROM
					any_owned_state = { is_possible_legation_cities_state = yes }
				}
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = KR_outraged
			}
		}
	}
}

country_event = { #China: FROM threatens war
	id = china_events.212
	title = china_events.212.t
	desc = china_events.212.d
	picture = GFX_report_event_GEA_carrier

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.212 option china_events.212.a"
		name = china_events.212.a
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				FROM = { country_is_in_dangerous_war = yes }
			}
		}
		add_war_support = -0.05
		every_other_country = {
			display_individual_scopes = yes
			limit = {
				OR = {
					tag = FROM
					any_owned_state = { is_core_china = yes }
				}
				OR = {
					is_subject_of = FROM
					any_owned_state = { is_possible_legation_cities_state = yes }
				}
			}
			set_truce = { target = ROOT days = 1095 }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
			}
			country_event = { id = china_events.213 days = 1 }
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.212 option china_events.212.b"
		name = china_events.212.b
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				OR = {
					country_is_in_dangerous_war = yes
					FROM = { default_attack_AI_trigger = yes }
				}
			}
		}
		every_state = {
			display_individual_scopes = yes
			limit = {
				OR = {
					AND = {
						is_owned_by = FROM
						is_core_china = yes
					}
					AND = {
						OR = {
							is_owned_by = FROM
							owner = { is_subject_of = FROM }
						}
						is_possible_legation_cities_state = yes
					}
				}
			}
			set_state_flag = china_state_was_seized_by_@ROOT
			transfer_state_to = ROOT
		}
		FROM = {
			effect_tooltip = {
				create_wargoal = {
					target = ROOT
					type = topple_government
				}
			}
			country_event = { id = china_events.214 days = 1 }
		}
	}
}

country_event = { #POR/AST/CAN/GEA/JAP: China backs down
	id = china_events.213
	title = china_events.213.t
	desc = china_events.213.d
	picture = GFX_report_event_FNG_troops

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.213 option china_events.213.a"
		name = china_events.213.a
		add_political_power = 25
		effect_tooltip = {
			set_truce = { target = FROM days = 1095 }
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
			}
		}
	}
}

country_event = { #POR/AST/CAN/GEA/JAP: China is defiant
	id = china_events.214
	title = china_events.214.t
	desc = china_events.214.d
	picture = GFX_report_event_SHX_feng_speech

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.214 option china_events.214.a"
		name = china_events.214.a #Opium war time
		every_state = {
			display_individual_scopes = yes
			limit = { has_state_flag = china_state_was_seized_by_@FROM }
			clr_state_flag = china_state_was_seized_by_@FROM
			effect_tooltip = { transfer_state_to = FROM }
		}
		create_wargoal = {
			target = FROM
			type = topple_government
		}
	}
}

####################################
### LEGATION CITIES NEGOTIATIONS ###
####################################

country_event = { #LEC: China wants to negotiate annexation of LEC
	id = china_events.220
	title = china_events.220.t

	desc = {
		text = china_events.220.d.puppet
		trigger = {
			is_subject = yes
		}
	}
	desc = {
		text = china_events.220.d.in_faction
		trigger = {
			is_subject = no
			is_in_faction = yes
			is_faction_leader = no
		}
	}
	desc = {
		text = china_events.220.d.council
		trigger = {
			is_subject = no
			is_in_faction = no
			check_variable = { global.LEC_voters^num > 0 }
		}
	}
	desc = {
		text = china_events.220.d.independent
		trigger = {
			is_subject = no
			OR = {
				is_faction_leader = yes
				check_variable = { global.LEC_voters^num < 1 }
			}
		}
	}

	picture = GFX_report_event_QIE_wu_peifu_time_cover

	is_triggered_only = yes

	immediate = {
		FROM = { save_event_target_as = china }
	}

	option = {
		log = "[GetLogInfo]: event china_events.220 option china_events.220.a"
		name = china_events.220.a #Forward to overlord
		trigger = {
			is_subject = yes
		}
		overlord = { country_event = { id = china_events.223 days = 1 } }
	}

	option = {
		log = "[GetLogInfo]: event china_events.220 option china_events.220.b"
		name = china_events.220.b #Forward to faction leader, recommend disbanding
		trigger = {
			is_subject = no
			is_in_faction = yes
			is_faction_leader = no
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				has_government = paternal_autocrat
				FROM = { china_is_aligned_with_zhili = no }
			}
			modifier = {
				factor = 0
				has_government = national_populist
				OR = {
					FNG_JAP_hostile = yes
					FROM = { china_is_aligned_with_fengtian = no }
				}
			}
		}
		faction_leader = { country_event = { id = china_events.223 days = 1 } }
	}

	option = {
		log = "[GetLogInfo]: event china_events.220 option china_events.220.c"
		name = china_events.220.c #Forward to faction leader, recommend keeping
		trigger = {
			is_subject = no
			is_in_faction = yes
			is_faction_leader = no
		}
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				has_government = market_liberal
			}
			modifier = {
				factor = 0
				has_government = social_conservative
				FROM = { has_socialist_government = no }
			}
		}
		save_event_target_as = china_commissioner_recommends_keeping_legations
		faction_leader = { country_event = { id = china_events.223 days = 1 } }
	}

	option = {
		log = "[GetLogInfo]: event china_events.220 option china_events.220.d"
		name = china_events.220.d #Forward to council, recommend disbanding
		trigger = {
			is_subject = no
			is_in_faction = no
			check_variable = { global.LEC_voters^num > 0 }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				has_government = paternal_autocrat
				FROM = { china_is_aligned_with_zhili = no }
			}
			modifier = {
				factor = 0
				has_government = national_populist
				OR = {
					FNG_JAP_hostile = yes
					FROM = { china_is_aligned_with_fengtian = no }
				}
			}
		}
		effect_tooltip = {
			every_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = china_events.227 days = 1 }
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = china_events.227 days = 1 }
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.220 option china_events.220.e"
		name = china_events.220.e #Forward to council, recommend keeping
		trigger = {
			is_subject = no
			is_in_faction = no
			check_variable = { global.LEC_voters^num > 0 }
		}
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				has_government = market_liberal
			}
			modifier = {
				factor = 0
				has_government = social_conservative
				FROM = { has_socialist_government = no }
			}
		}
		save_event_target_as = china_commissioner_recommends_keeping_legations
		effect_tooltip = {
			every_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = china_events.227 days = 1 }
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = china_events.227 days = 1 }
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.220 option china_events.220.f"
		name = china_events.220.f #Agree to rejoin
		trigger = {
			is_subject = no
			OR = {
				is_faction_leader = yes
				check_variable = { global.LEC_voters^num < 1 }
			}
		}
		if = {
			limit = { is_faction_leader = yes }
			dismantle_faction = yes
		}
		FROM = { country_event = { id = china_events.221 days = 1 } }
		custom_effect_tooltip = GAME_OVER_TT
		effect_tooltip = {
			FROM = {
				annex_country = {
					target = ROOT
					transfer_troops = no
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.220 option china_events.220.g"
		name = china_events.220.g #Refuse
		trigger = {
			is_subject = no
			OR = {
				is_faction_leader = yes
				check_variable = { global.LEC_voters^num < 1 }
			}
		}
		FROM = { country_event = { id = china_events.222 days = 1 } }
		effect_tooltip = {
			FROM = {
				create_wargoal = {
					target = ROOT
					type = annex_everything
				}
			}
		}
	}
}

country_event = { #China: independent LEC rejoins China
	id = china_events.221
	title = china_events.221.t

	desc = {
		text = china_events.221.d.puppet
		trigger = {
			FROM = { is_subject = yes }
		}
	}
	desc = {
		text = china_events.221.d.in_faction
		trigger = {
			FROM = {
				is_subject = no
				is_in_faction = yes
				is_faction_leader = no
			}
		}
	}
	desc = {
		text = china_events.221.d.independent
		trigger = {
			FROM = {
				is_subject = no
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
		}
	}

	picture = GFX_report_event_QIE_soldiers_mobilize

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.221 option china_events.221.a"
		name = china_events.221.a
		annex_country = {
			target = FROM
			transfer_troops = no
		}
	}
}

country_event = { #China: independent LEC refuses to rejoin China
	id = china_events.222
	title = china_events.222.t
	desc = china_events.222.d
	picture = GFX_report_event_LEC_Canadian_Forces_in_Hong_Kong

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.222 option china_events.222.a"
		name = china_events.222.a #Back down
		ai_chance = { base = 0 }
		add_stability = -0.05
		add_war_support = -0.1
		effect_tooltip = {
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
			}
		}
		FROM = { country_event = china_events.239 }
	}

	option = {
		log = "[GetLogInfo]: event china_events.222 option china_events.222.b"
		name = china_events.222.b #War
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				FROM = { default_attack_AI_trigger = yes }
			}
		}
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
	}
}

country_event = { #LEC faction leader/overlord: China wants to negotiate annexation of LEC
	id = china_events.223
	title = china_events.223.t
	picture = GFX_report_event_generic_beijing_map
	desc = {
		text = china_events.223.d.overlord
		trigger = { has_subject = LEC }
	}
	desc = {
		text = china_events.223.d.independent_suggests_disbanding
		trigger = {
			NOT = { has_subject = LEC }
			NOT = { has_event_target = china_commissioner_recommends_keeping_legations }
		}
	}
	desc = {
		text = china_events.223.d.independent_suggests_keeping
		trigger = {
			NOT = { has_subject = LEC }
			has_event_target = china_commissioner_recommends_keeping_legations
		}
	}

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.223 option china_events.223.a"
		name = china_events.223.a #Yes
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				original_tag = JAP
				is_faction_leader = yes
				NOT = { is_in_faction_with = event_target:china }
			}
			modifier = {
				factor = 0
				LEC = {
					is_ai = no
					OR = {
						is_subject = yes
						has_event_target = china_commissioner_recommends_keeping_legations
					}
				}
			}
			modifier = {
				factor = 0.33
				has_event_target = china_commissioner_recommends_keeping_legations
			}
		}
		FROM = { country_event = { id = china_events.224 days = 1 } }
		effect_tooltip = {
			event_target:china = {
				country_event = china_events.221
				annex_country = {
					target = LEC
					transfer_troops = no
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.223 option china_events.223.b"
		name = china_events.223.b #No
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				is_american_tag = yes #America will always withdraw from the Legation Cities
			}
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
				NOT = { #Bypass so Japan will always refuse no matter what
					AND = {
						original_tag = JAP
						is_faction_leader = yes
						NOT = { is_in_faction_with = event_target:china }
					}
				}
			}
			modifier = {
				factor = 0
				is_in_faction_with = event_target:china
				OR = {
					is_faction_leader = yes
					NOT = { has_subject = LEC }
				}
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = event_target:china ratio < 1 }
				NOT = { #Bypass so Japan will always refuse no matter what
					AND = {
						original_tag = JAP
						is_faction_leader = yes
						NOT = { is_in_faction_with = event_target:china }
					}
				}
			}
			modifier = {
				factor = 2
				has_event_target = china_commissioner_recommends_keeping_legations
			}
		}
		effect_tooltip = {
			if = {
				limit = { is_in_faction_with = event_target:china }
				event_target:china = { leave_faction = yes }
			}
		}
		FROM = { country_event = { id = china_events.225 days = 1 } }
	}
}

country_event = { #LEC: FROM accepts annexation of legations
	id = china_events.224
	title = china_events.224.t
	desc = china_events.224.d
	picture = GFX_report_event_GXC_shanghai_teahouse

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.224 option china_events.224.a"
		name = china_events.224.a
		event_target:china = { country_event = china_events.221 }
		custom_effect_tooltip = GAME_OVER_TT
		effect_tooltip = {
			event_target:china = {
				annex_country = {
					target = ROOT
					transfer_troops = no
				}
			}
		}
	}
}

country_event = { #LEC: FROM refuses annexation of legations
	id = china_events.225
	title = china_events.225.t
	desc = china_events.225.d
	picture = GFX_report_event_JAP_parade_shanghai

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.225 option china_events.225.a"
		name = china_events.225.a #Well, that's that
		effect_tooltip = {
			if = {
				limit = { is_in_faction_with = event_target:china }
				event_target:china = { leave_faction = yes }
			}
		}
		event_target:china = { country_event = { id = china_events.226 days = 1 } }
	}
}

country_event = { #China: faction refuses to return the legations
	id = china_events.226
	title = china_events.226.t
	picture = GFX_report_event_JAP_parade_shanghai
	desc = {
		text = china_events.226.d.same_faction
		trigger = { is_in_faction_with = FROM }
	}
	desc = {
		text = china_events.226.d.not_same_faction
		trigger = { NOT = { is_in_faction_with = FROM } }
	}

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.226 option china_events.226.a"
		name = china_events.226.a #Back down
		ai_chance = { base = 0 }
		trigger = { NOT = { is_in_faction_with = FROM } }
	}

	option = {
		log = "[GetLogInfo]: event china_events.226 option china_events.226.b"
		name = china_events.226.b #Leave the alliance
		trigger = { is_in_faction_with = FROM }
		ai_chance = { base = 0 }
		if = {
			limit = { is_in_faction_with = FROM }
			leave_faction = yes
		}
		peace_out_non_neighbours_after_leaving_faction = yes
		if = {
			limit = { FROM = { tag = JAP } }
			#Japan will get a war goal on you if you leave their faction.
			JAP = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROOT
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.226 option china_events.226.c"
		name = china_events.226.c #War
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				FROM = { default_attack_AI_trigger = yes }
			}
		}
		if = {
			limit = { is_in_faction_with = FROM }
			leave_faction = yes
		}
		peace_out_non_neighbours_after_leaving_faction = yes
		create_wargoal = {
			target = LEC
			type = annex_everything
		}
	}
}

country_event = { #Council members: China wants annexation of the legations
	id = china_events.227
	title = china_events.227.t
	desc = china_events.227.d
	picture = GFX_report_event_LEC_shanghai_police_patrol

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.227 option china_events.227.a"
		name = china_events.227.a #Sure
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_war_with = event_target:china
			}
			modifier = {
				factor = 0
				LEC = { is_ai = no }
				has_event_target = china_commissioner_recommends_keeping_legations
			}
			modifier = {
				factor = 0
				original_tag = JAP
				is_faction_leader = yes
			}
			modifier = {
				add = -40
				has_event_target = china_commissioner_recommends_keeping_legations
			}
			modifier = {
				factor = 0.5
				event_target:china = { has_socialist_government = yes }
			}
			modifier = {
				factor = 0.5
				OR = {
					has_idea = LEC_USA_open_door
					has_idea = LEC_GER_open_door
					has_idea = LEC_better_open_door
				}
			}
		}
		set_country_flag = china_disband_legations
		add_to_variable = { global.china_disband_legations = 1 }
	}

	option = {
		log = "[GetLogInfo]: event china_events.227 option china_events.227.b"
		name = china_events.227.b #No
		ai_chance = {
			base = 0
			modifier = {
				add = 40
				has_event_target = china_commissioner_recommends_keeping_legations
			}
			modifier = {
				add = 50
				event_target:china = { has_socialist_government = yes }
			}
			modifier = {
				add = 50
				OR = {
					has_idea = LEC_USA_open_door
					has_idea = LEC_GER_open_door
					has_idea = LEC_better_open_door
				}
			}
			modifier = {
				add = 100
				original_tag = JAP
				is_faction_leader = yes
			}
			modifier = {
				add = 100
				has_war_with = event_target:china
			}
			modifier = {
				factor = 0
				LEC_has_legation_council_vote = no
			}
			modifier = {
				factor = 0
				LEC = { is_ai = no }
				NOT = { has_event_target = china_commissioner_recommends_keeping_legations }
			}
			modifier = {
				factor = 0
				is_american_tag = yes
				event_target:china = { both_socialist_or_both_not_socialist = yes }
			}
			modifier = {
				factor = 0
				NOT = { has_war_with = event_target:china }
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0
				NOT = { has_war_with = event_target:china }
				strength_ratio = { tag = event_target:china ratio < 1 }
			}
		}
		set_country_flag = china_keep_legations
		add_to_variable = { global.china_keep_legations = 1 }
	}

	after = {
		effect_tooltip = {
			LEC = { country_event = { id = china_events.228 days = 1 } }
		}
		hidden_effect = {
			if = {
				limit = {
					any_other_country = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = china_disband_legations }
						NOT = { has_country_flag = china_keep_legations }
					}
				}
				random_other_country = {
					limit = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = china_disband_legations }
						NOT = { has_country_flag = china_keep_legations }
					}
					country_event = china_events.227
				}
			}
			else = {
				LEC = { country_event = { id = china_events.228 days = 1 } }
			}
		}
	}
}

country_event = { #LEC: results of the vote
	id = china_events.228
	title = china_events.228.t
	picture = GFX_report_event_CHN_vote
	desc = {
		text = china_events.228.d.disband
		trigger = {
			check_variable = { global.china_disband_legations > global.china_keep_legations }
		}
	}
	desc = {
		text = china_events.228.d.keep
		trigger = {
			NOT = { check_variable = { global.china_disband_legations > global.china_keep_legations } }
		}
	}

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.228 option china_events.228.a"
		name = china_events.228.a
		trigger = {
			check_variable = { global.china_disband_legations > global.china_keep_legations }
		}
		effect_tooltip = {
			every_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = china_events.229 days = 1 }
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = china_events.229 days = 1 }
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.228 option china_events.228.b"
		name = china_events.228.b
		trigger = {
			NOT = { check_variable = { global.china_disband_legations > global.china_keep_legations } }
		}
		effect_tooltip = {
			every_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = china_events.232 days = 1 }
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = china_events.232 days = 1 }
			}
		}
	}
}

country_event = { #Council members: council voted to disband the legations
	id = china_events.229
	title = china_events.229.t
	picture = GFX_report_event_GEA_falkenhausen
	desc = {
		text = china_events.229.d.voted_for
		trigger = {
			has_country_flag = china_disband_legations
		}
	}
	desc = {
		text = china_events.229.d.voted_against
		trigger = {
			NOT = { has_country_flag = china_disband_legations }
		}
	}

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.229 option china_events.229.a"
		name = china_events.229.a #Alright
		trigger = {
			has_country_flag = china_disband_legations
		}
		LEC_remove_from_legation_council = yes
		effect_tooltip = {
			LEC = { country_event = { id = china_events.230 days = 1 } }
			event_target:china = { country_event = { id = china_events.231 days = 1 } }
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.229 option china_events.229.b"
		name = china_events.229.b #Ah, whatever
		trigger = {
			NOT = { has_country_flag = china_disband_legations }
		}
		ai_chance = { base = 30 }
		LEC_remove_from_legation_council = yes
		effect_tooltip = {
			LEC = { country_event = { id = china_events.230 days = 1 } }
			event_target:china = { country_event = { id = china_events.231 days = 1 } }
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.229 option china_events.229.c"
		name = china_events.229.c #We will not accept this!
		trigger = {
			NOT = { has_country_flag = china_disband_legations }
			NOT = { has_war_with = event_target:china }
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 70
				original_tag = JAP
				is_faction_leader = yes
				has_socialist_government = no
			}
			modifier = {
				add = 70
				is_major = yes
				has_socialist_government = no
				FROM = { has_socialist_government = yes }
			}
			modifier = {
				factor = 0.5
				country_is_in_dangerous_war = yes
			}
			modifier = {
				factor = 0.5
				FROM = { default_attack_AI_trigger = yes }
			}
			modifier = {
				factor = 0
				surrender_progress > 0.1
			}
			modifier = {
				factor = 0
				has_war = yes
				is_in_faction = no
				enemies_strength_ratio > 1
			}
			modifier = {
				factor = 0
				has_war = yes
				is_in_faction = yes
				alliance_strength_ratio < 1
			}
		}
		LEC_remove_from_legation_council = yes
		effect_tooltip = {
			LEC = { country_event = { id = china_events.230 days = 1 } }
			event_target:china = { country_event = { id = china_events.231 days = 1 } }
		}

		custom_effect_tooltip = tooltip_white_line
		save_event_target_as = china_will_be_attacked_by_council_member
		create_wargoal = {
			target = event_target:china
			type = topple_government
		}
	}

	after = {
		set_country_flag = china_received_legation_vote_notification
		hidden_effect = {
			if = {
				limit = {
					any_other_country = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = china_received_legation_vote_notification }
					}
				}
				random_other_country = {
					limit = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = china_received_legation_vote_notification }
					}
					country_event = china_events.229
				}
			}
			else = {
				LEC = { country_event = { id = china_events.230 days = 1 } }
			}
		}
	}
}

country_event = { #LEC: council voted to disband the legations
	id = china_events.230
	title = china_events.230.t

	desc = {
		text = china_events.230.d.will_be_attacked
		trigger = { has_event_target = china_will_be_attacked_by_council_member }
	}
	desc = {
		text = china_events.230.d.peaceful_reunification
		trigger = { NOT = { has_event_target = china_will_be_attacked_by_council_member } }
	}

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	picture = GFX_report_event_GEA_falkenhausen

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.230 option china_events.230.a"
		name = china_events.230.a
		event_target:china = { country_event = china_events.231 }
		custom_effect_tooltip = GAME_OVER_TT
		effect_tooltip = {
			event_target:china = {
				annex_country = {
					target = ROOT
					transfer_troops = no
				}
			}
		}
	}
}

country_event = { #China: legations will disband
	id = china_events.231
	title = china_events.231.t
	picture = GFX_report_event_GEA_falkenhausen
	desc = {
		text = china_events.231.d.will_be_attacked
		trigger = { has_event_target = china_will_be_attacked_by_council_member }
	}
	desc = {
		text = china_events.231.d.peaceful_reunification
		trigger = { NOT = { has_event_target = china_will_be_attacked_by_council_member } }
	}

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.231 option china_events.231.a"
		name = china_events.231.a
		trigger = { has_event_target = china_will_be_attacked_by_council_member }
		annex_country = {
			target = FROM
			transfer_troops = no
		}
		effect_tooltip = {
			every_other_country = {
				limit = { has_wargoal_against = { target = event_target:china type = topple_government } }
				create_wargoal = {
					target = event_target:china
					type = topple_government
				}
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event china_events.231 option china_events.231.b"
		name = china_events.231.b
		trigger = { NOT = { has_event_target = china_will_be_attacked_by_council_member } }
		annex_country = {
			target = FROM
			transfer_troops = no
		}
	}
}

country_event = { #Council members: council voted to keep the legations
	id = china_events.232
	title = china_events.232.t

	desc = {
		text = china_events.232.d.voted_for
		trigger = {
			has_country_flag = china_keep_legations
		}
	}
	desc = {
		text = china_events.232.d.voted_against
		trigger = {
			NOT = { has_country_flag = china_keep_legations }
		}
	}

	picture = GFX_report_event_JAP_battleship_kongo

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.232 option china_events.232.a"
		name = china_events.232.a #Alright
		trigger = {
			OR = {
				has_country_flag = china_keep_legations
				has_war_with = event_target:china
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.232 option china_events.232.b"
		name = china_events.232.b #China won't be happy about this...
		trigger = {
			NOT = { has_country_flag = china_keep_legations }
			NOT = { has_war_with = event_target:china }
		}
	}

	after = {
		set_country_flag = china_received_legation_vote_notification
		effect_tooltip = {
			event_target:china = { country_event = { id = china_events.233 days = 1 } }
		}
		hidden_effect = {
			if = {
				limit = {
					any_other_country = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = china_received_legation_vote_notification }
					}
				}
				random_other_country = {
					limit = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = china_received_legation_vote_notification }
					}
					country_event = china_events.232
				}
			}
			else = {
				event_target:china = { country_event = { id = china_events.233 days = 1 } }
			}
		}
	}
}

country_event = { #China: council voted to keep the legations
	id = china_events.233
	title = china_events.233.t
	desc = china_events.233.d
	picture = GFX_report_event_JAP_battleship_kongo

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.233 option china_events.233.a"
		name = china_events.233.a #The Legations end here - by force if need be
		effect_tooltip = {
			every_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = china_events.234 days = 1 }
			}
		}
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			annex_country = {
				target = LEC
				transfer_troops = no
			}
		}
		custom_effect_tooltip = if_they_refuse_tt
		effect_tooltip = {
			create_wargoal = {
				target = LEC
				type = annex_everything
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = china_events.234 days = 1 }
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.233 option china_events.233.b"
		name = china_events.233.b #There is nothing we can do
		add_stability = -0.05
		add_war_support = -0.1
		effect_tooltip = {
			diplomatic_relation = {
				country = LEC
				relation = non_aggression_pact
			}
		}
		LEC = { country_event = china_events.239 }
		every_country = {
			limit = { LEC_is_legation_council_member = yes }
			country_event = china_events.240
		}
	}
}

country_event = { #Council members: China threatens war over LEC
	id = china_events.234
	title = china_events.234.t
	desc = china_events.234.d
	picture = GFX_report_event_CHN_warlord_cavalry

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.234 option china_events.234.a"
		name = china_events.234.a #Screw this, they can have them
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				NOT = { has_guaranteed = LEC }
			}
			modifier = {
				factor = 0
				has_war_with = event_target:china
			}
		}
		LEC_remove_from_legation_council = yes
	}

	option = {
		log = "[GetLogInfo]: event china_events.234 option china_events.234.b"
		name = china_events.234.b #Let them come, if they dare
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				NOT = { has_war_with = event_target:china }
				country_is_in_dangerous_war = yes
			}
		}
		if = {
			limit = { NOT = { has_guaranteed = LEC } }
			give_guarantee = LEC
		}
		effect_tooltip = {
			event_target:china = {
				create_wargoal = {
					target = LEC
					type = annex_everything
				}
			}
		}
	}

	after = {
		set_country_flag = china_received_legation_war_notification
		hidden_effect = {
			if = {
				limit = {
					any_other_country = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = china_received_legation_war_notification }
					}
				}
				random_other_country = {
					limit = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = china_received_legation_war_notification }
					}
					country_event = china_events.234
				}
			}
			else_if = {
				limit = { any_other_country = { has_guaranteed = LEC } }
				LEC = { country_event = { id = china_events.235 days = 1 } }
			}
			else = {
				LEC = { country_event = { id = china_events.237 days = 1 } }
			}
		}
	}
}

country_event = { #LEC: council members stand by LEC
	id = china_events.235
	title = china_events.235.t
	desc = china_events.235.d
	picture = GFX_report_event_GER_ship

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.235 option china_events.235.a"
		name = china_events.235.a
		event_target:china = { country_event = china_events.236 }
	}
}

country_event = { #China: war with LEC
	id = china_events.236
	title = china_events.236.t
	desc = china_events.236.d
	picture = GFX_report_event_generic_east_china_map

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.236 option china_events.236.a"
		name = china_events.236.a #Back down
		ai_chance = { base = 0 }
		add_stability = -0.05
		add_war_support = -0.1
		effect_tooltip = {
			diplomatic_relation = {
				country = LEC
				relation = non_aggression_pact
			}
		}
		LEC = { country_event = china_events.239 }
		every_country = {
			limit = { LEC_is_legation_council_member = yes }
			country_event = china_events.240
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.236 option china_events.236.b"
		name = china_events.236.b #War
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
				any_other_country = {
					has_guaranteed = LEC
					NOT = { has_war_with = ROOT }
				}
			}
			modifier = {
				factor = 0
				FROM = { default_attack_AI_trigger = yes }
			}
		}
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
	}
}

country_event = { #LEC: council abandons LEC after threats
	id = china_events.237
	title = china_events.237.t
	desc = china_events.237.d
	picture = GFX_report_event_CHI_radio

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.237 option china_events.237.a"
		name = china_events.237.a
		event_target:china = { country_event = china_events.238 }
		custom_effect_tooltip = GAME_OVER_TT
		effect_tooltip = {
			event_target:china = {
				annex_country = {
					target = ROOT
					transfer_troops = no
				}
			}
		}
	}
}

country_event = { #China: council abandons LEC after threats
	id = china_events.238
	title = china_events.238.t
	desc = china_events.238.d
	picture = GFX_report_event_CHI_radio

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.238 option china_events.238.a"
		name = china_events.238.a
		annex_country = {
			target = FROM
			transfer_troops = no
		}
	}
}

country_event = { #LEC: China backs down
	id = china_events.239
	title = china_events.239.t
	desc = china_events.239.d
	picture = GFX_report_event_CHI_chen_gongbo

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.239 option china_events.239.a"
		name = china_events.239.a
		set_truce = { target = FROM days = 1095 }
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
		}
		add_opinion_modifier = {
			target = FROM
			modifier = KR_approves_of_govt
		}
	}
}

country_event = { #Council members: China backs down
	id = china_events.240
	title = china_events.240.t
	desc = china_events.240.d
	picture = GFX_report_event_CHI_chen_gongbo

	trigger = {
		NOT = { event_target:china = { has_war_with = LEC } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.240 option china_events.240.a"
		name = china_events.240.a
		add_opinion_modifier = {
			target = FROM
			modifier = KR_approves_of_govt
		}
	}
}

###################
### NEWS EVENTS ###
###################

#Manchu Qing unites China
news_event = {
	id = china_events.300
	immediate = { log = "[GetLogInfo]: event china_events.300" }
	title = china_events.300.t
	desc = china_events.300.d
	picture = GFX_news_event_QIE_manchu_unification

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.300.a
	}
}
#Zhili Qing unites China
news_event = {
	id = china_events.301
	immediate = { log = "[GetLogInfo]: event china_events.301" }
	title = china_events.301.t
	desc = china_events.301.d
	picture = GFX_news_event_QIE_cao_kun_dragon

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.301.a
	}
}
#Zhili Republic unites China
news_event = {
	id = china_events.302
	immediate = { log = "[GetLogInfo]: event china_events.302" }
	title = china_events.302.t
	desc = china_events.302.d
	picture = GFX_news_event_china_unified_beiyang

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.301.a
	}
}
#Fengtian unites China
news_event = {
	id = china_events.303
	immediate = { log = "[GetLogInfo]: event china_events.303" }
	title = china_events.303.t
	desc = china_events.303.d
	picture = GFX_news_event_FNG_fengtian_unification

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.303.a
	}
}
#RNGROC unites China
news_event = {
	id = china_events.304
	immediate = { log = "[GetLogInfo]: event china_events.304" }
	title = china_events.304.t
	desc = china_events.304.d
	picture = GFX_news_event_japanese_parade

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.304.a
	}
}
#Yan Xishan unites China
news_event = {
	id = china_events.305
	immediate = { log = "[GetLogInfo]: event china_events.305" }
	title = china_events.305.t
	desc = china_events.305.d
	picture = GFX_news_event_SHX_yan_unification

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.305.a
	}
}
#Feng Yuxiang unites China
news_event = {
	id = china_events.306
	immediate = { log = "[GetLogInfo]: event china_events.306" }
	title = china_events.306.t
	desc = china_events.306.d
	picture = GFX_news_event_SHX_feng_unification

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.306.a
	}
}
#Yiguandao unites China
news_event = {
	id = china_events.307
	immediate = { log = "[GetLogInfo]: event china_events.307" }
	title = china_events.307.t
	desc = china_events.307.d
	picture = GFX_news_event_SHD_yiguandao

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.307.a
	}
}
#Left KMT unites China
news_event = {
	id = china_events.308
	immediate = { log = "[GetLogInfo]: event china_events.308" }
	title = china_events.308.t
	desc = {
		text = china_events.308.d.LCS
		trigger = { FROM = { has_government = syndicalist } }
	}
	desc = {
		text = china_events.308.d.KMT
		trigger = { FROM = { NOT = { has_government = syndicalist } } }
	}
	picture = GFX_news_event_CHI_kmt_victor

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.308.a
		trigger = {
			OR = {
				has_socialist_government = yes
				is_subject_of = LKT
			}
		}
	}

	option = {
		name = china_events.308.c
		trigger = {
			NOT = { is_subject_of = LKT }
			has_elected_government = yes
			NOT = { original_tag = JAP }
			NOT = { original_tag = TIB }
			NOT = { original_tag = INC }
		}
	}

	option = {
		name = china_events.308.b
		trigger = {
			NOT = { is_subject_of = LKT }
			has_socialist_government = no
			OR = {
				has_elected_government = no
				original_tag = JAP
				original_tag = TIB
				original_tag = INC
			}
		}
	}
}
#Right KMT unites China
news_event = {
	id = china_events.309
	immediate = { log = "[GetLogInfo]: event china_events.309" }
	title = china_events.309.t
	desc = china_events.309.d
	picture = GFX_news_event_CHI_kmt_victor

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.309.a
	}
}
#Federalists unite China
news_event = {
	id = china_events.310
	immediate = { log = "[GetLogInfo]: event china_events.310" }
	title = china_events.310.t
	desc = china_events.310.d
	picture = GFX_news_event_GXC_federalist_unification

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.310.a
		trigger = {
			OR = {
				has_elected_government = yes
				is_subject_of = UPC
			}
		}
	}

	option = {
		name = china_events.310.b
		trigger = {
			has_elected_government = no
			NOT = { is_subject_of = UPC }
		}
	}
}
#Zhili Sichuan unites China
news_event = {
	id = china_events.311
	immediate = { log = "[GetLogInfo]: event china_events.311" }
	title = china_events.311.t
	desc = china_events.311.d
	picture = GFX_news_event_china_unified_beiyang

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.311.a
	}
}
#Liu Xiang unites China
news_event = {
	id = china_events.313
	immediate = { log = "[GetLogInfo]: event china_events.313" }
	title = china_events.313.t
	desc = china_events.313.d
	picture = GFX_news_event_china_unified_liu_xiang

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.313.a
	}
}
#Minor clique unites China
news_event = {
	id = china_events.314
	immediate = { log = "[GetLogInfo]: event china_events.314" }
	title = china_events.314.t
	desc = china_events.314.d
	picture = GFX_news_event_china_unified

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.314.a
	}
}
#LEP Unites China
news_event = {
	id = china_events.315
	immediate = { log = "[GetLogInfo]: event china_events.315" }
	title = china_events.315.t
	desc = china_events.315.d
	picture = GFX_news_event_LEP_qi_victory

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.315.a
	}
}
#Anti-Concessionist Zhili Qing Unites China
news_event = {
	id = china_events.316
	immediate = { log = "[GetLogInfo]: event china_events.316" }
	title = china_events.316.t
	desc = china_events.316.d
	picture = GFX_news_event_QIE_wu_peifu_overcoat

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.316.a
	}
}
#Wang Jingwei Holds On
news_event = {
	id = china_events.340
	immediate = { log = "[GetLogInfo]: event china_events.340" }
	title = china_events.340.t
	desc = china_events.340.d
	picture = GFX_news_event_CHI_wang_victory

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.308.a
	}
}
#Song Qingling
news_event = {
	id = china_events.341
	immediate = { log = "[GetLogInfo]: event china_events.341" }
	title = china_events.341.t
	desc = china_events.341.d
	picture = GFX_news_event_CHI_pac_victory

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.341.a
	}
}
#Chen Gongbo
news_event = {
	id = china_events.342
	immediate = { log = "[GetLogInfo]: event china_events.342" }
	title = china_events.342.t
	desc = china_events.342.d
	picture = GFX_news_event_CHI_chen_gongbo_victory

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.342.a
	}
}
#Hu Zongnan
news_event = {
	id = china_events.343
	immediate = { log = "[GetLogInfo]: event china_events.343" }
	title = china_events.343.t
	desc = china_events.343.d
	picture = GFX_news_event_CHI_hu_victory

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = no
	major = yes

	option = {
		name = china_events.343.a
	}
}

news_event = { #Elders Clique
	id = china_events.344
	immediate = { log = "[GetLogInfo]: event china_events.344" }
	title = china_events.344.t
	desc = china_events.344.d
	picture = GFX_news_event_GXC_hu_hanmin

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.344.a
	}
}

news_event = { #New Guangdong
	id = china_events.345
	immediate = { log = "[GetLogInfo]: event china_events.345" }
	title = china_events.345.t
	desc = china_events.345.d
	picture = GFX_news_event_GXC_chen_jitang

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.345.a
	}
}

news_event = { #New Guangxi
	id = china_events.346
	immediate = { log = "[GetLogInfo]: event china_events.346" }
	title = china_events.346.t
	desc = china_events.346.d
	picture = GFX_news_event_GXC_new_guangxi

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.346.a
	}
}

news_event = { #Western Hills Clique
	id = china_events.347
	immediate = { log = "[GetLogInfo]: event china_events.347" }
	title = china_events.347.t
	desc = china_events.347.d
	picture = GFX_news_event_GXC_western_hills_clique

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.347.a
	}
}

news_event = { #Reconstruction Faction
	id = china_events.348
	immediate = { log = "[GetLogInfo]: event china_events.348" }
	title = china_events.348.t
	desc = china_events.348.d
	picture = GFX_news_event_GXC_sun_fo

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.348.a
	}
}

news_event = { #The Fourth Army Putsch in China
	id = china_events.349
	immediate = { log = "[GetLogInfo]: event china_events.349" }
	title = china_events.349.t
	desc = china_events.349.d
	picture = GFX_news_event_GXC_fourth_army

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.349.a
	}
}
news_event = { #Chinese Agrarians Topple KMT
	id = china_events.350
	immediate = { log = "[GetLogInfo]: event china_events.350" }
	title = china_events.350.t
	desc = china_events.350.d
	picture = GFX_news_event_GXC_peasant_movement

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.350.a
	}
}

news_event = { #The New Chinese Revolution
	id = china_events.3500
	immediate = { log = "[GetLogInfo]: event china_events.3500" }
	title = china_events.3500.t
	desc = china_events.3500.d
	picture = GFX_news_event_GXC_tan_pingshan

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.3500.a
	}
}

news_event = { #The Whampoa Clique Returns
	id = china_events.351
	immediate = { log = "[GetLogInfo]: event china_events.351" }
	title = china_events.351.t
	desc = china_events.351.d
	picture = GFX_news_event_YUN_he_yingqin_unification

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.351.a
	}
}

news_event = { #Rise of the Civil Engineering Clique
	id = china_events.352
	immediate = { log = "[GetLogInfo]: event china_events.352" }
	title = china_events.352.t
	desc = {
		text = china_events.352.d_lkt
		trigger = {
			YUN = { china_is_aligned_with_left_kmt = yes }
		}
	}
	desc = {
		text = china_events.352.d_lkt
		trigger = {
			YUN = { china_is_aligned_with_right_kmt = yes }
		}
	}
	picture = GFX_news_event_YUN_chen_cheng

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.352.a
	}
}

news_event = { #The Blueshirt Revolution
	id = china_events.353
	immediate = { log = "[GetLogInfo]: event china_events.353" }
	title = china_events.353.t
	desc = china_events.353.d
	picture = GFX_news_event_YUN_blueshirts

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.353.a
	}
}

news_event = { #Zhejiang Revolutionaries Prevail
	id = china_events.354
	immediate = { log = "[GetLogInfo]: event china_events.354" }
	title = china_events.354.t
	desc = china_events.354.d
	picture = GFX_news_event_YUN_dai_jitao

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.354.a
	}
}

news_event = { #The Chinese Meiji Restoration
	id = china_events.355
	immediate = { log = "[GetLogInfo]: event china_events.355" }
	title = china_events.355.t
	desc = china_events.355.d
	picture = GFX_news_event_YUN_zhang_qun

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.355.a
	}
}

news_event = { #Rule of the Revolution's Most Loyal Soldier
	id = china_events.356
	immediate = { log = "[GetLogInfo]: event china_events.356" }
	title = china_events.356.t
	desc = china_events.356.d
	picture = GFX_news_event_YUN_zhu_peide_takes_over

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.356.a
	}
}

news_event = { #A Yunnan Thermidor?
	id = china_events.357
	immediate = { log = "[GetLogInfo]: event china_events.357" }
	title = china_events.357.t
	desc = china_events.357.d
	picture = GFX_news_event_YUN_zhu_de_takes_over

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.357.a
	}
}

news_event = { #Guangdong's Federalists Unite China
	id = china_events.358
	immediate = { log = "[GetLogInfo]: event china_events.358" }
	title = china_events.358.t
	desc = china_events.358.d
	picture = GFX_news_event_GXC_federalist_unification

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.358.a
	}
}

news_event = { #Chen Jiongming Unites China
	id = china_events.359
	immediate = { log = "[GetLogInfo]: event china_events.359" }
	title = china_events.359.t
	desc = china_events.359.d
	picture = GFX_news_event_GXC_chen_jiongming

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.359.a
	}
}

news_event = { #Yunnan Federalists Unite China
	id = china_events.360
	immediate = { log = "[GetLogInfo]: event china_events.360" }
	title = china_events.360.t
	desc = china_events.360.d
	picture = GFX_news_event_YUN_tang_unifcation

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.360.a
	}
}

news_event = { #Guangxi Warlords Unite China
	id = china_events.361
	immediate = { log = "[GetLogInfo]: event china_events.361" }
	title = china_events.361.t
	desc = china_events.361.d
	picture = GFX_news_event_GXC_soldiers_guangzhou

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.361.a
	}
}

news_event = { #Guangxi Warlords Unite China (Shen)
	id = china_events.3610
	immediate = { log = "[GetLogInfo]: event china_events.3610" }
	title = china_events.3610.t
	desc = china_events.3610.d
	picture = GFX_news_event_GXC_li_yaohan

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.3610.a
	}
}

news_event = { #Cantonese Merchants Unite China
	id = china_events.362
	immediate = { log = "[GetLogInfo]: event china_events.362" }
	title = china_events.362.t
	desc = china_events.362.d
	picture = GFX_news_event_GXC_chen_lianbo

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.362.a
	}
}

news_event = { #Yunnan Warlords Unite China
	id = china_events.363
	immediate = { log = "[GetLogInfo]: event china_events.363" }
	title = china_events.363.t
	desc = china_events.363.d
	picture = GFX_news_event_YUN_yunnan_soldiers

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.363.a
	}
}

news_event = { #Sichuan Democrats Unite China
	id = china_events.364
	immediate = { log = "[GetLogInfo]: event china_events.364" }
	title = china_events.364.t
	desc = china_events.364.d
	picture = GFX_news_event_china_china_democratic_league

	trigger = {
		wants_world_news = yes
	}

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = china_events.364.a
	}
}

### Faction Joining Events
country_event = {
	id = china_events.401 #China seeks to join the Internationale
	title = china_events.401.t
	desc = china_events.401.d
	picture = GFX_report_event_CHI_french_army

	is_triggered_only = yes #Fired from decision

	trigger = {
		FROM = { is_in_faction = no }
	}

	option = {
		log = "[GetLogInfo]: event china_events.401 option china_events.401.a"
		name = china_events.401.a #Together we shall free the world!
		ai_chance = { base = 100 }
		add_to_faction = FROM
		FROM = { country_event = china_events.402 }
	}

	option = {
		log = "[GetLogInfo]: event china_events.401 option china_events.401.b"
		name = china_events.401.b #They are far too unorthodox for our taste.
		ai_chance = { base = 0 }
		FROM = { country_event = china_events.403 }
	}
}

country_event = {
	id = china_events.402 #China Joins the Internationale!
	title = china_events.402.t
	desc = china_events.402.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.402 option china_events.402.a"
		name = china_events.402.a #Together we complete the world revolution!
		if = {
			limit = { has_global_flag = allow_sound_events_flag }
			hidden_effect = { scoped_play_song = syn_the_internationale }
		}
	}
}

country_event = {
	id = china_events.403 #Our Application Declined.
	title = china_events.403.t
	desc = china_events.403.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.403 option china_events.403.a"
		name = china_events.403.a #Imperialists can never truly shed their roots.
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

country_event = {
	id = china_events.404 #China seeks to join the Reichspakt
	title = china_events.404.t
	desc = china_events.404.d
	picture = GFX_report_event_LEP_march

	is_triggered_only = yes #Fired from decision

	trigger = {
		FROM = { is_in_faction = no }
	}

	option = {
		log = "[GetLogInfo]: event china_events.404 option china_events.404.a"
		name = china_events.404.a #Yes
		ai_chance = { base = 100 }
		faction_leader = { add_to_faction = FROM }
		FROM = { country_event = china_events.405 }
	}

	option = {
		log = "[GetLogInfo]: event china_events.404 option china_events.404.b"
		name = china_events.404.b #No
		ai_chance = { base = 0 }
		FROM = { country_event = china_events.406 }
	}
}

country_event = {
	id = china_events.405 #China Joins the Reichspakt!
	title = china_events.405.t
	desc = china_events.405.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.405 option china_events.405.a"
		name = china_events.405.a #Yay
	}
}

country_event = {
	id = china_events.406 #Our Application Declined.
	title = china_events.406.t
	desc = china_events.406.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.406 option china_events.406.a"
		name = china_events.406.a #Boo
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}
country_event = {
	id = china_events.407 #China seeks to join the Moscow Accord
	title = china_events.407.t
	desc = china_events.407.d
	picture = GFX_report_event_RUS_army4

	is_triggered_only = yes #Fired from decision

	trigger = {
		FROM = { is_in_faction = no }
	}

	option = {
		log = "[GetLogInfo]: event china_events.407 option china_events.407.a"
		name = china_events.407.a #Yes
		ai_chance = { base = 100 }
		faction_leader = { add_to_faction = FROM }
		FROM = { country_event = china_events.408 }
	}

	option = {
		log = "[GetLogInfo]: event china_events.407 option china_events.407.b"
		name = china_events.407.b #No
		ai_chance = { base = 0 }
		FROM = { country_event = china_events.409 }
	}
}

country_event = {
	id = china_events.408 #China Joins the Moscow Accord
	title = china_events.408.t
	desc = china_events.408.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.408 option china_events.408.a"
		name = china_events.408.a #Yay
	}
}

country_event = {
	id = china_events.409 #Our Application Declined.
	title = china_events.409.t
	desc = china_events.409.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.409 option china_events.409.a"
		name = china_events.409.a #Boo
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}
country_event = {
	id = china_events.410 #China seeks to join the Co-Prosperity Sphere
	title = china_events.410.t
	desc = china_events.410.d
	picture = GFX_report_event_JAP_parade_shanghai

	is_triggered_only = yes #Fired from decision

	trigger = {
		FROM = { is_in_faction = no }
	}

	option = {
		log = "[GetLogInfo]: event china_events.410 option china_events.410.a"
		name = china_events.410.a #Yes
		ai_chance = { base = 100 }
		faction_leader = { add_to_faction = FROM }
		FROM = { country_event = china_events.411 }
	}

	option = {
		log = "[GetLogInfo]: event china_events.410 option china_events.410.b"
		name = china_events.410.b #No
		ai_chance = { base = 0 }
		FROM = { country_event = china_events.412 }
	}
}
country_event = {
	id = china_events.411 #China Joins the Co-Prosperity Sphere
	title = china_events.411.t
	desc = china_events.411.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.411 option china_events.411.a"
		name = china_events.411.a #Yay
	}
}

country_event = {
	id = china_events.412 #Our Application Declined.
	title = china_events.412.t
	desc = china_events.412.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.412 option china_events.412.a"
		name = china_events.412.a #Boo
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

country_event = {
	id = china_events.413 #China seeks to join the Entente
	title = china_events.413.t
	desc = china_events.413.d
	picture = GFX_report_event_CAN_king_army

	is_triggered_only = yes #Fired from decision china_join_the_entente_decision

	trigger = {
		FROM = { is_in_faction = no }
	}

	option = {
		log = "[GetLogInfo]: event china_events.413 option china_events.413.a"
		name = china_events.413.a #Yes
		ai_chance = { base = 100 }
		faction_leader = { add_to_faction = FROM }
		FROM = { country_event = china_events.414 }
	}

	option = {
		log = "[GetLogInfo]: event china_events.413 option china_events.413.b"
		name = china_events.413.b #No
		ai_chance = { base = 0 }
		FROM = { country_event = china_events.415 }
	}
}
country_event = {
	id = china_events.414 #China Joins the Entente
	title = china_events.414.t
	desc = china_events.414.d
	picture = GFX_report_event_USA_victory_celebration

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.414 option china_events.414.a"
		name = china_events.414.a #Yay
	}
}

country_event = {
	id = china_events.415 #Our Application Declined.
	title = china_events.415.t
	desc = china_events.415.d
	picture = GFX_report_event_USA_capitol_hill

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.415 option china_events.415.a"
		name = china_events.415.a #Boo
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

country_event = {
	id = china_events.416 #China seeks to join the American Faction
	title = china_events.416.t
	desc = china_events.416.d
	picture = GFX_report_event_USA_artillery

	is_triggered_only = yes #Fired from decision china_join_america_decision

	trigger = {
		FROM = { is_in_faction = no }
	}

	option = {
		log = "[GetLogInfo]: event china_events.416 option china_events.416.a"
		name = china_events.416.a #Yes
		ai_chance = { base = 100 }
		faction_leader = { add_to_faction = FROM }
		FROM = { country_event = china_events.417 }
	}

	option = {
		log = "[GetLogInfo]: event china_events.416 option china_events.416.b"
		name = china_events.416.b #No
		ai_chance = { base = 0 }
		FROM = { country_event = china_events.418 }
	}
}
country_event = {
	id = china_events.417 #China Joins the American Faction
	title = china_events.417.t
	desc = china_events.417.d
	picture = GFX_report_event_USA_victory_celebration

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.417 option china_events.417.a"
		name = china_events.417.a #Yay
	}
}

country_event = {
	id = china_events.418 #Our Application Declined.
	title = china_events.418.t
	desc = china_events.418.d
	picture = GFX_report_event_USA_capitol_hill

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.418 option china_events.418.a"
		name = china_events.418.a #Boo
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

country_event = {
	id = china_events.422 #[FROM.GetName] seeks to join the [ROOT.GetFaction]
	title = china_events.422.t
	desc = china_events.422.d
	picture = GFX_report_event_CHI_french_army

	is_triggered_only = yes #Fired from decision

	trigger = {
		FROM = {
			is_in_faction = no
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.422 option china_events.422.a"
		name = china_events.422.a #Yes
		ai_chance = {
			base = 100
			modifier = {
				factor = 0 #Won't agree if you have any claims or cores China has
				FROM = {
					OR = {
						any_owned_state = { china_is_chinese_core_or_claim_trigger = yes }
						any_subject_country = { any_owned_state = { china_is_chinese_core_or_claim_trigger = yes } }
					}
				}
			}
		}
		faction_leader = { add_to_faction = FROM }
		FROM = { country_event = china_events.423 }
	}

	option = {
		log = "[GetLogInfo]: event china_events.422 option china_events.422.b"
		name = china_events.422.b #No
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				FROM = {
					OR = {
						surrender_progress > 0.3
						any_enemy_country = { strength_ratio = { tag = ROOT ratio > 1 } }
					}
					any_enemy_country = { at_war_with_or_justifying_wargoal_against_ROOT = no }
				}
			}

			#Game Rules
			modifier = {
				factor = 0
				FROM = {
					tag = INC
					has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI }
				}
			}
			modifier = {
				factor = 0
				FROM = {
					tag = INS
					has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI }
				}
			}
			modifier = {
				factor = 0
				FROM = {
					tag = SIA
					has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI }
				}
			}
		}
		FROM = { country_event = china_events.424 }
	}
}

country_event = {
	id = china_events.423 #[ROOT.GetName] Joins the [FROM.GetFaction]!
	title = china_events.423.t
	desc = china_events.423.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.423 option china_events.423.a"
		name = china_events.423.a #Yay
	}
}

country_event = {
	id = china_events.424 #Our Application Denied.
	title = china_events.424.t
	desc = china_events.424.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.424 option china_events.424.a"
		name = china_events.424.a #Boo
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

country_event = { #invite from CHN
	id = china_events.425
	title = china_events.425.t
	desc = china_events.425.d
	picture = GFX_report_event_generic_diplomacy3
	is_triggered_only = yes
	option = {
		log = "[GetLogInfo]: event china_events.425 option china_events.425.a"
		name = china_events.425.a #Together for peace!
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value < 25 }
			}
			modifier = {
				add = 100
				JAP = { is_subject_of = FROM } #Add a bunch of bonus reasons to join if China fully defeated JAP
			}
			modifier = {
				factor = 0
				has_opinion = { target = FROM value < 0 }
				NOT = { #Bypass the opinion requirement if a CHI forpol gamerule is set. This basically applies to Feng Yuxiang only since these paths are for socialists.
					AND = {
						tag = ARM
						has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_PER }
						PER = { is_in_faction_with = CHI }
					}
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_CHI }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_CHI }
					}
					AND = {
						tag = HND
						has_game_rule = { rule = HND_forpol option = HND_FORPOL_CHI }
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_CHI }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI }
					}
					AND = {
						tag = PER
						has_game_rule = { rule = PER_forpol option = PER_FORPOL_CHI }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_CHI }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI }
					}
					AND = {
						tag = TUR
						has_game_rule = { rule = TUR_forpol option = TUR_FORPOL_CHI }
					}
				}
			}
			modifier = {
				add = 100 #Add a bunch of bonus reasons to join if a CHI forpol gamerule is set
				OR = {
					AND = {
						tag = ARM
						has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_PER }
						PER = { is_in_faction_with = CHI }
					}
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_CHI }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_CHI }
					}
					AND = {
						tag = HND
						has_game_rule = { rule = HND_forpol option = HND_FORPOL_CHI }
						NOT = { has_government = radical_socialist } #The Radsocs in HND are isolationists
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_CHI }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI }
					}
					AND = {
						tag = PER
						has_game_rule = { rule = PER_forpol option = PER_FORPOL_CHI }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_CHI }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI }
					}
					AND = {
						tag = TUR
						has_game_rule = { rule = TUR_forpol option = TUR_FORPOL_CHI }
					}
				}
			}
			modifier = {
				factor = 0 #Give 0 reason to join if a tag has a non CHI forpol gamerule set
				OR = {
					AND = {
						tag = ARM
						NOT = { has_game_rule = { rule = ARM_forpol option = DEFAULT } }
						NOT = {
							AND = {
								has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_PER }
								PER = { is_in_faction_with = CHI }
							}
						}
					}
					AND = {
						tag = BRM
						NOT = { has_game_rule = { rule = BRM_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_CHI } }
					}
					AND = {
						tag = HAW
						NOT = { has_game_rule = { rule = HAW_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_CHI } }
					}
					AND = {
						tag = HND
						NOT = { has_game_rule = { rule = HND_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = HND_forpol option = HND_FORPOL_CHI } }
					}
					AND = {
						tag = INC
						NOT = { has_game_rule = { rule = INC_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = INC_forpol option = INC_FORPOL_CHI } }
					}
					AND = {
						tag = INS
						NOT = { has_game_rule = { rule = INS_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI } }
					}
					AND = {
						tag = PER
						NOT = { has_game_rule = { rule = PER_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = PER_forpol option = PER_FORPOL_CHI } }
					}
					AND = {
						tag = PHI
						NOT = { has_game_rule = { rule = PHI_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_CHI } }
					}
					AND = {
						tag = SIA
						NOT = { has_game_rule = { rule = SIA_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI } }
					}
					AND = {
						tag = TUR
						NOT = { has_game_rule = { rule = TUR_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = TUR_forpol option = TUR_FORPOL_CHI } }
					}
				}
			}
		}
		FROM = { country_event = china_events.426 } #FROM joins us
	}
	option = {
		log = "[GetLogInfo]: event china_events.425 option china_events.425.b"
		name = china_events.425.b #No, we have nothing to gain from this
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 75 }
			}
			modifier = {
				factor = 0
				JAP = { is_subject_of = FROM } #Give 0 reason to join if China fully defeated JAP
			}
			modifier = {
				factor = 0
				has_opinion = { target = FROM value > 95 }
				NOT = { #Bypass +95 opinion making joining guaranteed if a non CHI forpol gamerule is set
					AND = {
						tag = ARM
						NOT = { has_game_rule = { rule = ARM_forpol option = DEFAULT } }
						NOT = {
							AND = {
								has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_PER }
								PER = { is_in_faction_with = CHI }
							}
						}
					}
					AND = {
						tag = BRM
						NOT = { has_game_rule = { rule = BRM_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_CHI } }
					}
					AND = {
						tag = HAW
						NOT = { has_game_rule = { rule = HAW_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_CHI } }
					}
					AND = {
						tag = HND
						NOT = { has_game_rule = { rule = HND_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = HND_forpol option = HND_FORPOL_CHI } }
					}
					AND = {
						tag = INC
						NOT = { has_game_rule = { rule = INC_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = INC_forpol option = INC_FORPOL_CHI } }
					}
					AND = {
						tag = INS
						NOT = { has_game_rule = { rule = INS_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI } }
					}
					AND = {
						tag = PER
						NOT = { has_game_rule = { rule = PER_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = PER_forpol option = PER_FORPOL_CHI } }
					}
					AND = {
						tag = PHI
						NOT = { has_game_rule = { rule = PHI_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_CHI } }
					}
					AND = {
						tag = SIA
						NOT = { has_game_rule = { rule = SIA_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI } }
					}
					AND = {
						tag = TUR
						NOT = { has_game_rule = { rule = TUR_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = TUR_forpol option = TUR_FORPOL_CHI } }
					}
				}
			}
			modifier = {
				add = 100 #Add a bunch of bonus reasons to deny if a non CHI forpol gamerule is set
				OR = {
					AND = {
						tag = ARM
						NOT = { has_game_rule = { rule = ARM_forpol option = DEFAULT } }
						NOT = {
							AND = {
								has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_PER }
								PER = { is_in_faction_with = CHI }
							}
						}
					}
					AND = {
						tag = BRM
						NOT = { has_game_rule = { rule = BRM_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_CHI } }
					}
					AND = {
						tag = HAW
						NOT = { has_game_rule = { rule = HAW_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_CHI } }
					}
					AND = {
						tag = HND
						NOT = { has_game_rule = { rule = HND_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = HND_forpol option = HND_FORPOL_CHI } }
					}
					AND = {
						tag = INC
						NOT = { has_game_rule = { rule = INC_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = INC_forpol option = INC_FORPOL_CHI } }
					}
					AND = {
						tag = INS
						NOT = { has_game_rule = { rule = INS_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI } }
					}
					AND = {
						tag = PER
						NOT = { has_game_rule = { rule = PER_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = PER_forpol option = PER_FORPOL_CHI } }
					}
					AND = {
						tag = PHI
						NOT = { has_game_rule = { rule = PHI_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_CHI } }
					}
					AND = {
						tag = SIA
						NOT = { has_game_rule = { rule = SIA_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI } }
					}
					AND = {
						tag = TUR
						NOT = { has_game_rule = { rule = TUR_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = TUR_forpol option = TUR_FORPOL_CHI } }
					}
				}
			}
			modifier = {
				factor = 0 #Give them 0 reason to deny if they have a pro CHI forpol gamerule
				OR = {
					AND = {
						tag = ARM
						has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_PER }
						PER = { is_in_faction_with = CHI }
					}
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_CHI }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_CHI }
					}
					AND = {
						tag = HND
						has_game_rule = { rule = HND_forpol option = HND_FORPOL_CHI }
						NOT = { has_government = radical_socialist } #The Radsocs in HND are isolationists
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_CHI }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI }
					}
					AND = {
						tag = PER
						has_game_rule = { rule = PER_forpol option = PER_FORPOL_CHI }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_CHI }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI }
					}
					AND = {
						tag = TUR
						has_game_rule = { rule = TUR_forpol option = TUR_FORPOL_CHI }
					}
				}
			}
		}
		FROM = {
			country_event = { id = china_events.427 days = 3 } #Their loss
		}
	}
}

country_event = { #FROM accepts our invitation
	id = china_events.426
	title = china_events.426.t
	desc = china_events.426.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.426 option china_events.426.a"
		name = china_events.426.a #Together for Victory!
		add_political_power = 20
		add_to_faction = FROM
	}
}
country_event = { #FROM refuses
	id = china_events.427
	title = china_events.427.t
	desc = china_events.427.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event china_events.427 option china_events.427.a"
		name = china_events.427.a #Their loss
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

###########################
### RKMT Zeal Mechanics ###
###########################
country_event = {
	id = RKT.zealmechanic.001 #Three Principles Revised in [FROM.GetNameDef]!
	title = RKT.zealmechanic.001.t
	desc = RKT.zealmechanic.001.d
	picture = GFX_report_event_CHI_sun_yat_sen

	is_triggered_only = yes #Decision RKT_revising_the_three_principles_decision

	option = {
		log = "[GetLogInfo]: event RKT.zealmechanic.001 option RKT.zealmechanic.001.a"
		name = RKT.zealmechanic.001.a #We must enforce party orthodoxy!
		add_political_power = -30
	}
	option = {
		log = "[GetLogInfo]: event RKT.zealmechanic.001 option RKT.zealmechanic.001.b"
		name = RKT.zealmechanic.001.b #A little flexibility does us no harm...
		RKT_sub_zeal_medium_effect = yes
	}
}

country_event = {
	id = RKT.zealmechanic.002 #[FROM.GetAdjective] Fidelity to the Three Principles
	title = RKT.zealmechanic.002.t
	desc = RKT.zealmechanic.002.d
	picture = GFX_report_event_CHI_dr_sun_yat_sen_express_train

	is_triggered_only = yes #Decision RKT_implementing_the_three_principles_decision

	option = {
		log = "[GetLogInfo]: event RKT.zealmechanic.002 option RKT.zealmechanic.002.a"
		name = RKT.zealmechanic.002.a #An opportunity to bring them into the fold.
		add_political_power = 30 #Does not include the 10 pp"tax"
	}
	option = {
		log = "[GetLogInfo]: event RKT.zealmechanic.002 option RKT.zealmechanic.002.b"
		name = RKT.zealmechanic.002.b #An example for all faithful to behold!
		RKT_add_zeal_medium_effect = yes
	}
}

country_event = {
	id = RKT.zealmechanic.003 #Regional Insubordination in [FROM.GetNameDef]!
	title = RKT.zealmechanic.003.t
	desc = RKT.zealmechanic.003.d
	picture = GFX_report_event_QIE_warlord_soldiers

	is_triggered_only = yes #Decision RKT_defend_our_autonomy_decision

	option = {
		log = "[GetLogInfo]: event RKT.zealmechanic.003 option RKT.zealmechanic.003.a"
		name = RKT.zealmechanic.003.a #We must bring them to heel.
		add_stability = -0.03
	}
	option = {
		log = "[GetLogInfo]: event RKT.zealmechanic.003 option RKT.zealmechanic.003.b"
		name = RKT.zealmechanic.003.b #All will submit in the end.
		RKT_sub_zeal_medium_effect = yes
	}
}

country_event = {
	id = RKT.zealmechanic.004 #[FROM.GetAdjective] Support for the National Cause!
	title = RKT.zealmechanic.004.t
	desc = RKT.zealmechanic.004.d
	picture = GFX_report_event_CHI_trucks

	is_triggered_only = yes #Decision RKT_express_our_loyalty_decision

	option = {
		log = "[GetLogInfo]: event RKT.zealmechanic.004 option RKT.zealmechanic.004.a"
		name = RKT.zealmechanic.004.a #The reality is [ROOT.Capital.GetCapitalVictoryPointName] comes first."
		add_stability = 0.03
	}
	option = {
		log = "[GetLogInfo]: event RKT.zealmechanic.004 option RKT.zealmechanic.004.b"
		name = RKT.zealmechanic.004.b #Their heroism helps all patriots.
		RKT_add_zeal_medium_effect = yes
	}
}

country_event = {
	id = RKT.zealmechanic.005 #Stolen Party Legitimacy in [FROM.GetNameDef]!
	title = RKT.zealmechanic.005.t
	desc = RKT.zealmechanic.005.d
	picture = GFX_report_event_CHI_successful_northern_expedition_flag

	is_triggered_only = yes #Decision RKT_coopt_kuomintang_legitimacy_decision

	option = {
		log = "[GetLogInfo]: event RKT.zealmechanic.005 option RKT.zealmechanic.005.a"
		name = RKT.zealmechanic.005.a #We must assure the people we are better than them.
		add_war_support = -0.03
	}
	option = {
		log = "[GetLogInfo]: event RKT.zealmechanic.005 option RKT.zealmechanic.005.b"
		name = RKT.zealmechanic.005.b #The people will see through their charade on their own.
		RKT_sub_zeal_medium_effect = yes
	}
}

country_event = {
	id = RKT.zealmechanic.006 #[FROM.GetAdjective] Patriots Rally!
	title = RKT.zealmechanic.006.t
	desc = RKT.zealmechanic.006.d
	picture = GFX_report_event_CHN_victory_anniversary_parade

	is_triggered_only = yes #Decision RKT_exhort_national_unity_decision

	option = {
		log = "[GetLogInfo]: event RKT.zealmechanic.006 option RKT.zealmechanic.006.a"
		name = RKT.zealmechanic.006.a #The warlord and reactionary quake in our sight!
		add_war_support = 0.03
	}
	option = {
		log = "[GetLogInfo]: event RKT.zealmechanic.006 option RKT.zealmechanic.006.b"
		name = RKT.zealmechanic.006.b #The foreign imperialists shall fear our wrath!
		RKT_add_zeal_medium_effect = yes
	}
}

####################################
##### Kuomintang Flavour #####
####################################

country_event = {
	id = china_events.800 #Saving the Country through Art
	title = china_events.800.t
	desc = china_events.800.d
	picture = GFX_report_event_CHN_victory_anniversary_parade

	is_triggered_only = yes #DecisionUnite China if RKMT aligned

	option = {
		log = "[GetLogInfo]: event china_events.800 option china_events.800.a"
		name = china_events.800.a #A modern maestro!
		add_war_support = 0.03
	}
}

country_event = {
	id = china_events.801 #The One Eyed Dragon
	title = china_events.801.t
	desc = china_events.801.d
	picture = GFX_report_event_CHN_KMT_NRA_soldier_flag

	is_triggered_only = yes #[ONACTION]: Completes Peace Conference while owning Chongqing, SZC doesnt exist, LKT.
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event china_events.801 option china_events.801.a"
		name = china_events.801.a #Our Revolution welcomes heroes such as him!
		SZC = { SZC_liu_bocheng = { custom_effect_tooltip = character_becomes_a_general } }
		if = {
			limit = { tag = CHI }
			CHI_PAC_small_effect = yes
		}
		else_if = {
			limit = { tag = GXC }
			GXC_GPA_small_effect = yes
		}
		else_if = {
			limit = { tag = YUN }
			YUN_CEC_small_effect = yes
			YUN_3AL_small_effect = yes
			YUN_YSP_small_effect = yes
		}
		hidden_effect = {
			SZC = { SZC_liu_bocheng = { CHN_recruit_character_effect = yes } }
		}
	}
	option = {
		log = "[GetLogInfo]: event china_events.801 option china_events.801.b"
		name = china_events.801.b #A well known trouble maker, we cannot tolerate his subversive attitude.
		add_political_power = 15
		if = {
			limit = { tag = CHI }
			CHI_RCA_medium_effect = yes
		}
		else_if = {
			limit = { tag = GXC }
			GXC_PPP_small_effect = yes
		}
		else_if = {
			limit = { tag = YUN }
			YUN_WPC_small_effect = yes
			YUN_3AR_small_effect = yes
			YUN_PSC_small_effect = yes
		}
	}
}

country_event = {
	id = china_events.802 #Burning Timber in New Sichuan
	title = china_events.802.t
	desc = china_events.802.d
	picture = GFX_report_event_CHN_KMT_NRA_soldier_flag

	is_triggered_only = yes #[ONACTION]: Completes Peace Conference while owning Chongqing, SZC doesnt exist, RKT.
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event china_events.802 option china_events.802.a"
		name = china_events.802.a #The personal acclamation of the Guofu moves mountains!
		SZC = { SZC_lu_chao = { custom_effect_tooltip = character_becomes_a_general } }
		if = {
			limit = { tag = GXC }
			GXC_NGX_small_effect = yes
			GXC_WHC_small_effect = yes
		}
		else_if = {
			limit = { tag = YUN }
			YUN_WPC_small_effect = yes
			YUN_BSS_small_effect = yes
		}
		else_if = {
			limit = { tag = HNN }
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.01
			}
		}
		hidden_effect = {
			SZC = { SZC_lu_chao = { CHN_recruit_character_effect = yes } }
		}
	}
	option = {
		log = "[GetLogInfo]: event china_events.802 option china_events.802.b"
		name = china_events.802.b #Li has enough friends. Thank you, next.
		add_political_power = 15
		if = {
			limit = { tag = GXC }
			GXC_EDC_small_effect = yes
			GXC_RCF_small_effect = yes
		}
		else_if = {
			limit = { tag = YUN }
			YUN_3AR_small_effect = yes
			YUN_PSC_small_effect = yes
		}
		else_if = {
			limit = { tag = HNN }
			add_popularity = {
				ideology = social_democrat
				popularity = 0.01
			}
		}
	}
}

####################################
### Southern China War Mechanics ###
####################################
country_event = { #The Southern Standoff
	id = china_events.450
	title = china_events.450.t
	desc = china_events.450.d
	picture = GFX_report_event_YUN_army

	is_triggered_only = yes ##Triggered by EVENT: league_collapse.106 #Hunan Secedes

	option = {
		log = "[GetLogInfo]: event china_events.450 option china_events.450.a"
		name = china_events.450.a #Let us hope we can resolve things peacefully...
		custom_effect_tooltip = china_events.450_tt
	}
}
country_event = { #A War for the South? [GXC Variant]
	id = china_events.451
	title = china_events.451.t
	desc = china_events.451.d
	picture = GFX_report_event_YUN_KMT_march

	is_triggered_only = yes ##Fired by [On Action] if HNN and YUN go to war and all three are independent.

	immediate = {
		hidden_effect = {
			set_global_flag = CHN_south_china_war_started
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.451 option china_events.451.a"
		name = china_events.451.a #We shall declare war on Hunan.
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
					NOT = {
						#If HNN and YUN are not aligned with you, will steer AI to declare war on both or stay neutral.
						HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
						YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
					}
				}
			}
		}
		if = {
			limit = { HNN = { ROOT = { china_same_alignment_as_PREV = yes } } }
			add_political_power = -35
			add_stability = -0.03
			add_war_support = -0.03
			custom_effect_tooltip = CHN_penalty_for_greater_alignment_tt
		}
		else = {
			#Everyone else
			add_political_power = -15
			add_stability = -0.01
			add_war_support = -0.01
		}
		declare_war_on = {
			target = HNN
			type = annex_everything
		}
		news_event = china_events.462 #The South China War [All Against HNN]
	}
	option = {
		log = "[GetLogInfo]: event china_events.451 option china_events.451.b"
		name = china_events.451.b #We shall declare war on Yunnan.
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
					NOT = {
						#If HNN and YUN are not aligned with you, will steer AI to declare war on both or stay neutral.
						HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
						YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
					}
				}
			}
		}
		if = {
			limit = { YUN = { ROOT = { china_same_alignment_as_PREV = yes } } }
			add_political_power = -35
			add_stability = -0.03
			add_war_support = -0.03
			custom_effect_tooltip = CHN_penalty_for_greater_alignment_tt
		}
		else = {
			#Everyone else
			add_political_power = -15
			add_stability = -0.01
			add_war_support = -0.01
		}
		declare_war_on = {
			target = YUN
			type = annex_everything
		}
		news_event = china_events.463 #The South China War [All Against YUN]
	}
	option = {
		log = "[GetLogInfo]: event china_events.451 option china_events.451.c"
		name = china_events.451.c #We shall declare war on both.
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
					YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
				}
			}
		}
		if = {
			limit = {
				HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
				YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
			}
			add_political_power = -50
			add_stability = -0.05
			add_war_support = -0.05
			custom_effect_tooltip = CHN_penalty_for_greater_alignment_tt
		}
		else_if = {
			limit = {
				OR = {
					HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
					YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
				}
			}
			add_political_power = -35
			add_stability = -0.03
			add_war_support = -0.03
			custom_effect_tooltip = CHN_penalty_for_greater_alignment_tt
		}
		else = {
			#Everyone else
			add_political_power = -15
			add_stability = -0.01
			add_war_support = -0.01
		}
		declare_war_on = {
			target = HNN
			type = annex_everything
		}
		declare_war_on = {
			target = YUN
			type = annex_everything
		}
		news_event = china_events.460 #The South China War [Three Way]
	}
	option = {
		log = "[GetLogInfo]: event china_events.451 option china_events.451.e"
		name = china_events.451.e #We shall declare our neutrality in this conflict.
		ai_chance = {
			base = 10
			modifier = {
				factor = 0 #Will never be neutral if one is aligned. May be neutral if both are.
				OR = {
					HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
					YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
				}
				NOT = {
					AND = {
						HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
						YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
					}
				}
			}
		}
	}
}

country_event = { #A War for the South? [HNN Variant]
	id = china_events.452
	title = china_events.452.t
	desc = china_events.452.d
	picture = GFX_report_event_YUN_KMT_march

	is_triggered_only = yes ##Fired by [On Action] if GXC and YUN go to war and all three are independent.

	immediate = {
		hidden_effect = {
			set_global_flag = CHN_south_china_war_started
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.452 option china_events.452.a"
		name = china_events.452.a #We shall declare war on Liangguang.
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
					NOT = {
						#If HNN and YUN are not aligned with you, will steer AI to declare war on both or stay neutral.
						GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
						YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
					}
				}
			}
		}
		if = {
			limit = { GXC = { ROOT = { china_same_alignment_as_PREV = yes } } }
			add_political_power = -35
			add_stability = -0.03
			add_war_support = -0.03
			custom_effect_tooltip = CHN_penalty_for_greater_alignment_tt
		}
		else = {
			#Everyone else
			add_political_power = -15
			add_stability = -0.01
			add_war_support = -0.01
		}
		declare_war_on = {
			target = GXC
			type = annex_everything
		}
		news_event = china_events.461 #The South China War [All Against GXC]
	}
	option = {
		log = "[GetLogInfo]: event china_events.452 option china_events.452.b"
		name = china_events.452.b #We shall declare war on Yunnan.
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
					NOT = {
						#If HNN and YUN are not aligned with you, will steer AI to declare war on both or stay neutral.
						GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
						YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
					}
				}
			}
		}
		if = {
			limit = { YUN = { ROOT = { china_same_alignment_as_PREV = yes } } }
			add_political_power = -35
			add_stability = -0.03
			add_war_support = -0.03
			custom_effect_tooltip = CHN_penalty_for_greater_alignment_tt
		}
		else = {
			#Everyone else
			add_political_power = -15
			add_stability = -0.01
			add_war_support = -0.01
		}
		declare_war_on = {
			target = YUN
			type = annex_everything
		}
		news_event = china_events.463 #The South China War [All Against YUN]
	}
	option = {
		log = "[GetLogInfo]: event china_events.452 option china_events.452.c"
		name = china_events.452.c #We shall declare war on both.
		ai_chance = {
			base = 15
			modifier = {
				factor = 0
				OR = {
					GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
					YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
				}
			}
		}
		if = {
			limit = {
				GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
				YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
			}
			add_political_power = -50
			add_stability = -0.05
			add_war_support = -0.05
			custom_effect_tooltip = CHN_penalty_for_greater_alignment_tt
		}
		else_if = {
			limit = {
				OR = {
					GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
					YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
				}
			}
			add_political_power = -35
			add_stability = -0.03
			add_war_support = -0.03
			custom_effect_tooltip = CHN_penalty_for_greater_alignment_tt
		}
		else = {
			#Everyone else
			add_political_power = -15
			add_stability = -0.01
			add_war_support = -0.01
		}
		declare_war_on = {
			target = GXC
			type = annex_everything
		}
		declare_war_on = {
			target = YUN
			type = annex_everything
		}
		news_event = china_events.460 #The South China War [Three Way]
	}
	option = {
		log = "[GetLogInfo]: event china_events.452 option china_events.452.e"
		name = china_events.452.e #We shall declare our neutrality in this conflict.
		ai_chance = {
			base = 10
			modifier = {
				factor = 0 #Will never be neutral if one is aligned. May be neutral if both are.
				OR = {
					GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
					YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
				}
				NOT = {
					AND = {
						GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
						YUN = { ROOT = { china_same_alignment_as_PREV = yes } }
					}
				}
			}
		}
	}
}

country_event = { #A War for the South? [YUN Variant]
	id = china_events.453
	title = china_events.453.t
	desc = china_events.453.d
	picture = GFX_report_event_YUN_KMT_march

	is_triggered_only = yes ##Fired by [On Action] if GXC and HNN go to war and all three are independent.

	immediate = {
		hidden_effect = {
			set_global_flag = CHN_south_china_war_started
		}
	}

	option = {
		log = "[GetLogInfo]: event china_events.453 option china_events.453.a"
		name = china_events.453.a #We shall declare war on Liangguang.
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
					NOT = {
						#If HNN and YUN are not aligned with you, will steer AI to declare war on both or stay neutral.
						GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
						HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
					}
				}
			}
		}
		if = {
			limit = { GXC = { ROOT = { china_same_alignment_as_PREV = yes } } }
			add_political_power = -35
			add_stability = -0.03
			add_war_support = -0.03
			custom_effect_tooltip = CHN_penalty_for_greater_alignment_tt
		}
		else = {
			#Everyone else
			add_political_power = -15
			add_stability = -0.01
			add_war_support = -0.01
		}
		declare_war_on = {
			target = GXC
			type = annex_everything
		}
		news_event = china_events.461 #The South China War [All Against GXC]
	}
	option = {
		log = "[GetLogInfo]: event china_events.453 option china_events.453.b"
		name = china_events.453.b #We shall declare war on Hunan.
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
					NOT = {
						#If HNN and YUN are not aligned with you, will steer AI to declare war on both or stay neutral.
						GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
						HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
					}
				}
			}
		}
		if = {
			limit = { HNN = { ROOT = { china_same_alignment_as_PREV = yes } } }
			add_political_power = -35
			add_stability = -0.03
			add_war_support = -0.03
			custom_effect_tooltip = CHN_penalty_for_greater_alignment_tt
		}
		else = {
			#Everyone else
			add_political_power = -15
			add_stability = -0.01
			add_war_support = -0.01
		}
		declare_war_on = {
			target = HNN
			type = annex_everything
		}
		news_event = china_events.463 #The South China War [All Against HNN]
	}
	option = {
		log = "[GetLogInfo]: event china_events.453 option china_events.453.c"
		name = china_events.453.c #We shall declare war on both.
		ai_chance = {
			base = 15
			modifier = {
				factor = 0
				OR = {
					GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
					HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
				}
			}
		}
		if = {
			limit = {
				GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
				HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
			}
			add_political_power = -50
			add_stability = -0.05
			add_war_support = -0.05
			custom_effect_tooltip = CHN_penalty_for_greater_alignment_tt
		}
		else_if = {
			limit = {
				OR = {
					GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
					HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
				}
			}
			add_political_power = -35
			add_stability = -0.03
			add_war_support = -0.03
			custom_effect_tooltip = CHN_penalty_for_greater_alignment_tt
		}
		else = {
			#Everyone else
			add_political_power = -15
			add_stability = -0.01
			add_war_support = -0.01
		}
		declare_war_on = {
			target = GXC
			type = annex_everything
		}
		declare_war_on = {
			target = HNN
			type = annex_everything
		}
		news_event = china_events.460 #The South China War [Three Way]
	}
	option = {
		log = "[GetLogInfo]: event china_events.453 option china_events.453.e"
		name = china_events.453.e #We shall declare our neutrality in this conflict.
		ai_chance = {
			base = 10
			modifier = {
				factor = 0 #Will never be neutral if one is aligned. May be neutral if both are.
				OR = {
					GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
					HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
				}
				NOT = {
					AND = {
						GXC = { ROOT = { china_same_alignment_as_PREV = yes } }
						HNN = { ROOT = { china_same_alignment_as_PREV = yes } }
					}
				}
			}
		}
	}
}

news_event = { #The South China War [Three Way]
	id = china_events.460
	immediate = { log = "[GetLogInfo]: event china_events.460" }
	title = china_events.460.t
	desc = china_events.460.d
	picture = GFX_news_event_YUN_south_china_war

	is_triggered_only = yes #Triggered by [EVENT] china_events.451.e, china_events.452.e, china_events.453.e

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_china_news = yes
	}

	option = {
		name = china_events.460.a #We will emerge victorious.
		log = "[GetLogInfo]: event china_events.460 option china_events.460.a"
		trigger = {
			OR = {
				tag = GXC
				tag = HNN
				tag = YUN
			}
		}
	}

	option = {
		name = china_events.460.b #Southern China falls to anarchy.
		log = "[GetLogInfo]: event china_events.460 option china_events.460.b"
		trigger = {
			NOT = {
				tag = GXC
				tag = HNN
				tag = YUN
			}
		}
	}
}

news_event = { #The South China War [All Against GXC]
	id = china_events.461
	immediate = { log = "[GetLogInfo]: event china_events.461" }
	title = china_events.461.t
	desc = china_events.461.d
	picture = GFX_news_event_YUN_south_china_war

	is_triggered_only = yes #Triggered by [EVENT] china_events.452.a, china_events.453.a

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_china_news = yes
	}

	option = {
		name = china_events.461.a #We will emerge victorious.
		log = "[GetLogInfo]: event china_events.461 option china_events.461.a"
		trigger = {
			OR = {
				tag = GXC
				tag = HNN
				tag = YUN
			}
		}
	}

	option = {
		name = china_events.461.b #We will observe these developments carefully.
		log = "[GetLogInfo]: event china_events.461 option china_events.461.b"
		trigger = {
			NOT = {
				tag = GXC
				tag = HNN
				tag = YUN
			}
		}
	}
}

news_event = { #The South China War [All Against HNN]
	id = china_events.462
	immediate = { log = "[GetLogInfo]: event china_events.462" }
	title = china_events.462.t
	desc = china_events.462.d
	picture = GFX_news_event_YUN_south_china_war

	is_triggered_only = yes #Triggered by [EVENT] china_events.451.a, china_events.453.b

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_china_news = yes
	}

	option = {
		name = china_events.462.a #We will emerge victorious.
		log = "[GetLogInfo]: event china_events.462 option china_events.462.a"
		trigger = {
			OR = {
				tag = GXC
				tag = HNN
				tag = YUN
			}
		}
	}

	option = {
		name = china_events.462.b #We will observe these developments carefully.
		log = "[GetLogInfo]: event china_events.462 option china_events.462.b"
		trigger = {
			NOT = {
				tag = GXC
				tag = HNN
				tag = YUN
			}
		}
	}
}

news_event = { #The South China War [All Against YUN]
	id = china_events.463
	immediate = { log = "[GetLogInfo]: event china_events.463" }
	title = china_events.463.t
	desc = china_events.463.d
	picture = GFX_news_event_YUN_south_china_war

	is_triggered_only = yes #Triggered by [EVENT] china_events.451.b, china_events.452.b

	major = yes
	fire_for_sender = yes
	show_major = {
		regional_china_news = yes
	}

	option = {
		name = china_events.463.a #We will emerge victorious.
		log = "[GetLogInfo]: event china_events.463 option china_events.463.a"
		trigger = {
			OR = {
				tag = GXC
				tag = HNN
				tag = YUN
			}
		}
	}

	option = {
		name = china_events.463.b #We will observe these developments carefully.
		log = "[GetLogInfo]: event china_events.463 option china_events.463.b"
		trigger = {
			NOT = {
				tag = GXC
				tag = HNN
				tag = YUN
			}
		}
	}
}

#####################
### Foreign Policy ##
#####################

### KMT Foreign Policy (000-199):
news_event = { #Foundation of the KMT Faction
	id = CHN.foreignpolicy.001
	immediate = { log = "[GetLogInfo]: event CHN.foreignpolicy.001" }
	title = CHN.foreignpolicy.001.t
	desc = {
		text = CHN.foreignpolicy.001.d.internationale_of_the_east_standard
		trigger = {
			CHN_internationale_of_the_east_leaders_trigger = yes
			NOT = {
				has_country_leader = { character = CHI_chen_gongbo }
				has_country_leader = { character = CHI_zeng_zhongming }
			}
		}
	}
	desc = {
		text = CHN.foreignpolicy.001.d.sinopacific_friendship_association
		trigger = { CHN_sino_pacific_friendship_association_leaders_trigger = yes }
	}
	desc = {
		text = CHN.foreignpolicy.001.d.asian_peoples_antiimperialism_league
		trigger = { CHN_asian_peoples_antiimperialism_league_leaders_trigger = yes }
	}
	desc = {
		text = CHN.foreignpolicy.001.d.internationale_of_the_east_and_minshengpartnership
		trigger = {
			OR = {
				has_country_leader = { character = CHI_chen_gongbo }
				has_country_leader = { character = CHI_zeng_zhongming }
			}
		}
	}
	desc = {
		text = CHN.foreignpolicy.001.d.asian_peoples_internationale
		trigger = { CHN_asian_peoples_internationale_leaders_trigger = yes }
	}
	desc = {
		text = CHN.foreignpolicy.001.d.new_asia_alliance
		trigger = { CHN_new_asia_alliance_leaders_trigger = yes }
	}
	picture = GFX_news_event_CHI_kmt_victor

	trigger = { wants_world_news = yes } #Global news event

	is_triggered_only = yes
	fire_for_sender = yes #Not sure why we had this disabled but gonna re-activate it.
	major = yes

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.001 option CHN.foreignpolicy.001.a"
		name = CHN.foreignpolicy.001.a #A menace in the East!
		trigger = { has_war_with = FROM }
	}
	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.001 option CHN.foreignpolicy.001.b"
		name = CHN.foreignpolicy.001.b #A force of liberation?
		trigger = {
			OR = {
				tag = CHN
				AND = {
					FROM = { has_socialist_government = yes }
					has_socialist_government = yes
				}
				KMT_FROM_has_compatible_government_trigger = yes
			}
			NOT = { has_war_with = FROM }
		}
	}
	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.001 option CHN.foreignpolicy.001.c"
		name = CHN.foreignpolicy.001.b #China flexes its muscles.
		trigger = {
			NOT = {
				tag = CHN
				AND = {
					FROM = { has_socialist_government = yes }
					has_socialist_government = yes
				}
				KMT_FROM_has_compatible_government_trigger = yes
				has_war_with = FROM
			}
		}
	}
}

country_event = { #invite from CHI
	id = CHN.foreignpolicy.002
	title = CHN.foreignpolicy.002.t
	desc = CHN.foreignpolicy.002.d
	picture = GFX_report_event_CHI_song_qingling_speech_world_peace
	is_triggered_only = yes
	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.002 option CHN.foreignpolicy.002.a"
		name = CHN.foreignpolicy.002.a #Together for Pan-Asianism!
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value < 25 }
			}
			modifier = {
				add = 100
				JAP = { is_subject_of = FROM } #Add a bunch of bonus reasons to join if China fully defeated JAP
			}
			modifier = {
				factor = 0
				has_opinion = { target = FROM value < 0 }
				if = {
					limit = { tag = LKT }
					NOT = { #Bypass the opinion requirement if a CHI forpol gamerule is set
						AND = {
							tag = ARM
							has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_PER }
							PER = { is_in_faction_with = CHI }
						}
						AND = {
							tag = BRM
							has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_CHI }
						}
						AND = {
							tag = HAW
							has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_CHI }
						}
						AND = {
							tag = HND
							has_game_rule = { rule = HND_forpol option = HND_FORPOL_CHI }
							NOT = { has_government = radical_socialist } #The Radsocs in HND are isolationists
						}
						AND = {
							tag = INC
							has_game_rule = { rule = INC_forpol option = INC_FORPOL_CHI }
						}
						AND = {
							tag = INS
							has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI }
						}
						AND = {
							tag = PER
							has_game_rule = { rule = PER_forpol option = PER_FORPOL_CHI }
						}
						AND = {
							tag = PHI
							has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_CHI }
						}
						AND = {
							tag = SIA
							has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI }
						}
						AND = {
							tag = TUR
							has_game_rule = { rule = TUR_forpol option = TUR_FORPOL_CHI }
						}
					}
				}
			}
			modifier = {
				add = 100 #Add a bunch of bonus reasons to join if a CHI forpol gamerule is set
				FROM = { tag = LKT }
				OR = {
					AND = {
						tag = ARM
						has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_PER }
						PER = { is_in_faction_with = CHI }
					}
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_CHI }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_CHI }
					}
					AND = {
						tag = HND
						has_game_rule = { rule = HND_forpol option = HND_FORPOL_CHI }
						NOT = { has_government = radical_socialist } #The Radsocs in HND are isolationists
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_CHI }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI }
					}
					AND = {
						tag = PER
						has_game_rule = { rule = PER_forpol option = PER_FORPOL_CHI }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_CHI }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI }
					}
					AND = {
						tag = TUR
						has_game_rule = { rule = TUR_forpol option = TUR_FORPOL_CHI }
					}
				}
			}
			modifier = {
				factor = 0 #Give 0 reason to join if a tag has a non CHI forpol gamerule set
				FROM = { tag = LKT }
				OR = {
					AND = {
						tag = ARM
						NOT = { has_game_rule = { rule = ARM_forpol option = DEFAULT } }
						NOT = {
							AND = {
								has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_PER }
								PER = { is_in_faction_with = CHI }
							}
						}
					}
					AND = {
						tag = BRM
						NOT = { has_game_rule = { rule = BRM_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_CHI } }
					}
					AND = {
						tag = HAW
						NOT = { has_game_rule = { rule = HAW_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_CHI } }
					}
					AND = {
						tag = HND
						NOT = { has_game_rule = { rule = HND_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = HND_forpol option = HND_FORPOL_CHI } }
					}
					AND = {
						tag = INC
						NOT = { has_game_rule = { rule = INC_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = INC_forpol option = INC_FORPOL_CHI } }
					}
					AND = {
						tag = INS
						NOT = { has_game_rule = { rule = INS_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI } }
					}
					AND = {
						tag = PER
						NOT = { has_game_rule = { rule = PER_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = PER_forpol option = PER_FORPOL_CHI } }
					}
					AND = {
						tag = PHI
						NOT = { has_game_rule = { rule = PHI_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_CHI } }
					}
					AND = {
						tag = SIA
						NOT = { has_game_rule = { rule = SIA_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI } }
					}
					AND = {
						tag = TUR
						NOT = { has_game_rule = { rule = TUR_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = TUR_forpol option = TUR_FORPOL_CHI } }
					}
				}
			}
		}
		FROM = {
			country_event = { id = CHN.foreignpolicy.003 days = 3 } #FROM joins us
		}
	}
	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.002 option CHN.foreignpolicy.002.b"
		name = CHN.foreignpolicy.002.b #No, we have nothing to gain from this
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value > 75 }
			}
			modifier = {
				factor = 0
				JAP = { is_subject_of = FROM } #Give 0 reason to join if CHI fully defeated JAP
			}
			modifier = {
				factor = 0
				has_opinion = { target = FROM value > 95 }
				if = {
					limit = { tag = LKT }
					NOT = { #Bypass +95 opinion making joining guaranteed if a non CHI forpol gamerule is set
						AND = {
							tag = ARM
							NOT = { has_game_rule = { rule = ARM_forpol option = DEFAULT } }
							NOT = {
								AND = {
									has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_PER }
									PER = { is_in_faction_with = FROM }
								}
							}
						}
						AND = {
							tag = BRM
							NOT = { has_game_rule = { rule = BRM_forpol option = DEFAULT } }
							NOT = { has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_CHI } }
						}
						AND = {
							tag = HAW
							NOT = { has_game_rule = { rule = HAW_forpol option = DEFAULT } }
							NOT = { has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_CHI } }
						}
						AND = {
							tag = HND
							NOT = { has_game_rule = { rule = HND_forpol option = DEFAULT } }
							NOT = { has_game_rule = { rule = HND_forpol option = HND_FORPOL_CHI } }
						}
						AND = {
							tag = INC
							NOT = { has_game_rule = { rule = INC_forpol option = DEFAULT } }
							NOT = { has_game_rule = { rule = INC_forpol option = INC_FORPOL_CHI } }
						}
						AND = {
							tag = INS
							NOT = { has_game_rule = { rule = INS_forpol option = DEFAULT } }
							NOT = { has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI } }
						}
						AND = {
							tag = PER
							NOT = { has_game_rule = { rule = PER_forpol option = DEFAULT } }
							NOT = { has_game_rule = { rule = PER_forpol option = PER_FORPOL_CHI } }
						}
						AND = {
							tag = PHI
							NOT = { has_game_rule = { rule = PHI_forpol option = DEFAULT } }
							NOT = { has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_CHI } }
						}
						AND = {
							tag = SIA
							NOT = { has_game_rule = { rule = SIA_forpol option = DEFAULT } }
							NOT = { has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI } }
						}
						AND = {
							tag = TUR
							NOT = { has_game_rule = { rule = TUR_forpol option = DEFAULT } }
							NOT = { has_game_rule = { rule = TUR_forpol option = TUR_FORPOL_CHI } }
						}
					}
				}
			}
			modifier = {
				add = 100 #Add a bunch of bonus reasons to deny if a non CHI forpol gamerule is set
				FROM = { tag = LKT }
				OR = {
					AND = {
						tag = ARM
						NOT = { has_game_rule = { rule = ARM_forpol option = DEFAULT } }
						NOT = {
							AND = {
								has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_PER }
								PER = { is_in_faction_with = CHI }
							}
						}
					}
					AND = {
						tag = BRM
						NOT = { has_game_rule = { rule = BRM_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_CHI } }
					}
					AND = {
						tag = HAW
						NOT = { has_game_rule = { rule = HAW_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_CHI } }
					}
					AND = {
						tag = HND
						NOT = { has_game_rule = { rule = HND_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = HND_forpol option = HND_FORPOL_CHI } }
					}
					AND = {
						tag = INC
						NOT = { has_game_rule = { rule = INC_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = INC_forpol option = INC_FORPOL_CHI } }
					}
					AND = {
						tag = INS
						NOT = { has_game_rule = { rule = INS_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI } }
					}
					AND = {
						tag = PER
						NOT = { has_game_rule = { rule = PER_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = PER_forpol option = PER_FORPOL_CHI } }
					}
					AND = {
						tag = PHI
						NOT = { has_game_rule = { rule = PHI_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_CHI } }
					}
					AND = {
						tag = SIA
						NOT = { has_game_rule = { rule = SIA_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI } }
					}
					AND = {
						tag = TUR
						NOT = { has_game_rule = { rule = TUR_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = TUR_forpol option = TUR_FORPOL_CHI } }
					}
				}
			}
			modifier = {
				factor = 0 #Give them 0 reason to deny if they have a pro CHI forpol gamerule
				FROM = { tag = LKT }
				OR = {
					AND = {
						tag = ARM
						has_game_rule = { rule = ARM_forpol option = ARM_FORPOL_PER }
						PER = { is_in_faction_with = CHI }
					}
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_CHI }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_CHI }
					}
					AND = {
						tag = HND
						has_game_rule = { rule = HND_forpol option = HND_FORPOL_CHI }
						NOT = { has_government = radical_socialist } #The Radsocs in HND are isolationists
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_CHI }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_CHI }
					}
					AND = {
						tag = PER
						has_game_rule = { rule = PER_forpol option = PER_FORPOL_CHI }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_CHI }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_CHI }
					}
					AND = {
						tag = TUR
						has_game_rule = { rule = TUR_forpol option = TUR_FORPOL_CHI }
					}
				}
			}
		}
		FROM = {
			country_event = { id = CHN.foreignpolicy.004 days = 3 } #Their loss
		}
	}
}

country_event = { #FROM accepts our invitation
	id = CHN.foreignpolicy.003
	title = CHN.foreignpolicy.003.t
	desc = CHN.foreignpolicy.003.d
	picture = GFX_report_event_CHN_ambassador_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.003 option CHN.foreignpolicy.003.a"
		name = CHN.foreignpolicy.003.a #Together for Victory!
		if = {
			limit = {
				FROM = {
					original_tag = PER
					is_faction_leader = yes
					NOT = { is_in_faction_with = INT }
				}
			}
			every_other_country = {
				limit = {
					is_in_faction_with = PER
					has_socialist_government = yes
					is_subject = no
					is_faction_leader = no
				}
				set_global_flag = TEMPORARY_DISABLED_FACTION_POPUP
				ROOT = { add_to_faction = PREV }
			}
			add_to_faction = FROM
		}
		else_if = {
			limit = {
				FROM = {
					original_tag = HND
					is_faction_leader = yes
					NOT = { is_in_faction_with = INT }
				}
			}
			every_other_country = {
				limit = {
					is_in_faction_with = PER
					has_socialist_government = yes
					is_subject = no
					is_faction_leader = no
				}
				set_global_flag = TEMPORARY_DISABLED_FACTION_POPUP
				ROOT = { add_to_faction = PREV }
			}
			add_to_faction = FROM
		}
		else_if = {
			limit = {
				FROM = {
					original_tag = HAW
					is_in_faction_with = INT
				}
			}
			FROM = { leave_faction = yes }
			add_to_faction = FROM
		}
		else_if = {
			limit = {
				FROM = {
					original_tag = TUR
				}
			}
			ROOT = { country_event = { id = CHI.endgame.048 days = 3 } } #TUR joins us
			add_to_faction = FROM
		}
		else = {
			add_to_faction = FROM
		}
		add_political_power = 20
	}
}
country_event = { #FROM refuses
	id = CHN.foreignpolicy.004
	title = CHN.foreignpolicy.004.t
	desc = CHN.foreignpolicy.004.d
	picture = GFX_report_event_CHN_ambassador_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.004 option CHN.foreignpolicy.004.a"
		name = CHN.foreignpolicy.004.a #Their loss
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

country_event = {
	id = CHN.foreignpolicy.005
	title = CHN.foreignpolicy.005.t
	desc = {
		text = CHN.foreignpolicy.005.nomafcollapse.d
		trigger = { CHI_asians_only_trigger = yes }
	}
	desc = {
		text = CHN.foreignpolicy.005.mafcollapse.d
		trigger = { CHI_afro_asian_trigger = yes }
	}
	picture = GFX_report_event_CHI_song_qingling_speech_world_peace
	fire_only_once = yes
	is_triggered_only = yes

	major = yes
	show_major = {
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.005 option CHN.foreignpolicy.005.a"
		name = CHN.foreignpolicy.005.a #Cheers to a New Era!
		trigger = {
			NOT = {
				num_of_controlled_factories > 50
				tag = CHI
			}
		}
		add_political_power = 10
	}

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.005 option CHN.foreignpolicy.005.b"
		name = CHN.foreignpolicy.005.b
		trigger = { #A commendable initiative!
			OR = {
				tag = CHI
				num_of_controlled_factories > 50
			}
		}
		ai_chance = { base = 100 }
		custom_effect_tooltip = CHI_invest_in_third_world_event_tt
		CHI_invest_in_third_world_activation_effect = yes
	}

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.005 option CHN.foreignpolicy.005.c"
		name = CHN.foreignpolicy.005.c #We have plans of our own.
		trigger = {
			NOT = { tag = CHI }
			num_of_controlled_factories > 50
		}
		ai_chance = { base = 0 }
		reverse_add_opinion_modifier = {
			target = CHI
			modifier = KR_displeased
		}
	}
}

country_event = {
	id = CHN.foreignpolicy.0050
	title = CHN.foreignpolicy.0050.t
	desc = {
		text = CHN.foreignpolicy.0050.nomafcollapse.d
		trigger = { CHI_asians_only_trigger = yes }
	}
	desc = {
		text = CHN.foreignpolicy.0050.mafcollapse.d
		trigger = { CHI_afro_asian_trigger = yes }
	}
	picture = GFX_report_event_GXC_peng_pai_writing
	fire_only_once = yes
	is_triggered_only = yes

	major = yes
	show_major = {
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.0050 option CHN.foreignpolicy.0050.a"
		name = CHN.foreignpolicy.0050.a #Cheers to a New Era!
		trigger = {
			NOT = {
				num_of_controlled_factories > 50
				tag = CHI
			}
		}
		add_political_power = 10
	}

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.0050 option CHN.foreignpolicy.0050.b"
		name = CHN.foreignpolicy.0050.b
		trigger = { #A commendable initiative!
			OR = {
				tag = CHI
				num_of_controlled_factories > 50
			}
		}
		ai_chance = { base = 100 }
		custom_effect_tooltip = CHI_invest_in_third_world_event_tt
		CHI_invest_in_third_world_activation_effect = yes
	}

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.0050 option CHN.foreignpolicy.0050.c"
		name = CHN.foreignpolicy.0050.c #We have plans of our own.
		trigger = {
			NOT = { tag = CHI }
			num_of_controlled_factories > 50
		}
		ai_chance = { base = 0 }
		reverse_add_opinion_modifier = {
			target = CHI
			modifier = KR_displeased
		}
	}
}

country_event = {
	id = CHN.foreignpolicy.006 #[FROM.GetNameDefCap] Offers Investment
	title = CHN.foreignpolicy.006.t
	desc = CHN.foreignpolicy.006.d
	picture = GFX_report_event_FNG_industry2

	is_triggered_only = yes #Fired from decision

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.006 option CHN.foreignpolicy.006.a"
		name = CHN.foreignpolicy.006.a #We graciously accept.
		ai_chance = { base = 100 }
		hidden_effect = { FROM = { country_event = { id = CHN.foreignpolicy.007 days = 3 } } }
		custom_effect_tooltip = CHI_chinese_investment_effect_tt
		effect_tooltip = { add_timed_idea = { idea = CHI_third_world_investment_idea days = 720 } }
	}

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.006 option CHN.foreignpolicy.006.b"
		name = CHN.foreignpolicy.006.b #We politely decline
		ai_chance = { base = 0 }
		FROM = { country_event = { id = CHN.foreignpolicy.008 days = 3 } }
		hidden_effect = { set_country_flag = CHI_refuse_foreign_investment_flag }
	}
}

country_event = {
	id = CHN.foreignpolicy.007 #[FROM.GetNameDefCap] Accepts Investment
	title = CHN.foreignpolicy.007.t
	desc = CHN.foreignpolicy.007.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.007 option CHN.foreignpolicy.007.a"
		name = CHN.foreignpolicy.007.a #The start of a fruitful partnership
		add_opinion_modifier = {
			target = FROM
			modifier = KR_pleased
		}
	}
}

country_event = {
	id = CHN.foreignpolicy.008 #[FROM.GetNameDefCap] Spurns Investment
	title = CHN.foreignpolicy.008.t
	desc = CHN.foreignpolicy.008.d
	picture = GFX_report_event_CHN_ambassador_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.008 option CHN.foreignpolicy.008.a"
		name = CHN.foreignpolicy.008.a #
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

country_event = {
	id = CHN.foreignpolicy.009 #CHI wants us [X Nation] to join the PMCEP
	title = CHN.foreignpolicy.009.t
	desc = CHN.foreignpolicy.009.d
	picture = GFX_report_event_CHN_ambassador_announcement

	is_triggered_only = yes #Fired from decision

	option = { #Yes we agree
		log = "[GetLogInfo]: event CHN.foreignpolicy.009 option CHN.foreignpolicy.009.a"
		name = CHN.foreignpolicy.009.a #we accept
		ai_chance = { base = 100 }
		KMT_add_to_minsheng_partnership = yes
		hidden_effect = { FROM = { country_event = { id = CHN.foreignpolicy.010 days = 4 } } }
	}

	option = { #hell no
		log = "[GetLogInfo]: event CHN.foreignpolicy.009 option CHN.foreignpolicy.009.b"
		name = CHN.foreignpolicy.009.b
		ai_chance = { base = 0 }
		hidden_effect = { FROM = { country_event = { id = CHN.foreignpolicy.011 days = 4 } } }
	}
}
country_event = {
	id = CHN.foreignpolicy.010 #X nation joins the PMCEP
	title = CHN.foreignpolicy.010.t
	desc = CHN.foreignpolicy.010.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.010 option CHN.foreignpolicy.010.a"
		name = CHN.foreignpolicy.010.a #yay!
		FROM = { custom_effect_tooltip = CHI_member_of_minsheng_partnership }
		custom_effect_tooltip = tooltip_white_line
		ROOT = { custom_effect_tooltip = CHI_modify_minsheng_partnership }
	}
}

country_event = { #X Nation rejects memberhsip to the PMCEP
	id = CHN.foreignpolicy.011
	title = CHN.foreignpolicy.011.t
	desc = CHN.foreignpolicy.011.d
	picture = GFX_report_event_CHN_ambassador_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.011 option CHN.foreignpolicy.011.a"
		name = CHN.foreignpolicy.011.a #their loss
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

### UPC Foreign Policy (200-399):
news_event = { #Foundation of the Chinese Faction
	id = CHN.foreignpolicy.200
	immediate = { log = "[GetLogInfo]: event CHN.foreignpolicy.200" }
	title = CHN.foreignpolicy.200.t
	desc = {
		text = CHN.foreignpolicy.200.d.wuxing_protocol
		trigger = { tag = FNG }
	}
	desc = {
		text = CHN.foreignpolicy.200.d.league_of_free_asian_states
		trigger = { tag = QIE }
	}
	desc = {
		text = CHN.foreignpolicy.200.d.SHX_yan_faction
		trigger = { has_country_leader = { character = SHX_yan_xishan } }
	}
	desc = {
		text = CHN.foreignpolicy.200.d.SHX_feng_faction
		trigger = { has_country_leader = { character = SHX_feng_yuxiang } }
	}
	desc = {
		text = CHN.foreignpolicy.200.d.asian_federation
		trigger = { CHN_asia_federation_leaders_trigger = yes }
	}
	desc = {
		text = CHN.foreignpolicy.200.d.asia_pacific_treaty_organisation
		trigger = { CHN_asia_pacific_treaty_organisation_leaders_trigger = yes }
	}
	desc = {
		text = CHN.foreignpolicy.200.d.asia_pacific_security_pact
		trigger = {
			NOT = {
				tag = FNG
				tag = QIE
				has_country_leader = { character = SHX_yan_xishan }
				has_country_leader = { character = SHX_feng_yuxiang }
			}
			CHN_asia_federation_leaders_trigger = no
			CHN_asia_pacific_treaty_organisation_leaders_trigger = no
		}
	}
	picture = GFX_news_event_china_unified

	is_triggered_only = yes

	major = yes
	fire_for_sender = yes
	show_major = {
		always = yes
	}

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.200 option CHN.foreignpolicy.200.a"
		name = CHN.foreignpolicy.200.a #An Eastern Peril!
		trigger = { has_war_with = FROM }
	}
	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.200 option CHN.foreignpolicy.200.b"
		name = CHN.foreignpolicy.200.b #The Dragon Roars!
		trigger = {
			OR = {
				tag = CHN
				is_ally_with = CHN
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.200 option CHN.foreignpolicy.200.c"
		name = CHN.foreignpolicy.200.b #A new power rises in the East.
		trigger = {
			NOT = {
				tag = CHN
				is_ally_with = CHN
				has_war_with = FROM
			}
		}
	}
}

country_event = {
	id = CHN.foreignpolicy.201
	title = CHN.foreignpolicy.201.t
	desc = CHN.foreignpolicy.201.d
	picture = GFX_report_event_CHN_ambassador_announcement
	fire_only_once = yes
	is_triggered_only = yes

	fire_for_sender = yes
	major = yes
	show_major = {
		regional_asia_news = yes
	}

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.201 option CHN.foreignpolicy.201.a"
		name = CHN.foreignpolicy.201.a #We bring the continent closer together!
		trigger = {
			OR = {
				tag = CHN
				is_ally_with = CHN
			}
		}
		add_political_power = 10
	}

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.201 option CHN.foreignpolicy.201.b"
		name = CHN.foreignpolicy.201.b
		trigger = { #China seeks to rebuild its trade empire.
			NOT = {
				tag = CHN
				is_ally_with = CHN
			}
		}
		ai_chance = { base = 100 }
	}
}

country_event = {
	id = CHN.foreignpolicy.202 #[FROM.GetNameDefCap] Offers Investment
	title = CHN.foreignpolicy.202.t
	desc = CHN.foreignpolicy.202.d
	picture = GFX_report_event_FNG_industry2

	is_triggered_only = yes #Fired from decision

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.202 option CHN.foreignpolicy.202.a"
		name = CHN.foreignpolicy.202.a #We graciously accept.
		ai_chance = { base = 100 }
		hidden_effect = { FROM = { country_event = { id = CHN.foreignpolicy.203 days = 3 } } }
		custom_effect_tooltip = CHI_chinese_investment_effect_tt
		effect_tooltip = { add_ideas = CHN_east_asian_community_member_idea }
	}

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.202 option CHN.foreignpolicy.202.b"
		name = CHN.foreignpolicy.202.b #We politely decline
		ai_chance = { base = 0 }
		trigger = {
			NOT = { is_subject_of = CHN }
		}
		FROM = { country_event = { id = CHN.foreignpolicy.204 days = 3 } }
		hidden_effect = { set_country_flag = CHN_refuse_foreign_investment_flag }
	}
}

country_event = {
	id = CHN.foreignpolicy.203 #[FROM.GetNameDefCap] Accepts Investment
	title = CHN.foreignpolicy.203.t
	desc = CHN.foreignpolicy.203.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.203 option CHN.foreignpolicy.203.a"
		name = CHN.foreignpolicy.203.a #The start of a fruitful partnership
		add_opinion_modifier = {
			target = FROM
			modifier = KR_pleased
		}
	}
}

country_event = {
	id = CHN.foreignpolicy.204 #[FROM.GetNameDefCap] Spurns Investment
	title = CHN.foreignpolicy.204.t
	desc = CHN.foreignpolicy.204.d
	picture = GFX_report_event_CHN_ambassador_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event CHN.foreignpolicy.204 option CHN.foreignpolicy.204.a"
		name = CHN.foreignpolicy.204.a #
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

country_event = { #Administering The People of Silver Herds
	id = CHN.foreignpolicy.300
	picture = GFX_report_event_MON_ardin_nam
	title = CHN.foreignpolicy.300.t
	desc = "[CHN_foreignpolicy_event_300_desc]"

	is_triggered_only = yes #Triggered by onpeaceconference_ended
	fire_only_once = yes

	option = { #[CHN_mongolia_get_unique_governor]
		log = "[GetLogInfo]: event CHN.foreignpolicy.300 option CHN.foreignpolicy.300.a"
		name = CHN.foreignpolicy.300.a
		add_political_power = 25
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
	option = { #The MTAC exists for a reason.
		log = "[GetLogInfo]: event CHN.foreignpolicy.300 option CHN.foreignpolicy.300.b"
		name = CHN.foreignpolicy.300.b
		add_stability = 0.03
		every_owned_state = {
			limit = {
				is_core_of = MON
				is_controlled_by = ROOT
				has_resistance = yes
			}
			add_compliance = 10
		}
	}
	option = { #Maintain the rule of martial law.
		log = "[GetLogInfo]: event CHN.foreignpolicy.300 option CHN.foreignpolicy.300.c"
		name = CHN.foreignpolicy.300.c
		add_war_support = 0.05
		every_owned_state = {
			limit = {
				is_core_of = MON
				is_controlled_by = ROOT
				has_resistance = yes
			}
			add_resistance = -10
		}
	}
	option = { #Play to the Nobles, its tried and true.
		log = "[GetLogInfo]: event CHN.foreignpolicy.300 option CHN.foreignpolicy.300.e"
		name = CHN.foreignpolicy.300.e
		add_stability = -0.05
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
		every_owned_state = {
			limit = {
				is_core_of = MON
				is_controlled_by = ROOT
				has_resistance = yes
			}
			add_resistance = -10
			add_compliance = 10
		}
	}
}

country_event = { #Stepping Foot Onto the Plateau
	id = CHN.foreignpolicy.301
	picture = GFX_report_event_TIB_lhasa
	title = CHN.foreignpolicy.301.t
	desc = "[CHN_foreignpolicy_event_301_desc]"

	is_triggered_only = yes #Triggered by onpeaceconference_ended
	fire_only_once = yes

	option = { #[CHN_tibet_get_unique_governor]
		log = "[GetLogInfo]: event CHN.foreignpolicy.301 option CHN.foreignpolicy.301.a"
		name = CHN.foreignpolicy.301.a
		add_political_power = 25
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
	option = { #Tibet is in dire need of true modernity.
		log = "[GetLogInfo]: event CHN.foreignpolicy.301 option CHN.foreignpolicy.301.b"
		name = CHN.foreignpolicy.301.b
		add_stability = 0.03
		every_owned_state = {
			limit = {
				is_core_of = TIB
				is_controlled_by = ROOT
				has_resistance = yes
			}
			add_compliance = 10
		}
	}
	option = { #It takes hardly a full division to control Tibet...
		log = "[GetLogInfo]: event CHN.foreignpolicy.301 option CHN.foreignpolicy.301.c"
		name = CHN.foreignpolicy.301.c
		add_war_support = 0.05
		every_owned_state = {
			limit = {
				is_core_of = TIB
				is_controlled_by = ROOT
				has_resistance = yes
			}
			add_resistance = -10
		}
	}
	option = { #The Sangha was here before us, let us work with them.
		log = "[GetLogInfo]: event CHN.foreignpolicy.301 option CHN.foreignpolicy.301.e"
		name = CHN.foreignpolicy.301.e
		add_stability = -0.05
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
		every_owned_state = {
			limit = {
				is_core_of = TIB
				is_controlled_by = ROOT
				has_resistance = yes
			}
			add_resistance = -10
			add_compliance = 10
		}
	}
}

country_event = { #Looking Towards the Frontier
	id = CHN.foreignpolicy.302
	picture = GFX_report_event_SIK_kumul_map
	title = CHN.foreignpolicy.302.t
	desc = "[CHN_foreignpolicy_event_302_desc]"

	is_triggered_only = yes #Triggered by onpeaceconference_ended
	fire_only_once = yes

	option = { #[CHN_xinjiang_get_unique_governor]
		log = "[GetLogInfo]: event CHN.foreignpolicy.302 option CHN.foreignpolicy.302.a"
		name = CHN.foreignpolicy.302.a
		add_political_power = 25
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
	option = { #
		log = "[GetLogInfo]: event CHN.foreignpolicy.302 option CHN.foreignpolicy.302.b"
		name = CHN.foreignpolicy.302.b
		add_stability = 0.03
		every_owned_state = {
			limit = {
				is_core_of = SIK
				is_controlled_by = ROOT
				has_resistance = yes
			}
			add_compliance = 10
		}
	}
	option = { #
		log = "[GetLogInfo]: event CHN.foreignpolicy.302 option CHN.foreignpolicy.302.c"
		name = CHN.foreignpolicy.302.c
		add_war_support = 0.05
		every_owned_state = {
			limit = {
				is_core_of = SIK
				is_controlled_by = ROOT
				has_resistance = yes
			}
			add_resistance = -10
		}
	}
	option = { #
		log = "[GetLogInfo]: event CHN.foreignpolicy.302 option CHN.foreignpolicy.302.e"
		name = CHN.foreignpolicy.302.e
		add_stability = -0.05
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
		every_owned_state = {
			limit = {
				is_core_of = SIK
				is_controlled_by = ROOT
				has_resistance = yes
			}
			add_resistance = -10
			add_compliance = 10
		}
	}
}

country_event = { #Affairs on Taiwan
	id = CHN.foreignpolicy.303
	picture = GFX_report_event_generic_east_china_map
	title = CHN.foreignpolicy.303.t
	desc = "[CHN_foreignpolicy_event_303_desc]"

	is_triggered_only = yes #Triggered by onpeaceconference_ended
	fire_only_once = yes

	option = { #[CHN_taiwan_get_unique_governor]
		log = "[GetLogInfo]: event CHN.foreignpolicy.303 option CHN.foreignpolicy.303.a"
		name = CHN.foreignpolicy.303.a
		add_political_power = 25
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
	option = { #Work with the various local progressive groups.
		log = "[GetLogInfo]: event CHN.foreignpolicy.303 option CHN.foreignpolicy.303.b"
		trigger = {
			NOT = { china_is_aligned_with_manchu = yes }
		}
		name = CHN.foreignpolicy.303.b
		add_stability = 0.03
		every_owned_state = {
			limit = {
				is_core_of = TAI
				is_controlled_by = ROOT
				has_resistance = yes
			}
			add_compliance = 10
		}
	}
	option = { #There is still the lingering presence of the Japanese on the island.
		log = "[GetLogInfo]: event CHN.foreignpolicy.303 option CHN.foreignpolicy.303.c"
		name = CHN.foreignpolicy.303.c
		add_war_support = 0.05
		every_owned_state = {
			limit = {
				is_core_of = TAI
				is_controlled_by = ROOT
				has_resistance = yes
			}
			add_resistance = -10
		}
	}
	option = { #Court the TAHR, even with their reputation.
		log = "[GetLogInfo]: event CHN.foreignpolicy.303 option CHN.foreignpolicy.303.e"
		name = CHN.foreignpolicy.303.e
		add_stability = -0.03
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
		every_owned_state = {
			limit = {
				is_core_of = TAI
				is_controlled_by = ROOT
				has_resistance = yes
			}
			add_resistance = -10
			add_compliance = 10
		}
	}
}

### Other Foreign Policy (400-599):

### Chinese Puppeting (600-799):

## Shared (600-619)
country_event = { #Sino-[ROOT.GetAdjective] Negotiations
	id = CHN.foreignpolicy.600
	picture = GFX_report_event_generic_east_china_map
	title = CHN.foreignpolicy.600.t
	desc = CHN.foreignpolicy.600.d

	is_triggered_only = yes #Triggered by Fate of China-esque stuff

	option = { #Qing Monarchy
		log = "[GetLogInfo]: event CHN.foreignpolicy.600 option CHN.foreignpolicy.600.monarchy"
		name = CHN.foreignpolicy.600.monarchy
		trigger = {
			CHN_puppet_has_potential_chinese_monarchist_allies_trigger = yes
		}
		ai_chance = {
			base = 10
			modifier = {
				factor = 2.5
				is_monarchy = yes
				has_authoritarian_government = no
			}
			modifier = {
				factor = 5
				is_monarchy = yes
				has_authoritarian_government = yes
			}
		}
		country_event = CHN.foreignpolicy.620 #Talks with Chinese Monarchists
	}
	option = { #Pro-Japanese
		log = "[GetLogInfo]: event CHN.foreignpolicy.600 option CHN.foreignpolicy.600.pro_japanese"
		name = CHN.foreignpolicy.600.pro_japanese
		trigger = {
			CHN_puppet_has_potential_chinese_pro_japanese_allies_trigger = yes
		}
		ai_chance = { base = 100 } #Basically only applies if you're in Japan's faction so may as well put it at 100
		country_event = CHN.foreignpolicy.640 #The Reformation of the Republic
	}
	option = { #Federalists
		log = "[GetLogInfo]: event CHN.foreignpolicy.600 option CHN.foreignpolicy.600.federalists"
		name = CHN.foreignpolicy.600.federalists
		trigger = {
			CHN_puppet_has_potential_chinese_federalist_allies_trigger = yes
		}
		ai_chance = {
			base = 25

			modifier = {
				factor = 2
				has_elected_government = yes
			}
		}
		country_event = CHN.foreignpolicy.660 #Federalism in China?
	}
	option = { #Other Republicans
		log = "[GetLogInfo]: event CHN.foreignpolicy.600 option CHN.foreignpolicy.600.republicans"
		name = CHN.foreignpolicy.600.republicans
		trigger = {
			CHN_puppet_has_potential_chinese_republican_allies_trigger = yes
		}
		ai_chance = {
			base = 50

			modifier = {
				factor = 0.5
				is_monarchy = yes
			}
		}
		country_event = CHN.foreignpolicy.680 #A New Republic?
	}

	option = { #Revolutionaries
		log = "[GetLogInfo]: event CHN.foreignpolicy.600 option CHN.foreignpolicy.600.revolutionaries"
		name = CHN.foreignpolicy.600.revolutionaries
		trigger = {
			CHN_puppet_has_potential_chinese_revolutionary_allies_trigger = yes
		}
		ai_chance = {
			base = 15

			modifier = {
				factor = 10
				has_socialist_government = yes #Really should be their only option anyway.
			}
		}
		country_event = CHN.foreignpolicy.700 #A New Revolution in China?
	}

	option = { #Cancel
		log = "[GetLogInfo]: event CHN.foreignpolicy.600 option CHN.foreignpolicy.600.cancel"
		name = CHN.foreignpolicy.600.cancel
		ai_chance = { base = 0 }
	}
}

## Monarchy (620-639)
country_event = { #Talks with Chinese Monarchists
	id = CHN.foreignpolicy.620
	picture = GFX_report_event_QIE_worship_puyi
	title = CHN.foreignpolicy.620.t
	desc = CHN.foreignpolicy.620.d

	is_triggered_only = yes #Triggered by [EVENT] CHN.foreignpolicy.600

	option = { #Qing Monarchy
		log = "[GetLogInfo]: event CHN.foreignpolicy.620 option CHN.foreignpolicy.620.QIE"
		name = CHN.foreignpolicy.620.QIE
		trigger = {
			CHN_monarchist_puppet_QIE_is_valid_ally_trigger = yes
		}
		ai_chance = { base = 100 }
		if = {
			limit = { QIE = { exists = yes } }
			set_temp_variable = { tag_to_release = QIE }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = QIE }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				hidden_effect = { clear_potential_national_government = yes }
				set_cosmetic_tag = united_china_qing
				set_politics = {
					ruling_party = social_conservative
					elections_allowed = no
				}
				set_political_party = {
					ideology = social_conservative
					popularity = 60
				}
				QIE_aisin_gioro_puyi = {
					set_nationality = PREV
					for_each_loop = {
						array = global.ideology_groups
						meta_effect = {
							text = {
								if = {
									limit = { has_ideology = [IDEOLOGY] }
									promote_character = { ideology = [IDEOLOGY] }
								}
							}
							TRAIT = "[?trait_token.GetTokenKey]"
							IDEOLOGY = "[?v.GetTokenKey]_subtype"
						}
					}
				}
				QIE_enable_manchu_qing_alignment = yes
				set_potential_national_government = yes
			}
		}
	}

	option = { #Cancel
		log = "[GetLogInfo]: event CHN.foreignpolicy.620 option CHN.foreignpolicy.620.cancel"
		name = CHN.foreignpolicy.620.cancel
		ai_chance = { base = 0 }
	}

	#We could hypothetically include more options here but probably won't.
}

## Japan Aligned (640-659)
country_event = { #The Reformation of the Republic
	id = CHN.foreignpolicy.640
	picture = GFX_report_event_FNG_collabaration_with_japan
	title = CHN.foreignpolicy.640.t
	desc = CHN.foreignpolicy.640.d

	is_triggered_only = yes #Triggered by [EVENT] CHN.foreignpolicy.600

	option = { #Fengtian
		log = "[GetLogInfo]: event CHN.foreignpolicy.640 option CHN.foreignpolicy.640.FNG"
		name = CHN.foreignpolicy.640.FNG
		trigger = {
			CHN_pro_japan_puppet_FNG_is_valid_ally_trigger = yes
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.5
				has_global_flag = FNG_relations_JAP_broke
			}
		}
		if = {
			limit = {
				original_tag = JAP
				has_global_flag = FNG_relations_JAP_broke
			}
			clr_global_flag = FNG_relations_JAP_broke
		}
		if = {
			limit = { FNG = { exists = yes } }
			set_temp_variable = { tag_to_release = FNG }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = FNG }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				set_cosmetic_tag = FNG_JAP
				clear_global_event_target = AGJ_leader
				save_global_event_target_as = RGC_leader
				set_global_flag = FNG_projapan
				if = {
					limit = { has_character = FNG_zhang_zuolin }
					retire_character = FNG_zhang_zuolin
				}
				if = {
					limit = { has_character = FNG_zhang_xueliang }
					retire_character = FNG_zhang_xueliang
				}
				if = {
					limit = { has_character = FNG_wu_junsheng }
					retire_character = FNG_wu_junsheng
				}
				FNG_tang_shaoyi = {
					if = {
						limit = { has_ideology = paternal_autocrat_subtype }
						promote_character = paternal_autocrat_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = FNG_tang_shaoyi_leader_desc
								ideology = paternal_autocrat_subtype
								traits = { CHN_geacps_aligned FNG_unwilling_participant }
							}
							promote_leader = yes
						}
					}
				}
				set_party_name = {
					ideology = paternal_autocrat
					name = FNG_new_peoples_society
					long_name = FNG_new_peoples_society_tt
				}
				set_politics = {
					ruling_party = paternal_autocrat
					elections_allowed = no
				}
				add_popularity = {
					ideology = paternal_autocrat
					popularity = 0.2
				}
				add_popularity = {
					ideology = social_conservative
					popularity = 0.2
				}
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = 0.2
				}
				activate_advisor = FNG_wang_yitang_sic
				set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
				add_to_coalition = yes
				set_temp_variable = { coalition_partner_var = token:social_conservative }
				add_to_coalition = yes
				hidden_effect = {
					set_party_name = {
						ideology = paternal_autocrat
						name = FNG_new_peoples_society
						long_name = FNG_new_peoples_society_long
					}
					set_popularities = {
						totalist = 1
						radical_socialist = 5
						syndicalist = 1
						social_democrat = 5
						social_liberal = 8
						market_liberal = 10
						social_conservative = 20
						authoritarian_democrat = 20
						paternal_autocrat = 20
						national_populist = 10
					}
					set_party_name = {
						ideology = social_liberal
						long_name = CHN_republicans_party_long
						name = CHN_republicans_party
					}
					set_party_name = {
						ideology = social_democrat
						long_name = CHN_FCDP_party_long
						name = CHN_FCDP_party
					}
					set_party_name = {
						ideology = market_liberal
						long_name = CHN_CCP_party_long
						name = CHN_CCP_party
					}
					promote_character = {
						character = FNG_assorted_leaders
						ideology = social_democrat_subtype
					}
					promote_character = {
						character = FNG_assorted_leaders
						ideology = market_liberal_subtype
					}
					remove_ideas = {
						FNG_Disastrous_Governance
						FNG_Plutocratic_Exploitation
						FNG_Expel_the_Japanese_Bandits
					}
					add_ideas = {
						FNG_an_army_of_traitors
						FNG_hollowed_out_economy
						FNG_collaboration_the_great_evil
					}
					# FNG_grand_marshals_favor_category
					remove_targeted_decision = { target = THIS decision = FNG_favor_shikan_clique }
					remove_targeted_decision = { target = THIS decision = FNG_favor_communications_clique }
					remove_targeted_decision = { target = THIS decision = FNG_favor_recovery_league }
					remove_targeted_decision = { target = THIS decision = FNG_favor_zhang_clique }
					# FNG_fixing_the_economy_category
					remove_targeted_decision = { target = THIS decision = FNG_Centralise_the_Banks }
					remove_targeted_decision = { target = THIS decision = FNG_Re_Introduce_the_Fengtian_Dollar }
					remove_targeted_decision = { target = THIS decision = FNG_Fill_the_Silver_Reserve }
					remove_targeted_decision = { target = THIS decision = FNG_Encourage_Japanese_Investment }
					remove_targeted_decision = { target = THIS decision = FNG_Encourage_Chinese_Investment }
					# china_army_decisions
					remove_targeted_decision = { target = THIS decision = FNG_Revise_our_Position_on_Looting }
					remove_targeted_decision = { target = THIS decision = FNG_Rebuild_the_Second_Army }
					remove_targeted_decision = { target = THIS decision = FNG_Raise_Independent_Brigades_in_Dezhou }
					remove_targeted_decision = { target = THIS decision = FNG_Raise_Independent_Brigades_in_Kaifeng }
					remove_targeted_decision = { target = THIS decision = FNG_Raise_Independent_Brigades_in_Ruyang }
					remove_targeted_decision = { target = THIS decision = FNG_Raise_Independent_Brigades_in_Guanzhong }
					remove_targeted_decision = { target = THIS decision = FNG_Raise_the_Baoding_Cadet_Corps }
					# FNG_Preparing_For_The_Princes_Visit
					remove_targeted_decision = { target = THIS decision = FNG_increase_security_in_shenyang }
					remove_targeted_decision = { target = THIS decision = FNG_investigate_the_junior_officer_corps }
					remove_targeted_decision = { target = THIS decision = FNG_reinforce_soldierly_discipline }
					remove_targeted_decision = { target = THIS decision = FNG_present_chinese_modernity }
					remove_targeted_decision = { target = THIS decision = FNG_Fortress_Manchuria }
					# FNG_railways
					remove_targeted_decision = { target = THIS decision = FNG_The_Jinhan_Railway }
					remove_targeted_decision = { target = THIS decision = FNG_The_Jinpu_Railway }
					remove_targeted_decision = { target = THIS decision = FNG_The_Yuehan_Railway }
					remove_targeted_decision = { target = THIS decision = FNG_Railway_Construction_Jilin_Shenyang }
					remove_targeted_decision = { target = THIS decision = FNG_Railway_Construction_Pingqi }
					remove_targeted_decision = { target = THIS decision = FNG_Railway_Construction_Shenyang_Chengde }
					# FNG_foreign_policy
					remove_targeted_decision = { target = QIE decision = FNG_Denounce_Qing_Monarchism }
					remove_targeted_decision = { target = GER decision = FNG_Denounce_German_Imperialism }
					remove_targeted_decision = { target = THIS decision = FNG_National_Irredentism }
					remove_targeted_decision = { target = THIS decision = FNG_Wu_Wang_Zai_Ju }
					remove_targeted_decision = { target = THIS decision = FNG_Escalate_the_Propaganda_War }
					remove_targeted_decision = { target = THIS decision = FNG_The_Yanshan_Plan }
					remove_targeted_decision = { target = THIS decision = FNG_Shanhaiguan_Infiltration }
					remove_targeted_decision = { target = SHD decision = FNG_Annex_Shandong_Anqing_Puppet }
					# FNG_Commission_Japanese_Ships
					remove_targeted_decision = { target = JAP decision = FNG_JAP_destroyers }
					remove_targeted_decision = { target = JAP decision = FNG_JAP_subs }
					remove_targeted_decision = { target = JAP decision = FNG_JAP_cruisers }
					remove_targeted_decision = { target = JAP decision = FNG_JAP_convoys }

					CHN_setup_economic_devastation_normal_effect = yes
					set_potential_national_government = yes
				}
			}
		}
	}

	option = { #Liangguang
		log = "[GetLogInfo]: event CHN.foreignpolicy.640 option CHN.foreignpolicy.640.GXC"
		name = CHN.foreignpolicy.640.GXC
		trigger = {
			CHN_pro_japan_puppet_GXC_is_valid_ally_trigger = yes
		}
		ai_chance = {
			base = 10
			modifier = {
				factor = 3
				has_global_flag = FNG_relations_JAP_broke
			}
		}
		if = {
			limit = { GXC = { exists = yes } }
			set_temp_variable = { tag_to_release = GXC }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = GXC }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				hidden_effect = {
					clear_potential_national_government = yes
					GXC = {
						GXC_chen_lianbo = { set_nationality = GXC }
						GXC_chen_gongshou = { set_nationality = GXC }
					}
					set_party_name = {
						ideology = social_conservative
						long_name = GXC_aacsg_party_long
						name = GXC_aacsg_party
					}
				}
				set_politics = {
					ruling_party = social_conservative
					elections_allowed = no
				}
				set_political_party = {
					ideology = social_conservative
					popularity = 40
				}
				promote_character = {
					character = GXC_chen_lianbo
					ideology = social_conservative_subtype
				}
				activate_advisor = GXC_chen_gongshou_sic
				hidden_effect = {
					GXC_clear_phase2_debuffs = yes
					GXC_clear_popular_support_effect = yes
					add_ideas = GXC_NPA_popular_support_5
					CHN_setup_economic_devastation_normal_effect = yes
					set_potential_national_government = yes
					set_country_flag = GXC_phase_4_begins_flag
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	option = { #Shanxi
		log = "[GetLogInfo]: event CHN.foreignpolicy.640 option CHN.foreignpolicy.640.SHX"
		name = CHN.foreignpolicy.640.SHX
		trigger = {
			CHN_pro_japan_puppet_SHX_is_valid_ally_trigger = yes
		}
		ai_chance = {
			base = 10
			modifier = {
				factor = 3
				has_global_flag = FNG_relations_JAP_broke
			}
		}
		if = {
			limit = { SHX = { exists = yes } }
			set_temp_variable = { tag_to_release = SHX }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = SHX }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				hidden_effect = {
					clear_potential_national_government = yes

					SHX = {
						SHX_yan_xishan = { set_nationality = SHX }
						SHX_komoto_daisaku = { set_nationality = SHX } #Literal Japanese agent
					}

					set_party_name = {
						ideology = paternal_autocrat
						long_name = SHX_yan_unification_party_long
						name = SHX_yan_unification_party
					}
					set_party_name = {
						ideology = national_populist
						long_name = SHX_young_china_party_yan_long
						name = SHX_young_china_party_yan
					}
				}

				if = {
					limit = {
						ROOT = {
							has_government = national_populist
						}
					}
					set_politics = {
						ruling_party = national_populist
						elections_allowed = no
					}
					set_political_party = {
						ideology = national_populist
						popularity = 40
					}
					promote_character = {
						character = SHX_yan_xishan
						ideology = national_populist_subtype
					}
					activate_advisor = SHX_komoto_daisaku_sic
				}
				else = {
					#Yan defaults to Pat Aut
					set_politics = {
						ruling_party = paternal_autocrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = paternal_autocrat
						popularity = 40
					}
					promote_character = {
						character = SHX_yan_xishan
						ideology = paternal_autocrat_subtype
					}
					activate_advisor = SHX_komoto_daisaku_sic
				}

				hidden_effect = {
					SHX_lategame_transition_effect = yes

					set_potential_national_government = yes
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	#I would like SHD to be added here one day.

	option = { #Cancel
		log = "[GetLogInfo]: event CHN.foreignpolicy.640 option CHN.foreignpolicy.640.cancel"
		name = CHN.foreignpolicy.640.cancel
		ai_chance = { base = 0 }
	}
}

## Federalists (660-679)
country_event = { #Federalism In China?
	id = CHN.foreignpolicy.660
	picture = GFX_report_event_GXC_federalist_party_3
	title = CHN.foreignpolicy.660.t
	desc = CHN.foreignpolicy.660.d

	is_triggered_only = yes #Triggered by [EVENT] CHN.foreignpolicy.600

	option = { #Liangguang
		log = "[GetLogInfo]: event CHN.foreignpolicy.660 option CHN.foreignpolicy.660.GXC"
		name = CHN.foreignpolicy.660.GXC
		trigger = {
			CHN_federalist_puppet_GXC_is_valid_ally_trigger = yes
		}
		ai_chance = {
			base = 60
			modifier = {
				factor = 0.5
				#Penalty if Liangguang doesn't have a direct ideological analog
				OR = {
					has_government = market_liberal
					has_government = social_conservative
					has_government = national_populist
				}
			}
		}
		if = {
			limit = { GXC = { exists = yes } }
			set_temp_variable = { tag_to_release = GXC }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = GXC }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				hidden_effect = {
					clear_potential_national_government = yes
					GXC = {
						GXC_chen_jiongming = { set_nationality = GXC }
						GXC_chen_qiyou = { set_nationality = GXC }
						GXC_ye_ju = { set_nationality = GXC }
						GXC_ma_yuhang = { set_nationality = GXC }
						GXC_zhang_junmai = { set_nationality = GXC }
						GXC_zhang_dongsun = { set_nationality = GXC }
					}
					set_party_name = {
						ideology = social_democrat
						long_name = GXC_UPC_CDL_DSP_party_long
						name = GXC_UPC_CDL_DSP_party
					}
					set_party_name = {
						ideology = social_liberal
						long_name = GXC_GRA_PIP_party_long
						name = GXC_GRA_PIP_party
					}
					set_party_name = {
						ideology = authoritarian_democrat
						long_name = GXC_YUE_national_party_long
						name = GXC_YUE_national_party
					}
					set_party_name = {
						ideology = paternal_autocrat
						long_name = GXC_YUE_national_party_long
						name = GXC_YUE_national_party
					}
					if = {
						limit = { has_country_flag = UPC_GRA_won_first_elections_flag }
						clr_country_flag = UPC_GRA_won_first_elections_flag
					}
					if = {
						limit = { has_country_flag = UPC_CDL_won_first_elections_flag }
						clr_country_flag = UPC_CDL_won_first_elections_flag
					}
					if = {
						limit = { has_country_flag = UPC_GRA_won_second_elections_flag }
						clr_country_flag = UPC_GRA_won_second_elections_flag
					}
					if = {
						limit = { has_country_flag = UPC_CDL_won_second_elections_flag }
						clr_country_flag = UPC_CDL_won_second_elections_flag
					}
				}
				if = {
					limit = {
						ROOT = {
							has_government = social_democrat
						}
					}
					set_politics = {
						ruling_party = social_democrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = social_democrat
						popularity = 40
					}
					promote_character = {
						character = GXC_zhang_junmai
						ideology = social_democrat_subtype
					}
					activate_advisor = GXC_zhang_dongsun_sic
					set_country_flag = UPC_CDL_won_first_elections_flag
					set_country_flag = UPC_CDL_won_second_elections_flag
				}
				else_if = {
					limit = {
						ROOT = {
							OR = {
								has_government = social_liberal
								has_government = market_liberal
								has_government = social_conservative
							}
						}
					}
					set_politics = {
						ruling_party = social_liberal
						elections_allowed = no
					}
					set_political_party = {
						ideology = social_liberal
						popularity = 40
					}
					if = {
						limit = { GXC_chen_jiongming = { has_character_flag = is_dead } }
						promote_character = {
							character = GXC_chen_qiyou
							ideology = social_liberal_subtype
						}
					}
					else = {
						promote_character = {
							character = GXC_chen_jiongming
							ideology = social_liberal_subtype
						}
					}
					activate_advisor = GXC_chen_yansheng_sic
					set_country_flag = UPC_GRA_won_first_elections_flag
					set_country_flag = UPC_GRA_won_second_elections_flag
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = authoritarian_democrat
							NOT = { GXC_chen_jiongming = { has_character_flag = is_dead } }
						}
					}
					set_politics = {
						ruling_party = authoritarian_democrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = authoritarian_democrat
						popularity = 40
					}
					promote_character = {
						character = GXC_chen_jiongming
						ideology = authoritarian_democrat_subtype
					}
					activate_advisor = GXC_ma_yuhang_sic
				}
				else = {
					#Ye Ju is the default
					set_politics = {
						ruling_party = paternal_autocrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = paternal_autocrat
						popularity = 40
					}
					promote_character = {
						character = GXC_ye_ju
						ideology = paternal_autocrat_subtype
					}
					activate_advisor = GXC_ma_yuhang_sic
				}

				hidden_effect = {
					GXC_clear_phase2_debuffs = yes
					GXC_clear_popular_support_effect = yes
					add_ideas = GXC_UPC_popular_support_5
					CHN_setup_economic_devastation_normal_effect = yes
					set_potential_national_government = yes

					set_country_flag = GXC_phase_4_begins_flag
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	option = { #Yunnan
		log = "[GetLogInfo]: event CHN.foreignpolicy.660 option CHN.foreignpolicy.660.YUN"
		name = CHN.foreignpolicy.660.YUN
		trigger = {
			CHN_federalist_puppet_YUN_is_valid_ally_trigger = yes
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.5
				#Penalty if Yunnan doesn't have a direct ideological analog
				OR = {
					has_government = paternal_autocrat
					has_government = national_populist
				}
			}
		}
		if = {
			limit = { YUN = { exists = yes } }
			set_temp_variable = { tag_to_release = YUN }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = YUN }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				hidden_effect = {
					clear_potential_national_government = yes
					YUN = {
						YUN_tang_jiyao = { set_nationality = YUN }
						YUN_tang_xiaoying = { set_nationality = YUN }
						YUN_wang_dong = { set_nationality = YUN }
						YUN_zhang_weihan = { set_nationality = YUN }

						YUN_cun_shusheng = { set_nationality = YUN }
						YUN_su_honggang = { set_nationality = YUN }
						YUN_luo_longji = { set_nationality = YUN }
						YUN_wen_yiduo = { set_nationality = YUN } #Can bring him from the dead if necessary just for ease.
					}
					set_party_name = {
						ideology = social_democrat
						long_name = YUN_YCD_party_long
						name = YUN_YCD_party
					}
					set_party_name = {
						ideology = social_liberal
						long_name = UPC_CMS_party_long
						name = UPC_CMS_party
					}
					set_party_name = {
						ideology = market_liberal
						long_name = UPC_PGP_party_long
						name = UPC_PGP_party
					}
					set_party_name = {
						ideology = social_conservative
						long_name = UPC_PGP_party_long
						name = UPC_PGP_party
					}
					set_party_name = {
						ideology = paternal_autocrat
						long_name = YUN_national_dian_clique_party_long
						name = YUN_national_dian_clique_party
					}
					if = {
						limit = { has_country_flag = UPC_GRA_won_first_elections_flag }
						clr_country_flag = UPC_GRA_won_first_elections_flag
					}
					if = {
						limit = { has_country_flag = UPC_CDL_won_first_elections_flag }
						clr_country_flag = UPC_CDL_won_first_elections_flag
					}
					if = {
						limit = { has_country_flag = UPC_GRA_won_second_elections_flag }
						clr_country_flag = UPC_GRA_won_second_elections_flag
					}
					if = {
						limit = { has_country_flag = UPC_CDL_won_second_elections_flag }
						clr_country_flag = UPC_CDL_won_second_elections_flag
					}
				}
				if = {
					limit = {
						ROOT = {
							has_government = social_democrat
						}
					}
					set_politics = {
						ruling_party = social_democrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = social_democrat
						popularity = 40
					}
					promote_character = {
						character = YUN_cun_shusheng
						ideology = social_democrat_subtype
					}
					activate_advisor = YUN_su_honggang_sic
					set_country_flag = UPC_CDL_won_first_elections_flag
					set_country_flag = UPC_CDL_won_second_elections_flag
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = social_liberal
						}
					}
					set_politics = {
						ruling_party = social_liberal
						elections_allowed = no
					}
					set_political_party = {
						ideology = social_liberal
						popularity = 40
					}
					promote_character = {
						character = YUN_luo_longji
						ideology = social_liberal_subtype
					}
					activate_advisor = YUN_wen_yiduo_sic
					set_country_flag = UPC_CDL_won_first_elections_flag
					set_country_flag = UPC_CDL_won_second_elections_flag
				}
				else_if = {
					limit = {
						ROOT = {
							OR = {
								has_government = market_liberal
								AND = {
									has_government = social_conservative
									YUN_tang_jiyao = { has_character_flag = is_dead }
								}
							}
						}
					}
					set_politics = {
						ruling_party = market_liberal
						elections_allowed = no
					}
					set_political_party = {
						ideology = market_liberal
						popularity = 40
					}
					promote_character = {
						character = YUN_tang_xiaoying
						ideology = market_liberal_subtype
					}
					activate_advisor = YUN_wang_dong_sic
					set_country_flag = UPC_GRA_won_first_elections_flag
					set_country_flag = UPC_GRA_won_second_elections_flag
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = social_conservative
						}
					}
					set_politics = {
						ruling_party = social_conservative
						elections_allowed = no
					}
					set_political_party = {
						ideology = social_conservative
						popularity = 40
					}
					promote_character = {
						character = YUN_tang_jiyao
						ideology = social_conservative_subtype
					}
					activate_advisor = YUN_wang_dong_sic
					set_country_flag = UPC_GRA_won_first_elections_flag
					set_country_flag = UPC_GRA_won_second_elections_flag
				}
				else_if = {
					limit = {
						ROOT = {
							OR = {
								has_government = authoritarian_democrat
								has_government = paternal_autocrat
								has_government = national_populist
							}
						}
					}
					set_politics = {
						ruling_party = authoritarian_democrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = authoritarian_democrat
						popularity = 40
					}
					if = {
						limit = {
							YUN_tang_jiyao = { has_character_flag = is_dead }
						}
						promote_character = {
							character = YUN_tang_xiaoying
							ideology = authoritarian_democrat_subtype
						}
					}
					else = {
						promote_character = {
							character = YUN_tang_jiyao
							ideology = authoritarian_democrat_subtype
						}
					}
					activate_advisor = YUN_zhang_weihan_sic
				}

				hidden_effect = {
					YUN_transition_economy_effect = yes
					YUN_clear_popular_support_ideas = yes
					add_ideas = YUN_UPC_popular_support_5
					CHN_setup_economic_devastation_normal_effect = yes
					set_potential_national_government = yes

					set_country_flag = YUN_phase_4_begins_flag
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	#I would like SZC and HNN to be added here one day.

	option = { #Cancel
		log = "[GetLogInfo]: event CHN.foreignpolicy.660 option CHN.foreignpolicy.660.cancel"
		name = CHN.foreignpolicy.660.cancel
		ai_chance = { base = 0 }
	}
}

## Release Republic (680-699)
country_event = { #The Reformation of the Republic
	id = CHN.foreignpolicy.680
	picture = GFX_report_event_QIE_beiyang_assembly
	title = CHN.foreignpolicy.680.t
	desc = CHN.foreignpolicy.680.d

	is_triggered_only = yes #Triggered by [EVENT] CHN.foreignpolicy.600

	option = { #QIE
		log = "[GetLogInfo]: event CHN.foreignpolicy.680 option CHN.foreignpolicy.680.QIE"
		name = CHN.foreignpolicy.680.QIE
		trigger = {
			CHN_republican_puppet_QIE_is_valid_ally_trigger = yes
		}
		ai_chance = {
			base = 60

			modifier = {
				factor = 0.5
				OR = {
					has_government = paternal_autocrat
					has_government = national_populist
				}
			}
		}
		if = {
			limit = { QIE = { exists = yes } }
			set_temp_variable = { tag_to_release = QIE }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = QIE }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				hidden_effect = { clear_potential_national_government = yes }
				set_politics = {
					ruling_party = authoritarian_democrat
					elections_allowed = no
				}
				set_political_party = {
					ideology = authoritarian_democrat
					popularity = 60
				}
				hidden_effect = {
					QIE_aisin_gioro_puyi = { retire = yes }
					if = {
						limit = { has_character = QIE_gao_lingwei }
						QIE_gao_lingwei = { promote_character = authoritarian_democrat_subtype }
					}
					else = {
						random_list = {
							1 = {
								QIE_wellington_koo = {
									set_nationality = PREV
									promote_character = yes
								}
							}
							1 = {
								QIE_hu_shih = {
									set_nationality = PREV
									promote_character = yes
								}
							}
						}
					}
				}
			}
		}
	}

	option = { #LEP
		log = "[GetLogInfo]: event CHN.foreignpolicy.680 option CHN.foreignpolicy.680.LEP"
		name = CHN.foreignpolicy.680.LEP
		trigger = {
			CHN_republican_puppet_LEP_is_valid_ally_trigger = yes
		}
		ai_chance = {
			base = 30

			modifier = {
				factor = 2
				has_government = paternal_autocrat
			}

			modifier = {
				factor = 5
				OR = {
					tag = GER
					tag = GEA
					tag = GEX
				}
			}
		}
		if = {
			limit = { LEP = { exists = yes } }
			set_temp_variable = { tag_to_release = LEP }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = LEP }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				set_politics = {
					ruling_party = paternal_autocrat
					elections_allowed = no
				}
				set_political_party = {
					ideology = paternal_autocrat
					popularity = 20
				}
				set_political_party = {
					ideology = market_liberal
					popularity = 60
				}
				set_temp_variable = { coalition_partner_var = token:market_liberal }
				add_to_coalition = yes
				###GEA gets back its AOG bonus if it or GER released it
				if = {
					limit = {
						ROOT = {
							OR = {
								tag = GER
								tag = GEA
							}
						}
					}
					GEA = { country_event = german_east_asia_events.214 }
				}
			}
		}
	}

	option = { #Shanxi
		log = "[GetLogInfo]: event CHN.foreignpolicy.680 option CHN.foreignpolicy.680.SHX"
		name = CHN.foreignpolicy.680.SHX
		trigger = {
			CHN_republican_puppet_SHX_is_valid_ally_trigger = yes
		}
		ai_chance = {
			base = 20

			modifier = {
				factor = 3
				OR = {
					has_government = paternal_autocrat
					has_government = national_populist
				}
			}
		}
		if = {
			limit = { SHX = { exists = yes } }
			set_temp_variable = { tag_to_release = SHX }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = SHX }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				hidden_effect = {
					clear_potential_national_government = yes

					SHX = {
						SHX_yan_xishan = { set_nationality = SHX }
						SHX_wang_xiang = { set_nationality = SHX } #Foreign sellout
						SHX_liang_huazhi = { set_nationality = SHX } #Nephew
					}

					set_party_name = {
						ideology = paternal_autocrat
						long_name = SHX_yan_unification_party_long
						name = SHX_yan_unification_party
					}

					set_party_name = {
						ideology = national_populist
						long_name = SHX_young_china_party_yan_long
						name = SHX_young_china_party_yan
					}
				}

				if = {
					limit = {
						ROOT = {
							has_government = national_populist
						}
					}
					set_politics = {
						ruling_party = national_populist
						elections_allowed = no
					}
					set_political_party = {
						ideology = national_populist
						popularity = 40
					}
					promote_character = {
						character = SHX_yan_xishan
						ideology = national_populist_subtype
					}
					activate_advisor = SHX_liang_huazhi_sic
				}
				else = {
					#Yan defaults to Pat Aut
					set_politics = {
						ruling_party = paternal_autocrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = paternal_autocrat
						popularity = 40
					}
					promote_character = {
						character = SHX_yan_xishan
						ideology = paternal_autocrat_subtype
					}
					activate_advisor = SHX_wang_xiang_sic
				}

				hidden_effect = {
					SHX_lategame_transition_effect = yes

					set_potential_national_government = yes
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	#I would like SHD to be added here one day.

	option = { #Cancel
		log = "[GetLogInfo]: event CHN.foreignpolicy.680 option CHN.foreignpolicy.680.cancel"
		name = CHN.foreignpolicy.680.cancel
	}
}

## Release Revolutionaries (700-719)
country_event = { #A New Revolution in China?
	id = CHN.foreignpolicy.700
	picture = GFX_report_event_CHN_KMT_NRA_soldier_flag
	title = CHN.foreignpolicy.700.t
	desc = CHN.foreignpolicy.700.d

	is_triggered_only = yes #Triggered by [EVENT] CHN.foreignpolicy.600

	option = { #MinGan
		log = "[GetLogInfo]: event CHN.foreignpolicy.700 option CHN.foreignpolicy.700.CHI"
		name = CHN.foreignpolicy.700.CHI
		trigger = {
			CHN_revolutionary_puppet_CHI_is_valid_ally_trigger = yes
		}
		ai_chance = {
			base = 50

			#Literally has every socialist ideology so will just keep it base
		}
		if = {
			limit = { CHI = { exists = yes } }
			set_temp_variable = { tag_to_release = CHI }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = CHI }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				hidden_effect = {
					clear_potential_national_government = yes
				}
				CHI_puppet_setup_effect = yes

				hidden_effect = {
					set_potential_national_government = yes
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	option = { #Liangguang
		log = "[GetLogInfo]: event CHN.foreignpolicy.700 option CHN.foreignpolicy.700.GXC"
		name = CHN.foreignpolicy.700.GXC
		trigger = {
			CHN_revolutionary_puppet_GXC_is_valid_ally_trigger = yes
		}
		ai_chance = {
			base = 30

			modifier = {
				factor = 0.20
				#Less likely to take if doesn't have compatible ideology
				OR = {
					has_government = totalist
					has_government = market_liberal
					has_government = national_populist
				}
			}
		}
		if = {
			limit = { GXC = { exists = yes } }
			set_temp_variable = { tag_to_release = GXC }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = GXC }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				hidden_effect = {
					clear_potential_national_government = yes
					CHI = {
						CHI_sun_fo = { set_nationality = GXC }
					}
					GXC = {
						GXC_tan_pingshan = { set_nationality = GXC }
						GXC_deng_zhongxia = { set_nationality = GXC }

						GXC_peng_pai = { set_nationality = GXC }
						GXC_gu_dacun = { set_nationality = GXC }

						GXC_chen_mingshu = { set_nationality = GXC }
						GXC_jiang_guangnai = { set_nationality = GXC }

						GXC_liang_hancao = { set_nationality = GXC }

						GXC_ju_zheng = { set_nationality = GXC }
						GXC_zou_lu = { set_nationality = GXC }

						GXC_hu_hanmin = { set_nationality = GXC }
						GXC_gu_yingfen = { set_nationality = GXC }
						GXC_li_wenfan = { set_nationality = GXC }

						GXC_li_zongren = { set_nationality = GXC }
						GXC_huang_shaohong = { set_nationality = GXC }

						set_party_name = {
							ideology = syndicalist
							long_name = GXC_chinese_revolutionary_party_long
							name = GXC_chinese_revolutionary_party
						}
						set_party_name = {
							ideology = radical_socialist
							long_name = GXC_chinese_peasants_party_long
							name = GXC_chinese_peasants_party
						}
						set_party_name = {
							ideology = social_democrat
							long_name = GXC_productive_peoples_party_long
							name = GXC_productive_peoples_party
						}
						set_party_name = {
							ideology = social_liberal
							long_name = GXC_reconstruction_faction_full_party_long
							name = GXC_reconstruction_faction_full_party
						}
						set_party_name = {
							ideology = social_conservative
							long_name = GXC_western_hills_clique_party_long
							name = GXC_western_hills_clique_party
						}
						set_party_name = {
							ideology = authoritarian_democrat
							long_name = GXC_elders_clique_party_long
							name = GXC_elders_clique_party
						}
						set_party_name = {
							ideology = paternal_autocrat
							long_name = GXC_new_guangxi_clique_party_long
							name = GXC_new_guangxi_clique_party
						}
					}
				}
				if = {
					limit = {
						ROOT = {
							OR = {
								has_government = totalist
								has_government = syndicalist
							}
						}
					}
					set_politics = {
						ruling_party = syndicalist
						elections_allowed = no
					}
					set_political_party = {
						ideology = syndicalist
						popularity = 40
					}
					promote_character = {
						character = GXC_tan_pingshan
						ideology = syndicalist_subtype
					}
					activate_advisor = GXC_deng_zhongxia_sic
					complete_national_focus = GXC_a_red_liangguang
					complete_national_focus = GXC_fallout_of_the_baise_uprising
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = radical_socialist
						}
					}
					set_politics = {
						ruling_party = radical_socialist
						elections_allowed = no
					}
					set_political_party = {
						ideology = radical_socialist
						popularity = 40
					}
					promote_character = {
						character = GXC_peng_pai
						ideology = radical_socialist_subtype
					}
					activate_advisor = GXC_gu_dacun_sic
					complete_national_focus = GXC_a_red_liangguang
					complete_national_focus = GXC_fallout_of_the_baise_uprising
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = social_democrat
						}
					}
					set_politics = {
						ruling_party = social_democrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = social_democrat
						popularity = 40
					}
					promote_character = {
						character = GXC_chen_mingshu
						ideology = social_democrat_subtype
					}
					activate_advisor = GXC_jiang_guangnai_sic
					complete_national_focus = GXC_a_red_liangguang
					complete_national_focus = GXC_fallout_of_the_baise_uprising
				}
				else_if = {
					limit = {
						ROOT = {
							OR = {
								has_government = social_liberal
								has_government = market_liberal
							}
						}
					}
					set_politics = {
						ruling_party = social_liberal
						elections_allowed = no
					}
					set_political_party = {
						ideology = social_liberal
						popularity = 40
					}
					promote_character = {
						character = CHI_sun_fo
						ideology = social_liberal_subtype
					}
					activate_advisor = GXC_liang_hancao_sic
					complete_national_focus = GXC_a_red_liangguang
					complete_national_focus = GXC_fallout_of_the_baise_uprising
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = social_conservative
						}
					}
					set_politics = {
						ruling_party = social_conservative
						elections_allowed = no
					}
					set_political_party = {
						ideology = social_conservative
						popularity = 40
					}
					promote_character = {
						character = GXC_ju_zheng
						ideology = social_conservative_subtype
					}
					activate_advisor = GXC_zou_lu_sic
					complete_national_focus = GXC_return_of_the_moscow_committee
					complete_national_focus = GXC_begin_national_reconstruction
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = paternal_autocrat
						}
					}
					set_politics = {
						ruling_party = paternal_autocrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = paternal_autocrat
						popularity = 40
					}
					promote_character = {
						character = GXC_li_zongren
						ideology = paternal_autocrat_subtype
					}
					activate_advisor = GXC_huang_shaohong_sic
					complete_national_focus = GXC_return_of_the_moscow_committee
					complete_national_focus = GXC_begin_national_reconstruction
				}
				else = {
					#Hu Hanmin is the top dog/default
					set_politics = {
						ruling_party = authoritarian_democrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = authoritarian_democrat
						popularity = 40
					}
					if = {
						limit = {
							GXC = { GXC_hu_hanmin = { has_character_flag = is_dead } }
						}
						promote_character = {
							character = GXC_gu_yingfen
							ideology = authoritarian_democrat_subtype
						}
					}
					else = {
						promote_character = {
							character = GXC_hu_hanmin
							ideology = authoritarian_democrat_subtype
						}
					}
					activate_advisor = GXC_li_wenfan_sic
					complete_national_focus = GXC_return_of_the_moscow_committee
					complete_national_focus = GXC_begin_national_reconstruction
				}

				hidden_effect = {
					GXC_clear_phase2_debuffs = yes
					GXC_clear_popular_support_effect = yes
					add_ideas = GXC_KMT_popular_support_5
					CHN_setup_economic_devastation_normal_effect = yes
					set_potential_national_government = yes

					set_country_flag = GXC_phase_4_begins_flag
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	option = { #Shanxi
		log = "[GetLogInfo]: event CHN.foreignpolicy.700 option CHN.foreignpolicy.700.SHX"
		name = CHN.foreignpolicy.700.SHX
		trigger = {
			CHN_revolutionary_puppet_SHX_is_valid_ally_trigger = yes
		}
		ai_chance = {
			base = 10

			modifier = {
				factor = 0.25
				#Less likely to take if doesn't have compatible ideology
				NOT = {
					has_government = radical_socialist
					has_government = authoritarian_democrat
				}
			}
		}
		if = {
			limit = { SHX = { exists = yes } }
			set_temp_variable = { tag_to_release = SHX }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = SHX }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				hidden_effect = {
					clear_potential_national_government = yes

					SHX = {
						SHX_feng_yuxiang = { set_nationality = SHX }
						SHX_yu_xinqing = { set_nationality = SHX } #Red Priest, reasonably flexible I think
						SHX_sun_yue = { set_nationality = SHX }
					}

					set_party_name = {
						ideology = radical_socialist
						long_name = SHX_kuomintang_feng_long
						name = SHX_kuomintang_feng
					}
					set_party_name = {
						ideology = authoritarian_democrat
						long_name = SHX_feng_unification_party_long
						name = SHX_feng_unification_party
					}
				}

				if = {
					limit = {
						ROOT = {
							has_socialist_government = yes
						}
					}
					set_politics = {
						ruling_party = radical_socialist
						elections_allowed = no
					}
					set_political_party = {
						ideology = radical_socialist
						popularity = 40
					}
					promote_character = {
						character = SHX_feng_yuxiang
						ideology = radical_socialist_subtype
					}
					activate_advisor = SHX_yu_xinqing_sic
				}
				else = {
					#Feng defaults to Auth Dem
					set_politics = {
						ruling_party = authoritarian_democrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = authoritarian_democrat
						popularity = 40
					}
					promote_character = {
						character = SHX_feng_yuxiang
						ideology = authoritarian_democrat_subtype
					}
					activate_advisor = SHX_sun_yue_sic
				}

				hidden_effect = {
					SHX_lategame_transition_effect = yes

					set_potential_national_government = yes
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	option = { #Yunnan
		log = "[GetLogInfo]: event CHN.foreignpolicy.700 option CHN.foreignpolicy.700.YUN"
		name = CHN.foreignpolicy.700.YUN
		trigger = {
			CHN_revolutionary_puppet_YUN_is_valid_ally_trigger = yes
		}
		ai_chance = {
			base = 10

			modifier = {
				factor = 0.25
				#Less likely to take if doesn't have compatible ideology
				OR = {
					has_government = totalist
					has_government = syndicalist
					has_government = social_liberal
				}
			}
		}
		if = {
			limit = { YUN = { exists = yes } }
			set_temp_variable = { tag_to_release = YUN }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				CHN_hand_over_manchurian_territory_to_TARGET_effect = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				CHN_hand_over_non_LEC_territory_to_TARGET_effect = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = YUN }
			if = {
				limit = {
					has_country_flag = CHN_releasing_in_manchuria_flag
				}
				release_chinese_government_in_manchuria = yes
				clr_country_flag = CHN_releasing_in_manchuria_flag
			}
			else = {
				release_chinese_government = yes
			}
			var:tag_to_release = {
				hidden_effect = {
					clear_potential_national_government = yes
					CHI = {
						CHI_zhang_bojun = { set_nationality = YUN }
					}
					YUN = {
						YUN_zhu_de = { set_nationality = YUN }

						YUN_chen_cheng = { set_nationality = YUN }
						YUN_luo_zhuoying = { set_nationality = YUN }

						YUN_zhang_qun = { set_nationality = YUN }
						YUN_yang_yongtai = { set_nationality = YUN }

						YUN_zhu_peide = { set_nationality = YUN }
						YUN_li_genyuan = { set_nationality = YUN }

						YUN_chen_lifu = { set_nationality = YUN }
						YUN_chen_bulei = { set_nationality = YUN }

						YUN_he_yingqin = { set_nationality = YUN }
						YUN_dai_jitao = { set_nationality = YUN }

						YUN_teng_jie = { set_nationality = YUN }
						YUN_liu_jianqun = { set_nationality = YUN }
					}
					set_party_name = {
						ideology = radical_socialist
						long_name = YUN_chinese_peasants_and_workers_democratic_party_long
						name = YUN_chinese_peasants_and_workers_democratic_party
					}
					set_party_name = {
						ideology = social_democrat
						long_name = YUN_KMT_CEC_party_long
						name = YUN_KMT_CEC_party
					}
					set_party_name = {
						ideology = market_liberal
						long_name = YUN_KMT_PSC_party_long
						name = YUN_KMT_PSC_party
					}
					set_party_name = {
						ideology = social_conservative
						long_name = YUN_KMT_3AR_party_long
						name = YUN_KMT_3AR_party
					}
					set_party_name = {
						ideology = authoritarian_democrat
						long_name = YUN_KMT_CCC_party_long
						name = YUN_KMT_CCC_party
					}
					set_party_name = {
						ideology = paternal_autocrat
						long_name = YUN_KMT_WPC_party_long
						name = YUN_KMT_WPC_party
					}
					set_party_name = {
						ideology = national_populist
						long_name = YUN_KMT_BSS_party_long
						name = YUN_KMT_BSS_party
					}
				}
				if = {
					limit = {
						ROOT = {
							has_socialist_government = yes
						}
					}
					set_politics = {
						ruling_party = radical_socialist
						elections_allowed = no
					}
					set_political_party = {
						ideology = radical_socialist
						popularity = 40
					}
					promote_character = {
						character = CHI_zhang_bojun
						ideology = radical_socialist_subtype
					}
					activate_advisor = YUN_zhu_de_sic
				}
				else_if = {
					limit = {
						ROOT = {
							OR = {
								has_government = social_liberal
								has_government = market_liberal
							}
						}
					}
					set_politics = {
						ruling_party = market_liberal
						elections_allowed = no
					}
					set_political_party = {
						ideology = market_liberal
						popularity = 40
					}
					promote_character = {
						character = YUN_zhang_qun
						ideology = market_liberal_subtype
					}
					activate_advisor = YUN_yang_yongtai_sic
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = social_conservative
						}
					}
					set_politics = {
						ruling_party = social_conservative
						elections_allowed = no
					}
					set_political_party = {
						ideology = social_conservative
						popularity = 40
					}
					promote_character = {
						character = YUN_zhu_peide
						ideology = social_conservative_subtype
					}
					activate_advisor = YUN_li_genyuan_sic #Yeah old PSC and 3AR need to share a puppet sorry
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = authoritarian_democrat
						}
					}
					set_politics = {
						ruling_party = authoritarian_democrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = authoritarian_democrat
						popularity = 40
					}
					promote_character = {
						character = YUN_chen_lifu
						ideology = authoritarian_democrat_subtype
					}
					activate_advisor = YUN_chen_bulei_sic
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = paternal_autocrat
						}
					}
					set_politics = {
						ruling_party = paternal_autocrat
						elections_allowed = no
					}
					set_political_party = {
						ideology = paternal_autocrat
						popularity = 40
					}
					promote_character = {
						character = YUN_he_yingqin
						ideology = paternal_autocrat_subtype
					}
					activate_advisor = YUN_dai_jitao_sic
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = national_populist
						}
					}
					set_politics = {
						ruling_party = national_populist
						elections_allowed = no
					}
					set_political_party = {
						ideology = national_populist
						popularity = 40
					}
					promote_character = {
						character = YUN_teng_jie
						ideology = national_populist_subtype
					}
					activate_advisor = YUN_liu_jianqun_sic
				}

				hidden_effect = {
					YUN_transition_economy_effect = yes
					YUN_clear_popular_support_ideas = yes
					add_ideas = YUN_KMT_popular_support_5
					CHN_setup_economic_devastation_normal_effect = yes
					set_potential_national_government = yes

					set_country_flag = YUN_phase_4_begins_flag
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	#I would like SZC and HNN to be added here one day.

	option = { #Cancel
		log = "[GetLogInfo]: event CHN.foreignpolicy.700 option CHN.foreignpolicy.700.cancel"
		name = CHN.foreignpolicy.700.cancel
		ai_chance = { base = 0 }
	}
}
