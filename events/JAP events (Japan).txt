###########################
# Japan Domestic Events
###########################
# By Flamefang, Levi, Paul, Zankoas & ~mw~
###########################

add_namespace = japan_domestic_events
add_namespace = japan_foreign_events
add_namespace = japan_fengtian_events
add_namespace = japan_news
add_namespace = JAP_LEC_crisis

###########################
# Opening Events - 1936
###########################

country_event = { #AI path selection. 40% Dem, 30% MilCent, 30% Restorationist
	id = japan_domestic_events.1
	title = japan_domestic_events.1.t
	desc = japan_domestic_events.1.d
	trigger = { is_ai = yes }

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.1 option japan_domestic_events.1.a" #Japan Dem selection
		name = japan_domestic_events.1.a
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_PATAUT }
					has_game_rule = { rule = JAP_path option = JAP_PATH_NATPOP }
				}
			}
		}
		set_country_flag = JAP_dem_ai
	}
	option = {
		log = "[GetLogInfo]: event japan_domestic_events.1 option japan_domestic_events.1.b" #Japan Milcent selection
		name = japan_domestic_events.1.b
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_NATPOP }
				}
			}
		}
		set_country_flag = JAP_milcent_ai
	}
	option = {
		log = "[GetLogInfo]: event japan_domestic_events.1 option japan_domestic_events.1.c" #Japan restorationist selection
		name = japan_domestic_events.1.c
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_PATAUT }
				}
			}
		}
		set_country_flag = JAP_showa_ai
	}
}

country_event = { #Dissolution of the Diet, triggered soon after start
	id = japan_domestic_events.2
	title = japan_domestic_events.2.t
	desc = japan_domestic_events.2.d
	picture = GFX_report_event_JAP_diet

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.2 option japan_domestic_events.2.a"
		name = japan_domestic_events.2.a
		hidden_effect = {
			country_event = { id = japan_domestic_events.3 days = 30 }
			country_event = { id = japan_domestic_events.4 days = 35 }
		}
	}
}

country_event = { #General Election Feb. 1936, triggered early 1936, important flag set
	id = japan_domestic_events.3
	title = japan_domestic_events.3.t
	desc = japan_domestic_events.3.d
	picture = GFX_report_event_JAP_voting

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_socialist_government = no
		is_subject = no
	}

	option = { #The Seiyukai have defended their absolute majority!
		log = "[GetLogInfo]: event japan_domestic_events.3 option japan_domestic_events.3.a"
		name = japan_domestic_events.3.a
		add_political_power = 25
		set_country_flag = JAP_elected_soccon
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_PATAUT }
					has_game_rule = { rule = JAP_path option = JAP_PATH_NATPOP }
				}
			}
		}
	}
	option = { #The Seiyukai have lost their absolute majority!
		log = "[GetLogInfo]: event japan_domestic_events.3 option japan_domestic_events.3.b"
		name = japan_domestic_events.3.b
		set_temp_variable = { ideology_change_var = -0.1 }
		change_ruling_party_popularity = yes
		set_country_flag = JAP_WEAK_SEIYUKAI
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
			}
		}
	}
}

country_event = { #The Assassination of Katayama Sen, triggered early 1936
	id = japan_domestic_events.4
	title = japan_domestic_events.4.t
	desc = japan_domestic_events.4.d
	picture = GFX_report_event_JAP_Katayama

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.4 option japan_domestic_events.4.a"
		name = japan_domestic_events.4.a
		add_stability = -0.02
		hidden_effect = {
			country_event = { id = japan_domestic_events.5 days = 60 }
		}
	}
}

country_event = { #Friction Within the Japanese Left, triggered early 1936
	id = japan_domestic_events.5
	title = japan_domestic_events.5.t
	desc = japan_domestic_events.5.d
	picture = GFX_report_event_FNG_protest

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.5 option japan_domestic_events.5.a"
		name = japan_domestic_events.5.a
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.01
		}
		add_popularity = {
			ideology = social_democrat
			popularity = -0.01
		}
		hidden_effect = {
			country_event = { id = japan_domestic_events.7 days = 65 }
		}
	}
}

country_event = { #The May 15 Incident, triggered mid 1936
	id = japan_domestic_events.6
	title = japan_domestic_events.6.t
	desc = japan_domestic_events.6.d
	picture = GFX_report_event_JAP_coup

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.6 option japan_domestic_events.6.a"
		name = japan_domestic_events.6.a
		add_stability = -0.1
		activate_advisor = JAP_suzuki_kisaburo_sic
		JAP_inukai_tsuyoshi = { kill_character = yes }
	}
}

country_event = { #Restorationists and Centralists, triggered mid 1936
	id = japan_domestic_events.7
	title = japan_domestic_events.7.t
	desc = japan_domestic_events.7.d
	picture = GFX_report_event_JAP_restorationist_centralist

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.7 option japan_domestic_events.7.a"
		name = japan_domestic_events.7.a
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.04
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.02
		}
	}
}

country_event = { #The NSA debate begins
	id = japan_domestic_events.8
	title = japan_domestic_events.8.t
	desc = japan_domestic_events.8.d
	picture = GFX_report_event_JAP_meeting

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.8 option japan_domestic_events.8.a"
		name = japan_domestic_events.8.a
		complete_national_focus = JAP_NSA_focus
	}
}

country_event = { #The National Security Act, triggered by focus end of 1936, very important flags set
	id = japan_domestic_events.9
	title = japan_domestic_events.9.t
	desc = japan_domestic_events.9.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = { #The Act is forced through
		log = "[GetLogInfo]: event japan_domestic_events.9 option japan_domestic_events.9.a"
		name = japan_domestic_events.9.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_NATPOP }
					has_country_flag = JAP_showa_ai
				}
			}
		}
		add_political_power = -50
		set_country_flag = JAP_NSA
		add_ideas = JAP_NSA_idea
		hidden_effect = {
			country_event = { id = japan_domestic_events.10 days = 40 }
			country_event = { id = japan_domestic_events.51 days = 60 random_days = 180 }
		}
	}
	option = { #Public opinion and the opposition defeat the Act
		log = "[GetLogInfo]: event japan_domestic_events.9 option japan_domestic_events.9.b"
		name = japan_domestic_events.9.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_PATAUT }
					has_country_flag = JAP_dem_ai
					has_country_flag = JAP_milcent_ai
				}
			}
		}
		add_political_power = -100
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		set_country_flag = JAP_NO_NSA
		hidden_effect = {
			country_event = { id = japan_domestic_events.12 days = 10 }
		}
	}
}

###########################
# Japan's Longest Winter - 1936
###########################

country_event = { #The Trial of the May 15 Incident, triggered by the NSA passing
	id = japan_domestic_events.10
	title = japan_domestic_events.10.t
	desc = japan_domestic_events.10.d
	picture = GFX_report_event_generic_trial_big

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.10 option japan_domestic_events.10.a"
		name = japan_domestic_events.10.a
		add_political_power = -35
		hidden_effect = {
			country_event = { id = japan_domestic_events.11 days = 10 }
		}
	}
}

country_event = { #The Assassination of Suzuki Kisaburo, triggered by the NSA passing
	id = japan_domestic_events.11
	title = japan_domestic_events.11.t
	desc = japan_domestic_events.11.d
	picture = GFX_report_event_POL_assassination

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.11 option japan_domestic_events.11.a"
		name = japan_domestic_events.11.a
		activate_advisor = JAP_imperial_diet_sic
		JAP_suzuki_kisaburo = { kill_character = yes }
		add_ideas = JAP_unstable_democracy
		country_event = japan_domestic_events.14
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.05
		}
	}
}

country_event = { #Government Under Fire
	id = japan_domestic_events.12
	title = japan_domestic_events.12.t
	desc = japan_domestic_events.12.d
	picture = GFX_report_event_USA_Riots

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.12 option japan_domestic_events.12.a"
		name = japan_domestic_events.12.a
		add_stability = -0.01
		hidden_effect = {
			country_event = { id = japan_domestic_events.13 days = 10 }
		}
	}
}

country_event = { #Resignation of Suzuki Kisaburo, triggered by the NSA not passing
	id = japan_domestic_events.13
	title = japan_domestic_events.13.t
	desc = japan_domestic_events.13.d
	picture = GFX_report_event_JAP_crowd

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.13 option japan_domestic_events.13.a"
		name = japan_domestic_events.13.a
		add_stability = -0.05
		activate_advisor = JAP_imperial_diet_sic
		hidden_effect = {
			country_event = { id = japan_domestic_events.14 days = 30 }
		}
	}
}

country_event = { #The Election of Mizuno Rentaro
	id = japan_domestic_events.14
	title = japan_domestic_events.14.t
	picture = GFX_report_event_JAP_rentaro
	desc = {
		text = japan_domestic_events.14.dead
		trigger = {
			NOT = { has_character = JAP_suzuki_kisaburo }
		}
	}
	desc = {
		text = japan_domestic_events.14.notdead
		trigger = {
			has_character = JAP_suzuki_kisaburo
		}
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.14 option japan_domestic_events.14.a"
		name = japan_domestic_events.14.a
		add_stability = 0.05
		activate_advisor = JAP_mizuno_rentaro_sic
		if = {
			limit = {
				has_country_flag = JAP_NO_NSA
			}
			hidden_effect = {
				country_event = { id = japan_domestic_events.15 days = 7 }
			}
		}
		else_if = {
			limit = {
				has_country_flag = JAP_NSA
				has_country_flag = JAP_WEAK_SEIYUKAI
			}
			hidden_effect = {
				country_event = { id = japan_domestic_events.72 days = 7 }
			}
		}
		else_if = {
			limit = {
				has_country_flag = JAP_NSA
				NOT = { has_country_flag = JAP_WEAK_SEIYUKAI }
			}
			hidden_effect = {
				country_event = { id = japan_domestic_events.65 days = 7 }
			}
		}
	}
}

country_event = { #Japan's Longest Winter, triggered by failing to pass the NSA
	id = japan_domestic_events.15
	title = japan_domestic_events.15.t
	desc = japan_domestic_events.15.d
	picture = GFX_report_event_japanese_officers

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.15 option japan_domestic_events.15.a"
		name = japan_domestic_events.15.a
		add_stability = -0.05
		hidden_effect = { #Japan's longest day - army coup successful
			country_event = { id = japan_domestic_events.16 days = 5 }
		}
	}
}

country_event = { #Japan's longest day - army coup successful, triggered by previous event, lots of important flags set
	id = japan_domestic_events.16
	title = japan_domestic_events.16.t
	desc = japan_domestic_events.16.d
	picture = GFX_report_event_japanese_soldiers_02

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.16 option japan_domestic_events.16.a"
		name = japan_domestic_events.16.a
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.1
		}
		activate_advisor = JAP_hiranuma_kiichiro_sic
		hidden_effect = {
			country_event = { id = japan_domestic_events.18 days = 5 }
		}
	}
}

country_event = { #Army coups fails, triggered by disagreeing with emperor when he doesn't support the government
	id = japan_domestic_events.17
	title = japan_domestic_events.17.t
	desc = japan_domestic_events.17.d
	picture = GFX_report_event_JAP_barricade

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.17 option japan_domestic_events.17.a"
		name = japan_domestic_events.17.a
		add_stability = -0.03
		retire_character = JAP_koiso_kuniaki
		retire_character = JAP_muto_akira
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.05
		}
		hidden_effect = {
			country_event = { id = japan_domestic_events.22 days = 18 }
		}
		custom_effect_tooltip = failed_coup_weak_government
		mark_focus_tree_layout_dirty = yes
		set_country_flag = democracy_failed_coup
		hidden_effect = {
			news_event = japan_news.4
		}
	}
}

country_event = { #The Power Struggle
	id = japan_domestic_events.18
	title = japan_domestic_events.18.t
	desc = japan_domestic_events.18.d
	picture = GFX_report_event_JAP_restorationist_centralist

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.18 option japan_domestic_events.18.a"
		name = japan_domestic_events.18.a
		add_political_power = -25
		country_event = { id = japan_domestic_events.19 days = 5 }	#Japan's longest day - army coup successful
	}
}
country_event = { #The restorationist counter-coup, triggered by previous event, important flag set
	id = japan_domestic_events.19
	title = japan_domestic_events.19.t
	desc = japan_domestic_events.19.d
	picture = GFX_report_event_JAP_coup

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.19 option japan_domestic_events.19.a"
		name = japan_domestic_events.19.a
		add_stability = -0.05
		retire_character = JAP_koiso_kuniaki
		retire_character = JAP_muto_akira
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.15
		}
		activate_advisor = JAP_hiranuma_kiichiro_sic
		set_country_flag = JAP_path_decided
		set_country_flag = JAP_showa_tree
		clr_country_flag = JAP_elected_soccon
		hidden_effect = { news_event = japan_news.6 }
	}
}
country_event = { #Army coup fails, centralist incoming, triggered by focus "Military Centralism"
	id = japan_domestic_events.20
	title = japan_domestic_events.20.t
	desc = japan_domestic_events.20.d
	picture = GFX_report_event_JAP_revolt

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.20 option japan_domestic_events.20.a"
		name = japan_domestic_events.20.a
		add_stability = -0.05
		retire_character = JAP_araki_sadao
		country_event = japan_domestic_events.21
	}
}
country_event = { #The Centralists counter-coup is successful, triggered by previous event
	id = japan_domestic_events.21
	title = japan_domestic_events.21.t
	desc = japan_domestic_events.21.d
	picture = GFX_report_event_JAP_coup

	is_triggered_only = yes

	option = { #new ministers
		log = "[GetLogInfo]: event japan_domestic_events.21 option japan_domestic_events.21.a"
		name = japan_domestic_events.21.a
		remove_ideas = JAP_unstable_democracy
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.35
		}
		activate_advisor = JAP_hayashi_senjuro_sic
		hidden_effect = { news_event = japan_news.7 }

		set_country_flag = JAP_path_decided
		set_country_flag = JAP_milcentralism_tree
		clr_country_flag = JAP_elected_soccon
	}
}

country_event = { #The Government of National Unity, triggered by event japan_domestic_events.17
	id = japan_domestic_events.22
	title = japan_domestic_events.22.t
	desc = japan_domestic_events.22.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = { #national government
		log = "[GetLogInfo]: event japan_domestic_events.22 option japan_domestic_events.22.a"
		name = japan_domestic_events.22.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
				}
			}
		}
		add_stability = 0.05
		add_political_power = -50
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
			election_frequency = 48
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.25
		}
		activate_advisor = JAP_adachi_kenzo_sic
		set_party_name = {
			ideology = market_liberal
			name = JAP_national_unity_gov
			long_name = JAP_national_unity_gov_long
		}
		set_party_name = {
			ideology = social_conservative
			name = JAP_national_unity_gov
			long_name = JAP_national_unity_gov_long
		}
		set_party_name = {
			ideology = authoritarian_democrat
			name = JAP_national_unity_gov
			long_name = JAP_national_unity_gov_long
		}
		set_temp_variable = { coalition_partner_var = token:market_liberal }
		add_to_coalition = yes
		set_temp_variable = { coalition_partner_var = token:social_conservative }
		add_to_coalition = yes
		if = {
			limit = { check_variable = { JAP_autdem_focus_variable < 1 } }
			custom_effect_tooltip = tooltip_white_line
			set_variable = {
				tooltip = JAP_autdem_reforms_tt
				JAP_autdem_focus_variable = 0
			}
		}
		set_country_flag = JAP_elected_autdem
		hidden_effect = {
			country_event = { id = japan_domestic_events.34 days = 500 }
		}
	}
	option = { #no need
		log = "[GetLogInfo]: event japan_domestic_events.22 option japan_domestic_events.22.b"
		name = japan_domestic_events.22.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
			}
		}
		add_political_power = 25
		hidden_effect = {
			country_event = { id = japan_domestic_events.31 days = 12 }
		}
	}
}

###########################
# 1937 ~ 1939 - Centralist Event Chain : Gearing Up for War
###########################

country_event = { #On the Basic Principles of National Defence
	id = japan_domestic_events.23
	title = japan_domestic_events.23.t
	desc = japan_domestic_events.23.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.23 option japan_domestic_events.23.a"
		name = japan_domestic_events.23.a
		add_war_support = 0.05
	}
}

country_event = { #On The Fundamental Principles of the National Structure, triggered by taking focus Create the Cabinet Planning Board
	id = japan_domestic_events.24
	title = japan_domestic_events.24.t
	desc = japan_domestic_events.24.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.24 option japan_domestic_events.24.a"
		name = japan_domestic_events.24.a
		add_war_support = 0.05
	}
}
country_event = { #The New System Movement
	id = japan_domestic_events.25
	title = japan_domestic_events.25.t
	desc = japan_domestic_events.25.d
	picture = GFX_report_event_japanese_reply

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.25 option japan_domestic_events.25.a"
		name = japan_domestic_events.25.a
		add_political_power = 25
	}
}
country_event = { #The First Convention of the Taisei Yokusankai, triggered by focus JAP_showa_restoration
	id = japan_domestic_events.26
	title = japan_domestic_events.26.t
	desc = japan_domestic_events.26.d
	picture = GFX_report_event_JAP_meeting

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.26 option japan_domestic_events.26.a"
		name = japan_domestic_events.26.a
		add_political_power = 50
	}
}
country_event = { #Konoe Fumimaro Secures Support, triggered by focus JAP_showa_restoration
	id = japan_domestic_events.27
	title = japan_domestic_events.27.t
	desc = japan_domestic_events.27.d
	picture = GFX_report_event_japanese_reply

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.27 option japan_domestic_events.27.a"
		name = japan_domestic_events.27.a
		add_political_power = 25
		hidden_effect = {
			set_party_name = {
				ideology = national_populist
				name = JAP_national_populist_party_iraa
				long_name = JAP_national_populist_party_iraa_long
			}
		}
		activate_advisor = JAP_konoe_fumimaro_sic
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = JAP_showa_restoration_mechanic_tt
	}
}

country_event = { #Rehires advisors if you had them before in Cabinet Planning Board
	id = japan_domestic_events.30

	is_triggered_only = yes
	hidden = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.30 option 1"
		if = {
			limit = {
				has_country_flag = JAP_goto_fumio_flag
			}
			activate_advisor = JAP_goto_fumio_advisor
		}
		if = {
			limit = {
				has_country_flag = JAP_koiso_kuniaki_flag
			}
			activate_advisor = JAP_koiso_kuniaki_advisor
		}
		if = {
			limit = {
				has_country_flag = JAP_kishi_nobusuke_flag
			}
			activate_advisor = JAP_kishi_nobusuke_advisor
		}
		if = {
			limit = {
				has_country_flag = JAP_fujie_keisuke_flag
			}
			activate_advisor = JAP_fujie_keisuke_advisor
		}
		if = {
			limit = {
				has_country_flag = JAP_matsui_iwane_flag
			}
			activate_advisor = JAP_matsui_iwane_army_chief
		}
		if = {
			limit = {
				has_country_flag = JAP_kanin_kotohito_flag
			}
			activate_advisor = JAP_kanin_kotohito_army_chief
		}
		if = {
			limit = {
				has_country_flag = JAP_sugiyama_hajime_flag
			}
			activate_advisor = JAP_sugiyama_hajime_army_chief
		}
		if = {
			limit = {
				has_country_flag = JAP_yamashita_tomoyuki_flag
			}
			activate_advisor = JAP_yamashita_tomoyuki_army_chief
		}
		if = {
			limit = {
				has_country_flag = JAP_nishi_yoshikazu_flag
			}
			activate_advisor = JAP_nishi_yoshikazu_army_chief
		}
		clr_country_flag = JAP_goto_fumio_flag
		clr_country_flag = JAP_koiso_kuniaki_flag
		clr_country_flag = JAP_kishi_nobusuke_flag
		clr_country_flag = JAP_fujie_keisuke_flag
		clr_country_flag = JAP_matsui_iwane_flag
		clr_country_flag = JAP_kanin_kotohito_flag
		clr_country_flag = JAP_sugiyama_hajime_flag
		clr_country_flag = JAP_yamashita_tomoyuki_flag
		clr_country_flag = JAP_nishi_yoshikazu_flag
	}
}

###########################
# General Election, in theory in late 1936
###########################
country_event = {
	id = japan_domestic_events.31
	title = japan_domestic_events.31.t
	desc = japan_domestic_events.31.d
	picture = GFX_report_event_JAP_voting

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = japan_domestic_events.32 days = 30 }
		}
	}

	option = { #Conservatives
		log = "[GetLogInfo]: event japan_domestic_events.31 option japan_domestic_events.31.a"
		name = japan_domestic_events.31.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
				}
			}
		}
		trigger = {
			NOT = { has_government = authoritarian_democrat }
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.2
		}
		activate_advisor = JAP_mizuno_rentaro_sic
		set_country_flag = JAP_elected_soccon
	}
	option = { #Liberals
		log = "[GetLogInfo]: event japan_domestic_events.31 option japan_domestic_events.31.b"
		name = japan_domestic_events.31.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
			}
		}
		trigger = {
			NOT = { has_government = authoritarian_democrat }
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.2
		}
		activate_advisor = JAP_hamaguchi_osachi_sic
		set_country_flag = JAP_elected_marlib
	}
	option = { #maintain coalition
		log = "[GetLogInfo]: event japan_domestic_events.31 option japan_domestic_events.31.c"
		name = japan_domestic_events.31.c
		trigger = {
			has_government = authoritarian_democrat
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.2
		}
		activate_advisor = JAP_adachi_kenzo_sic
	}
}

###########################
# 1937 - A Party Divided
###########################

country_event = {
	id = japan_domestic_events.32
	title = japan_domestic_events.32.t
	desc = japan_domestic_events.32.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.32 option japan_domestic_events.32.a"
		name = japan_domestic_events.32.a
		add_stability = -0.05
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.05
		}
		hidden_effect = {
			country_event = { id = japan_domestic_events.33 days = 30 }
		}
	}
}

country_event = { #Formation of the Kokumin Domei
	id = japan_domestic_events.33
	title = japan_domestic_events.33.t
	desc = japan_domestic_events.33.d
	picture = GFX_report_event_JAP_announcement

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_completed_focus = JAP_showa_restoration
			has_completed_focus = JAP_military_centralism
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.33 option japan_domestic_events.33.a"
		name = japan_domestic_events.33.a
		add_stability = 0.05
		set_party_name = {
			ideology = market_liberal
			name = JAP_market_liberal_party_kd
			long_name = JAP_market_liberal_party_long_kd
		}
		set_party_name = {
			ideology = social_conservative
			name = JAP_social_conservative_party_kd
			long_name = JAP_social_conservative_party_long_kd
		}
		set_party_name = {
			ideology = authoritarian_democrat
			name = JAP_authoritarian_democrat_party_kd
			long_name = JAP_authoritarian_democrat_party_long_kd
		}
		set_party_name = {
			ideology = national_populist
			name = JAP_national_populist_party_kd
			long_name = JAP_national_populist_party_long_kd
		}
		if = {
			limit = { has_government = authoritarian_democrat }
			set_temp_variable = { coalition_partner_var = token:national_populist }
			add_to_coalition = yes
		}
	}
}

country_event = { # The National Unity Government Breaks Up
	id = japan_domestic_events.34
	title = japan_domestic_events.34.t
	desc = japan_domestic_events.34.d
	picture = GFX_report_event_JAP_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.34 option japan_domestic_events.34.a"
		name = japan_domestic_events.34.a
		set_party_name = {
			ideology = market_liberal
			name = JAP_market_liberal_party_kd
			long_name = JAP_market_liberal_party_long_kd
		}
		set_party_name = {
			ideology = social_conservative
			name = JAP_social_conservative_party_kd
			long_name = JAP_social_conservative_party_long_kd
		}
		set_party_name = {
			ideology = authoritarian_democrat
			name = JAP_authoritarian_democrat_party_kd
			long_name = JAP_authoritarian_democrat_party_long_kd
		}
		set_temp_variable = { coalition_partner_var = token:market_liberal }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:social_conservative }
		remove_from_coalition = yes
	}
}

###########################
# 1937 The NSA
###########################

country_event = { #The Popular Front Incident
	id = japan_domestic_events.45
	title = japan_domestic_events.45.t
	desc = japan_domestic_events.45.d
	picture = GFX_report_event_FNG_several_prisoners

	is_triggered_only = yes

	trigger = {
		has_country_flag = JAP_NSA
	}

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.45 option japan_domestic_events.45.a"
		name = japan_domestic_events.45.a
		add_political_power = 25
		add_stability = 0.05
		add_popularity = {
			ideology = social_democrat
			popularity = -0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.02
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.02
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.02
		}
		hidden_effect = {
			country_event = { id = japan_domestic_events.46 days = 100 }
		}
	}
}

country_event = { #The Second Popular Front Incident
	id = japan_domestic_events.46
	title = japan_domestic_events.46.t
	desc = japan_domestic_events.46.d
	picture = GFX_report_event_LEC_shanghai_police_patrol

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.46 option japan_domestic_events.46.a"
		name = japan_domestic_events.46.a
		add_political_power = -5
		add_stability = 0.02
		add_popularity = {
			ideology = social_democrat
			popularity = -0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.02
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.02
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.02
		}
		hidden_effect = {
			country_event = { id = japan_domestic_events.47 days = 200 }
		}
	}
}

country_event = { #The Keihin Workers' Group Incident
	id = japan_domestic_events.47
	title = japan_domestic_events.47.t
	desc = japan_domestic_events.47.d
	picture = GFX_report_event_YUN_intellectuals

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.47 option japan_domestic_events.47.a"
		name = japan_domestic_events.47.a
		add_political_power = -10
		add_stability = 0.01
		hidden_effect = {
			country_event = { id = japan_domestic_events.48 days = 300 }
		}
	}
}

country_event = { #The Planning Board Incident
	id = japan_domestic_events.48
	title = japan_domestic_events.48.t
	desc = japan_domestic_events.48.d
	picture = GFX_report_event_CHN_intelligence

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.48 option japan_domestic_events.48.a"
		name = japan_domestic_events.48.a
		add_political_power = -20
		hidden_effect = {
			country_event = { id = japan_domestic_events.49 days = 400 }
		}
	}
}

country_event = { #The Research Department Incident
	id = japan_domestic_events.49
	title = japan_domestic_events.49.t
	desc = japan_domestic_events.49.d
	picture = GFX_report_event_JAP_science

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.49 option japan_domestic_events.49.a"
		name = japan_domestic_events.49.a
		add_political_power = -30
		hidden_effect = {
			country_event = { id = japan_domestic_events.50 days = 500 }
		}
	}
}

country_event = { #The Yokohama Incident
	id = japan_domestic_events.50
	title = japan_domestic_events.50.t
	desc = japan_domestic_events.50.d
	picture = GFX_report_event_JAP_news

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.50 option japan_domestic_events.50.a"
		name = japan_domestic_events.50.a
		add_political_power = -50
		add_stability = -0.05
		add_war_support = -0.05
	}
}

country_event = { #Tokko Officers Accused of Torture
	id = japan_domestic_events.51
	title = japan_domestic_events.51.t
	desc = japan_domestic_events.51.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	trigger = {
		has_country_flag = JAP_NSA
		has_democratic_government = yes
	}

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.51 option japan_domestic_events.51.a"
		name = japan_domestic_events.51.a
		add_stability = -0.05
	}
}

###########################
# 1939 - The Great Drought
###########################

country_event = { #The Great Drought of 1939
	id = japan_domestic_events.53
	title = japan_domestic_events.53.t
	desc = japan_domestic_events.53.d
	picture = GFX_report_event_JAP_rice_farmers

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.53 option japan_domestic_events.53.a"
		name = japan_domestic_events.53.a
		set_country_flag = JAP_great_drought_active
		add_ideas = JAP_great_drought
		hidden_effect = {
			country_event = { id = japan_domestic_events.60 days = 120 }
		}
	}
}

country_event = { #The Great Drought Gets Worse
	id = japan_domestic_events.60
	title = japan_domestic_events.60.t
	desc = japan_domestic_events.60.d
	picture = GFX_report_event_JAP_rice_farmers

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.60 option japan_domestic_events.60.a"
		name = japan_domestic_events.60.a
		swap_ideas = {
			remove_idea = JAP_great_drought
			add_idea = JAP_great_drought_worse
		}
		hidden_effect = {
			country_event = { id = japan_domestic_events.63 days = 360 }
			if = {
				limit = {
					has_global_flag = soy_initiative_on
					FNG_JAP_hostile = no
					FNG = {
						exists = yes
						NOT = {
							has_global_flag = fengtian_refuses_food
						}
					}
				}
				country_event = { id = japan_domestic_events.61 days = 30 }
			}
		}
	}
}

country_event = { # Japan can ask for food from Fengtian
	id = japan_domestic_events.61
	title = japan_domestic_events.61.t

	desc = {
		text = japan_domestic_events.61.d_pervasive #Mantetsu Influence is Pervasive or Dominant
		trigger = {
			FNG = {
				OR = {
					FNG_mantetsu_level_high = yes
					FNG_mantetsu_level_very_high = yes
				}
			}
		}
	}
	desc = {
		text = japan_domestic_events.61.d_normal # Mantetsu Influence is present or low
		trigger = {
			FNG = {
				OR = {
					FNG_mantetsu_level_medium = yes
					FNG_mantetsu_level_low = yes
				}
			}
		}
	}
	picture = GFX_report_event_FNG_farmers

	is_triggered_only = yes

	option = { # Force Compliance
		log = "[GetLogInfo]: event japan_domestic_events.61 option japan_domestic_events.61.a"
		name = japan_domestic_events.61.a
		ai_chance = { base = 50 }
		trigger = {
			FNG = {
				OR = {
					FNG_mantetsu_level_high = yes
					FNG_mantetsu_level_very_high = yes
				}
			}
		}
		set_global_flag = fengtian_forced
		FNG = {
			country_event = { id = fengtian_events.43 days = 2 }
		}
	}

	option = { # Request
		log = "[GetLogInfo]: event japan_domestic_events.61 option japan_domestic_events.61.b"
		name = japan_domestic_events.61.b
		ai_chance = { base = 50 }
		set_global_flag = fengtian_normal
		FNG = {
			country_event = { id = fengtian_events.43 days = 2 }
		}
	}

	option = { # Do nothing
		log = "[GetLogInfo]: event japan_domestic_events.61 option japan_domestic_events.61.c"
		name = japan_domestic_events.61.c
		ai_chance = { base = 0 }
	}
}

country_event = { # Fengtian refuses to provide food
	id = japan_domestic_events.62

	title = {
		text = japan_domestic_events.62.t
		trigger = {
			NOT = { has_country_flag = FNG_cut_off_food }
		}
	}
	title = {
		text = japan_domestic_events.62.t.cutoff
		trigger = {
			has_country_flag = FNG_cut_off_food
		}
	}

	desc = {
		text = japan_domestic_events.62.d
		trigger = {
			NOT = { has_country_flag = FNG_cut_off_food }
		}
	}
	desc = {
		text = japan_domestic_events.62.d.cutoff
		trigger = {
			has_country_flag = FNG_cut_off_food
		}
	}
	picture = GFX_report_event_FNG_zhang_zoulin

	fire_only_once = yes
	is_triggered_only = yes

	option = { # Punish
		log = "[GetLogInfo]: event japan_domestic_events.62 option japan_domestic_events.62.a"
		name = japan_domestic_events.62.a
		set_global_flag = japan_punishes_fengtian
	}

	option = { # Do not Punish
		log = "[GetLogInfo]: event japan_domestic_events.62 option japan_domestic_events.62.b"
		name = japan_domestic_events.62.b
	}
}

country_event = { # The Drought Ends
	id = japan_domestic_events.63
	title = japan_domestic_events.63.t
	desc = japan_domestic_events.63.d
	picture = GFX_report_event_JAP_rice_farmers

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.63 option japan_domestic_events.63.a"
		name = japan_domestic_events.63.a
		add_political_power = 100
		if = {
			limit = { has_idea = JAP_great_drought }
			remove_ideas = JAP_great_drought
		}
		else_if = {
			limit = { has_idea = JAP_great_drought_worse }
			remove_ideas = JAP_great_drought_worse
		}
	}
}

country_event = { #Fengtian provides food
	id = japan_domestic_events.64
	title = japan_domestic_events.64.t
	desc = japan_domestic_events.64.d
	picture = GFX_report_event_JAP_rice_farmers

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.64 option japan_domestic_events.64.a"
		name = japan_domestic_events.64.a
		swap_ideas = {
			remove_idea = JAP_great_drought_worse
			add_idea = JAP_great_drought
		}
	}
}

###########################
# 1941+ The Great Void
###########################

country_event = { #General Election 1940
	id = japan_domestic_events.54
	immediate = {
		hidden_effect = {
			set_party_name = {
				ideology = market_liberal
				name = JAP_market_liberal_party_kd
				long_name = JAP_market_liberal_party_long_kd
			}
			set_party_name = {
				ideology = social_conservative
				name = JAP_social_conservative_party
				long_name = JAP_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = JAP_authoritarian_democrat_party_kd
				long_name = JAP_authoritarian_democrat_party_long_kd
			}
			set_party_name = {
				ideology = national_populist
				name = JAP_national_populist_party_kd
				long_name = JAP_national_populist_party_long_kd
			}
		}
	}
	title = japan_domestic_events.54.t
	desc = japan_domestic_events.54.d
	picture = GFX_report_event_JAP_voting

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		date > 1939.1.1
		date < 1941.1.1
		has_socialist_government = no
		is_subject = no
	}

	option = { #Elect Rikken Seiyukai (Conservatives)
		log = "[GetLogInfo]: event japan_domestic_events.54 option japan_domestic_events.54.a"
		name = japan_domestic_events.54.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.2
		}
		activate_advisor = JAP_yoshizawa_kenkichi_sic
	}
	option = { #Elect Minseito (Liberals)
		log = "[GetLogInfo]: event japan_domestic_events.54 option japan_domestic_events.54.b"
		name = japan_domestic_events.54.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.2
		}
		activate_advisor = JAP_ugaki_kazushige_sic
	}
	option = { #Elect Kokumin Domei (Nationalists)
		log = "[GetLogInfo]: event japan_domestic_events.54 option japan_domestic_events.54.c"
		name = japan_domestic_events.54.c
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
				}
			}
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			election_frequency = 48
			elections_allowed = yes
		}
		set_temp_variable = { coalition_partner_var = token:national_populist }
		add_to_coalition = yes
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.2
		}
		activate_advisor = JAP_maeda_yonezo_sic
	}
	option = { #Elect Shakai Taishuto (Socialists)
		log = "[GetLogInfo]: event japan_domestic_events.54 option japan_domestic_events.54.e"
		name = japan_domestic_events.54.e
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		set_politics = {
			ruling_party = social_democrat
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.2
		}
		activate_advisor = JAP_abe_isoo_sic
	}
	after = {
		set_country_flag = JAP_1940_election
	}
}

country_event = { #General Election 1944
	id = japan_domestic_events.55
	title = japan_domestic_events.55.t
	desc = japan_domestic_events.54.d
	picture = GFX_report_event_JAP_voting

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		date > 1943.1.1
		date < 1946.1.1
		has_socialist_government = no
		is_subject = no
	}

	option = { #Elect Rikken Seiyukai (Conservatives)
		log = "[GetLogInfo]: event japan_domestic_events.55 option japan_domestic_events.54.a"
		name = japan_domestic_events.54.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.2
		}
		activate_advisor = JAP_hatoyama_ichiro_sic
	}
	option = { #Elect Minseito (Liberals)
		log = "[GetLogInfo]: event japan_domestic_events.55 option japan_domestic_events.54.b"
		name = japan_domestic_events.54.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.2
		}
		activate_advisor = JAP_machida_chuji_sic
	}
	option = { #Elect Kokumin Domei (Nationalists)
		log = "[GetLogInfo]: event japan_domestic_events.55 option japan_domestic_events.54.c"
		name = japan_domestic_events.54.c
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
				}
			}
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.2
		}
		activate_advisor = JAP_maeda_yonezo_sic
	}
	option = { #Elect Shakai Taishuto (Socialists)
		log = "[GetLogInfo]: event japan_domestic_events.55 option japan_domestic_events.54.e"
		name = japan_domestic_events.54.e
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		set_politics = {
			ruling_party = social_democrat
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.2
		}
		activate_advisor = JAP_katayama_tetsu_sic
	}
}

###########################
# 1937 ~ 1953 - Imperator1993's event chain
###########################

country_event = { #Hayashi Senjuro is dead!
	id = japan_domestic_events.58
	title = japan_domestic_events.58.t
	desc = {
		text = japan_domestic_events.58.d.pataut
		trigger = { JAP_hayashi_senjuro = { is_second_in_command = yes } }
	}
	desc = {
		text = japan_domestic_events.58.d.defaul
		trigger = { JAP_hayashi_senjuro = { is_second_in_command = no } }
	}
	picture = GFX_report_event_europe_funeral

	is_triggered_only = yes

	trigger = { NOT = { has_government = national_populist } }

	option = { # Nagata Tetsuzan
		log = "[GetLogInfo]: event japan_domestic_events.58 option japan_domestic_events.58.a"
		name = japan_domestic_events.58.a
		trigger = { JAP_hayashi_senjuro = { is_second_in_command = yes } }
		JAP_hayashi_senjuro = { kill_character = yes }
		activate_advisor = JAP_nagata_tetsuzan_sic
	}

	option = { # Hiranuma Kiichiro
		log = "[GetLogInfo]: event japan_domestic_events.58 option japan_domestic_events.58.b"
		name = japan_domestic_events.58.b
		trigger = { JAP_hayashi_senjuro = { is_second_in_command = yes } }
		JAP_hayashi_senjuro = { kill_character = yes }
		activate_advisor = JAP_hiranuma_kiichiro_sic
	}

	option = { #Gomeifuku wo inorimasu
		log = "[GetLogInfo]: event japan_domestic_events.58 option japan_domestic_events.58.c"
		name = japan_domestic_events.58.c
		trigger = { JAP_hayashi_senjuro = { is_second_in_command = no } }
		JAP_hayashi_senjuro = { kill_character = yes }
	}
}

###########################
# The Emperor Speaks
###########################

country_event = { #Government asks the Emperor to speak, supports government
	id = japan_domestic_events.65
	title = japan_domestic_events.65.t
	desc = japan_domestic_events.65.d
	picture = GFX_report_event_JAP_hirohito_addressing

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.65 option japan_domestic_events.65.a"
		name = japan_domestic_events.65.a #Agree with Emperor
		add_stability = 0.03
		set_country_flag = emperor_support_agree
		set_country_flag = JAP_path_decided
		set_country_flag = JAP_dem_tree
	}
}

country_event = { #Government asks the Emperor to speak, does not support government
	id = japan_domestic_events.72
	title = japan_domestic_events.72.t
	desc = japan_domestic_events.72.d
	picture = GFX_report_event_JAP_hirohito_addressing

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.72 option japan_domestic_events.72.a"
		name = japan_domestic_events.72.a #Agree with Emperor
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
					has_country_flag = JAP_dem_ai
				}
			}
		}
		country_event = { id = japan_domestic_events.20 days = 10 }
	}
	option = {
		log = "[GetLogInfo]: event japan_domestic_events.72 option japan_domestic_events.72.b"
		name = japan_domestic_events.72.b #Disagree with Emperor
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_PATAUT }
					has_country_flag = JAP_milcent_ai
				}
			}
		}
		add_stability = -0.03
		set_country_flag = JAP_path_decided
		set_country_flag = JAP_dem_tree
		hidden_effect = {
			country_event = { id = japan_domestic_events.17 days = 35 }
		}
	}
}

country_event = { #Glorious Mantetsu rails gone
	id = japan_domestic_events.74
	title = japan_domestic_events.74.t
	desc = japan_domestic_events.74.d
	picture = GFX_report_event_JAP_infrastructure

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.74 option japan_domestic_events.74.a"
		name = japan_domestic_events.74.a
		remove_ideas = JAP_change_rail
		remove_ideas = JAP_narrow_rail
	}
}

country_event = { #Land Reform? Land Reform
	id = japan_domestic_events.75
	title = japan_domestic_events.75.t
	picture = GFX_report_event_JAP_lost_decade

	is_triggered_only = yes

	desc = {
		text = japan_domestic_events.75.bad
		trigger = {
			check_variable = { JAP_land_reform_variable < 3 }
		}
	}
	desc = {
		text = japan_domestic_events.75.okay
		trigger = {
			check_variable = { JAP_land_reform_variable > 2 }
			check_variable = { JAP_land_reform_variable < 6 }
		}
	}
	desc = {
		text = japan_domestic_events.75.good
		trigger = {
			check_variable = { JAP_land_reform_variable > 5 }
			check_variable = { JAP_land_reform_variable < 8 }
		}
	}
	desc = {
		text = japan_domestic_events.75.great
		trigger = {
			check_variable = { JAP_land_reform_variable > 7 }
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.75 option japan_domestic_events.75.a"
		name = japan_domestic_events.75.a
		trigger = {
			check_variable = { JAP_land_reform_variable < 3 }
		}
	}
	option = {
		log = "[GetLogInfo]: event japan_domestic_events.75 option japan_domestic_events.75.b"
		name = japan_domestic_events.75.b
		trigger = {
			check_variable = { JAP_land_reform_variable > 2 }
			check_variable = { JAP_land_reform_variable < 6 }
		}
		if = {
			limit = { has_country_flag = JAP_seiyukai_land_reform }
			add_stability = 0.05
			add_war_support = 0.05
		}
		JAP_land_reform_reward_decent = yes
	}
	option = {
		log = "[GetLogInfo]: event japan_domestic_events.75 option japan_domestic_events.75.c"
		name = japan_domestic_events.75.c
		trigger = {
			check_variable = { JAP_land_reform_variable > 5 }
			check_variable = { JAP_land_reform_variable < 8 }
		}
		if = {
			limit = { has_country_flag = JAP_seiyukai_land_reform }
			add_stability = 0.1
			add_war_support = 0.1
		}
		JAP_land_reform_reward_good = yes
	}
	option = {
		log = "[GetLogInfo]: event japan_domestic_events.75 option japan_domestic_events.75.d"
		name = japan_domestic_events.75.d
		trigger = {
			check_variable = { JAP_land_reform_variable > 7 }
		}
		if = {
			limit = { has_country_flag = JAP_seiyukai_land_reform }
			add_stability = 0.15
			add_war_support = 0.15
		}
		JAP_land_reform_best = yes
	}
	after = {
		JAP_clr_land_reform = yes
	}
}

country_event = { #Budget and Policy Research Event (MilCentralism)
	id = japan_domestic_events.76
	title = japan_domestic_events.76.t
	desc = japan_domestic_events.76.d
	picture = GFX_report_event_JAP_diet

	is_triggered_only = yes

	option = { #Compromise
		log = "[GetLogInfo]: event japan_domestic_events.76 option japan_domestic_events.76.a"
		name = japan_domestic_events.76.a
		add_ideas = JAP_new_policy_organ_1
		add_to_variable = { JAP_compromise = 1 }
	}

	option = { #No Compromise
		log = "[GetLogInfo]: event japan_domestic_events.76 option japan_domestic_events.76.b"
		name = japan_domestic_events.76.b
		add_ideas = JAP_new_policy_organ_2
		add_stability = -0.05
		add_to_variable = { JAP_force = 1 }
	}
}

country_event = { #Merge Small Ministries Event (MilCentralism)
	id = japan_domestic_events.77
	title = japan_domestic_events.77.t
	desc = japan_domestic_events.77.d
	picture = GFX_report_event_JAP_diet

	is_triggered_only = yes

	option = { #Compromise
		log = "[GetLogInfo]: event japan_domestic_events.77 option japan_domestic_events.77.a"
		name = japan_domestic_events.77.a
		custom_effect_tooltip = JAP_merge_small_ministries_1
		subtract_from_variable = { JAP_land_reform_cost_1 = 25 }
		subtract_from_variable = { JAP_land_reform_cost_2 = 25 }
		subtract_from_variable = { JAP_land_reform_cost_3 = 25 }
		subtract_from_variable = { JAP_land_reform_cost_4 = 25 }
		subtract_from_variable = { JAP_eco_cost_1 = 35 }
		subtract_from_variable = { JAP_eco_cost_2 = 35 }
		add_to_variable = { JAP_compromise = 1 }
	}

	option = { #No Compromise
		log = "[GetLogInfo]: event japan_domestic_events.77 option japan_domestic_events.77.b"
		name = japan_domestic_events.77.b
		custom_effect_tooltip = JAP_merge_small_ministries_2
		subtract_from_variable = { JAP_land_reform_cost_1 = 50 }
		subtract_from_variable = { JAP_land_reform_cost_2 = 50 }
		subtract_from_variable = { JAP_land_reform_cost_3 = 50 }
		subtract_from_variable = { JAP_land_reform_cost_4 = 50 }
		subtract_from_variable = { JAP_eco_cost_1 = 50 }
		subtract_from_variable = { JAP_eco_cost_2 = 50 }
		add_stability = -0.1
		add_to_variable = { JAP_force = 1 }
	}
}

country_event = { #Five Year Plan Event (MilCentralism)
	id = japan_domestic_events.78
	title = japan_domestic_events.78.t
	desc = japan_domestic_events.78.d
	picture = GFX_report_event_JAP_diet

	is_triggered_only = yes

	option = { #Compromise
		log = "[GetLogInfo]: event japan_domestic_events.78 option japan_domestic_events.78.a"
		name = japan_domestic_events.78.a
		activate_targeted_decision = { target = THIS decision = JAP_support_yokohama_auto_industries }
		activate_targeted_decision = { target = THIS decision = JAP_support_ota_jidosha }
		activate_targeted_decision = { target = THIS decision = JAP_support_kurasiki_kensyoku }
		add_to_variable = { JAP_compromise = 1 }
	}

	option = { #No Compromise
		log = "[GetLogInfo]: event japan_domestic_events.78 option japan_domestic_events.78.b"
		name = japan_domestic_events.78.b
		activate_targeted_decision = { target = THIS decision = JAP_support_yokohama_auto_industries }
		activate_targeted_decision = { target = THIS decision = JAP_support_ota_jidosha }
		activate_targeted_decision = { target = THIS decision = JAP_support_kurasiki_kensyoku }
		activate_targeted_decision = { target = THIS decision = JAP_support_mitsubishi }
		activate_targeted_decision = { target = THIS decision = JAP_subisidies_for_nakajima }
		add_stability = -0.05
		add_to_variable = { JAP_force = 1 }
	}
}

country_event = { #Curtailing the Zaibatsu (Showa Restoration)
	id = japan_domestic_events.79
	title = japan_domestic_events.79.t
	desc = japan_domestic_events.79.d

	is_triggered_only = yes

	option = { #Get Idea
		log = "[GetLogInfo]: event japan_domestic_events.79 option japan_domestic_events.79.a"
		name = japan_domestic_events.79.a
		add_ideas = JAP_curtailed_Zaibatsu
	}

	option = { #Get Factories
		log = "[GetLogInfo]: event japan_domestic_events.79 option japan_domestic_events.79.b"
		name = japan_domestic_events.79.b
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
	}
}

country_event = { #Civil Servant Purges (Democratic)
	id = japan_domestic_events.90
	title = japan_domestic_events.90.t
	desc = japan_domestic_events.90.d

	is_triggered_only = yes

	option = { #Lighter Purge
		log = "[GetLogInfo]: event japan_domestic_events.90 option japan_domestic_events.90.a"
		name = japan_domestic_events.90.a
		add_stability = 0.05
		set_temp_variable = { ideology_change_var = 0.1 }
		change_ruling_party_popularity = yes
	}
	option = { #Heavy Purge
		log = "[GetLogInfo]: event japan_domestic_events.90 option japan_domestic_events.90.b"
		name = japan_domestic_events.90.b
		add_political_power = 75
		add_popularity = {
			ideology = social_democrat
			popularity = -0.1
		}
	}
}

country_event = { #dem puppet GetYear general elections
	id = japan_domestic_events.239
	title = japan_domestic_events.239.t
	desc = japan_domestic_events.239.d
	picture = GFX_report_event_JAP_voting

	is_triggered_only = yes

	trigger = {
		has_democratic_government = yes
		is_subject = yes
	}

	option = { #Minshuto - soccon
		log = "[GetLogInfo]: event japan_domestic_events.239 option japan_domestic_events.239.a"
		name = japan_domestic_events.239.a
		if = {
			limit = {
				social_conservative < 0.5
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.1
			}
		}
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
			election_frequency = 48
		}
		if = {
			limit = {
				NOT = { has_cosmetic_tag = JAP_republic }
			}
			activate_advisor = JAP_hatoyama_ichiro_sic
		}
	}

	option = { #Jiyuto - marklib
		log = "[GetLogInfo]: event japan_domestic_events.239 option japan_domestic_events.239.b"
		name = japan_domestic_events.239.b
		if = {
			limit = {
				market_liberal < 0.5
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.1
			}
		}
		set_politics = {
			ruling_party = market_liberal
			elections_allowed = yes
			election_frequency = 48
		}
		if = {
			limit = {
				NOT = { has_cosmetic_tag = JAP_republic }
			}
			activate_advisor = JAP_yoshida_shigeru_sic
		}
	}

	option = { #Shakaito - socdem
		log = "[GetLogInfo]: event japan_domestic_events.239 option japan_domestic_events.239.c"
		name = japan_domestic_events.239.c
		if = {
			limit = {
				social_democrat < 0.5
			}
			add_popularity = {
				ideology = social_democrat
				popularity = 0.1
			}
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
			election_frequency = 48
		}
		if = {
			limit = {
				NOT = { has_cosmetic_tag = JAP_republic }
			}
			activate_advisor = JAP_katayama_tetsu_sic
		}
	}
}

country_event = { #Fate of Hirohito - Democratic
	id = japan_domestic_events.240
	title = japan_domestic_events.240.t
	desc = japan_domestic_events.240.d
	picture = GFX_report_event_jap_imperial_family

	is_triggered_only = yes

	trigger = {
		has_subject = JAP
		has_socialist_government = no
	}

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.240 option japan_domestic_events.240.a"
		name = japan_domestic_events.240.a
		ai_chance = { base = 85 }
		if = {
			limit = { has_elected_government = yes }
			add_stability = -0.05 #Representing public disapproval over not "punishing" the royals for the costly invasion needed to capitulate Japan
			custom_effect_tooltip = tooltip_white_line
		}
		JAP = {
			add_stability = 0.1
			add_timed_idea = {
				idea = JAP_depolicization_of_the_throne_idea
				days = 120
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.240 option japan_domestic_events.240.b"
		name = japan_domestic_events.240.b
		ai_chance = { base = 20 }
		JAP = {
			JAP_regent_effect = yes
			custom_effect_tooltip = tooltip_white_line
			add_timed_idea = {
				idea = JAP_forced_abdication_idea
				days = 100
			}
			custom_effect_tooltip = tooltip_white_line
			deactivate_advisor = JAP_higashikuni_naruhiko_sic
			custom_effect_tooltip = tooltip_white_line
			activate_advisor = JAP_kishi_nobusuke_sic
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.240 option japan_domestic_events.240.c"
		name = japan_domestic_events.240.c
		ai_chance = {
			base = 5
			modifier = {
				add = 40
				is_american_tag = yes
			}
		}
		if = {
			limit = { has_elected_government = yes }
			add_stability = 0.05
			custom_effect_tooltip = tooltip_white_line
		}
		JAP = {
			JAP_republic_effect = yes
			custom_effect_tooltip = tooltip_white_line
			add_ideas = JAP_unpopular_republic_idea_1
			custom_effect_tooltip = tooltip_white_line
			deactivate_advisor = JAP_higashikuni_naruhiko_sic
			custom_effect_tooltip = tooltip_white_line
			activate_advisor = JAP_imperial_diet_sic
		}
		hidden_effect = {
			JAP = { news_event = { id = japan_news.5 days = 1 } }
		}
	}
}

country_event = { #Fate of the Imperial Family - Socialist
	id = japan_domestic_events.241
	title = japan_domestic_events.241.t
	desc = japan_domestic_events.241.d
	picture = GFX_report_event_jap_imperial_family

	is_triggered_only = yes

	trigger = {
		has_subject = JAP
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.241 option japan_domestic_events.241.a"
		name = japan_domestic_events.241.a
		ai_chance = { base = 80 }
		JAP = {
			add_stability = 0.1
			add_ideas = JAP_Imperial_Family_powerless
			add_timed_idea = {
				idea = JAP_country_unrest
				days = 90
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.241 option japan_domestic_events.241.b"
		name = japan_domestic_events.241.b
		ai_chance = { base = 15 }
		JAP = {
			effect_tooltip = {
				if = {
					limit = { has_character = JAP_hirohito }
					retire_character = JAP_hirohito
				}
			}
			add_ideas = JAP_Imperial_Family_exiled
			add_timed_idea = {
				idea = JAP_country_unrest
				days = 160
			}
		}
	}
	after = {
		hidden_effect = {
			news_event = { id = japan_news.5 days = 1 }
		}
	}
}

country_event = { #Black Monday
	id = japan_domestic_events.242
	title = japan_domestic_events.242.t
	desc = japan_domestic_events.242.d
	picture = GFX_report_event_JAP_economy_building

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.242 option japan_domestic_events.242.a"
		name = japan_domestic_events.242.a
		add_stability = -0.03
	}
}

country_event = { #Hidden event to take away research slot
	id = japan_domestic_events.305

	is_triggered_only = yes
	fire_only_once = yes
	hidden = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.305 option 1"
		add_research_slot = -1
	}
}

######################
### Flavour Events ###
######################

country_event = { #Birth of Princess Suga
	id = japan_domestic_events.400
	title = japan_domestic_events.400.t
	desc = japan_domestic_events.400.d
	picture = GFX_report_event_jap_imperial_family

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.400 option japan_domestic_events.400.a"
		name = japan_domestic_events.400.a
		add_stability = 0.01
	}
}

country_event = { #Dispute over Japanese Rugby
	id = japan_domestic_events.401
	title = japan_domestic_events.401.t
	desc = japan_domestic_events.401.d
	picture = GFX_report_event_KTG_Sport

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.401 option japan_domestic_events.401.a"
		name = japan_domestic_events.401.a
		add_political_power = 10
	}
	option = {
		log = "[GetLogInfo]: event japan_domestic_events.401 option japan_domestic_events.401.b"
		name = japan_domestic_events.401.b
		add_stability = 0.01
		add_political_power = -10
	}
}

country_event = { # Launch of the Asia Express
	id = japan_domestic_events.402
	title = japan_domestic_events.402.t
	desc = japan_domestic_events.402.desc
	picture = GFX_report_event_FNG_asia_express

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.402 option japan_domestic_events.402.a"
		name = japan_domestic_events.402.a
		add_stability = 0.01
	}
}

country_event = { # The Rise of Datsun
	id = japan_domestic_events.403
	title = japan_domestic_events.403.t
	desc = japan_domestic_events.403.desc
	picture = GFX_report_event_JAP_motorized

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.403 option japan_domestic_events.403.a"
		name = japan_domestic_events.403.a
		add_equipment_to_stockpile = {
			type = motorized_equipment_0
			amount = 1
		}
	}
}

country_event = { # Home Run on the Home Islands
	id = japan_domestic_events.404
	title = japan_domestic_events.404.t
	desc = japan_domestic_events.404.desc
	picture = GFX_report_event_NEE_Baseball

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.404 option japan_domestic_events.404.a"
		name = japan_domestic_events.404.a
		add_political_power = 5
	}
}

country_event = { # Opening of the Abashiri City Folk Museum
	id = japan_domestic_events.405
	title = japan_domestic_events.405.t
	desc = japan_domestic_events.405.desc
	picture = GFX_report_event_JAP_economy_building

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.405 option japan_domestic_events.405.a"
		name = japan_domestic_events.405.a
		add_political_power = 5
	}
}

country_event = { # 46 cm/45 Type 94 naval gun fired
	id = japan_domestic_events.406
	title = japan_domestic_events.406.t
	desc = japan_domestic_events.406.desc
	picture = GFX_report_event_JAP_battleship_kongo

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.406 option japan_domestic_events.406.a"
		name = japan_domestic_events.406.a
		navy_experience = 5
	}
}
country_event = { # Nagoya Pan-Pacific Peace Exposition
	id = japan_domestic_events.407
	title = japan_domestic_events.407.t
	desc = japan_domestic_events.407.desc
	picture = GFX_report_event_generic_peaceful_annexation

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.407 option japan_domestic_events.407.a"
		name = japan_domestic_events.407.a
		add_political_power = 10
	}
	option = {
		log = "[GetLogInfo]: event japan_domestic_events.407 option japan_domestic_events.407.b"
		name = japan_domestic_events.407.b
		navy_experience = 5
	}
}

country_event = { # New National Diet Building completed
	id = japan_domestic_events.408
	title = japan_domestic_events.408.t
	desc = japan_domestic_events.408.desc
	picture = GFX_report_event_JAP_economy_building

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.408 option japan_domestic_events.408.a"
		name = japan_domestic_events.408.a
		add_political_power = 10
	}
}

country_event = { # 1943 Tottori earthquake
	id = japan_domestic_events.409
	title = japan_domestic_events.409.t
	desc = japan_domestic_events.409.desc
	picture = GFX_report_event_Chile_Earthquake_Chillan

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.409 option japan_domestic_events.409.a"
		name = japan_domestic_events.409.a
		1103 = {
			damage_building = {
				type = infrastructure
				damage = 2
			}
			damage_building = {
				type = arms_factory
				damage = 2
			}
			damage_building = {
				type = industrial_complex
				damage = 2
			}
		}
	}
}

country_event = { # Taihoku City Public Auditorium completed
	id = japan_domestic_events.410
	title = japan_domestic_events.410.t
	desc = japan_domestic_events.410.desc
	picture = GFX_report_event_JAP_economy_building

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.410 option japan_domestic_events.410.a"
		name = japan_domestic_events.410.a
		add_political_power = 5
		524 = {
			add_compliance = 2
		}
	}
}

country_event = { #Marin-chan to Kaigun-kun, Formerly in 00 Literature events.txt
	id = japan_domestic_events.411
	title = japan_domestic_events.411.t
	desc = japan_domestic_events.411.d

	is_triggered_only = yes

	trigger = {
		has_country_flag = had_war
	}

	option = {
		log = "[GetLogInfo]: event japan_domestic_events.411 option japan_domestic_events.411.a"
		name = japan_domestic_events.411.a
		add_political_power = 10
	}
}

#########################################
### Economic Exploitation of Fengtian ###
#########################################

country_event = { #Mantetsu Declares Record Earnings
	id = japan_foreign_events.1
	title = japan_foreign_events.1.t
	desc = japan_foreign_events.1.d
	picture = GFX_report_event_JAP_manchurian_exploitation

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.1 option japan_foreign_events.1.a"
		name = japan_foreign_events.1.a
		add_stability = 0.03
		hidden_effect = {
			FNG = {
				country_event = { id = fengtian_events.125 hours = 8 random_hours = 16 }
			}
		}
		reverse_add_opinion_modifier = {
			target = FNG
			modifier = JAP_FNG_exploit
		}
	}
}

######################################
###	Influence China Related Events ###
######################################

country_event = { #Offering training to Chinese warlords
	id = japan_foreign_events.3
	title = japan_foreign_events.3.t
	desc = japan_foreign_events.3.d
	picture = GFX_report_event_JAP_manchu_exploit

	is_triggered_only = yes

	option = { #yes
		log = "[GetLogInfo]: event japan_foreign_events.3 option japan_foreign_events.3.a"
		ai_chance = { base = 100 }
		name = japan_foreign_events.3.a
		add_timed_idea = {
			idea = JAP_china_training
			days = 100
		}
		if = {
			limit = {
				tag = ANQ
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.04
			}
		}
		else_if = {
			limit = { tag = FNG }
			add_war_support = 0.03
			FNG_JAP_investment_large = yes
		}
	}

	option = { #no
		log = "[GetLogInfo]: event japan_foreign_events.3 option japan_foreign_events.3.b"
		ai_chance = { base = 0 }
		name = japan_foreign_events.3.b
		add_political_power = 10
		set_country_flag = JAP_no_training_help
		reverse_add_opinion_modifier = { target = FROM modifier = KR_disapproves_of_govt }
	}
}

country_event = { #giving offsite mils to warlords
	id = japan_foreign_events.4
	title = japan_foreign_events.4.t
	desc = japan_foreign_events.4.d
	picture = GFX_report_event_SZC_sichuan_chengdu_arsenal

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.4 option japan_foreign_events.4.a"
		name = japan_foreign_events.4.a
		if = {
			limit = {
				tag = ANQ
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		else_if = {
			limit = { tag = FNG }
			add_war_support = 0.03
			FNG_JAP_investment_medium = yes
		}
		else_if = {
			limit = { tag = CHI }
			CHI_add_rad_medium_effect = yes
		}
		add_offsite_building = { type = arms_factory level = 3 }
		set_country_flag = has_offsite_mils_from_JAP
		hidden_effect = {
			JAP = {
				random_owned_controlled_state = {
					limit = {
						is_core_of = JAP
						arms_factory > 0
					}
					add_to_variable = { JAP_mils_to_china_state = 1 }
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = JAP
						arms_factory > 0
					}
					add_to_variable = { JAP_mils_to_china_state = 1 }
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = JAP
						arms_factory > 0
					}
					add_to_variable = { JAP_mils_to_china_state = 1 }
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event japan_foreign_events.4 option japan_foreign_events.4.b"
		name = japan_foreign_events.4.b
		ai_chance = { base = 0 }
		add_political_power = 10
		set_country_flag = JAP_refused_offsite_mils
	}
}

country_event = { #supporting a Warlord's offensive
	id = japan_foreign_events.5
	title = japan_foreign_events.5.t
	desc = japan_foreign_events.5.d
	picture = GFX_report_event_JAP_rising_sun

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.5 option japan_foreign_events.5.a"
		name = japan_foreign_events.5.a
		ai_chance = { base = 100 }
		if = {
			limit = {
				tag = ANQ
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		else_if = {
			limit = { tag = FNG }
			add_war_support = 0.03
			FNG_JAP_investment_medium = yes
		}
		add_timed_idea = {
			idea = JAP_china_attack_support
			days = 100
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.5 option japan_foreign_events.5.b"
		name = japan_foreign_events.5.b
		ai_chance = { base = 0 }
		add_political_power = 10
		set_country_flag = JAP_refused_offensive_help
	}
}

country_event = { #Providing plane licenses
	id = japan_foreign_events.6
	title = japan_foreign_events.6.t
	desc = japan_foreign_events.6.d
	picture = GFX_report_event_JAP_troops_zero

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.6 option japan_foreign_events.6.a"
		name = japan_foreign_events.6.a
		if = {
			limit = {
				tag = ANQ
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.05
			}
		}
		else_if = {
			limit = { tag = FNG }
			add_war_support = 0.03
			FNG_JAP_investment_large = yes
		}
		if = {
			limit = { has_dlc_bba = yes }
			FROM = {
				create_production_license = {
					target = ROOT
					equipment = { type = small_plane_airframe_0 }
					cost_factor = -0.5
				}
			}
		}
		else = {
			FROM = {
				if = {
					limit = { has_tech = fighter3 }
					create_production_license = {
						target = ROOT
						equipment = { type = fighter_equipment_3 }
						cost_factor = -0.5
					}
				}
				else_if = {
					limit = { has_tech = fighter2 }
					create_production_license = {
						target = ROOT
						equipment = { type = fighter_equipment_2 }
						cost_factor = -0.5
					}
				}
				else_if = {
					limit = { has_tech = fighter1 }
					create_production_license = {
						target = ROOT
						equipment = { type = fighter_equipment_1 }
						cost_factor = -0.5
					}
				}
				else = {
					create_production_license = {
						target = ROOT
						equipment = { type = fighter_equipment_0 }
						cost_factor = -0.5
					}
				}
			}
		}
	}
}

country_event = { #Japan supports our independence
	id = japan_foreign_events.7
	title = japan_foreign_events.7.t
	desc = japan_foreign_events.7.d
	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes

	option = { #accept
		log = "[GetLogInfo]: event japan_foreign_events.7 option japan_foreign_events.7.a"
		name = japan_foreign_events.7.a
		army_experience = 20
		add_timed_idea = {
			idea = JAP_chinese_separatist_support
			days = 365
		}
		add_opinion_modifier = { target = JAP modifier = KR_approves_of_govt }
		set_country_flag = japanese_independence_support
	}

	option = { #refuse
		log = "[GetLogInfo]: event japan_foreign_events.7 option japan_foreign_events.7.b"
		name = japan_foreign_events.7.b
		ai_chance = { base = 0 }
		add_political_power = 10
		set_country_flag = JAP_refused_independence_help
	}
}

country_event = { #Japan sends Abdurresid Ibrahim
	id = japan_foreign_events.8
	title = japan_foreign_events.8.t
	desc = japan_foreign_events.8.d
	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes

	option = { #Welcome, honoured teacher
		log = "[GetLogInfo]: event japan_foreign_events.8 option japan_foreign_events.8.a"
		name = japan_foreign_events.8.a
		add_opinion_modifier = {
			target = JAP
			modifier = large_increase
		}
	}
}

### Reserve event IDs 9-20 for more Chinese influence stuff ###

#################################################
### Tokyo Conference and Co-Prosperity Events ###
#################################################

country_event = { #The Tokyo Conference Invitation
	id = japan_foreign_events.21
	title = japan_foreign_events.21.t
	desc = japan_foreign_events.21.d
	picture = GFX_report_event_JAP_announcement

	is_triggered_only = yes

	option = { #yes
		log = "[GetLogInfo]: event japan_foreign_events.21 option japan_foreign_events.21.a"
		name = japan_foreign_events.21.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_indian_tag = yes
				NOT = { is_ally_with = JAP }
			}
		}
		set_country_flag = attended_tokyo_conference
		set_country_flag = attending_tokyo_conference
		hidden_effect = {
			JAP = {
				country_event = { id = japan_foreign_events.22 days = 4 random_days = 4 }
			}
		}
	}

	option = { #no
		log = "[GetLogInfo]: event japan_foreign_events.21 option japan_foreign_events.21.b"
		name = japan_foreign_events.21.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				is_indian_tag = yes
				NOT = { is_ally_with = JAP }
			}
		}
		set_country_flag = JAP_refused_tokyo_conference
		JAP = {
			country_event = { id = japan_foreign_events.23 days = 2 random_days = 2 }
		}
	}
}

country_event = { #FROM attends the Tokyo Conference
	id = japan_foreign_events.22
	title = japan_foreign_events.22.t
	desc = japan_foreign_events.22.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = { #Welcome!
		log = "[GetLogInfo]: event japan_foreign_events.22 option japan_foreign_events.22.a"
		name = japan_foreign_events.22.a
	}
}

country_event = { #FROM Refuses to attend
	id = japan_foreign_events.23
	title = japan_foreign_events.23.t
	desc = japan_foreign_events.23.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = { #Hell with them
		log = "[GetLogInfo]: event japan_foreign_events.23 option japan_foreign_events.23.a"
		name = japan_foreign_events.23.a
	}
}

country_event = { #Propose a joint condemnation: denounce imperialism, colonialism and anti-Asian racism
	id = japan_foreign_events.24
	title = japan_foreign_events.24.t
	desc = japan_foreign_events.24.d
	picture = GFX_report_event_japanese_siam_politicians

	is_triggered_only = yes

	trigger = {
		any_country = {
			has_country_flag = attending_tokyo_conference
			is_co_prosperity_candidate = yes
		}
	}

	option = { # Publish it for signing
		log = "[GetLogInfo]: event japan_foreign_events.24 option japan_foreign_events.24.a"
		name = japan_foreign_events.24.a
		ai_chance = { base = 100 }
		custom_effect_tooltip = JAP_95_chance_of_agreeing_tt
	}
	option = { # Pressure the attendees as well
		log = "[GetLogInfo]: event japan_foreign_events.24 option japan_foreign_events.24.b"
		name = japan_foreign_events.24.b
		ai_chance = { base = 0 }
		add_political_power = -25
		custom_effect_tooltip = JAP_100_chance_of_agreeing_tt
		set_country_flag = JAP_pressured_for_condmen
	}
	after = {
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japan_foreign_events.25
		}
		hidden_effect = {
			country_event = { id = japan_foreign_events.27 days = 3 }
		}
	}
}

country_event = { #The condemnation proposal
	id = japan_foreign_events.25
	title = japan_foreign_events.25.t
	desc = japan_foreign_events.25.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = { #sign it
		log = "[GetLogInfo]: event japan_foreign_events.25 option japan_foreign_events.25.a"
		name = japan_foreign_events.25.a
		ai_chance = { base = 95 }
		add_political_power = -10
	}

	option = { #refuse
		log = "[GetLogInfo]: event japan_foreign_events.25 option japan_foreign_events.25.b"
		name = japan_foreign_events.25.b
		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				tag = SIA  # Siam should basically always agree
			}
			modifier = {
				factor = 0
				JAP = { is_ally_with = ROOT }
			}
			modifier = {
				factor = 0
				JAP = { has_country_flag = JAP_pressured_for_condmen }
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
					}
				}
			}
		}
		set_country_flag = JAP_refused_tokyo_conference
		clr_country_flag = attending_tokyo_conference
		JAP = {
			country_event = { id = japan_foreign_events.26 random_hours = 18 days = 1 }
		}
	}
}

country_event = { #FROM drops out
	id = japan_foreign_events.26
	title = japan_foreign_events.26.t
	desc = japan_foreign_events.26.d
	picture = GFX_report_event_JAP_ultimatum
	is_triggered_only = yes

	option = { #bah
		log = "[GetLogInfo]: event japan_foreign_events.26 option japan_foreign_events.26.a"
		name = japan_foreign_events.26.a
	}
}

country_event = { #Bring forward a charter on pan-Asian trade
	id = japan_foreign_events.27
	title = japan_foreign_events.27.t
	desc = japan_foreign_events.27.d
	picture = GFX_report_event_JAP_meeting

	is_triggered_only = yes

	trigger = {
		any_country = {
			has_country_flag = attending_tokyo_conference
			is_co_prosperity_candidate = yes
		}
	}

	option = { # Perfect, they must agree...
		log = "[GetLogInfo]: event japan_foreign_events.27 option japan_foreign_events.27.a"
		name = japan_foreign_events.27.a
		ai_chance = { base = 100 }
		custom_effect_tooltip = JAP_80_chance_of_agreeing_tt
	}
	option = { # ...but maybe we can soften the terms
		log = "[GetLogInfo]: event japan_foreign_events.27 option japan_foreign_events.27.b"
		name = japan_foreign_events.27.b
		ai_chance = { base = 0 }
		set_country_flag = JAP_pressured_for_trade
		custom_effect_tooltip = JAP_nerf_copro_bonuses_tt
		custom_effect_tooltip = JAP_100_chance_of_agreeing_tt
	}
	after = {
		every_country = {
			limit = {
				has_country_flag = attending_tokyo_conference
				is_co_prosperity_candidate = yes
			}
			country_event = japan_foreign_events.28
		}
		hidden_effect = {
			country_event = { id = japan_foreign_events.29 days = 3 }
		}
	}
}

country_event = { #Japan's resolution on trade
	id = japan_foreign_events.28
	title = japan_foreign_events.28.t
	desc = japan_foreign_events.28.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = { #sign!
		log = "[GetLogInfo]: event japan_foreign_events.28 option japan_foreign_events.28.a"
		ai_chance = { base = 80 }
		name = japan_foreign_events.28.a
		if = {
			limit = { country_exists = GER }
			reverse_add_opinion_modifier = { target = GER modifier = sanctions }
			add_opinion_modifier = { target = GER modifier = sanctions }
		}
	}

	option = { #no
		log = "[GetLogInfo]: event japan_foreign_events.28 option japan_foreign_events.28.b"
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				tag = SIA #Siam should basically always agree
			}
			modifier = {
				factor = 0
				JAP = { is_ally_with = ROOT }
			}
			modifier = {
				factor = 0
				JAP = { has_country_flag = JAP_pressured_for_trade }
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
					}
				}
			}
		}
		name = japan_foreign_events.28.b
		add_political_power = 10
		set_country_flag = JAP_refused_tokyo_conference
		clr_country_flag = attending_tokyo_conference
		JAP = {
			country_event = { id = japan_foreign_events.26 random_hours = 18 days = 1 }
		}
	}
}

country_event = { #Call for economic integration
	id = japan_foreign_events.29
	title = japan_foreign_events.29.t
	desc = japan_foreign_events.29.d
	picture = GFX_report_event_JAP_meeting

	is_triggered_only = yes

	trigger = {
		any_country = {
			has_country_flag = attending_tokyo_conference
			is_co_prosperity_candidate = yes
		}
	}

	option = { # Publish it for signing
		log = "[GetLogInfo]: event japan_foreign_events.29 option japan_foreign_events.29.a"
		name = japan_foreign_events.29.a
		ai_chance = { base = 100 }
		custom_effect_tooltip = JAP_80_chance_of_agreeing_tt
	}
	option = { # Lessen the terms of the agreement
		log = "[GetLogInfo]: event japan_foreign_events.29 option japan_foreign_events.29.b"
		name = japan_foreign_events.29.b
		ai_chance = { base = 0 }
		add_to_variable = { JAP_eco_cost_1 = 75 }
		add_to_variable = { JAP_eco_cost_2 = 125 }
		custom_effect_tooltip = JAP_harder_eco_int_tt
		custom_effect_tooltip = JAP_100_chance_of_agreeing_tt
	}
	after = {
		every_country = {
			limit = {
				has_country_flag = attending_tokyo_conference
				is_co_prosperity_candidate = yes
			}
			country_event = japan_foreign_events.30
		}
		hidden_effect = {
			country_event = { id = japan_foreign_events.31 days = 3 }
		}
	}
}

country_event = { #Japan's resolution on economic integration
	id = japan_foreign_events.30
	title = japan_foreign_events.30.t
	desc = japan_foreign_events.30.d
	picture = GFX_report_event_SIA_Treaty_signed

	is_triggered_only = yes

	option = { #sign!
		log = "[GetLogInfo]: event japan_foreign_events.30 option japan_foreign_events.30.a"
		trigger = {
			NOT = {
				AND = {
					tag = PRF
					NOT = { JAP = { is_ally_with = ROOT } }
					has_completed_focus = PRF_our_own_sphere
				}
			}
		}
		ai_chance = { base = 80 }
		name = japan_foreign_events.30.a
		add_political_power = 25
		set_country_flag = tokyo_conference_trade_ally
	}

	option = { #no
		log = "[GetLogInfo]: event japan_foreign_events.30 option japan_foreign_events.30.b"
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				tag = SIA #Siam should basically always agree
			}
			modifier = {
				factor = 0
				JAP = { is_ally_with = ROOT }
			}
			modifier = {
				factor = 0
				check_variable = { JAP_eco_cost_1 > 80 }
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
					}
				}
			}
		}
		name = japan_foreign_events.30.b
		set_country_flag = JAP_refused_tokyo_conference
		clr_country_flag = attending_tokyo_conference
		JAP = {
			country_event = { id = japan_foreign_events.26 random_hours = 18 days = 1 }
		}
	}
}

country_event = { #Call for military action vs colonialists
	id = japan_foreign_events.31
	title = japan_foreign_events.31.t
	desc = japan_foreign_events.31.d
	picture = GFX_report_event_JAP_restorationist_centralist

	is_triggered_only = yes

	trigger = {
		any_country = {
			is_co_prosperity_candidate = yes
			has_country_flag = attending_tokyo_conference
		}
	}

	option = { #publish it for signing
		log = "[GetLogInfo]: event japan_foreign_events.31 option japan_foreign_events.31.a"
		name = japan_foreign_events.31.a
		ai_chance = { base = 100 }
		custom_effect_tooltip = JAP_80_chance_of_agreeing_tt
	}
	option = { # Pressure the attendees
		log = "[GetLogInfo]: event japan_foreign_events.31 option japan_foreign_events.31.b"
		name = japan_foreign_events.31.b
		ai_chance = { base = 0 }
		add_political_power = -100
		set_country_flag = JAP_pressured_for_ally
		custom_effect_tooltip = JAP_100_chance_of_agreeing_tt
	}
	after = {
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japan_foreign_events.32
		}
	}
}

country_event = { #Japan's resolution on military alliance
	id = japan_foreign_events.32
	title = japan_foreign_events.32.t
	desc = japan_foreign_events.32.d
	picture = GFX_report_event_JAP_rising_sun

	is_triggered_only = yes

	option = { #sign!
		log = "[GetLogInfo]: event japan_foreign_events.32 option japan_foreign_events.32.a"
		trigger = {
			NOT = {
				AND = {
					tag = PRF
					NOT = { JAP = { is_ally_with = ROOT } }
					NOT = { has_completed_focus = PRF_india_united }
				}
			}
		}
		ai_chance = { base = 80 }
		name = japan_foreign_events.32.a
		clr_country_flag = attending_tokyo_conference
		add_to_array = { global.JAP_possible_allies_array = ROOT }
		JAP = {
			country_event = japan_foreign_events.33
		}
	}

	option = { #no
		log = "[GetLogInfo]: event japan_foreign_events.32 option japan_foreign_events.32.b"
		trigger = {
			NOT = { JAP = { is_ally_with = ROOT } }
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				JAP = { has_country_flag = JAP_pressured_for_ally }
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
					}
				}
			}
		}
		name = japan_foreign_events.32.b
		clr_country_flag = attending_tokyo_conference
		JAP = {
			country_event = { id = japan_foreign_events.26 random_hours = 18 days = 1 }
		}
	}
}

country_event = { #FROM signs the military alliance
	id = japan_foreign_events.33
	title = japan_foreign_events.33.t
	desc = japan_foreign_events.33.d
	picture = GFX_report_event_SIA_Treaty_signed

	is_triggered_only = yes

	option = { #excellent!
		log = "[GetLogInfo]: event japan_foreign_events.33 option japan_foreign_events.33.a"
		name = japan_foreign_events.33.a
	}
}

country_event = { #FROM seperatist Chinese tag accepts offer
	id = japan_foreign_events.340
	title = japan_foreign_events.340.t
	desc = japan_foreign_events.340.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.340 option japan_foreign_events.340.a"
		name = japan_foreign_events.340.a
		add_to_faction = FROM
	}
}

country_event = { #FROM seperatist Chinese tag refuses offer
	id = japan_foreign_events.341
	title = japan_foreign_events.341.t
	desc = japan_foreign_events.341.d
	picture = GFX_report_event_JAP_ultimatum

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.341 option japan_foreign_events.341.a"
		name = japan_foreign_events.341.a
	}
}

country_event = { #Japan offers membership in sphere / from Tokyo Conference
	id = japan_foreign_events.342
	title = japan_foreign_events.342.t
	desc = japan_foreign_events.342.d
	picture = GFX_report_event_JAP_foreign_minister_2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.342 option japan_foreign_events.342.a"
		name = japan_foreign_events.342.a #Accepts
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						NOT = {
							has_game_rule = { rule = BRM_forpol option = DEFAULT }
							has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
						}
					}
					AND = {
						tag = HAW
						NOT = {
							has_game_rule = { rule = HAW_forpol option = DEFAULT }
							has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
						}
					}
					AND = {
						tag = INC
						OR = {
							has_completed_focus = INC_Commit_to_Chinese_Revolution
							NOT = {
								has_game_rule = { rule = INC_forpol option = DEFAULT }
								has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
							}
						}
					}
					AND = {
						tag = INS
						NOT = {
							has_game_rule = { rule = INS_forpol option = DEFAULT }
							has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
						}
					}
					AND = {
						tag = PHI
						NOT = {
							has_game_rule = { rule = PHI_forpol option = DEFAULT }
							has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
						}
					}
					AND = {
						tag = SIA
						NOT = {
							has_game_rule = { rule = SIA_forpol option = DEFAULT }
							has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
						}
					}
				}
			}
		}
		add_war_support = 0.10
		FROM = {
			effect_tooltip = { add_to_faction = ROOT }
			country_event = japan_foreign_events.340
		}
	}
	option = {
		log = "[GetLogInfo]: event japan_foreign_events.342 option japan_foreign_events.342.b"
		name = japan_foreign_events.342.b #Refuses
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				OR = {
					AND = {
						tag = BRM
						NOT = {
							has_game_rule = { rule = BRM_forpol option = DEFAULT }
							has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
						}
					}
					AND = {
						tag = HAW
						NOT = {
							has_game_rule = { rule = HAW_forpol option = DEFAULT }
							has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
						}
					}
					AND = {
						tag = INC
						OR = {
							has_completed_focus = INC_Commit_to_Chinese_Revolution
							NOT = {
								has_game_rule = { rule = INC_forpol option = DEFAULT }
								has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
							}
						}
					}
					AND = {
						tag = INS
						NOT = {
							has_game_rule = { rule = INS_forpol option = DEFAULT }
							has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
						}
					}
					AND = {
						tag = PHI
						NOT = {
							has_game_rule = { rule = PHI_forpol option = DEFAULT }
							has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
						}
					}
					AND = {
						tag = SIA
						NOT = {
							has_game_rule = { rule = SIA_forpol option = DEFAULT }
							has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
						}
					}
				}
			}
		}
		remove_from_array = { global.JAP_possible_allies_array = ROOT }
		add_war_support = -0.10
		FROM = { country_event = japan_foreign_events.341 }
	}
}

##################################
### Japan Ultimatum To Germany ###
##################################

country_event = { #Japanese ultimatum
	id = japan_foreign_events.41
	title = japan_foreign_events.41.t
	desc = japan_foreign_events.41.d
	picture = GFX_report_event_JAP_ultimatum

	is_triggered_only = yes

	option = { #ignore
		log = "[GetLogInfo]: event japan_foreign_events.41 option japan_foreign_events.41.a"
		name = japan_foreign_events.41.a
		ai_chance = { base = 100 }
		JAP = {
			country_event = { id = japan_foreign_events.42 days = 2 }
		}
	}

	option = { #Agree
		log = "[GetLogInfo]: event japan_foreign_events.41 option japan_foreign_events.41.b"
		name = japan_foreign_events.41.b
		ai_chance = { base = 0 }
		add_stability = -0.30
		JAP = {
			country_event = { id = japan_foreign_events.43 days = 2 }
		}
	}
}

country_event = { #Germany refuses our ultimatum
	id = japan_foreign_events.42
	title = japan_foreign_events.42.t
	desc = japan_foreign_events.42.d
	picture = GFX_report_event_GEA_coltroops

	is_triggered_only = yes

	option = { #Declare war!
		log = "[GetLogInfo]: event japan_foreign_events.42 option japan_foreign_events.42.a"
		name = japan_foreign_events.42.a
		ai_chance = { base = 100 }
		declare_war_on = {
			target = GEA
			type = annex_everything
		}
	}
	option = { #back down
		log = "[GetLogInfo]: event japan_foreign_events.42 option japan_foreign_events.42.b"
		name = japan_foreign_events.42.b
		ai_chance = { base = 0 }
		add_stability = -0.10
	}
}

country_event = { #GEA accepts our conditions
	id = japan_foreign_events.43
	title = japan_foreign_events.43.t
	desc = japan_foreign_events.43.d
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.43 option japan_foreign_events.43.a"
		name = japan_foreign_events.43.a
		every_country = {
			limit = {
				is_subject_of = GER
				OR = {
					tag = GEA
					tag = MAL
					tag = SAR
					tag = VIN
					tag = CAM
					tag = LAO
				}
			}
			ROOT = {
				annex_country = { target = PREV }
			}
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					is_on_continent = asia
					is_on_continent = australia
				}
			}
			transfer_state_to = JAP
		}
	}
}

#####################
### Indian events ###
#####################

country_event = { #My Raja, Japan brings us news!
	id = japan_foreign_events.45
	title = japan_foreign_events.45.t
	desc = japan_foreign_events.45.d
	picture = GFX_report_event_JAP_announcement

	is_triggered_only = yes

	option = { #Accept
		log = "[GetLogInfo]: event japan_foreign_events.45 option japan_foreign_events.45.a"
		name = japan_foreign_events.45.a
		ai_chance = {
			base = 60
			modifier = {
				factor = 1.5
				has_war = yes
			}
			modifier = {
				factor = 1.5
				country_exists = RAJ
				country_exists = HND
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_GER }
					has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_RUS }
					has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_OTT }
					has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_PRF }
				}
			}
		}
		add_ideas = JAP_india_support
		JAP_add_to_economic_sphere = yes
		if = {
			limit = {
				NOT = {
					country_exists = RAJ
					country_exists = HND
					is_ally_with = FROM
					is_guaranteed_by = FROM
				}
			}
			effect_tooltip = { FROM = { give_guarantee = ROOT } }
		}
		if = {
			limit = { has_opinion_modifier = KR_disapproves_of_govt }
			remove_opinion_modifier = { target = FROM modifier = KR_disapproves_of_govt }
		}
		if = {
			limit = { has_opinion_modifier = KR_hates_govt }
			remove_opinion_modifier = { target = FROM modifier = KR_hates_govt }
		}
		if = {
			limit = { has_opinion_modifier = KR_outraged }
			remove_opinion_modifier = { target = FROM modifier = KR_outraged }
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
			country_event = { id = japan_foreign_events.46 days = 1 }
		}
	}
	option = { #Politely decline their support
		log = "[GetLogInfo]: event japan_foreign_events.45 option japan_foreign_events.45.b"
		name = japan_foreign_events.45.b
		ai_chance = {
			base = 40
			modifier = {
				factor = 1.5
				has_cosmetic_tag = PRF_empire
			}
			modifier = {
				factor = 5
				has_completed_focus = PRF_india_united
			}
			modifier = {
				factor = 5
				FROM = { any_owned_state = { is_claim_or_core_of_ROOT = yes } }
			}
			modifier = {
				factor = 0
				has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_JAP }
			}
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = { id = japan_foreign_events.47 days = 3 }
		}
	}
}

country_event = { #Offer accepted
	id = japan_foreign_events.46
	title = japan_foreign_events.46.t
	desc = japan_foreign_events.46.d
	picture = GFX_report_event_RAJ_raj

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.46 option japan_foreign_events.46.a"
		name = japan_foreign_events.46.a
		add_political_power = 25
		if = {
			limit = {
				NOT = {
					country_exists = RAJ
					country_exists = HND
					is_ally_with = FROM
					has_guaranteed = FROM
				}
			}
			give_guarantee = FROM
		}
		if = {
			limit = { NOT = { has_dynamic_modifier = { modifier = JAP_asian_economic_sphere } } }
			add_dynamic_modifier = { modifier = JAP_asian_economic_sphere }
		}
	}
}

country_event = { #India declines us
	id = japan_foreign_events.47
	title = japan_foreign_events.47.t
	desc = japan_foreign_events.47.d
	picture = GFX_report_event_JAP_ambassador_kisaburo

	is_triggered_only = yes

	option = { #Damn and blast
		log = "[GetLogInfo]: event japan_foreign_events.47 option japan_foreign_events.47.a"
		name = japan_foreign_events.47.a
		add_political_power = -25
	}
}

#####################################
### Philippines and Hawaii Events ###
#####################################

country_event = { #Japan threatens us!
	id = japan_foreign_events.62
	title = japan_foreign_events.62.t
	desc = japan_foreign_events.62.d
	picture = GFX_report_event_JAP_mutsu

	is_triggered_only = yes

	option = { #resist
		log = "[GetLogInfo]: event japan_foreign_events.62 option japan_foreign_events.62.a"
		name = japan_foreign_events.62.a
		custom_override_tooltip = {
			tooltip = {
				localization_key = tooltip_create_division_template
				NAME = "Militia"
				LINE_1 = { localization_key = line_battalion_tt NAME = infantry ICON = GFX_unit_infantry_icon_small COUNT = 5 }
			}
			if = {
				limit = { has_template = "Militia" }
				delete_unit_template_and_units = { division_template = "Militia" disband = yes } #no cheating
			}
			division_template = {
				name = "Militia"
				division_names_group = USA_GAR_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
					infantry = { x = 1 y = 0 }
				}
				template_counter = 68
			}
		}
		random_owned_controlled_state = {
			limit = { is_in_home_area = yes }
			custom_override_tooltip = {
				tooltip = {
					localization_key = tooltip_spawn_units
					COUNT = 3
					TYPE = "Militia"
				}
				create_unit = {
					division = "division_template = \"Militia\""
					owner = ROOT
					count = 3
				}
			}
		}
		if = {
			limit = {
				has_global_flag = USA_civil_war_over_flag
				var:385.owner = { #Oregon
					has_civil_war = no
					is_subject = no
					has_capitulated = no
					NOT = { is_ally_with = FROM }
					at_war_with_or_justifying_wargoal_against_ROOT = no
				}
			}
			var:385.owner = {
				country_event = { id = japan_foreign_events.64 days = 1 }
			}
		}
		else = {
			FROM = { country_event = { id = japan_foreign_events.66 days = 2 } }
		}
	}

	option = { #surrender
		log = "[GetLogInfo]: event japan_foreign_events.62 option japan_foreign_events.62.b"
		name = japan_foreign_events.62.b
		ai_chance = { base = 0 }
		FROM = { country_event = { id = japan_foreign_events.63 days = 2 } }
	}
}

country_event = { #Hawaii Surrenders!
	id = japan_foreign_events.63
	title = japan_foreign_events.63.t
	desc = japan_foreign_events.63.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	trigger = {
		can_declare_war_on = FROM
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.63 option japan_foreign_events.63.a"
		name = japan_foreign_events.63.a
		ai_chance = { base = 0 }
		if = {
			limit = { FROM = { both_socialist_or_both_not_socialist = yes } }
			set_temp_variable = { target = FROM }
			puppet_country_without_changing_government = yes
		}
		else = {
			puppet = {
				target = FROM
				end_wars = no
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.63 option japan_foreign_events.63.b"
		name = japan_foreign_events.63.b
		trigger = {
			FROM = { is_ai = yes }
		}
		annex_country = {
			target = FROM
			transfer_troops = no
		}
	}
}

country_event = { #Hawaii begs for help
	id = japan_foreign_events.64
	title = japan_foreign_events.64.t
	desc = japan_foreign_events.64.d
	picture = GFX_report_event_JAP_mutsu

	is_triggered_only = yes

	trigger = {
		NOT = { FROM = { has_war_with = FROM.FROM } }
	}

	option = { #help
		log = "[GetLogInfo]: event japan_foreign_events.64 option japan_foreign_events.64.a"
		name = japan_foreign_events.64.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				country_is_in_dangerous_war = yes
				FROM = { default_attack_AI_trigger_consider_naval_strength = yes }
			}
		}
		if = {
			limit = { FROM = { is_ai = yes } }
			annex_country = {
				target = FROM
				transfer_troops = yes
			}
		}
		else_if = {
			limit = {
				NOT = { is_ally_with = FROM }
				NOT = { has_guaranteed = FROM }
			}
			give_guarantee = FROM
		}
		FROM.FROM = { country_event = { id = japan_foreign_events.65 days = 2 } }
	}
	option = { #Don't
		log = "[GetLogInfo]: event japan_foreign_events.64 option japan_foreign_events.64.b"
		name = japan_foreign_events.64.b
		trigger = {
			NOT = { is_ally_with = FROM }
			NOT = { has_guaranteed = FROM }
			NOT = { has_war_with = FROM.FROM }
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				country_is_in_dangerous_war = yes
				FROM = { default_attack_AI_trigger_consider_naval_strength = yes }
			}
		}
		add_stability = 0.05
		FROM.FROM = { country_event = { id = japan_foreign_events.66 days = 2 } }
	}
}

country_event = { #Hawaii resists with American backing
	id = japan_foreign_events.65
	title = japan_foreign_events.65.t
	desc = japan_foreign_events.65.d
	picture = GFX_report_event_USA_soldiers_watching

	is_triggered_only = yes

	trigger = {
		can_declare_war_on = FROM.FROM
	}

	option = { #war
		log = "[GetLogInfo]: event japan_foreign_events.65 option japan_foreign_events.65.a"
		name = japan_foreign_events.65.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				FROM = { default_attack_AI_trigger_consider_naval_strength = yes }
			}
		}
		declare_war_on = {
			target = FROM.FROM
			type = annex_everything
		}
	}
	option = { #Don't
		log = "[GetLogInfo]: event japan_foreign_events.65 option japan_foreign_events.65.b"
		name = japan_foreign_events.65.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				FROM = { default_attack_AI_trigger_consider_naval_strength = yes }
			}
		}
		add_stability = -0.05
		add_war_support = -0.05
	}
}

country_event = { #Hawaii resists without American backing
	id = japan_foreign_events.66
	title = japan_foreign_events.66.t
	desc = japan_foreign_events.66.d
	picture = GFX_report_event_USA_soldiers1

	is_triggered_only = yes

	trigger = {
		can_declare_war_on = FROM
	}

	option = { #war
		log = "[GetLogInfo]: event japan_foreign_events.66 option japan_foreign_events.65.a"
		name = japan_foreign_events.65.a
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}

	option = { #Don't
		log = "[GetLogInfo]: event japan_foreign_events.66 option japan_foreign_events.65.b"
		name = japan_foreign_events.65.b
		ai_chance = { base = 0 }
		add_stability = -0.05
		add_war_support = -0.05
	}
}

############################
### Korea Events 		 ###
### Credit to Exitialium ###
############################

country_event = { # Kitei Son and Nan Shoryu
	id = japan_foreign_events.500
	title = japan_foreign_events.500.t
	desc = japan_foreign_events.500.d
	picture = GFX_report_event_JAP_foreign_minister

	is_triggered_only = yes

	option = { # How unfortunate.
		log = "[GetLogInfo]: event japan_foreign_events.500 option japan_foreign_events.500.a"
		name = japan_foreign_events.500.a
	}
}

### JAP Sabotage in China events ###

country_event = { #Pan-Asianism
	id = japan_foreign_events.604
	title = japan_foreign_events.604.t
	desc = japan_foreign_events.604.d

	is_triggered_only = yes

	option = { #Unfortunate
		log = "[GetLogInfo]: event japan_foreign_events.604 option japan_foreign_events.604.a"
		name = japan_foreign_events.604.a
		add_timed_idea = {
			idea = JAP_sabotage_1
			days = 180
		}
	}
}

country_event = { #Harmony and Reconciliation
	id = japan_foreign_events.605
	title = japan_foreign_events.605.t
	desc = japan_foreign_events.605.d

	is_triggered_only = yes

	option = { #Unfortunate
		log = "[GetLogInfo]: event japan_foreign_events.605 option japan_foreign_events.604.a"
		name = japan_foreign_events.604.a
		add_timed_idea = {
			idea = JAP_sabotage_2
			days = 180
		}
	}
}

country_event = { #Harmony and Reconciliation
	id = japan_foreign_events.606
	title = japan_foreign_events.606.t
	desc = japan_foreign_events.606.d

	is_triggered_only = yes

	option = { #Unfortunate
		log = "[GetLogInfo]: event japan_foreign_events.606 option japan_foreign_events.604.a"
		name = japan_foreign_events.604.a
		add_timed_idea = {
			idea = JAP_sabotage_3
			days = 180
		}
	}
}

###################################
### Japan Targets the Legations ###
###################################

country_event = {
	id = japan_foreign_events.90
	title = japan_foreign_events.90.t
	desc = japan_foreign_events.90.d
	picture = GFX_report_event_generic_economy_growth

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.90 option japan_foreign_events.90.a"
		name = japan_foreign_events.90.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_war_with = JAP
			}
			modifier = {
				factor = 0
				tag = GER
			}
		}
		LEC_remove_from_legation_council = yes
		LEC = { country_event = japan_foreign_events.91 }
		if = {
			limit = { is_faction_leader = yes }
			every_other_country = {
				limit = {
					LEC_is_legation_council_member = yes
					has_guaranteed = LEC
					is_ally_with = ROOT
				}
				country_event = japan_foreign_events.90
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.90 option japan_foreign_events.90.b"
		name = japan_foreign_events.90.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				has_war_with = JAP
			}
			modifier = {
				add = 100
				tag = GER
			}
		}
		JAP = { country_event = japan_foreign_events.92 }
	}
}

country_event = {
	id = japan_foreign_events.91
	title = japan_foreign_events.91.t
	desc = japan_foreign_events.91.d
	picture = GFX_report_event_generic_economy_growth

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.91 option japan_foreign_events.91.a"
		name = japan_foreign_events.91.a
	}
}

country_event = {
	id = japan_foreign_events.92
	title = japan_foreign_events.92.t
	desc = japan_foreign_events.92.d
	picture = GFX_report_event_generic_economy_growth

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.92 option japan_foreign_events.92.a"
		name = japan_foreign_events.92.a
	}
}

##########################################
### Fengtian Silver Crisis (Flamefang) ###
##########################################

country_event = { #Fengtian Requests a Bailout
	id = japan_foreign_events.202
	title = japan_foreign_events.202.t
	desc = japan_foreign_events.202.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	option = { #Accept
		log = "[GetLogInfo]: event japan_foreign_events.202 option japan_foreign_events.202.a"
		name = japan_foreign_events.202.a
		add_political_power = 25
		add_timed_idea = {
			idea = JAP_fengtian_bailout
			days = 60
		}
		FNG = {
			country_event = fengtian_events.73
		}
		ai_chance = { base = 60 }
	}

	option = { #Refuse
		log = "[GetLogInfo]: event japan_foreign_events.202 option japan_foreign_events.202.b"
		name = japan_foreign_events.202.b
		add_stability = -0.05
		FNG = {
			country_event = fengtian_events.74
		}
		ai_chance = { base = 40 }
	}
}

country_event = { #Fengtian blames Japan for the crisis
	id = japan_foreign_events.203
	title = japan_foreign_events.203.t
	desc = japan_foreign_events.203.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	option = { #False accusations!
		log = "[GetLogInfo]: event japan_foreign_events.203 option japan_foreign_events.203.a"
		name = japan_foreign_events.203.a
		add_political_power = -25
		FNG = {
			country_event = fengtian_events.75
		}
		ai_chance = { base = 80 }
	}

	option = { #Punish this insolence!
		log = "[GetLogInfo]: event japan_foreign_events.203 option japan_foreign_events.203.b"
		name = japan_foreign_events.203.b
		add_stability = 0.02
		set_global_flag = fengtian_blames_japan
		FNG = {
			country_event = fengtian_events.22
		}
		ai_chance = { base = 20 }
	}
}

#Fengtian Expels the Japanese Military Mission

country_event = { #Fengtian Diplomatic
	id = japan_foreign_events.204
	title = japan_foreign_events.204.t
	desc = {
		text = japan_foreign_events.204.d
		trigger = {
			FNG = {
				NOT = {
					FNG_mantetsu_level_very_high = yes
					FNG_mantetsu_level_high = yes
				}
			}
		}
	}
	desc = {
		text = japan_foreign_events.204.d_mantetsu
		trigger = {
			FNG = {
				OR = {
					FNG_mantetsu_level_very_high = yes
					FNG_mantetsu_level_high = yes
				}
			}
		}
	}
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	immediate = {
		clear_JAP_FNG_hostile_AI = yes
	}

	option = { #Declare war
		log = "[GetLogInfo]: event japan_foreign_events.204 option japan_foreign_events.204.a"
		name = japan_foreign_events.204.a
		ai_chance = { base = 30 }
		if = {
			limit = { has_subject = FNG }
			set_autonomy = {
				target = FNG
				autonomy_state = autonomy_free
			}
		}
		if = {
			limit = { is_in_faction_with = FNG }
			remove_from_faction = FNG
		}
		FNG = {
			hidden_effect = {
				every_owned_state = {
					teleport_armies = {
						limit = { is_ally_with = ROOT }
						to_state_array = owned_controlled_states
					}
				}
			}
			country_event = fengtian_events.77
		}
	}

	option = { #Force Fengtian
		log = "[GetLogInfo]: event japan_foreign_events.204 option japan_foreign_events.204.b"
		name = japan_foreign_events.204.b
		trigger = {
			FNG = {
				OR = {
					FNG_mantetsu_level_very_high = yes
					FNG_mantetsu_level_high = yes
				}
			}
		}
		ai_chance = { base = 1000 }
		add_political_power = 25
		FNG = {
			country_event = fengtian_events.78
		}
	}

	option = { #Punish Fengtian
		log = "[GetLogInfo]: event japan_foreign_events.204 option japan_foreign_events.204.c"
		name = japan_foreign_events.204.c
		ai_chance = { base = 70 }
		add_stability = -0.03
		FNG = {
			country_event = fengtian_events.22
		}
	}

	option = { #Do Nothing
		log = "[GetLogInfo]: event japan_foreign_events.204 option japan_foreign_events.204.e"
		name = japan_foreign_events.204.e
		ai_chance = { base = 0 }
		add_stability = -0.10
	}
}

country_event = { #Fengtian non-diplomatic
	id = japan_foreign_events.205
	title = japan_foreign_events.205.t
	desc = japan_foreign_events.205.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	option = { #Send an ultimatum
		log = "[GetLogInfo]: event japan_foreign_events.205 option japan_foreign_events.205.a"
		name = japan_foreign_events.205.a
		ai_chance = { base = 100 }
		set_global_flag = jap_fengtian_ultimatum
		JAP = { set_JAP_FNG_hostile_AI = yes }
		FNG = {
			country_event = { id = fengtian_events.78 days = 2 }
		}
		add_political_power = 25
	}

	option = { #Do Nothing
		log = "[GetLogInfo]: event japan_foreign_events.205 option japan_foreign_events.205.b"
		name = japan_foreign_events.205.b
		ai_chance = { base = 0 }
		add_stability = -0.10
	}
}

#The Anshan Incident

country_event = {
	id = japan_foreign_events.206
	title = japan_foreign_events.206.t
	desc = japan_foreign_events.206.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	option = { #Punish this insolence!
		log = "[GetLogInfo]: event japan_foreign_events.206 option japan_foreign_events.206.a"
		name = japan_foreign_events.206.a
		add_political_power = 50
		FNG = {
			country_event = fengtian_events.22
		}
		ai_chance = { base = 40 }
	}

	option = { #Denounce Fengtian
		log = "[GetLogInfo]: event japan_foreign_events.206 option japan_foreign_events.206.b"
		name = japan_foreign_events.206.b
		add_political_power = 10
		FNG = {
			country_event = fengtian_events.113
		}
		ai_chance = { base = 40 }
	}

	option = { #Stay silent
		log = "[GetLogInfo]: event japan_foreign_events.206 option japan_foreign_events.206.c"
		name = japan_foreign_events.206.c
		add_political_power = -50
		ai_chance = { base = 20 }
	}
}

### Russia-Japan peace is handled by russia_foreign_policy_events.130

country_event = { #Hawaii accepted our offer
	id = japan_foreign_events.218
	title = japan_foreign_events.218.t
	desc = japan_foreign_events.218.d
	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.218 option japan_foreign_events.218.a"
		name = japan_foreign_events.218.a
		add_to_faction = HAW
	}
}

#########################
### Japan Seizes Guam ###
#########################

country_event = { # Japan seizes Guam
	id = japan_foreign_events.226
	title = japan_foreign_events.226.t
	desc = japan_foreign_events.226.d
	picture = GFX_report_event_USA_guamtake

	is_triggered_only = yes

	major = yes
	show_major = {
		OR = {
			original_tag = HAW
			is_american_tag = yes
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.226 option japan_foreign_events.226.a"
		name = japan_foreign_events.226.a
		if = {
			limit = { original_tag = HAW }
			effect_tooltip = { 638 = { transfer_state_to = FROM } }
		}
		else = {
			638 = {
				effect_tooltip = { transfer_state_to = FROM }
				remove_core_of = ROOT
				add_claim_by = ROOT
			}
		}
	}
}

####################################
### Japan Seizes Motor Companies ###
####################################

country_event = {
	id = japan_foreign_events.227
	title = japan_foreign_events.227.t
	desc = japan_foreign_events.227.d
	picture = GFX_report_event_generic_economy_growth

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.227 option japan_foreign_events.227.a"
		name = japan_foreign_events.227.a
		add_political_power = -25
		add_opinion_modifier = {
			target = JAP
			modifier = JAP_motor_1
		}
	}
}

###################
### Peace Deals ###
###################

country_event = { #hidden event to fire the peace mission
	id = japan_foreign_events.229

	hidden = yes

	trigger = {
		original_tag = JAP
		has_war = yes
		is_valid_peace_target = yes
		NOT = { surrender_progress > 0.15 }
		NOT = { has_active_mission = JAP_fading_sun_timer }
		OR = {
			is_ai = no
			NOT = { has_global_flag = JAP_will_surrender }
		}
		JAP_fading_sun_korea_fully_controlled = no
		JAP_fading_sun_manchuria_not_capitulated = no
		OR = {
			var:global.russia = {
				has_war_with = ROOT
				is_valid_peace_target = yes
				set_temp_variable = { at_war_with_russia = 1 }
			}
			any_enemy_country = {
				is_chinese_tag = yes
				is_subject = no
				#I believe this is a redundant check - it also breaks content where a subject revolts against FNG so going to remove it.
				#OR = {
				#	china_is_potential_government = yes
				#	is_faction_leader = yes #United Front
				#}
				is_valid_peace_target = yes
				set_temp_variable = { at_war_with_china = 1 }
			}
		}
		if = {
			limit = { has_variable = at_war_with_russia }
			JAP_fading_sun_far_eastern_republic_not_capitulated = no
		}
		if = {
			limit = { has_variable = at_war_with_china }
			JAP_fading_sun_controls_major_chinese_city = no
			JAP_fading_sun_any_chinese_ally_not_capitulated = no
		}
	}

	mean_time_to_happen = {
		days = 10
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.229 option 1"
		activate_mission = JAP_fading_sun_timer
		if = {
			limit = { is_ai = yes }
			every_enemy_country = {
				limit = {
					is_ai = no
					OR = {
						is_tag_in_china_area = yes
						is_russian_tag = yes
					}
				}
				activate_mission = JAP_fading_sun_timer_enemy
			}
		}
	}
}

### China ###
country_event = { #Japan Offers Peace
	id = japan_foreign_events.230
	title = japan_foreign_events.230.t

	desc = {
		text = japan_foreign_events.230.d.taiwan_kept
		trigger = {
			JAP = {
				owns_state = 524
				NOT = {
					enemies_naval_strength_ratio > 4
					AND = {
						surrender_progress > 0.15
						any_home_area_neighbor_country = { is_ally_with = ROOT }
					}
				}
			}
			NOT = {
				var:524.controller = {
					is_tag_in_china_area = yes
					has_war_with = event_target:japan
				}
			}
		}
	}
	desc = {
		text = japan_foreign_events.230.d.taiwan_handed_over
		trigger = {
			JAP = {
				owns_state = 524
				OR = {
					enemies_naval_strength_ratio > 4
					AND = {
						surrender_progress > 0.15
						any_home_area_neighbor_country = { is_ally_with = ROOT }
					}
				}
			}
			NOT = {
				var:524.controller = {
					is_tag_in_china_area = yes
					has_war_with = event_target:japan
				}
			}
		}
	}
	desc = {
		text = japan_foreign_events.230.d.taiwan_occupied
		trigger = {
			JAP = {
				owns_state = 524
				var:524.controller = {
					is_tag_in_china_area = yes
					has_war_with = event_target:japan
				}
			}
		}
	}
	desc = {
		text = japan_foreign_events.230.d.no_taiwan
		trigger = {
			NOT = { JAP = { owns_state = 524 } } #Taiwan
		}
	}

	picture = GFX_report_event_JAP_meeting

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.230 option japan_foreign_events.230.a"
		name = japan_foreign_events.230.a
		ai_chance = { base = 100 }
		set_country_flag = JAP_accepted_peace
		hidden_effect = {
			every_subject_country = { set_country_flag = JAP_accepted_peace }
			every_other_country = {
				limit = { is_in_faction_with = ROOT }
				set_country_flag = JAP_accepted_peace
			}
		}
		effect_tooltip = {
			### Free Korea and all Chinese subjects
			every_other_country = {
				limit = {
					is_subject_of = event_target:japan
					OR = {
						original_tag = KOR
						is_tag_in_china_area = yes
						AND = {
							has_capitulated = yes
							meta_trigger = {
								text = {
									[ORIGINAL_CAPITAL] = { controller = { is_ally_with = ROOT } }
								}
								ORIGINAL_CAPITAL = "[THIS.OriginalCapital.GetId]"
							}
						}
					}
				}
				overlord = {
					set_autonomy = {
						target = PREV
						autonomy_state = autonomy_free
					}
				}
			}

			### Remove Korea and all Chinese allies from the CPS
			every_other_country = {
				limit = {
					is_in_faction_with = event_target:japan
					OR = {
						original_tag = KOR
						is_tag_in_china_area = yes
						AND = {
							has_capitulated = yes
							meta_trigger = {
								text = {
									[ORIGINAL_CAPITAL] = { controller = { is_ally_with = ROOT } }
								}
								ORIGINAL_CAPITAL = "[THIS.OriginalCapital.GetId]"
							}
						}
					}
				}
				leave_faction = yes
				peace_out_non_neighbours_after_leaving_faction = yes
			}

			### Give all mainland Chinese states to the controller or CHN
			every_state = {
				limit = {
					owner = {
						is_ally_with = event_target:japan
						NOT = {
							original_tag = KOR
							is_tag_in_china_area = yes
							AND = {
								has_capitulated = yes
								meta_trigger = {
									text = {
										[ORIGINAL_CAPITAL] = { controller = { is_ally_with = ROOT } }
									}
									ORIGINAL_CAPITAL = "[THIS.OriginalCapital.GetId]"
								}
							}
						}
					}
					is_china_claim_area = yes
					NOT = { state = 524 } #Taiwan
					controller = { is_tag_in_china_area = yes }
				}
				controller = {
					if = {
						limit = { is_subject = yes }
						overlord = { transfer_state = PREV.PREV }
					}
					else = {
						transfer_state = PREV
					}
				}
			}
			every_state = {
				limit = {
					owner = {
						is_ally_with = event_target:japan
						NOT = {
							original_tag = KOR
							is_tag_in_china_area = yes
							AND = {
								has_capitulated = yes
								meta_trigger = {
									text = {
										[ORIGINAL_CAPITAL] = { controller = { is_ally_with = ROOT } }
									}
									ORIGINAL_CAPITAL = "[THIS.OriginalCapital.GetId]"
								}
							}
						}
					}
					is_china_claim_area = yes
					NOT = { state = 524 } #Taiwan
					controller = { is_tag_in_china_area = no }
				}
				transfer_state_to = CHN
			}

			### Handle Taiwan
			if = {
				limit = {
					JAP = {
						owns_state = 524
						OR = {
							enemies_naval_strength_ratio > 4
							AND = {
								surrender_progress > 0.15
								any_home_area_neighbor_country = { is_ally_with = ROOT }
							}
							var:524.controller = {
								is_tag_in_china_area = yes
								has_war_with = event_target:japan
							}
						}
					}
				}
				event_target:japan = { remove_state_claim = 524 }
				if = {
					limit = {
						var:524.controller = {
							is_tag_in_china_area = yes
							has_war_with = event_target:japan
						}
					}
					var:524.controller = {
						if = {
							limit = {
								is_subject = yes
								is_chinese_tag = no
							}
							overlord = { transfer_state = 524 }
						}
						else = {
							transfer_state = 524
						}
					}
				}
				else = {
					CHN = { transfer_state = 524 }
				}
			}

			### Handle Korea
			every_state = {
				limit = { is_core_of = KOR }
				remove_claim_by = event_target:japan
				if = {
					limit = {
						is_owned_by = event_target:japan
						controller = { is_tag_in_china_area = yes }
					}
					controller = {
						if = {
							limit = { is_subject = yes }
							overlord = { transfer_state = PREV.PREV }
						}
						else = {
							transfer_state = PREV
						}
					}
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.230 option japan_foreign_events.230.b"
		name = japan_foreign_events.230.b
		ai_chance = { base = 0 }
		set_country_flag = JAP_refused_peace
		hidden_effect = {
			every_subject_country = { set_country_flag = JAP_refused_peace }
			every_other_country = {
				limit = { is_in_faction_with = ROOT }
				set_country_flag = JAP_refused_peace
			}
		}
		add_political_power = -100
		add_war_support = -0.1
		event_target:japan = { country_event = japan_foreign_events.233 }
	}

	after = {
		JAP_china_peace_next_country = yes
	}
}

country_event = { #Peace Goes Into Effect
	id = japan_foreign_events.231

	title = {
		text = japan_foreign_events.231.t.peace
		trigger = {
			has_event_target = JAP_peace_with_china
		}
	}
	title = {
		text = japan_foreign_events.231.t.no_peace
		trigger = {
			NOT = { has_event_target = JAP_peace_with_china }
		}
	}

	desc = {
		text = japan_foreign_events.231.d.peace_taiwan_kept
		trigger = {
			has_event_target = JAP_peace_with_china
			owns_state = 524 #Taiwan
			controls_state = 524 #Taiwan
			NOT = {
				enemies_naval_strength_ratio > 4
				AND = {
					surrender_progress > 0.15
					any_home_area_neighbor_country = { is_ally_with = ROOT }
				}
			}
		}
	}
	desc = {
		text = japan_foreign_events.231.d.peace_taiwan_handed_over
		trigger = {
			has_event_target = JAP_peace_with_china
			owns_state = 524 #Taiwan
			controls_state = 524 #Taiwan
			OR = {
				enemies_naval_strength_ratio > 4
				AND = {
					surrender_progress > 0.15
					any_home_area_neighbor_country = { is_ally_with = ROOT }
				}
			}
		}
	}
	desc = {
		text = japan_foreign_events.231.d.peace_taiwan_occupied
		trigger = {
			has_event_target = JAP_peace_with_china
			owns_state = 524 #Taiwan
			var:524.controller = {
				has_war_with = ROOT
				has_country_flag = JAP_accepted_peace
			}
		}
	}
	desc = {
		text = japan_foreign_events.231.d.peace_no_taiwan
		trigger = {
			has_event_target = JAP_peace_with_china
			OR = {
				NOT = { owns_state = 524 } #Taiwan
				var:524.controller = {
					has_war_with = ROOT
					NOT = { has_country_flag = JAP_accepted_peace }
				}
			}
		}
	}
	desc = {
		text = japan_foreign_events.231.d.no_peace
		trigger = {
			NOT = { has_event_target = JAP_peace_with_china }
		}
	}
	picture = GFX_report_event_JAP_hirohito_addressing

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_enemy_country = {
					is_tag_in_china_area = yes
					is_valid_peace_target = yes
					has_country_flag = JAP_accepted_peace
				}
			}
			save_event_target_as = JAP_peace_with_china
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.231 option japan_foreign_events.231.a"
		name = japan_foreign_events.231.a
		trigger = {
			has_event_target = JAP_peace_with_china
		}
		set_global_flag = JAP_defeated_by_china

		### Free Korea and all Chinese subjects
		every_subject_country = {
			limit = {
				OR = {
					original_tag = KOR
					is_tag_in_china_area = yes
					AND = {
						has_capitulated = yes
						meta_trigger = {
							text = {
								[ORIGINAL_CAPITAL] = { controller = { has_country_flag = JAP_accepted_peace } }
							}
							ORIGINAL_CAPITAL = "[THIS.OriginalCapital.GetId]"
						}
					}
				}
			}
			overlord = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
		}

		### Remove Korea and all Chinese allies from the CPS
		every_other_country = {
			limit = {
				is_in_faction_with = ROOT
				OR = {
					original_tag = KOR
					is_tag_in_china_area = yes
					AND = {
						has_capitulated = yes
						meta_trigger = {
							text = {
								[ORIGINAL_CAPITAL] = { controller = { has_country_flag = JAP_accepted_peace } }
							}
							ORIGINAL_CAPITAL = "[THIS.OriginalCapital.GetId]"
						}
					}
				}
			}
			leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes
		}

		### Give all mainland Chinese states to the controller or CHN
		every_state = {
			limit = {
				owner = { is_ally_with = ROOT }
				is_china_claim_area = yes
				NOT = { state = 524 } #Taiwan
				controller = {
					is_tag_in_china_area = yes
					has_war_with = ROOT
				}
			}
			controller = {
				if = {
					limit = { is_subject = yes }
					overlord = { transfer_state = PREV.PREV }
				}
				else = {
					transfer_state = PREV
				}
			}
		}
		every_state = {
			limit = {
				owner = { is_ally_with = ROOT }
				is_china_claim_area = yes
				NOT = { state = 524 } #Taiwan
			}
			transfer_state_to = CHN
		}

		### Handle Taiwan
		if = {
			limit = {
				owns_state = 524
				OR = {
					var:524.controller = {
						has_war_with = ROOT
						has_country_flag = JAP_accepted_peace
					}
					AND = {
						controls_state = 524
						OR = {
							enemies_naval_strength_ratio > 4
							AND = {
								surrender_progress > 0.15
								any_home_area_neighbor_country = { is_ally_with = ROOT }
							}
						}
					}
				}
			}
			remove_state_core = 524
			remove_state_claim = 524
			if = {
				limit = {
					var:524.controller = {
						has_war_with = ROOT
						has_country_flag = JAP_accepted_peace
					}
				}
				var:524.controller = {
					if = {
						limit = {
							is_subject = yes
							is_chinese_tag = no
						}
						overlord = { transfer_state = 524 }
					}
					else = {
						transfer_state = 524
					}
				}
			}
		}

		### Handle Korea
		KOR = {
			every_core_state = {
				remove_core_of = ROOT
				remove_claim_by = ROOT
			}
			every_core_state = {
				limit = {
					is_owned_by = ROOT
					controller = {
						is_tag_in_china_area = yes
						has_country_flag = JAP_accepted_peace
					}
				}
				controller = {
					if = {
						limit = { is_subject = yes }
						overlord = { transfer_state = PREV.PREV }
					}
					else = {
						transfer_state = PREV
					}
				}
			}
			every_core_state = {
				limit = {
					is_owned_by = ROOT
					NOT = {
						controller = {
							is_tag_in_china_area = yes
							has_country_flag = JAP_accepted_peace
						}
					}
				}
				if = {
					limit = {
						any_neighbor_state = {
							controller = {
								is_tag_in_china_area = yes
								has_country_flag = JAP_accepted_peace
							}
						}
					}
					random_neighbor_state = {
						limit = {
							controller = {
								is_tag_in_china_area = yes
								has_country_flag = JAP_accepted_peace
							}
						}
						PREV = { transfer_state_to = PREV.owner }
					}
				}
				else = {
					transfer_state_to = CHN
				}
			}
		}

		### Remove LEC's Japanese influence
		if = {
			limit = { country_exists = LEC }
			LEC = {
				if = {
					limit = { is_subject = no }
					country_event = { id = legation_cities_events.130 hours = 12 }
				}
				if = {
					limit = { has_war_with = JAP }
					set_country_flag = LEC_had_war_with_JAP
				}
			}
			LEC_remove_from_legation_council = yes
		}

		### Disable Fengtian Mantetsu mechanic
		FNG_break_with_japan = yes

		### Disable Japanese ambitions towards China
		every_state = {
			limit = {
				is_china_claim_area = yes
				NOT = { state = 524 } #Taiwan
			}
			remove_core_of = JAP
			remove_claim_by = JAP
			clear_variable = ambition_area_JAP
		}

		### Peace everyone out
		every_enemy_country = {
			limit = {
				is_tag_in_china_area = yes
				has_country_flag = JAP_accepted_peace
			}
			white_peace_with_ROOT = yes
			hidden_effect = { country_event = japan_foreign_events.232 }
		}

		### Remove guarantees and wargoals, create NAPs and truces
		every_country = {
			limit = {
				is_tag_in_china_area = yes
				NOT = { is_ally_with = ROOT }
				NOT = { has_war_with = ROOT }
			}
			if = {
				limit = { is_guaranteed_by = ROOT }
				ROOT = {
					diplomatic_relation = {
						country = PREV
						relation = guarantee
						active = no
					}
				}
			}
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
			}
			set_truce = { target = ROOT days = 730 }
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.231 option japan_foreign_events.231.b"
		name = japan_foreign_events.231.b
		trigger = {
			NOT = { has_event_target = JAP_peace_with_china }
		}
	}

	after = {
		### Clear flags
		hidden_effect = {
			every_country = {
				clr_country_flag = JAP_accepted_peace
				clr_country_flag = JAP_refused_peace
			}
		}
	}
}

country_event = { #End of the Sino-Japanese War
	id = japan_foreign_events.232
	title = japan_foreign_events.232.t
	desc = japan_foreign_events.232.d
	picture = GFX_report_event_CHN_victory2

	is_triggered_only = yes

	immediate = {
		hidden_effect = { set_truce = { target = FROM days = 730 } }
		if = {
			limit = { has_global_flag = allow_sound_events_flag }
			hidden_effect = { scoped_play_song = song_of_victory }
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.232 option japan_foreign_events.232.a"
		name = japan_foreign_events.232.a
		effect_tooltip = {
			set_truce = { target = FROM days = 730 }
		}
	}
}

country_event = { #FROM Refuses Peace
	id = japan_foreign_events.233
	title = japan_foreign_events.233.t
	desc = japan_foreign_events.233.d
	picture = GFX_report_event_japanese_reply

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.233 option japan_foreign_events.233.a"
		name = japan_foreign_events.233.a
	}
}

### Russia ###
country_event = { #Japan Offers Peace
	id = japan_foreign_events.238
	title = japan_foreign_events.238.t
	desc = japan_foreign_events.238.d
	picture = GFX_report_event_JAP_meeting

	is_triggered_only = yes
	timeout_days = 4

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.238 option japan_foreign_events.238.a"
		name = japan_foreign_events.238.a
		ai_chance = {
			base = 100
			modifier = {
				add = -30
				FROM = { has_war_with = 361.owner } #USA
				NOT = { has_war_with = 361.owner }
			}
			modifier = {
				add = -20
				FROM = { has_war_with = CAN }
				NOT = { has_war_with = CAN }
			}
			modifier = {
				add = -20
				FROM = { has_war_with = ENG }
				NOT = { has_war_with = ENG }
			}
			modifier = {
				add = -15
				FROM = { has_war_with = AST }
				NOT = { has_war_with = AST }
			}
			modifier = {
				add = -15
				FROM = { has_war_with = GER }
				NOT = { has_war_with = GER }
			}
			modifier = {
				add = -10
				FROM = { has_war_with = HOL }
				NOT = { has_war_with = HOL }
			}
		}
		effect_tooltip = {
			every_state = {
				limit = {
					is_owned_by = FROM
					OR = {
						state = 537 #South Sakhalin
						state = 577 #North Sakhalin
						AND = {
							state = 555 #Kuril Islands
							OR = {
								is_claim_or_core_of_ROOT = yes
								controller = { is_ally_with = ROOT }
							}
						}
						AND = {
							is_core_of = KOR
							controller = { is_ally_with = ROOT }
						}
						AND = {
							is_manchuria = yes
							OR = {
								controller = { is_ally_with = ROOT }
								var:716.controller = { is_ally_with = ROOT } #Shenyang
								MAN = { is_subject_of = ROOT }
							}
						}
						AND = {
							is_china_proper = yes
							OR = {
								controller = { is_ally_with = ROOT }
								var:608.controller = { is_ally_with = ROOT } #Beijing
								FNG = { is_ally_with = ROOT }
							}
						}
						is_claim_or_core_of_ROOT = yes
						ROOT = {
							any_allied_country = {
								PREV.PREV = { is_claim_or_core_of_PREV = yes }
							}
						}
						ROOT = {
							any_subject_country = {
								PREV.PREV = { is_claim_or_core_of_PREV = yes }
							}
						}
					}
				}
				transfer_state_to = ROOT
			}
			every_other_country = {
				limit = {
					is_subject_of = FROM
					OR = {
						original_tag = FER
						original_tag = KOR
						AND = {
							is_tag_in_china_area = yes
							OR = {
								any_home_area_neighbor_country = { is_ally_with = ROOT }
								AND = {
									has_capitulated = yes
									any_core_state = {
										is_owned_by = PREV
										controller = { is_ally_with = FROM }
									}
								}
							}
						}
					}
				}
				overlord = {
					set_autonomy = {
						target = PREV
						autonomy_state = autonomy_free
					}
				}
			}
			every_other_country = {
				limit = {
					is_in_faction_with = FROM
					OR = {
						original_tag = FER
						original_tag = KOR
						AND = {
							is_tag_in_china_area = yes
							OR = {
								any_home_area_neighbor_country = { is_ally_with = ROOT }
								AND = {
									has_capitulated = yes
									any_core_state = {
										is_owned_by = PREV
										controller = { is_ally_with = FROM }
									}
								}
							}
						}
					}
				}
				leave_faction = yes
				peace_out_non_neighbours_after_leaving_faction = yes
			}
			FROM = { white_peace_with_ROOT = yes }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
			}
			set_truce = { target = ROOT days = 730 }
		}
		FROM = { country_event = japan_foreign_events.239 }
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.238 option japan_foreign_events.238.b"
		name = japan_foreign_events.238.b
		ai_chance = {
			base = 0
			modifier = {
				add = 30
				FROM = { has_war_with = 361.owner } #USA
				NOT = { has_war_with = 361.owner }
			}
			modifier = {
				add = 20
				FROM = { has_war_with = CAN }
				NOT = { has_war_with = CAN }
			}
			modifier = {
				add = 20
				FROM = { has_war_with = ENG }
				NOT = { has_war_with = ENG }
			}
			modifier = {
				add = 15
				FROM = { has_war_with = AST }
				NOT = { has_war_with = AST }
			}
			modifier = {
				add = 15
				FROM = { has_war_with = GER }
				NOT = { has_war_with = GER }
			}
			modifier = {
				add = 10
				FROM = { has_war_with = HOL }
				NOT = { has_war_with = HOL }
			}
			modifier = {
				factor = 0
				FROM = { is_ai = no }
			}
		}
		set_country_flag = JAP_refused_peace
		add_political_power = -100
		add_war_support = -0.1
		FROM = { country_event = japan_foreign_events.241 }
	}
}

country_event = { #Russia Accepts Peace
	id = japan_foreign_events.239
	title = japan_foreign_events.239.t
	desc = japan_foreign_events.239.d
	picture = GFX_report_event_JAP_hirohito_addressing

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				OR = {
					KOR = { is_ally_with = FROM }
					KOR = { any_core_state = { controller = { is_Ally_with = FROM } } }
				}
			}
			save_event_target_as = korea
		}
		if = {
			limit = {
				OR = {
					var:716.controller = { is_ally_with = FROM }
					MAN = { is_ally_with = FROM }
				}
			}
			save_event_target_as = manchuria
		}
		if = {
			limit = {
				OR = {
					var:608.controller = { is_ally_with = FROM }
					FNG = { is_ally_with = FROM }
					QIE = { is_ally_with = FROM }
					GXC = { is_ally_with = FROM }
				}
			}
			save_event_target_as = china
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.239 option japan_foreign_events.239.a"
		name = japan_foreign_events.239.a

		### Hand over Sakhalin, the Kurils and all claims of RUS and its allies
		every_owned_state = {
			limit = {
				set_temp_variable = { current_state = THIS }
				OR = {
					state = 537 #South Sakhalin
					state = 577 #North Sakhalin
					AND = {
						state = 555 #Kuril Islands
						OR = {
							is_claim_or_core_of_FROM = yes
							controller = { is_ally_with = FROM }
						}
					}
					AND = {
						is_core_of = KOR
						has_event_target = korea
					}
					AND = {
						is_manchuria = yes
						OR = {
							has_event_target = manchuria
							controller = { is_ally_with = FROM }
						}
					}
					AND = {
						is_china_proper = yes
						OR = {
							has_event_target = china
							controller = { is_ally_with = FROM }
						}
					}
					ROOT = {
						any_enemy_country = {
							is_ally_with = FROM
							var:current_state = { is_claim_or_core_of_PREV = yes }
						}
					}
				}
			}
			transfer_state_to = FROM
		}

		### Remove all Russian ambition areas from the CPS
		every_subject_country = {
			limit = {
				OR = {
					original_tag = FER
					original_tag = KOR
					AND = {
						is_tag_in_china_area = yes
						OR = {
							any_home_area_neighbor_country = { is_ally_with = ROOT }
							AND = {
								has_capitulated = yes
								any_core_state = {
									is_owned_by = PREV
									controller = { is_ally_with = FROM }
								}
							}
						}
					}
				}
			}
			overlord = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
		}
		every_other_country = {
			limit = {
				is_in_faction_with = ROOT
				OR = {
					original_tag = FER
					original_tag = KOR
					AND = {
						is_tag_in_china_area = yes
						OR = {
							any_home_area_neighbor_country = { is_ally_with = ROOT }
							AND = {
								has_capitulated = yes
								any_core_state = {
									is_owned_by = PREV
									controller = { is_ally_with = FROM }
								}
							}
						}
					}
				}
			}
			leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes
		}

		### Peace everyone out
		FROM = {
			white_peace_with_ROOT = yes
			country_event = japan_foreign_events.240
		}

		### Remove guarantees and wargoals, create NAPs and truces
		every_country = {
			limit = {
				is_ally_with = FROM
				NOT = { has_war_with = ROOT }
			}
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
			}
			set_truce = { target = ROOT days = 730 }
		}
	}
}

country_event = { #Peace with Japan
	id = japan_foreign_events.240
	title = japan_foreign_events.240.t
	desc = japan_foreign_events.240.d
	picture = GFX_report_event_japanese_reply

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.240 option japan_foreign_events.240.a"
		name = japan_foreign_events.240.a
	}
}

country_event = { #FROM Refuses Peace
	id = japan_foreign_events.241
	title = japan_foreign_events.241.t
	desc = japan_foreign_events.241.d
	picture = GFX_report_event_japanese_reply

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.241 option japan_foreign_events.241.a"
		name = japan_foreign_events.241.a
	}
}

### Japan capitulates ###
country_event = { #Inform former faction members of peace
	id = japan_foreign_events.251
	title = japan_foreign_events.251.t
	desc = japan_foreign_events.251.d
	picture = GFX_report_event_japanese_chinese_surrender

	trigger = { is_ai = no }

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.251 option japan_foreign_events.251.a"
		name = japan_foreign_events.251.a
	}
}

#Involving Anqing

country_event = { #anq abandons reclamtion - feng cuts out
	id = japan_foreign_events.259
	title = japan_foreign_events.259.t
	desc = japan_foreign_events.259.d
	picture = GFX_report_event_ANQ_chen_tiaoyuan

	is_triggered_only = yes

	option = { #okay
		log = "[GetLogInfo]: event japan_foreign_events.259 option japan_foreign_events.259.a"
		name = japan_foreign_events.259.a
	}
}

country_event = { #anq abandons reclamtion - feng tolerates
	id = japan_foreign_events.260
	title = japan_foreign_events.260.t
	desc = japan_foreign_events.260.d
	picture = GFX_report_event_CHN_official_announcement

	is_triggered_only = yes

	option = { #okay
		log = "[GetLogInfo]: event japan_foreign_events.260 option japan_foreign_events.260.a"
		name = japan_foreign_events.260.a
	}
}

country_event = { #anq cuts ties fully itself
	id = japan_foreign_events.261
	title = japan_foreign_events.261.t
	desc = japan_foreign_events.261.d
	picture = GFX_report_event_ANQ_chen_tiaoyuan

	is_triggered_only = yes

	option = { #okay
		log = "[GetLogInfo]: event japan_foreign_events.261 option japan_foreign_events.261.a"
		name = japan_foreign_events.261.a
		if = {
			limit = {
				has_idea = JAP_ANQ_Reconstruction_Plan
			}
			remove_ideas = JAP_ANQ_Reconstruction_Plan
		}
	}
}

########################
###New Foreign Policy###
########################

country_event = { #Japan lays claim to the American Pacific
	id = japan_foreign_events.316
	title = japan_foreign_events.316.t
	desc = japan_foreign_events.316.d
	picture = GFX_report_event_USA_guamtake

	is_triggered_only = yes

	option = { #Let them have the islands, we have more pressing issues
		log = "[GetLogInfo]: event japan_foreign_events.316 option japan_foreign_events.316.a"
		name = japan_foreign_events.316.a
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				is_american_tag = yes
				NOT = { has_global_flag = USA_civil_war_over_flag }
			}
		}
		effect_tooltip = {
			if = {
				limit = { has_subject = HAW }
				FROM = { annex_country = { target = HAW transfer_troops = no } }
			}
			every_owned_state = {
				limit = { is_american_pacific_islands = yes }
				transfer_state_to = FROM
			}
		}
		FROM = { country_event = japan_foreign_events.317 }
	}

	option = { #This is an act of war!
		log = "[GetLogInfo]: event japan_foreign_events.316 option japan_foreign_events.316.b"
		name = japan_foreign_events.316.b
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_american_tag = yes
				NOT = { has_global_flag = USA_civil_war_over_flag }
			}
		}
		FROM = { country_event = japan_foreign_events.318 }
	}
}

country_event = { #The American islands are ours!
	id = japan_foreign_events.317
	title = japan_foreign_events.317.t
	desc = japan_foreign_events.317.d
	picture = GFX_report_event_japanese_soldiers_03

	is_triggered_only = yes

	option = { #Subarashi!
		log = "[GetLogInfo]: event japan_foreign_events.317 option japan_foreign_events.317.a"
		name = japan_foreign_events.317.a
		add_stability = 0.05
		if = {
			limit = { FROM = { has_subject = HAW } }
			annex_country = { target = HAW transfer_troops = no }
		}
		FROM = {
			every_owned_state = {
				limit = { is_american_pacific_islands = yes }
				transfer_state_to = ROOT
			}
		}
	}
}

country_event = { #The Americans object
	id = japan_foreign_events.318
	title = japan_foreign_events.318.t
	desc = japan_foreign_events.318.d
	picture = GFX_report_event_usa_heavy_cruiser

	is_triggered_only = yes

	option = { #Prepare the invasion forces!
		log = "[GetLogInfo]: event japan_foreign_events.318 option japan_foreign_events.318.a"
		name = japan_foreign_events.318.a
		ai_chance = {
			base = 100
			modifier = {
				add = -40
				has_global_flag = USA_civil_war_over_flag
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 1 }
				FROM = { enemies_strength_ratio < 1 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 1.5 }
				FROM = { enemies_strength_ratio < 1 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = FROM ratio > 2 }
			}
		}
		if = {
			limit = { country_exists = HAW }
			create_wargoal = {
				target = HAW
				type = annex_everything
			}
		}
		else = {
			create_wargoal = {
				target = FROM
				type = take_claimed_state
				generator = { 629 630 631 632 642 726 727 }
			}
		}
	}
	option = { #We will back down...
		log = "[GetLogInfo]: event japan_foreign_events.318 option japan_foreign_events.318.b"
		name = japan_foreign_events.318.b
		ai_chance = {
			base = 0
			modifier = {
				add = 40
				has_global_flag = USA_civil_war_over_flag
			}
		}
		add_stability = -0.05
		add_war_support = -0.05
	}
}

#########################
### Crushing Fengtian ###
#########################

country_event = { #Fengtian: Japan Launches Operation Ichi-Gou
	id = japan_fengtian_events.4
	title = japan_fengtian_events.4.t
	desc = japan_fengtian_events.4.d
	picture = GFX_report_event_CHN_warlord_battle

	is_triggered_only = yes

	immediate = {
		hidden_effect = { FROM = { add_to_faction = ROOT } }
	}

	option = {
		log = "[GetLogInfo]: event japan_fengtian_events.4 option japan_fengtian_events.4.a"
		name = japan_fengtian_events.4.a
		effect_tooltip = { FROM = { add_to_faction = ROOT } }
	}
}

country_event = { #Notify Japan about Prince Kan'in's visit to Fengtian
	id = japan_fengtian_events.5
	title = japan_fengtian_events.5.t
	desc = japan_fengtian_events.5.d
	picture = GFX_report_event_FNG_prince_kanin_kotohito

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_fengtian_events.5 option japan_fengtian_events.5.a"
		name = japan_fengtian_events.5.a
	}
}

country_event = { #Fengtian cancels the visit over security concerns
	id = japan_fengtian_events.6
	title = japan_fengtian_events.6.t
	desc = japan_fengtian_events.6.d
	picture = GFX_report_event_JAP_motorized

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_fengtian_events.6 option japan_fengtian_events.6.a"
		name = japan_fengtian_events.6.a
	}
}

country_event = { #War forces the visit to be cancelled
	id = japan_fengtian_events.7
	title = japan_fengtian_events.7.t
	desc = {
		text = japan_fengtian_events.7.d
		trigger = { NOT = { has_war_with = FNG } }
	}
	desc = {
		text = japan_fengtian_events.7.d_FNG
		trigger = { has_war_with = FNG }
	}
	picture = GFX_report_event_FNG_army1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_fengtian_events.7 option japan_fengtian_events.7.a"
		name = japan_fengtian_events.7.a
	}
}

country_event = { #Prince returns, mundane visit
	id = japan_fengtian_events.8
	title = japan_fengtian_events.8.t
	desc = japan_fengtian_events.8.d
	picture = GFX_report_event_FNG_ministry

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_fengtian_events.8 option japan_fengtian_events.8.a"
		name = japan_fengtian_events.8.a
	}
}

country_event = { #Prince returns, very impressed
	id = japan_fengtian_events.9
	title = japan_fengtian_events.9.t
	desc = japan_fengtian_events.9.d
	picture = GFX_report_event_FNG_ministry

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_fengtian_events.9 option japan_fengtian_events.9.a"
		name = japan_fengtian_events.9.a
		FNG = { country_event = { id = fengtian_events.1477 days = 32 random_days = 6 } }
	}
}

country_event = { #Failed assassination attempt against the Prince
	id = japan_fengtian_events.10
	title = japan_fengtian_events.10.t
	desc = japan_fengtian_events.10.d
	picture = GFX_report_event_JAP_officer_phone

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_fengtian_events.10 option japan_fengtian_events.10.a"
		name = japan_fengtian_events.10.a
		FNG = { country_event = { id = fengtian_events.22 days = 1 } }
	}
	option = {
		log = "[GetLogInfo]: event japan_fengtian_events.10 option japan_fengtian_events.10.b"
		name = japan_fengtian_events.10.b
		add_political_power = -10
	}
	after = {
		JAP_kanin_kotohito = {
			add_timed_unit_leader_trait = {
				trait = wounded
				days = 21
			}
		}
	}
}

#####################################
###  Co-Prosperity Sphere Events  ###
#####################################

country_event = { #Setup and monthly checking
	id = japan_foreign_events.400

	hidden = yes
	is_triggered_only = yes

	trigger = {
		is_faction_leader = yes
	}

	immediate = {
		JAP_recalculate_economic_integration = yes
	}
}

country_event = { #Invited into economic sphere (via decision)
	id = japan_foreign_events.401
	title = japan_foreign_events.401.t
	picture = GFX_report_event_JAP_announcement

	desc = {
		text = japan_foreign_events.401.d.conf
		trigger = { has_country_flag = tokyo_conference_trade_ally }
	}
	desc = {
		text = japan_foreign_events.401.d.noconf
		trigger = { NOT = { has_country_flag = tokyo_conference_trade_ally } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.401 option japan_foreign_events.401.a"
		name = japan_foreign_events.401.a #Agree
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				OR = {
					has_government = national_populist
					tag = PHI
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					any_owned_state = { is_claim_or_core_of_ROOT = yes }
				}
			}
			modifier = {
				factor = 1.2
				has_opinion = { target = FROM value > 50 }
			}
			modifier = {
				factor = 1.5
				has_opinion = { target = FROM value > 100 }
			}
			modifier = {
				factor = 1.5
				has_opinion = { target = FROM value > 150 }
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						NOT = {
							has_game_rule = { rule = BRM_forpol option = DEFAULT }
							has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
						}
					}
					AND = {
						tag = HAW
						NOT = {
							has_game_rule = { rule = HAW_forpol option = DEFAULT }
							has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
						}
					}
					AND = {
						tag = INC
						OR = {
							has_completed_focus = INC_Commit_to_Chinese_Revolution
							NOT = {
								has_game_rule = { rule = INC_forpol option = DEFAULT }
								has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
							}
						}
					}
					AND = {
						tag = INS
						NOT = {
							has_game_rule = { rule = INS_forpol option = DEFAULT }
							has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
						}
					}
					AND = {
						tag = PHI
						NOT = {
							has_game_rule = { rule = PHI_forpol option = DEFAULT }
							has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
						}
					}
					AND = {
						tag = PRF
						NOT = {
							has_game_rule = { rule = PRF_forpol option = DEFAULT }
							has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_JAP }
						}
					}
					AND = {
						tag = SIA
						NOT = {
							has_game_rule = { rule = SIA_forpol option = DEFAULT }
							has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
						}
					}
					AND = {
						tag = FER
						NOT = { has_game_rule = { rule = FER_forpol option = DEFAULT } }
					}
				}
			}
		}
		if = {
			limit = { tag = FNG }
			FNG_JAP_investment_mega = yes
		}

		JAP_add_to_economic_sphere = yes
		if = {
			limit = {
				NOT = {
					is_ally_with = FROM
					is_guaranteed_by = FROM
				}
			}
			effect_tooltip = { FROM = { give_guarantee = ROOT } }
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
			country_event = japan_foreign_events.402
		}
	}
	option = {
		log = "[GetLogInfo]: event japan_foreign_events.401 option japan_foreign_events.401.b"
		name = japan_foreign_events.401.b #Refuse
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				OR = {
					has_government = national_populist
					tag = PHI
				}
			}
			modifier = {
				factor = 0.2
				tag = SIA
			}
			modifier = {
				factor = 0
				OR = {
					is_ally_with = FROM
					has_country_flag = tokyo_conference_trade_ally
				}
				NOT = { #Bypass JAP allies and Tokyo Confrence allies guaranteed accepting if a non JAP forpol gamerule is set
					AND = {
						tag = BRM
						NOT = {
							has_game_rule = { rule = BRM_forpol option = DEFAULT }
							has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
						}
					}
					AND = {
						tag = HAW
						NOT = {
							has_game_rule = { rule = HAW_forpol option = DEFAULT }
							has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
						}
					}
					AND = {
						tag = INC
						OR = {
							has_completed_focus = INC_Commit_to_Chinese_Revolution #INC should refuse to work with JAP if theyve taken steps to align with CHI
							NOT = {
								has_game_rule = { rule = INC_forpol option = DEFAULT }
								has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
							}
						}
					}
					AND = {
						tag = INS
						NOT = {
							has_game_rule = { rule = INS_forpol option = DEFAULT }
							has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
						}
					}
					AND = {
						tag = PHI
						NOT = {
							has_game_rule = { rule = PHI_forpol option = DEFAULT }
							has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
						}
					}
					AND = {
						tag = PRF
						NOT = {
							has_game_rule = { rule = PRF_forpol option = DEFAULT }
							has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_JAP }
						}
					}
					AND = {
						tag = SIA
						NOT = {
							has_game_rule = { rule = SIA_forpol option = DEFAULT }
							has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
						}
					}
					AND = {
						tag = FER
						NOT = { has_game_rule = { rule = FER_forpol option = DEFAULT } }
					}
				}
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = FROM value < 0 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value < -50 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value < -100 }
			}
			modifier = {
				add = 100 #Add a bunch of bonus reasons to refuse if a non JAP forpol gamerule is set
				OR = {
					AND = {
						tag = BRM
						NOT = {
							has_game_rule = { rule = BRM_forpol option = DEFAULT }
							has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
						}
					}
					AND = {
						tag = HAW
						NOT = {
							has_game_rule = { rule = HAW_forpol option = DEFAULT }
							has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
						}
					}
					AND = {
						tag = INC
						OR = {
							has_completed_focus = INC_Commit_to_Chinese_Revolution #INC should refuse to work with JAP if theyve taken steps to align with CHI
							NOT = {
								has_game_rule = { rule = INC_forpol option = DEFAULT }
								has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
							}
						}
					}
					AND = {
						tag = INS
						NOT = {
							has_game_rule = { rule = INS_forpol option = DEFAULT }
							has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
						}
					}
					AND = {
						tag = PHI
						NOT = {
							has_game_rule = { rule = PHI_forpol option = DEFAULT }
							has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
						}
					}
					AND = {
						tag = PRF
						NOT = {
							has_game_rule = { rule = PRF_forpol option = DEFAULT }
							has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_JAP }
						}
					}
					AND = {
						tag = SIA
						NOT = {
							has_game_rule = { rule = SIA_forpol option = DEFAULT }
							has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
						}
					}
					AND = {
						tag = FER
						NOT = { has_game_rule = { rule = FER_forpol option = DEFAULT } }
					}
				}
			}
		}
		set_country_flag = JAP_refused_sphere_invitation
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = japan_foreign_events.403
		}
	}
	after = {
		clr_country_flag = JAP_was_invited_into_sphere
	}
}

country_event = { #Accepted
	id = japan_foreign_events.402
	title = japan_foreign_events.402.t
	desc = japan_foreign_events.402.d
	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.402 option japan_foreign_events.402.a"
		name = japan_foreign_events.402.a
		add_political_power = 25
		if = {
			limit = {
				NOT = { is_ally_with = FROM }
				NOT = { has_guaranteed = FROM }
				NOT = { FROM = { tag = FNG } }
			}
			give_guarantee = FROM
		}
		if = {
			limit = { NOT = { has_dynamic_modifier = { modifier = JAP_asian_economic_sphere } } }
			add_dynamic_modifier = { modifier = JAP_asian_economic_sphere }
		}
	}
}

country_event = { #Refused
	id = japan_foreign_events.403
	title = japan_foreign_events.403.t
	desc = japan_foreign_events.403.d
	picture = GFX_report_event_JAP_ambassador_kisaburo

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.403 option japan_foreign_events.403.a"
		name = japan_foreign_events.403.a
		add_political_power = -25
		reverse_add_opinion_modifier = { target = FROM modifier = KR_hates_govt }
	}
}

country_event = { #Japan promotes investment
	id = japan_foreign_events.405
	title = japan_foreign_events.405.t
	desc = japan_foreign_events.405.d
	picture = GFX_report_event_JAP_economy_building

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.405 option japan_foreign_events.405.a"
		name = japan_foreign_events.405.a
		add_stability = 0.03
		if = {
			limit = { has_idea = JAP_member_integration_1 }
			set_variable = { JAP_investment_buyout = 250 }
			swap_ideas = {
				remove_idea = JAP_member_integration_1
				add_idea = JAP_member_integration_2
			}
		}
		else_if = {
			limit = { has_idea = JAP_member_integration_2 }
			set_variable = { JAP_investment_buyout = 400 }
			swap_ideas = {
				remove_idea = JAP_member_integration_2
				add_idea = JAP_member_integration_3
			}
		}
		else = {
			set_variable = { JAP_investment_buyout = 100 }
			add_ideas = JAP_member_integration_1
		}
		hidden_effect = {
			country_event = { id = japan_foreign_events.406 days = 120 random_days = 60 }
		}
	}
}

country_event = { #Japanese investment builds a factory
	id = japan_foreign_events.406
	title = japan_foreign_events.406.t
	desc = japan_foreign_events.406.d
	picture = GFX_report_event_generic_economic_policy

	is_triggered_only = yes

	trigger = {
		JAP = { is_leader_of_economic_sphere_of_ROOT = yes }
		any_of_scopes = {
			array = owned_controlled_states
			free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
			is_valid_state_for_development = yes
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.406 option japan_foreign_events.406.a"
		name = japan_foreign_events.406.a
		add_one_random_civilian_factory = yes
	}
}

country_event = { #Japanese economic takeover
	id = japan_foreign_events.407
	title = japan_foreign_events.407.t
	desc = japan_foreign_events.407.d
	picture = GFX_report_event_JAP_announcement

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.407 option japan_foreign_events.407.a"
		name = japan_foreign_events.407.a
		remove_ideas = JAP_member_integration_3
		get_current_government_type = yes
		FROM = {
			set_autonomy = {
				target = ROOT
				autonomy_state = special_autonomous_dependency
				end_wars = no
			}
		}
		restore_previous_government_type = yes
	}
}

country_event = { #country withdraws from alliance
	id = japan_foreign_events.408
	title = japan_foreign_events.408.t
	desc = japan_foreign_events.408.d
	picture = GFX_report_event_JAP_foreign_minister

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.408 option japan_foreign_events.408.a"
		name = japan_foreign_events.408.a
		remove_from_faction = FROM
	}
}

country_event = { #country withdraws from economic sphere
	id = japan_foreign_events.409
	title = japan_foreign_events.409.t
	desc = japan_foreign_events.409.d
	picture = GFX_report_event_JAP_foreign_minister_2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.409 option japan_foreign_events.409.a"
		name = japan_foreign_events.409.a
		add_political_power = -25
	}
}

country_event = { #country nationalizes Japanese investments
	id = japan_foreign_events.410
	title = japan_foreign_events.410.t
	desc = japan_foreign_events.410.d
	picture = GFX_report_event_FNG_industry

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.410 option japan_foreign_events.410.a"
		name = japan_foreign_events.410.a #Let them go
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_war = no
				strength_ratio = { tag = FROM ratio > 2.0 }
			}
		}
		add_political_power = -50
		add_stability = -0.03
	}
	option = {
		log = "[GetLogInfo]: event japan_foreign_events.410 option japan_foreign_events.410.b"
		name = japan_foreign_events.410.b #They have no right!
		trigger = { NOT = { has_capitulated = yes } }
		ai_chance = {
			base = 50
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 2.0 }
			}
			modifier = {
				factor = 2.0
				strength_ratio = { tag = FROM ratio > 3.0 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 1.5 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 1.0 }
			}
			modifier = {
				factor = 0
				surrender_progress > 0.20
			}
			modifier = {
				factor = 0
				has_war = yes
				FROM = {
					is_in_faction = yes
					NOT = { is_in_faction_with = ROOT }
				}
			}
		}
		if = {
			limit = {
				is_faction_leader = yes
				is_in_faction_with = FROM
			}
			remove_from_faction = FROM
		}
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

country_event = { #sphere member joins another faction
	id = japan_foreign_events.411
	title = japan_foreign_events.411.t
	desc = japan_foreign_events.411.d
	picture = GFX_report_event_generic_conference1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.411 option japan_foreign_events.411.a"
		name = japan_foreign_events.411.a
		event_target:withdraw_country = {
			custom_effect_tooltip = JAP_THIS_withdraws_from_sphere
			hidden_effect = { country_event = japan_foreign_events.412 }
		}
	}
}

country_event = { #sphere member removed
	id = japan_foreign_events.412
	title = japan_foreign_events.412.t
	desc = japan_foreign_events.412.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = JAP_refused_sphere_invitation
			JAP_remove_from_economic_sphere = yes
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.412 option japan_foreign_events.412.a"
		name = japan_foreign_events.412.a
		custom_effect_tooltip = JAP_withdraws_from_sphere
		reverse_add_opinion_modifier = { target = JAP modifier = KR_disapproves_of_govt }
	}
}

country_event = { #Japan builds dockyards
	id = japan_foreign_events.420
	title = japan_foreign_events.420.t
	desc = japan_foreign_events.420.d
	picture = GFX_report_event_JAP_economy_building

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.420 option japan_foreign_events.420.a"
		name = japan_foreign_events.420.a
		add_one_random_dockyard = yes
		add_one_random_dockyard = yes
		add_one_random_dockyard = yes
	}
}

country_event = { #Japan send naval advisors
	id = japan_foreign_events.421
	title = japan_foreign_events.421.t
	desc = japan_foreign_events.421.d
	picture = GFX_report_event_JAP_economy_building

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.421 option japan_foreign_events.421.a"
		name = japan_foreign_events.421.a
		add_tech_bonus = {
			name = JAP_naval_advisors_tech_bonus
			bonus = 1
			uses = 1
			category = naval_equipment
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.421 option japan_foreign_events.421.b"
		name = japan_foreign_events.421.b
		add_doctrine_cost_reduction = {
			name = JAP_naval_advisors_tech_bonus
			cost_reduction = 0.5
			uses = 1
			category = naval_doctrine
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.421 option japan_foreign_events.421.c"
		name = japan_foreign_events.421.c
		navy_experience = 30
	}
	after = {
		add_political_power = -20
	}
}

country_event = { #prosperity ships shared
	id = japan_foreign_events.422
	title = japan_foreign_events.422.t
	desc = japan_foreign_events.422.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.422 option japan_foreign_events.422.a"
		name = japan_foreign_events.422.a
		add_ideas = JAP_nav_tra_idea
		add_equipment_to_stockpile = {
			type = convoy
			amount = 50
		}
	}
}

country_event = { #Japan wants to take over our dockyards
	id = japan_foreign_events.423
	title = japan_foreign_events.423.t
	desc = japan_foreign_events.423.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.423 option japan_foreign_events.423.a"
		name = japan_foreign_events.423.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.5
				has_navy_size = { size > 75 }
			}
			modifier = {
				factor = 0
				has_navy_size = { size > 150 }
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				dockyard > 0
			}
			add_to_variable = { JAP_dockyards_under_japanese_control = 1 }
			remove_building = {
				type = dockyard
				level = 1
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				dockyard > 0
			}
			add_to_variable = { JAP_dockyards_under_japanese_control = 1 }
			remove_building = {
				type = dockyard
				level = 1
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				dockyard > 0
			}
			add_to_variable = { JAP_dockyards_under_japanese_control = 1 }
			remove_building = {
				type = dockyard
				level = 1
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.423 option japan_foreign_events.423.b"
		name = japan_foreign_events.423.b
		trigger = { is_subject = no }
		ai_chance = {
			base = 0
			modifier = {
				add = 50
				has_navy_size = { size > 75 }
			}
			modifier = {
				add = 100
				has_navy_size = { size > 150 }
			}
		}
		FROM = { country_event = japan_foreign_events.427 }
		set_country_flag = { flag = JAP_refused_dockyards days = 180 value = 1 }
	}
}

country_event = { #Japan return our dockyards
	id = japan_foreign_events.424
	title = japan_foreign_events.424.t
	desc = japan_foreign_events.424.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.424 option japan_foreign_events.424.a"
		name = japan_foreign_events.424.a
		every_owned_state = {
			limit = { has_variable = JAP_dockyards_under_japanese_control }
			add_building_construction = {
				type = dockyard
				level = var:JAP_dockyards_under_japanese_control
				instant_build = yes
			}
			clear_variable = JAP_dockyards_under_japanese_control
		}
	}
}

country_event = { #member ask japan for advisor group
	id = japan_foreign_events.425
	title = japan_foreign_events.425.t
	desc = japan_foreign_events.425.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.425 option japan_foreign_events.425.a"
		name = japan_foreign_events.425.a
		ai_chance = { base = 100 }
		add_political_power = 10
		FROM = {
			country_event = japan_foreign_events.421
			custom_effect_tooltip = tooltip_event_allows_choice
			custom_effect_tooltip = tooltip_event_choice_option_1
			event_option_tooltip = japan_foreign_events.421.a
			custom_effect_tooltip = tooltip_event_choice_option_2
			event_option_tooltip = japan_foreign_events.421.b
			custom_effect_tooltip = tooltip_event_choice_option_3
			event_option_tooltip = japan_foreign_events.421.c
		}
	}

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.425 option japan_foreign_events.425.b"
		name = japan_foreign_events.425.b
		ai_chance = { base = 0 }
		add_political_power = -10
		FROM = { country_event = japan_foreign_events.426 }
	}
}

country_event = { #Japan send as to the non-named black hole
	id = japan_foreign_events.426
	title = japan_foreign_events.426.t
	desc = japan_foreign_events.426.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.426 option japan_foreign_events.426.a"
		name = japan_foreign_events.426.a
		add_political_power = 20
	}
}

country_event = { #Member refuses to cede control of dockyards
	id = japan_foreign_events.427
	title = japan_foreign_events.427.t
	desc = japan_foreign_events.427.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.427 option japan_foreign_events.427.a"
		name = japan_foreign_events.427.a
		add_political_power = 50
		remove_targeted_decision = { decision = JAP_invest_in_sphere_take_dockyards target = FROM }
	}
}

####################################################################
### Australasia/Australia/New Zealand: Japan strangles our trade ###
####################################################################

country_event = { #Japan and the Asian Economic Sphere embargo us!
	id = japan_foreign_events.450
	title = japan_foreign_events.450.t
	desc = japan_foreign_events.450.d
	picture = GFX_report_event_JAP_ultimatum

	is_triggered_only = yes

	option = { #We can endure this
		log = "[GetLogInfo]: event japan_foreign_events.450 option japan_foreign_events.450.a"
		name = japan_foreign_events.450.a
		ai_chance = {
			base = 55
			modifier = {
				NOT = { has_government = national_populist }
				factor = 1.2
			}
			modifier = {
				has_government = paternal_autocrat
				factor = 1.2
			}
		}
		add_ideas = JAP_trade_embargoed
		JAP = {
			country_event = { id = japan_foreign_events.453 days = 1 }
		}
	}

	option = { #Seek closer economic ties with the Japanese
		log = "[GetLogInfo]: event japan_foreign_events.450 option japan_foreign_events.450.c"
		name = japan_foreign_events.450.c
		trigger = {
			tag = AST
			has_government = paternal_autocrat
			NOT = { has_completed_focus = AST_ties_with_japan }
		}
		ai_chance = { base = 100 }
		set_country_flag = AST_has_ties_with_japan
		add_ideas = JAP_trade_embargoed
		JAP = {
			country_event = { id = japan_foreign_events.452 days = 1 }
		}
	}
	option = { #Impose our own tarrifs
		log = "[GetLogInfo]: event japan_foreign_events.450 option japan_foreign_events.450.b"
		name = japan_foreign_events.450.b
		ai_chance = {
			base = 45
			modifier = {
				is_in_faction = no
				factor = 0.2
			}
			modifier = {
				has_completed_focus = AST_anderson_doctrine
				factor = 5
			}
			modifier = {
				has_government = paternal_autocrat
				factor = 0
			}
		}
		add_ideas = JAP_trade_embargoed
		JAP = {
			embargo_ROOT = yes
			country_event = { id = japan_foreign_events.451 days = 1 }
		}
	}
}

country_event = { #Japan and the Asian Economic Sphere embargo us!
	id = japan_foreign_events.451
	title = japan_foreign_events.451.t
	desc = japan_foreign_events.451.d
	picture = GFX_report_event_BEL_Cruiser

	is_triggered_only = yes

	option = { #We can endure this
		log = "[GetLogInfo]: event japan_foreign_events.451 option japan_foreign_events.451.a"
		name = japan_foreign_events.451.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				has_war = no
				second_weltkrieg_has_begun = yes
			}
		}
	}
	option = { #War!
		log = "[GetLogInfo]: event japan_foreign_events.451 option japan_foreign_events.451.b"
		name = japan_foreign_events.451.b
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				second_weltkrieg_has_begun = no
			}
		}
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
	}
	after = {
		add_war_support = 0.05
	}
}

country_event = { #Australia wants closer ties
	id = japan_foreign_events.452
	title = japan_foreign_events.452.t
	desc = japan_foreign_events.452.d
	picture = GFX_report_event_AST_stephenson

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.452 option japan_foreign_events.452.a"
		name = japan_foreign_events.452.a
		add_political_power = 50
		custom_effect_tooltip = JAP_AST_joins_sphere
		every_country = {
			limit = { is_in_same_economic_sphere_as_ROOT = yes }
			AST = { clear_embargo_PREV = yes }
		}
		AST = { country_event = australasia_events.133 }
	}
}

country_event = { #Australia/NZ choose to endure the embargo
	id = japan_foreign_events.453
	title = japan_foreign_events.453.t
	desc = japan_foreign_events.453.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.453 option japan_foreign_events.453.a"
		name = japan_foreign_events.453.a
	}
}

country_event = { #Japan is ramping up pressure against the Indies
	id = japan_foreign_events.455
	title = japan_foreign_events.455.t
	desc = japan_foreign_events.455.d

	picture = GFX_report_event_JAP_mutsu

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Beg the kaiser for help
		log = "[GetLogInfo]: event japan_foreign_events.455 option japan_foreign_events.455.a"
		name = japan_foreign_events.455.a
		trigger = {
			1020 = {
				OR = {
					is_owned_by = DEI
					is_owned_by = HOL
				}
			}
			country_exists = GEA
			is_in_faction = no
			is_subject = no
			GER = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
			var:1020.owner = {
				OR = {
					has_war = no
					all_enemy_country = {
						OR = {
							original_tag = INS
							has_war_with = GER
						}
					}
				}
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = HOL
						OR = {
							has_game_rule = { rule = HOL_forpol option = HOL_FORPOL_ENT }
							has_game_rule = { rule = HOL_forpol option = HOL_FORPOL_BEL }
						}
					}
					AND = {
						tag = INS
						NOT = { has_game_rule = { rule = INS_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = INS_forpol option = INS_FORPOL_GER } }
					}
				}
			}
		}
		GER = {
			country_event = { id = japan_foreign_events.456 days = 1 }
		}
	}

	option = { #Surely they won't attack?!
		log = "[GetLogInfo]: event japan_foreign_events.455 option japan_foreign_events.455.b"
		name = japan_foreign_events.455.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				tag = HOL
				OR = {
					has_game_rule = { rule = HOL_forpol option = HOL_FORPOL_ENT }
					has_game_rule = { rule = HOL_forpol option = HOL_FORPOL_BEL }
				}
			}
		}
		JAP = {
			country_event = { id = japan_foreign_events.459 days = 1 }
		}
	}
}

country_event = { #Japan is planning an attack against the Dutch East Indies, who ask for our (Germany) help
	id = japan_foreign_events.456
	title = japan_foreign_events.456.t
	desc = japan_foreign_events.456.d

	picture = GFX_report_event_JAP_battleship_kongo

	is_triggered_only = yes
	fire_only_once = yes

	option = { #If the indies fall, it threatens our possessions too, we're here!
		log = "[GetLogInfo]: event japan_foreign_events.456 option japan_foreign_events.456.a"
		name = japan_foreign_events.456.a
		ai_chance = {
			base = 100
			modifier = {
				add = -50
				surrender_progress > 0.20
			}
			modifier = {
				add = 100
				tag = INS
				has_game_rule = { rule = INS_forpol option = INS_FORPOL_GER }
			}
		}
		add_to_faction = FROM
		FROM = {
			country_event = japan_foreign_events.457
		}
	}

	option = { #Surely they won't attack?!
		log = "[GetLogInfo]: event japan_foreign_events.456 option japan_foreign_events.456.b"
		name = japan_foreign_events.456.b
		ai_chance = {
			base = 0
			modifier = {
				add = 50
				surrender_progress > 0.20
			}
		}
		FROM = {
			country_event = japan_foreign_events.458
		}
	}
}

country_event = { #Germany helps out...
	id = japan_foreign_events.457
	title = japan_foreign_events.457.t
	desc = japan_foreign_events.457.d

	picture = GFX_report_event_GER_ship

	is_triggered_only = yes
	fire_only_once = yes

	option = { #If the indies fall, it threatens our possessions too, we're here!
		log = "[GetLogInfo]: event japan_foreign_events.457 option japan_foreign_events.457.a"
		name = japan_foreign_events.457.a
		effect_tooltip = {
			GER = {
				add_to_faction = ROOT
			}
		}
		JAP = {
			country_event = { id = japan_foreign_events.460 days = 1 }
		}
	}
}

country_event = { #Tyfusmoffen willen niet helpen
	id = japan_foreign_events.458
	title = japan_foreign_events.458.t
	desc = japan_foreign_events.458.d

	picture = GFX_report_event_HOL_dutch_army5

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Damn boii
		log = "[GetLogInfo]: event japan_foreign_events.458 option japan_foreign_events.458.a"
		name = japan_foreign_events.458.a
		JAP = {
			country_event = { id = japan_foreign_events.459 days = 1 }
		}
	}
}

country_event = { #Indonesia is unprotected
	id = japan_foreign_events.459
	title = japan_foreign_events.459.t
	desc = japan_foreign_events.459.d

	picture = GFX_report_event_JAP_rising_sun

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Hell yeah
		log = "[GetLogInfo]: event japan_foreign_events.459 option japan_foreign_events.459.a"
		name = japan_foreign_events.459.a
		if = {
			limit = {
				country_exists = DEI
				country_exists = INS
				NOT = {
					INS = { is_in_economic_sphere_led_by_ROOT = yes }
					INS = { is_in_faction_with = ROOT }
				}
			}
			create_wargoal = { type = annex_everything target = DEI }
			create_wargoal = { type = annex_everything target = INS }
		}
		else_if = {
			limit = {
				OR = {
					AND = {
						country_exists = DEI
						country_exists = INS
						OR = {
							INS = { is_in_economic_sphere_led_by_ROOT = yes }
							INS = { is_in_faction_with = ROOT }
						}
					}
					1020 = { is_owned_by = DEI }
				}
			}
			create_wargoal = { type = annex_everything target = DEI }
		}
		else = {
			create_wargoal = { type = annex_everything target = 1020.owner }
		}
	}
}

country_event = { #Indonesia resists with German backing
	id = japan_foreign_events.460
	title = japan_foreign_events.460.t
	desc = japan_foreign_events.460.d
	picture = GFX_report_event_GEA_coltroops

	is_triggered_only = yes
	fire_only_once = yes

	option = { #war
		log = "[GetLogInfo]: event japan_foreign_events.460 option japan_foreign_events.460.a"
		name = japan_foreign_events.460.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				factor = 0.1
				FROM = { is_in_faction = yes }
			}
			modifier = {
				factor = 0
				date < 1942.1.1
			}
		}
		if = {
			limit = {
				country_exists = DEI
				country_exists = INS
				NOT = {
					INS = { is_in_faction_with = ROOT }
					INS = { is_in_economic_sphere_led_by_ROOT = yes }
				}
			}
			create_wargoal = { type = annex_everything target = DEI }
			create_wargoal = { type = annex_everything target = INS }
		}
		else_if = {
			limit = {
				OR = {
					AND = {
						country_exists = DEI
						country_exists = INS
						OR = {
							INS = { is_in_economic_sphere_led_by_ROOT = yes }
							INS = { is_in_faction_with = ROOT }
						}
					}
					1020 = { is_owned_by = DEI }
				}
			}
			create_wargoal = { type = annex_everything target = DEI }
		}
		else = {
			create_wargoal = { type = annex_everything target = var:1020.owner }
		}
	}

	option = { #Don't
		log = "[GetLogInfo]: event japan_foreign_events.460 option japan_foreign_events.460.b"
		name = japan_foreign_events.460.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_war = no
			}
		}
		add_stability = -0.05
	}
}

country_event = { #Japan Pursues Divide and Conquer Strategy
	id = japan_foreign_events.461
	title = japan_foreign_events.461.t
	desc = japan_foreign_events.461.d

	picture = GFX_report_event_JAP_officer_phone

	is_triggered_only = yes

	option = { #They will regret this
		log = "[GetLogInfo]: event japan_foreign_events.461 option japan_foreign_events.461.a"
		name = japan_foreign_events.461.a
		set_temp_variable = { ZCPOP = 5 }
		FNG_ZCPOP = yes
		FNG_JAP_spend_large = yes
	}
}

country_event = { #Japan Pursues Burn to Ash Strategy
	id = japan_foreign_events.462
	title = japan_foreign_events.462.t
	desc = japan_foreign_events.462.d

	picture = GFX_report_event_JAP_troops_gas

	is_triggered_only = yes

	option = { #We must consider a new direction
		log = "[GetLogInfo]: event japan_foreign_events.462 option japan_foreign_events.462.a"
		name = japan_foreign_events.462.a
		set_temp_variable = { ZCPOP = 5 }
		FNG_ZCPOP = yes
		FNG_JAP_spend_large = yes
	}
}

country_event = { #Japan Rewards Our Loyalty
	id = japan_foreign_events.464
	title = japan_foreign_events.464.t
	desc = japan_foreign_events.464.d

	picture = GFX_report_event_JAP_foreign_minister

	is_triggered_only = yes

	option = { #Should have been ours
		log = "[GetLogInfo]: event japan_foreign_events.464 option japan_foreign_events.464.a"
		name = japan_foreign_events.464.a
		set_temp_variable = { ZCPOP = -10 }
		FNG_ZCPOP = yes
		FNG_JAP_investment_mega = yes
		custom_effect_tooltip = JAP_returns_land
	}
}

### Japan is losing really bad so it's time to speed up the collapse ###

#country_event = { #Event for Japan
#	id = japan_foreign_events.465
#	title = japan_foreign_events.465.t
#	desc = japan_foreign_events.465.d
#
#	picture = GFX_report_event_JAP_troops_gas
#
#	trigger = {
#		tag = JAP
#		has_active_mission = JAP_fading_sun_mission
#		NOT = {
#			has_global_flag = JAP_speed_up_collapse
#		}
#		OR = {
#			alliance_strength_ratio < 0.25
#			alliance_naval_strength_ratio < 0.25
#		}
#	}
#
#	mean_time_to_happen = {
#		days = 10
#	}
#
#	immediate = {
#		set_global_flag = JAP_speed_up_collapse
#	}
#
#	option = {
#		name = japan_foreign_events.465.a
#		custom_effect_tooltip = JAP_speed_up_collapse_bad_tooltip
#		set_temp_variable = {
#			JAP_mission_timeout = JAP.days_mission_timeout@JAP_fading_sun_mission
#		}
#		divide_temp_variable = {
#			JAP_mission_timeout = -2
#		}
#		round_temp_variable = JAP_mission_timeout
#		add_days_mission_timeout = {
#			mission = JAP_fading_sun_mission
#			days = JAP_mission_timeout
#		}
#		every_enemy_country = {
#			limit = { has_active_mission = JAP_fading_sun_mission }
#			hidden_effect = {
#				add_days_mission_timeout = {
#					mission = JAP_fading_sun_mission
#					days = JAP_mission_timeout
#				}
#				country_event = japan_foreign_events.466
#			}
#		}
#	}
#}
#
#country_event = { #Event for people at war with Japan
#	id = japan_foreign_events.466
#	title = japan_foreign_events.466.t
#	desc = japan_foreign_events.466.d
#
#	picture = GFX_report_event_JAP_troops_gas
#
#	is_triggered_only = yes
#
#	option = {
#		name = japan_foreign_events.466.a
#		custom_effect_tooltip = JAP_speed_up_collapse_good_tooltip
#	}
#}

country_event = { # Japan Expands Propaganda Operations; triggered by focus JAP_national_mobilisation_law
	id = japan_foreign_events.467
	title = japan_foreign_events.467.t
	desc = japan_foreign_events.467.d
	picture = GFX_report_event_JAP_troops_train

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.467 option japan_foreign_events.467.a"
		name = japan_foreign_events.467.a
		set_temp_variable = { ZCPOP = -10 }
		FNG_ZCPOP = yes
		FNG_JAP_investment_mega = yes
	}
}

country_event = { #Puppet Military Exercise Event
	id = japan_foreign_events.550
	title = japan_foreign_events.550.t
	desc = japan_foreign_events.550.d
	picture = GFX_report_event_JAP_officers

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japan_foreign_events.550 option japan_foreign_events.550.a"
		name = japan_foreign_events.550.a
		army_experience = 10
		navy_experience = 10
		add_ideas = JAP_overlord_military_excercise_idea
	}
}

### News Events ###

# The Fading Sun
news_event = {
	id = japan_news.1
	immediate = { log = "[GetLogInfo]: event japan_news.1" }
	title = japan_news.1.t
	desc = japan_news.1.d
	picture = GFX_news_event_JAP_coup

	trigger = { wants_world_news = yes } #Global news event

	major = yes
	fire_for_sender = no
	is_triggered_only = yes

	option = {
		name = japan_news.1.a
	}
}

news_event = {
	id = japan_news.2
	immediate = { log = "[GetLogInfo]: event japan_news.2" }
	title = japan_news.2.t
	desc = japan_news.2.d
	picture = GFX_news_event_JAP_great_pacific_war

	major = yes
	is_triggered_only = yes

	trigger = { wants_world_news = yes } #Global news event

	option = {
		name = "[THIS.JAP_GetGreatPacificWarOption]"
	}
}

#The Rising Sun
news_event = {
	id = japan_news.3
	immediate = { log = "[GetLogInfo]: event japan_news.3" }
	title = japan_news.3.t

	desc = {
		text = japan_news.3.d.default
		trigger = { NOT = { has_global_flag = JAP_defeated_by_china } }
	}
	desc = {
		text = japan_news.3.d.defeated_in_china
		trigger = { has_global_flag = JAP_defeated_by_china }
	}

	picture = GFX_news_event_japanese_parade

	major = yes
	fire_for_sender = no
	is_triggered_only = yes

	trigger = { wants_world_news = yes } #Global news event

	option = {
		name = japan_news.3.a
		effect_tooltip = {
			add_named_threat = {
				threat = 6
				name = JAP_rising_sun_threat
			}
		}
	}
}

# Failed coup in Japan
news_event = {
	id = japan_news.4
	immediate = { log = "[GetLogInfo]: event japan_news.4" }
	title = japan_news.4.t
	desc = japan_news.4.d
	picture = GFX_news_event_JAP_coup

	major = yes
	fire_for_sender = no
	is_triggered_only = yes

	trigger = { wants_world_news = yes } #Global news event

	option = {
		name = japan_news.4.a
	}
}

# Fate of the Japanese Imperial Family
news_event = {
	id = japan_news.5
	immediate = { log = "[GetLogInfo]: event japan_news.5" }
	title = japan_news.5.t
	picture = GFX_news_event_JAP_end_of_era

	desc = {
		text = japan_news.5.d.exile
		trigger = {
			JAP = {
				has_idea = JAP_Imperial_Family_exiled
			}
		}
	}

	desc = {
		text = japan_news.5.d.abolishsocialist
		trigger = {
			JAP = {
				has_idea = JAP_Imperial_Family_powerless
			}
		}
	}

	desc = {
		text = japan_news.5.d.abolishdem
		trigger = {
			JAP = {
				has_cosmetic_tag = JAP_republic
				has_socialist_government = no
			}
		}
	}

	desc = {
		text = japan_news.5.d.symbol
		trigger = {
			JAP = {
				has_completed_focus = JAP_question_of_the_imperial_family
				has_country_leader = { character = JAP_hirohito }
			}
		}
	}

	desc = {
		text = japan_news.5.d.abdicate
		trigger = {
			JAP = {
				has_completed_focus = JAP_question_of_the_imperial_family
				has_country_leader = { character = JAP_takamatsu_nobuhito }
			}
		}
	}

	major = yes
	fire_for_sender = no
	is_triggered_only = yes

	trigger = { wants_world_news = yes } #Global news event

	option = {
		name = japan_news.5.a
	}
}

# The Shwa Restoration
news_event = {
	id = japan_news.6
	immediate = { log = "[GetLogInfo]: event japan_news.6" }
	title = japan_news.6.t
	desc = japan_news.6.d
	picture = GFX_news_event_japanese_army_parade
	is_triggered_only = yes
	major = yes

	trigger = { wants_world_news = yes } #Global news event

	option = { # Sonn tkan!
		name = japan_news.6.a
		trigger = {
			tag = JAP
		}
	}

	option = { # Oh no...
		name = japan_news.6.b
		trigger = {
			NOT = {
				tag = JAP
			}
		}
	}
}

# Military Coup in Japan
news_event = {
	id = japan_news.7
	immediate = { log = "[GetLogInfo]: event japan_news.7" }
	title = japan_news.7.t
	desc = japan_news.7.d
	picture = GFX_news_event_japanese_army_parade
	is_triggered_only = yes
	major = yes

	trigger = { wants_world_news = yes } #Global news event

	option = { # Sonn tkan!
		name = japan_news.7.a
		trigger = {
			tag = JAP
		}
	}

	option = { # Oh no...
		name = japan_news.7.b
		trigger = {
			NOT = {
				tag = JAP
			}
		}
	}
}

###########################
# Japan-Legation Cities Crisis Event Chain
###########################

#Maintainer's Note - okay so this chain is a lot easier to visualize if you have the diagram (ask CKS)
#That said, it all funnels back into JAP_LEC_crisis.002 and JAP_LEC_crisis.006, the design is the AI will usually abandon the Legations unless its a player LEC.

#JAP_LEC_Crisis Section 01 (000-009): Core Chain
country_event = { #[MANY] Crisis Brews in the Legations
	id = JAP_LEC_crisis.000
	title = JAP_LEC_crisis.000.t
	desc = JAP_LEC_crisis.000.d

	picture = GFX_report_event_JAP_mutsu

	is_triggered_only = yes #Triggered by [On_select] [FOCUS] JAP_continental_warfare OR [FOCUS] JAP_ultimatum

	major = yes
	fire_for_sender = yes
	show_major = {
		OR = {
			tag = JAP
			is_ally_with = JAP

			tag = LEC
			is_ally_with = LEC
			has_guaranteed = LEC

			is_tag_in_china_area = yes
		}
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.000 option JAP_LEC_crisis.000.a"
		name = JAP_LEC_crisis.000.a #We must inform our allies
		trigger = {
			OR = {
				tag = JAP
				is_ally_with = JAP
			}
		}
		ai_chance = { base = 100 }
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.000 option JAP_LEC_crisis.000.b"
		name = JAP_LEC_crisis.000.b #Plead our allies for support.
		trigger = {
			OR = {
				tag = LEC
				is_ally_with = LEC
				has_guaranteed = LEC
			}
			NOT = {
				tag = JAP
				is_ally_with = JAP
			}
		}
		ai_chance = { base = 100 }
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.000 option JAP_LEC_crisis.000.c"
		name = JAP_LEC_crisis.000.c #We must inform the council
		trigger = {
			#Basically all Chinese tags
			NOT = {
				tag = JAP
				is_ally_with = JAP
				tag = LEC
				is_ally_with = LEC
				has_guaranteed = LEC
			}
		}
		ai_chance = { base = 100 }
	}
	after = {
		custom_effect_tooltip = JAP_LEC_crisis_warning_tt
	}
}

country_event = { #LEC: The Japanese Make Their Demands
	id = JAP_LEC_crisis.001
	title = JAP_LEC_crisis.001.t

	desc = {
		text = JAP_LEC_crisis.001.d.war_with_both
		trigger = {
			JAP = {
				has_war_with = CUF
				has_war_with = GER
			}
		}
	}
	desc = {
		text = JAP_LEC_crisis.001.d.war_with_GER
		trigger = {
			JAP = {
				has_war_with = GER
				NOT = { has_war_with = CUF }
			}
		}
	}
	desc = {
		text = JAP_LEC_crisis.001.d.war_with_CUF
		trigger = {
			JAP = {
				has_war_with = CUF
				NOT = { has_war_with = GER }
			}
		}
	}

	picture = GFX_report_event_JAP_battleship_kongo

	is_triggered_only = yes #Triggered by [EFFECT] JAP_LEC_crisis_start_effect which fires from [FOCUS] JAP_continental_warfare OR [FOCUS] JAP_ultimatum

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.001 option JAP_LEC_crisis.001.a"
		name = JAP_LEC_crisis.001.a #We must inform our allies
		trigger = {
			OR = {
				is_subject = yes
				AND = {
					is_in_faction = yes
					is_faction_leader = no
				}
			}
		}
		ai_chance = { base = 100 }
		if = {
			limit = { is_subject = yes }
			overlord = { country_event = { id = JAP_LEC_crisis.010 days = 3 } } #(OVERLORD or Faction Leader) Japan Demands the Legations
		}
		else = {
			faction_leader = { country_event = { id = JAP_LEC_crisis.010 days = 3 } } #(OVERLORD or Faction Leader) Japan Demands the Legations
		}
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.001 option JAP_LEC_crisis.001.b"
		name = JAP_LEC_crisis.001.b #Plead our allies for support.
		trigger = {
			OR = {
				is_subject = yes
				AND = {
					is_in_faction = yes
					is_faction_leader = no
				}
			}
		}
		ai_chance = { base = 0 }
		add_political_power = -100
		set_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag
		custom_effect_tooltip = JAP_LEC_crisis_plead_tt
		if = {
			limit = { is_subject = yes }
			overlord = { country_event = { id = JAP_LEC_crisis.010 days = 3 } } #(OVERLORD or Faction Leader) Japan Demands the Legations
		}
		else = {
			faction_leader = { country_event = { id = JAP_LEC_crisis.010 days = 3 } } #(OVERLORD or Faction Leader) Japan Demands the Legations
		}
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.001 option JAP_LEC_crisis.001.c"
		name = JAP_LEC_crisis.001.c #We must inform the council
		trigger = {
			is_subject = no
			is_in_faction = no
			check_variable = { global.LEC_voters^num > 0 }
		}
		ai_chance = { base = 100 }
		effect_tooltip = {
			every_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = JAP_LEC_crisis.020 days = 3 } #(Council) Japan Demands the Legations
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = JAP_LEC_crisis.020 days = 3 } #(Council) Japan Demands the Legations
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.001 option JAP_LEC_crisis.001.d"
		name = JAP_LEC_crisis.001.d #Plead the council for support.
		trigger = {
			is_subject = no
			is_in_faction = no
			check_variable = { global.LEC_voters^num > 0 }
		}
		ai_chance = { base = 0 }
		add_political_power = -100
		set_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag
		custom_effect_tooltip = JAP_LEC_crisis_plead_tt
		effect_tooltip = {
			every_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = JAP_LEC_crisis.020 days = 3 } #(Council) Japan Demands the Legations
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = { LEC_is_legation_council_member = yes }
				country_event = { id = JAP_LEC_crisis.020 days = 3 } #(Council) Japan Demands the Legations
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.001 option JAP_LEC_crisis.001.e"
		name = JAP_LEC_crisis.001.e #It seems we will have to make a decision soon
		trigger = {
			is_subject = no
			OR = {
				is_faction_leader = yes
				check_variable = { global.LEC_voters^num < 1 }
			}
		}
		ai_chance = { base = 100 }
		country_event = { id = JAP_LEC_crisis.002 days = 3 } #(LEC) Last Days of the Lonely Legations?
	}

	after = {
		add_opinion_modifier = {
			target = JAP
			modifier = KR_hates_govt
		}
	}
}

country_event = { #LEC: Last Days of the Lonely Legations?
	id = JAP_LEC_crisis.002
	title = JAP_LEC_crisis.002.t
	desc = JAP_LEC_crisis.002.d
	picture = GFX_report_event_LEC_shanghai_river

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.001 OR [EVENT] JAP_LEC_crisis.010 OR [EVENT] JAP_LEC_crisis.021

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.002 option JAP_LEC_crisis.002.a"
		name = JAP_LEC_crisis.002.a #We have no choice but to fold.
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_global_flag = JAP_LEC_crisis_LEC_has_international_backer_flag
			}
		}
		custom_effect_tooltip = GAME_OVER_TT
		effect_tooltip = {
			JAP = {
				annex_country = {
					target = ROOT
					transfer_troops = yes
				}
			}
		}
		JAP = { country_event = { id = JAP_LEC_crisis.003 days = 3 } } #The Legations Fold
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.002 option JAP_LEC_crisis.002.b"
		name = JAP_LEC_crisis.002.b #Mobilise the Legation Defense Force, we stand our ground!
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				has_global_flag = JAP_LEC_crisis_LEC_has_international_backer_flag
			}
		}
		custom_effect_tooltip = JAP_LEC_crisis_war_tt
		JAP = { country_event = { id = JAP_LEC_crisis.006 days = 3 } } #The Legations Resist!
	}
}

country_event = { #JAP: The Legations Fold
	id = JAP_LEC_crisis.003
	title = JAP_LEC_crisis.003.t
	desc = JAP_LEC_crisis.003.d
	picture = GFX_report_event_JAP_battle_flag

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.002

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.003 option JAP_LEC_crisis.003.a"
		name = JAP_LEC_crisis.003.a #A great victory for the forces of Asian Liberation!
		hidden_effect = {
			#Do this first before LEC gets annexed.
			LEC = {
				every_neighbor_country = {
					limit = {
						is_chinese_tag = yes
						NOT = {
							is_subject = yes
							has_war_with = JAP
							is_ally_with = JAP
							AND = {
								tag = FNG
								FNG_JAP_hostile = no
							}
						}
					}
					country_event = { id = JAP_LEC_crisis.004 hours = 1 } #Japan Moves into the Legations
				}
			}
			news_event = { id = JAP_LEC_crisis.005 days = 1 } #Japan Seizes the Legations
		}
		annex_country = {
			target = LEC
			transfer_troops = yes
		}
		custom_effect_tooltip = JAP_LEC_CHN_intervention_warning_tt
	}
}

country_event = { #Chinese Factions: Japan Moves into the Legations
	id = JAP_LEC_crisis.004
	title = JAP_LEC_crisis.004.t
	desc = JAP_LEC_crisis.004.d
	picture = GFX_report_event_CHN_china_red_spears

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.003
	trigger = {
		NOT = {
			is_subject = yes
			has_war_with = JAP #No point in this event if already at war with Japan
			is_ally_with = JAP
			AND = {
				tag = FNG
				FNG_JAP_hostile = no
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.004 option JAP_LEC_crisis.004.a"
		name = JAP_LEC_crisis.004.a #That is Chinese land, and forever shall be!
		ai_chance = { base = 100 }
		add_war_support = 0.10
		declare_war_on = {
			target = JAP
			type = annex_everything
		}
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.004 option JAP_LEC_crisis.004.b"
		name = JAP_LEC_crisis.004.b #We must bide our time...
		ai_chance = { base = 0 }
		add_war_support = -0.10
	}
}

news_event = { #World News: Japan Seizes the Legations
	id = JAP_LEC_crisis.005
	immediate = { log = "[GetLogInfo]: event JAP_LEC_crisis.005" }
	title = JAP_LEC_crisis.005.t
	desc = JAP_LEC_crisis.005.d
	picture = GFX_news_event_LEC_asia_diplomacy

	is_triggered_only = yes #Triggered by [EVENT] china_events.452.a, china_events.453.a

	major = yes
	fire_for_sender = yes
	show_major = {
		OR = {
			regional_asia_news = yes
			LEC_original_legation_members_trigger = yes
		}
	}

	option = {
		name = JAP_LEC_crisis.005.a #Our forces triumphantly enter the city!
		log = "[GetLogInfo]: event JAP_LEC_crisis.005 option JAP_LEC_crisis.005.a"
		trigger = {
			OR = {
				tag = JAP
				is_ally_with = JAP
			}
		}
	}

	option = {
		name = JAP_LEC_crisis.005.b #A spineless surrender of Shanghai.
		log = "[GetLogInfo]: event JAP_LEC_crisis.005 option JAP_LEC_crisis.005.b"
		trigger = {
			has_war_with = JAP
		}
	}

	option = {
		name = JAP_LEC_crisis.005.c #So closes the Open Door.
		log = "[GetLogInfo]: event JAP_LEC_crisis.005 option JAP_LEC_crisis.005.c"
		trigger = {
			NOT = {
				tag = JAP
				is_ally_with = JAP
				has_war_with = JAP
			}
		}
	}
}

country_event = { #JAP: The Legations Resist!
	id = JAP_LEC_crisis.006
	title = JAP_LEC_crisis.006.t
	desc = JAP_LEC_crisis.006.d
	picture = GFX_report_event_LEC_shanghai_river

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.002 OR [EVENT] JAP_LEC_crisis.012 OR [EVENT] JAP_LEC_crisis.025

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.006 option JAP_LEC_crisis.006.a"
		name = JAP_LEC_crisis.006.a #Order the Shanghai Expeditionary Army to land immediately!
		ai_chance = {
			base = 100
			modifier = {
				add = -100
				#Make sure you edit the bottom AI factor too

				#Yeah so if WW2 hasn't started and the player resists Japan, Japan will back down...for now. Yes its possible there will be cheese but decided against complicated checks for now.
				NOT = { has_global_flag = second_weltkrieg_has_started }
				#OR = {
				#	has_global_flag = JAP_LEC_crisis_LEC_has_international_backer_flag
				#	is_in_faction = yes
				#	is_subject = yes
				#}
			}
		}
		declare_war_on = {
			target = LEC
			type = annex_everything
		}
		hidden_effect = {
			news_event = { id = JAP_LEC_crisis.007 days = 1 } #Japan Strikes the Legations
		}
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.006 option JAP_LEC_crisis.006.b"
		name = JAP_LEC_crisis.006.b #We have no choice but to backtrack and try to apologize...
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				#Make sure you edit the bottom AI factor too

				#Yeah so if WW2 hasn't started and the player resists Japan, Japan will back down...for now. Yes its possible there will be cheese but decided against complicated checks for now.
				NOT = { has_global_flag = second_weltkrieg_has_started }
				#OR = {
				#	has_global_flag = JAP_LEC_crisis_LEC_has_international_backer_flag
				#	is_in_faction = yes
				#	is_subject = yes
				#}
			}
		}
		add_political_power = -50
		add_war_support = -0.10
		hidden_effect = {
			news_event = { id = JAP_LEC_crisis.008 days = 1 } #The Legation Crisis Defuses
		}
	}
}

news_event = { #World News: Japan Strikes the Legations
	id = JAP_LEC_crisis.007
	immediate = { log = "[GetLogInfo]: event JAP_LEC_crisis.007" }
	title = JAP_LEC_crisis.007.t
	desc = JAP_LEC_crisis.007.d
	picture = GFX_news_event_LEC_war_shanghai

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.006

	major = yes
	fire_for_sender = yes
	show_major = {
		OR = {
			regional_asia_news = yes
			LEC_original_legation_members_trigger = yes
		}
	}

	option = {
		name = JAP_LEC_crisis.007.a #We shall strike quickly and decisively!
		log = "[GetLogInfo]: event JAP_LEC_crisis.007 option JAP_LEC_crisis.007.a"
		trigger = {
			OR = {
				tag = JAP
				is_ally_with = JAP
			}
		}
	}

	option = {
		name = JAP_LEC_crisis.007.b #Japan creates even more enemies for themselves.
		log = "[GetLogInfo]: event JAP_LEC_crisis.007 option JAP_LEC_crisis.007.b"
		trigger = {
			has_war_with = JAP
		}
	}

	option = {
		name = JAP_LEC_crisis.007.c #The Legations are embroiled in the very war they were created to prevent.
		log = "[GetLogInfo]: event JAP_LEC_crisis.007 option JAP_LEC_crisis.007.c"
		trigger = {
			NOT = {
				tag = JAP
				is_ally_with = JAP
				has_war_with = JAP
			}
		}
	}
}

news_event = { #World News: The Legation Crisis Defuses
	id = JAP_LEC_crisis.008
	immediate = { log = "[GetLogInfo]: event JAP_LEC_crisis.008" }
	title = JAP_LEC_crisis.008.t
	desc = JAP_LEC_crisis.008.d
	picture = GFX_news_event_JAP_germany_peace

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.006

	major = yes
	fire_for_sender = yes
	show_major = {
		OR = {
			regional_asia_news = yes
			LEC_original_legation_members_trigger = yes
		}
	}

	option = {
		name = JAP_LEC_crisis.008.a #A shameful defeat.
		log = "[GetLogInfo]: event JAP_LEC_crisis.008 option JAP_LEC_crisis.008.a"
		trigger = {
			OR = {
				tag = JAP
				is_ally_with = JAP
			}
		}
	}

	option = {
		name = JAP_LEC_crisis.008.b #The Rising Sun humiliated.
		log = "[GetLogInfo]: event JAP_LEC_crisis.008 option JAP_LEC_crisis.008.b"
		trigger = {
			has_war_with = JAP
		}
	}

	option = {
		name = JAP_LEC_crisis.008.c #The Legations hold on...
		log = "[GetLogInfo]: event JAP_LEC_crisis.008 option JAP_LEC_crisis.008.c"
		trigger = {
			NOT = {
				tag = JAP
				is_ally_with = JAP
				has_war_with = JAP
			}
		}
	}
}

#JAP_LEC_Crisis Section 02 (010-019): Faction Leader Chain
country_event = { #LEC faction leader/overlord: Japan Demands the Legations
	id = JAP_LEC_crisis.010
	title = JAP_LEC_crisis.010.t
	picture = GFX_report_event_generic_east_china_map
	desc = {
		text = JAP_LEC_crisis.010.d.standard
		trigger = {
			NOT = { has_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag }
		}
	}
	desc = {
		text = JAP_LEC_crisis.010.d.plead
		trigger = {
			has_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag
		}
	}

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.001

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.010 option JAP_LEC_crisis.010.a"
		name = JAP_LEC_crisis.010.a #Unfortunately, the Legations are not worth defending.
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_war_with = JAP
			}
			modifier = {
				factor = 0
				has_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag
			}
		}
		if = {
			limit = { LEC = { is_subject_of = ROOT } }
			set_autonomy = {
				target = LEC
				autonomous_state = autonomy_free
				end_wars = yes
				end_civil_wars = no
			}
		}
		if = {
			limit = { LEC = { is_in_faction_with = ROOT } }
			remove_from_faction = LEC
		}
		LEC_remove_from_legation_council = yes
		if = {
			limit = { has_guaranteed = LEC }
			diplomatic_relation = {
				country = LEC
				relation = guarantee
				active = no
			}
		}
		LEC = { country_event = { id = JAP_LEC_crisis.011 days = 1 } } #[FROM.GetNameDef] Abandons Us!
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.010 option JAP_LEC_crisis.010.b"
		name = JAP_LEC_crisis.010.b #We will defend the Legation Cities as we promised!
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				has_war_with = JAP
			}
			modifier = {
				add = 100
				has_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag
			}
		}
		custom_effect_tooltip = JAP_LEC_crisis_war_tt
		LEC = { country_event = { id = JAP_LEC_crisis.012 days = 1 } } #[FROM.GetNameDef] Defends Us!
	}

	after = {
		add_opinion_modifier = {
			target = JAP
			modifier = KR_hates_govt
		}
		every_allied_country = {
			add_opinion_modifier = {
				target = JAP
				modifier = KR_hates_govt
			}
		}
	}
}

country_event = { #LEC: [FROM.GetNameDef] Abandons Us!
	id = JAP_LEC_crisis.011
	title = JAP_LEC_crisis.011.t
	desc = JAP_LEC_crisis.011.d
	picture = GFX_report_event_LEC_shanghai_police_patrol

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.010

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.011 option JAP_LEC_crisis.011.a"
		name = JAP_LEC_crisis.011.a #A horrific betrayal!
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
		country_event = { id = JAP_LEC_crisis.002 days = 1 } #Last Days of the Lonely Legations?
	}
}

country_event = { #LEC: [FROM.GetNameDef] Defends Us!
	id = JAP_LEC_crisis.012
	title = JAP_LEC_crisis.012.t
	desc = JAP_LEC_crisis.012.d
	picture = GFX_report_event_LEC_Canadian_Forces_in_Hong_Kong

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.010

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.012 option JAP_LEC_crisis.012.a"
		name = JAP_LEC_crisis.012.a #Now let us prepare for war...
		custom_effect_tooltip = JAP_LEC_crisis_war_tt
		JAP = { country_event = { id = JAP_LEC_crisis.006 days = 1 } } #The Legations Resist!
	}
}

#JAP_LEC_Crisis Section 03 (020-029): Council Chain
country_event = { #Council members: Japan Demands the Legations
	id = JAP_LEC_crisis.020
	title = JAP_LEC_crisis.020.t
	desc = {
		text = JAP_LEC_crisis.020.d.standard
		trigger = {
			NOT = { has_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag }
		}
	}
	desc = {
		text = JAP_LEC_crisis.020.d.plead
		trigger = {
			has_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag
		}
	}
	picture = GFX_report_event_LEC_shanghai_river

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.001

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.020 option JAP_LEC_crisis.020.a"
		name = JAP_LEC_crisis.020.a #We vote to accept Japanese demands.
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_war_with = JAP
			}
			modifier = {
				factor = 0
				has_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag
				NOT = { tag = JAP }
			}
		}
		set_country_flag = JAP_LEC_crisis_accept_demands_flag
		add_to_variable = { global.JAP_LEC_crisis_accept_demands = 1 }
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.020 option JAP_LEC_crisis.020.b"
		name = JAP_LEC_crisis.020.b #We vote to reject Japanese demands.
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				has_war_with = JAP
			}
			modifier = {
				add = 100
				has_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag
				NOT = { tag = JAP }
			}
		}
		set_country_flag = JAP_LEC_crisis_reject_demands_flag
		add_to_variable = { global.JAP_LEC_crisis_reject_demands = 1 }
	}

	after = {
		if = {
			limit = { NOT = { is_ally_with = JAP } }
			add_opinion_modifier = {
				target = JAP
				modifier = KR_hates_govt
			}
		}
		hidden_effect = {
			if = {
				limit = {
					any_other_country = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = JAP_LEC_crisis_accept_demands_flag }
						NOT = { has_country_flag = JAP_LEC_crisis_reject_demands_flag }
					}
				}
				random_other_country = {
					limit = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = JAP_LEC_crisis_accept_demands_flag }
						NOT = { has_country_flag = JAP_LEC_crisis_reject_demands_flag }
					}
					country_event = JAP_LEC_crisis.020
				}
			}
			else_if = {
				limit = { check_variable = { global.JAP_LEC_crisis_accept_demands > global.JAP_LEC_crisis_reject_demands } }
				random_other_country = {
					limit = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = JAP_LEC_crisis_has_seen_vote_outcome_flag }
					}
					set_global_flag = JAP_LEC_crisis_council_voted_to_annex_global_flag
					country_event = JAP_LEC_crisis.021 #The Council Votes to Accept Japanese Demands
				}
			}
			else = {
				random_other_country = {
					limit = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = JAP_LEC_crisis_has_seen_vote_outcome_flag }
					}
					country_event = JAP_LEC_crisis.025 #The Council Votes to Reject Japanese Demands
				}
			}
		}
	}
}

country_event = { #Council members: The Council Votes to Accept Japanese Demands
	id = JAP_LEC_crisis.021
	title = JAP_LEC_crisis.021.t
	desc = {
		text = JAP_LEC_crisis.021.d.council
		trigger = {
			NOT = { tag = LEC }
		}
	}
	desc = {
		text = JAP_LEC_crisis.021.d.LEC
		trigger = {
			tag = LEC
		}
	}
	picture = GFX_report_event_LEC_shanghai_police_patrol

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.020

	timeout_days = 5

	immediate = {
		set_country_flag = { flag = JAP_LEC_crisis_has_seen_vote_outcome_flag days = 11 value = 1 } #Avoid firing this for same tag if not clicked instantly
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.021 option JAP_LEC_crisis.021.a"
		name = JAP_LEC_crisis.021.a #A tragic but unfortunately realistic outcome.
		trigger = {
			NOT = {
				tag = LEC
				tag = JAP
			}
		}
		ai_chance = { base = 100 }
		LEC_remove_from_legation_council = yes
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.021 option JAP_LEC_crisis.021.b"
		name = JAP_LEC_crisis.021.b #...But one we refuse to accept!
		trigger = {
			NOT = {
				tag = LEC
				tag = JAP
			}
			has_country_flag = JAP_LEC_crisis_reject_demands_flag
		}
		ai_chance = {
			base = 0
			#This is player only - otherwise GEA would always take this choice basically and LEC would refuse to fold.
		}
		set_global_flag = JAP_LEC_crisis_LEC_has_international_backer_flag
		LEC = { country_event = { id = JAP_LEC_crisis.022 hours = 1 } } #[FROM.GetNameDefCap] Defends Us!
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.021 option JAP_LEC_crisis.021.c"
		name = JAP_LEC_crisis.021.c #It seems our time has come...
		trigger = {
			tag = LEC
		}
		ai_chance = { base = 100 }
		every_other_country = {
			limit = {
				LEC_is_legation_council_member = yes
			}
			reverse_add_opinion_modifier = {
				target = LEC
				modifier = KR_disapproves_of_govt
			}
		}
		country_event = { id = JAP_LEC_crisis.002 days = 1 } #Last Days of the Lonely Legations?
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.021 option JAP_LEC_crisis.021.e"
		name = JAP_LEC_crisis.021.e #Reality finally sets in for the West.
		trigger = {
			tag = JAP
		}
		ai_chance = { base = 100 }
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					any_other_country = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = JAP_LEC_crisis_has_seen_vote_outcome_flag }
					}
				}
				random_other_country = {
					limit = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = JAP_LEC_crisis_has_seen_vote_outcome_flag }
					}
					country_event = JAP_LEC_crisis.021
				}
			}
			else_if = {
				limit = { LEC = { NOT = { has_country_flag = JAP_LEC_crisis_has_seen_vote_outcome_flag } } }
				LEC = { country_event = JAP_LEC_crisis.021 }
			}
		}
	}
}

country_event = { #LEC: [FROM.GetNameDef] Defends Us!
	id = JAP_LEC_crisis.022
	title = JAP_LEC_crisis.022.t
	desc = JAP_LEC_crisis.022.d
	picture = GFX_report_event_LEC_Canadian_Forces_in_Hong_Kong

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.010

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.022 option JAP_LEC_crisis.022.a"
		name = JAP_LEC_crisis.022.a #It seems we are not alone...
	}
}

country_event = { #Council members: The Council Votes to Reject Japanese Demands
	id = JAP_LEC_crisis.025
	title = JAP_LEC_crisis.025.t
	desc = {
		text = JAP_LEC_crisis.025.d.council
		trigger = {
			NOT = { tag = LEC }
		}
	}
	desc = {
		text = JAP_LEC_crisis.025.d.LEC
		trigger = {
			tag = LEC
		}
	}
	picture = GFX_report_event_LEC_Canadian_Forces_in_Hong_Kong

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.020

	timeout_days = 5

	immediate = {
		set_country_flag = { flag = JAP_LEC_crisis_has_seen_vote_outcome_flag days = 11 value = 1 } #Avoid firing this for same tag if not clicked instantly
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.025 option JAP_LEC_crisis.025.a"
		name = JAP_LEC_crisis.025.a #War seems imminent...
		trigger = {
			NOT = { tag = LEC }
		}
		ai_chance = { base = 0 }
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.025 option JAP_LEC_crisis.025.b"
		name = JAP_LEC_crisis.025.b #...but we will not be a part of this.
		trigger = {
			NOT = {
				tag = LEC
				tag = JAP
			}
			has_country_flag = JAP_LEC_crisis_accept_demands_flag
		}
		ai_chance = { base = 100 } #Lets err on the side of caution and have tags with no reason to vote yes bail out if the vote does go in favor of the LEC.
		LEC_remove_from_legation_council = yes
		LEC = { country_event = { id = JAP_LEC_crisis.026 hours = 1 } } #[FROM.GetNameDefCap] Abandons Us!
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.025 option JAP_LEC_crisis.025.c"
		name = JAP_LEC_crisis.025.c #It seems a time of reckoning is here.
		trigger = {
			tag = LEC
		}
		ai_chance = { base = 100 }
		JAP = { country_event = { id = JAP_LEC_crisis.006 days = 1 } } #The Legations Resist!
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					any_other_country = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = JAP_LEC_crisis_has_seen_vote_outcome_flag }
					}
				}
				random_other_country = {
					limit = {
						LEC_is_legation_council_member = yes
						NOT = { has_country_flag = JAP_LEC_crisis_has_seen_vote_outcome_flag }
					}
					country_event = JAP_LEC_crisis.025
				}
			}
			else_if = {
				limit = { LEC = { NOT = { has_country_flag = JAP_LEC_crisis_has_seen_vote_outcome_flag } } }
				LEC = { country_event = JAP_LEC_crisis.025 }
			}
		}
	}
}

country_event = { #LEC: [FROM.GetNameDef] Abandons Us!
	id = JAP_LEC_crisis.026
	title = JAP_LEC_crisis.026.t
	desc = JAP_LEC_crisis.026.d
	picture = GFX_report_event_LEC_hong_kong_harbour

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.010

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.026 option JAP_LEC_crisis.026.a"
		name = JAP_LEC_crisis.026.a #It seems we are increasingly alone.
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

#JAP_LEC_Crisis Section 04 (030-039): CPS Chain
country_event = { #LEC: Japan Moves On the Legations
	id = JAP_LEC_crisis.030
	title = JAP_LEC_crisis.030.t
	desc = JAP_LEC_crisis.030.d

	picture = GFX_report_event_JAP_battleship_kongo

	is_triggered_only = yes #Triggered by [EFFECT] JAP_LEC_crisis_start_effect which fires from [FOCUS] JAP_continental_warfare OR [FOCUS] JAP_ultimatum

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.030 option JAP_LEC_crisis.030.a"
		name = JAP_LEC_crisis.030.a #We shall prepare their arrival
		ai_chance = { base = 100 }
		custom_effect_tooltip = GAME_OVER_TT
		effect_tooltip = {
			JAP = {
				annex_country = {
					target = ROOT
					transfer_troops = yes
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.030 option JAP_LEC_crisis.030.b"
		name = JAP_LEC_crisis.030.b #Plead for more time.
		ai_chance = { base = 0 }
		add_political_power = -100
		set_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag
		custom_effect_tooltip = JAP_LEC_crisis_plead_tt
	}

	after = {
		JAP = { country_event = { id = JAP_LEC_crisis.031 days = 1 } } #The Fate of the Legations
	}
}

country_event = { #JAP: The Fate of the Legations
	id = JAP_LEC_crisis.031
	title = JAP_LEC_crisis.031.t
	desc = {
		text = JAP_LEC_crisis.031.d_normal
		trigger = {
			NOT = { has_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag }
		}
	}
	desc = {
		text = JAP_LEC_crisis.031.d_plead
		trigger = {
			has_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag
		}
	}
	picture = GFX_report_event_JAP_parade_shanghai

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.030

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.031 option JAP_LEC_crisis.031.a"
		name = JAP_LEC_crisis.031.a #Deploy the Shanghai Expeditionary Army - We shall formally end the Legation Farce.
		ai_chance = { base = 100 }
		hidden_effect = {
			#Do this first before LEC gets annexed.
			LEC = {
				every_neighbor_country = {
					limit = {
						is_chinese_tag = yes
						NOT = {
							is_subject = yes
							has_war_with = JAP
							is_ally_with = JAP
							AND = {
								tag = FNG
								FNG_JAP_hostile = no
							}
						}
					}
					country_event = { id = JAP_LEC_crisis.032 hours = 1 } #(Chinese Factions) Japan Moves to End the Legations
				}
			}
			news_event = { id = JAP_LEC_crisis.033 days = 1 } #(World News) Japan Ends the Legations
		}
		annex_country = {
			target = LEC
			transfer_troops = yes
		}
		custom_effect_tooltip = JAP_LEC_CHN_intervention_warning_tt
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.031 option JAP_LEC_crisis.031.b"
		name = JAP_LEC_crisis.031.b #We shall preserve the status quo in Shanghai.
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				has_global_flag = JAP_LEC_crisis_LEC_commissioner_asks_for_protection_flag
			}
		}
		add_political_power = -25
		add_war_support = -0.05
		LEC = { news_event = { id = JAP_LEC_crisis.034 days = 1 } } #(LEC) Tokyo Leaves the Legations Alone
	}
}

country_event = { #Chinese Factions: Japan Moves to End the Legations
	id = JAP_LEC_crisis.032
	title = JAP_LEC_crisis.032.t
	desc = JAP_LEC_crisis.032.d
	picture = GFX_report_event_CHN_china_red_spears

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.003
	trigger = {
		NOT = {
			is_subject = yes
			has_war_with = JAP #No point in this event if already at war with Japan
			is_ally_with = JAP
			AND = {
				tag = FNG
				FNG_JAP_hostile = no
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.032 option JAP_LEC_crisis.032.a"
		name = JAP_LEC_crisis.032.a #That is Chinese land, and forever shall be!
		ai_chance = { base = 100 }
		add_war_support = 0.10
		declare_war_on = {
			target = JAP
			type = annex_everything
		}
	}

	option = {
		log = "[GetLogInfo]: event JAP_LEC_crisis.032 option JAP_LEC_crisis.032.b"
		name = JAP_LEC_crisis.032.b #We must bide our time...
		ai_chance = { base = 0 }
		add_war_support = -0.10
	}
}

news_event = { #World News: Japan Ends the Legations
	id = JAP_LEC_crisis.033
	immediate = { log = "[GetLogInfo]: event JAP_LEC_crisis.033" }
	title = JAP_LEC_crisis.033.t
	desc = JAP_LEC_crisis.033.d
	picture = GFX_news_event_LEC_asia_diplomacy

	is_triggered_only = yes #Triggered by [EVENT] china_events.452.a, china_events.453.a

	major = yes
	fire_for_sender = yes
	show_major = {
		OR = {
			regional_asia_news = yes
			LEC_original_legation_members_trigger = yes
		}
	}

	option = {
		name = JAP_LEC_crisis.033.a #A great triumph for Japan and the Co-Prosperity Sphere!
		log = "[GetLogInfo]: event JAP_LEC_crisis.033 option JAP_LEC_crisis.033.a"
		trigger = {
			OR = {
				tag = JAP
				is_ally_with = JAP
			}
		}
	}

	option = {
		name = JAP_LEC_crisis.033.b #Japanese aggression knows no bounds!
		log = "[GetLogInfo]: event JAP_LEC_crisis.033 option JAP_LEC_crisis.033.b"
		trigger = {
			has_war_with = JAP
		}
	}

	option = {
		name = JAP_LEC_crisis.033.c #So ends the farce of Legation neutrality...
		log = "[GetLogInfo]: event JAP_LEC_crisis.033 option JAP_LEC_crisis.033.c"
		trigger = {
			NOT = {
				tag = JAP
				is_ally_with = JAP
				has_war_with = JAP
			}
		}
	}
}

news_event = { #LEC: Tokyo Leaves the Legations Alone
	id = JAP_LEC_crisis.034
	immediate = { log = "[GetLogInfo]: event JAP_LEC_crisis.034" }
	title = JAP_LEC_crisis.034.t
	desc = JAP_LEC_crisis.034.d

	picture = GFX_news_event_LEC_asia_diplomacy

	is_triggered_only = yes #Triggered by [EVENT] JAP_LEC_crisis.031

	option = {
		name = JAP_LEC_crisis.034.a #The Legations live to see another day.
		ai_chance = { base = 100 }
	}
}
