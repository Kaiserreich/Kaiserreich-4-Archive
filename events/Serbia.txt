###########################
# Reworked Serbia Events
###########################
# By Augenis
###########################

add_namespace = serbia
add_namespace = serflavor
add_namespace = serpuppet
add_namespace = yugmechanics
add_namespace = yugoslavia

### Serbia introduction
country_event = {
	id = serbia.0
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.0" }
	title = serbia.0.t
	desc = serbia.0.d
	picture = GFX_report_event_ser_starter

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.0.a
	}
}

country_event = { #Black Monday Hits Serbia!
	id = serbia.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.1" }
	title = serbia.1.t
	desc = serbia.1.d
	picture = GFX_report_event_generic_strike

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.1.a
		add_ideas = SER_black_monday_1
		custom_effect_tooltip = SER_republicans_drop
		add_to_variable = { SER_republican_strength = -10 }
		activate_mission = SER_black_monday_timer
		hidden_effect = {
			country_event = { id = serbia.4 days = 14 random_days = 10 }
			country_event = { id = serbia.5 days = 45 random_days = 20 }
			country_event = { id = serbia.7 days = 70 random_days = 20 }
			country_event = { id = serbia.12 days = 14 random_days = 7 }
		}
	}
}

country_event = { #1936 Serbian Elections
	id = serbia.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.2" }
	title = serbia.2.t
	desc = serbia.2.d
	picture = GFX_report_event_ser_election

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.2.a
		custom_effect_tooltip = SER_check_decision_tooltip
		hidden_effect = {
			country_event = { id = serbia.6 days = 120 random_days = 60 }
		}
	}
}

country_event = { #The Vidovdan Speech
	id = serbia.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.3" }
	title = serbia.3.t
	desc = serbia.3.d
	picture = GFX_report_event_ser_vidovdan

	immediate = {
		hidden_effect = {
			country_event = { id = serbia.53 days = 365 }
		}
	}

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.3.a
		remove_ideas = SER_treaty_of_wartholz
		swap_ideas = {
			remove_idea = SER_secret_rearmament
			add_idea = SER_open_rearmament
		}
		complete_national_focus = SER_Vidovdan_Speech
		custom_effect_tooltip = SER_republicans_gain
		add_to_variable = { SER_republican_strength = 5 }
		country_lock_all_division_template = no
		AUS = {
			add_ai_strategy = {
				type = prepare_for_war
				id = "SER"
				value = -200
			}
		}
		HUN = {
			add_ai_strategy = {
				type = prepare_for_war
				id = "SER"
				value = -200
			}
			add_ai_strategy = {
				type = prepare_for_war
				id = "ROM"
				value = -200
			}
		}
		CRO = {
			add_ai_strategy = {
				type = prepare_for_war
				id = "SER"
				value = -200
			}
		}
		BUL = {
			country_event = bulgaria.20
		}
		activate_mission = SER_revanchism_timer
	}
}

country_event = { # Socialists growing
	id = serbia.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.4" }
	title = serbia.4.t

	desc = serbia.4.d

	is_triggered_only = yes

	option = {
		name = serbia.4.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
				}
			}
		}
		custom_effect_tooltip = SER_socialists_gain
		add_to_variable = { SER_socialist_strength = 10 }
		hidden_effect = {
			country_event = { id = serbia.12 days = 14 random_days = 7 }
		}
	}
	option = {
		name = serbia.4.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		custom_effect_tooltip = SER_moderate_socialists_gain
		add_to_variable = { SER_moderate_socialist_strength = 10 }
	}
}

country_event = { # Konspiracija offer
	id = serbia.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.5" }
	title = serbia.5.t
	desc = serbia.5.d

	is_triggered_only = yes

	option = {
		name = serbia.5.a #Do it
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
					OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		custom_effect_tooltip = SER_socialists_drop
		add_to_variable = { SER_socialist_strength = -10 }
		SER_recalculate_konspiracija = yes
	}

	option = {
		name = serbia.5.b #It's too risky
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
				}
			}
		}
	}
}

country_event = { # Greenshirts
	id = serbia.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.6" }
	title = serbia.6.t
	desc = serbia.6.d
	picture = GFX_report_event_ser_greenshirts

	is_triggered_only = yes

	option = {
		name = serbia.6.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
				}
			}
		}
		add_political_power = -50
		custom_effect_tooltip = SER_radicals_drop
		add_to_variable = { SER_radical_strength = -10 }
	}
	option = {
		name = serbia.6.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		custom_effect_tooltip = SER_radicals_republicans_gain
		add_to_variable = { SER_radical_strength = 10 }
		add_to_variable = { SER_republican_strength = 10 }
	}
}

country_event = { # Countryside problems
	id = serbia.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.7" }
	title = serbia.7.t

	is_triggered_only = yes

	desc = serbia.7.d

	option = {
		name = serbia.7.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}

			}
		}
		custom_effect_tooltip = SER_agrarians_gain
		add_to_variable = { SER_agrarian_strength = 10 }
	}
	option = {
		name = serbia.7.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		custom_effect_tooltip = SER_republicans_gain
		add_to_variable = { SER_republican_strength = 10 }
	}
	option = {
		name = serbia.7.c
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
				}
			}
		}
		add_stability = -0.03
		custom_effect_tooltip = SER_socialists_gain
		add_to_variable = { SER_socialist_strength = 10 }
		hidden_effect = {
			country_event = { id = serbia.12 days = 14 random_days = 7 }
		}
	}
}

country_event = { # Republican Strategy
	id = serbia.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.8" }
	title = serbia.8.t
	desc = serbia.8.d
	picture = GFX_report_event_AUS_Ausgleich_prag

	is_triggered_only = yes

	option = {
		name = serbia.8.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		custom_effect_tooltip = SER_republicans_gain
		add_to_variable = { SER_republican_strength = 10 }
	}
	option = {
		name = serbia.8.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
				}
			}
		}
		custom_effect_tooltip = SER_radicals_agrarians_drop
		add_to_variable = { SER_radical_strength = -10 }
		add_to_variable = { SER_agrarian_strength = -5 }
		hidden_effect = {
			country_event = { id = serbia.12 days = 14 random_days = 7 }
		}
	}
	option = {
		name = serbia.8.c
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		custom_effect_tooltip = SER_socialists_both_drop
		add_to_variable = { SER_socialist_strength = -10 }
		add_to_variable = { SER_moderate_socialist_strength = -5 }
	}
}

country_event = { # Radical Strategy
	id = serbia.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.9" }
	title = serbia.9.t
	desc = serbia.9.d
	picture = GFX_report_event_ser_radical_union

	is_triggered_only = yes

	option = {
		name = serbia.9.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		custom_effect_tooltip = SER_radicals_gain
		add_to_variable = { SER_radical_strength = 15 }
	}
	option = {
		name = serbia.9.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
				}
			}
		}
		custom_effect_tooltip = SER_radicals_agrarians_gain
		add_to_variable = { SER_radical_strength = 5 }
		add_to_variable = { SER_agrarian_strength = 10 }
	}
	option = {
		name = serbia.9.c
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		custom_effect_tooltip = SER_republicans_socialists_drop
		add_to_variable = { SER_republican_strength = -10 }
		add_to_variable = { SER_socialist_strength = -5 }
		hidden_effect = {
			country_event = { id = serbia.12 days = 14 random_days = 7 }
		}
	}
}

country_event = { # Socialist strategy
	id = serbia.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.10" }
	title = serbia.10.t
	desc = serbia.10.d

	is_triggered_only = yes

	option = {
		name = serbia.10.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
				}
			}
		}
		custom_effect_tooltip = SER_socialists_gain
		add_to_variable = { SER_socialist_strength = 10 }
		hidden_effect = {
			country_event = { id = serbia.12 days = 14 random_days = 7 }
		}
	}
	option = {
		name = serbia.10.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		custom_effect_tooltip = SER_all_left_gain
		add_to_variable = { SER_socialist_strength = 5 }
		add_to_variable = { SER_moderate_socialist_strength = 5 }
		add_to_variable = { SER_republican_strength = 5 }
		hidden_effect = {
			country_event = { id = serbia.12 days = 14 random_days = 7 }
		}
	}
	option = {
		name = serbia.10.c
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		custom_effect_tooltip = SER_radicals_agrarians_drop
		add_to_variable = { SER_radical_strength = -10 }
		add_to_variable = { SER_agrarian_strength = -5 }
		hidden_effect = {
			country_event = { id = serbia.12 days = 14 random_days = 7 }
		}
	}
}

country_event = { # The Election
	id = serbia.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.11"  }
	title = serbia.11.t
	desc = serbia.11.d
	picture = GFX_report_event_ser_election

	trigger = {
		NOT = { has_country_flag = SER_has_completed_1936_elc }
	}

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.11.a
		trigger = {
			SER_rep_no_coalition = yes
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.1
		}
		complete_national_focus = SER_Moralistic_Democracy
		mark_focus_tree_layout_dirty = yes
		add_stability = 0.1
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Milan_Grol_hog_sli
				SER_Mladen_Zujovic_for_sli
				SER_Ilija_Sumenkovic_eco_sli
				SER_Kosta_Kumanudi_sec_sli
			}
			set_country_flag = SER_has_completed_1936_elc
		}
		SER_recalculate_konspiracija = yes
		news_event = { id = serflavor.32 days = 1 }
	}
	option = {
		name = serbia.11.b
		trigger = {
			SER_rad_no_coalition = yes
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.1
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		add_stability = 0.1
		complete_national_focus = SER_National_Vanguard
		mark_focus_tree_layout_dirty = yes
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Nikola_Uzunovic_hog_mli
				SER_Momcilo_Nincic_for_mli
				SER_Ninko_Peric_eco_mli
				SER_Milos_Trifunovic_sec_mli
			}
			set_country_flag = SER_has_completed_1936_elc
		}
		SER_recalculate_konspiracija = yes
		news_event = { id = serflavor.33 days = 1 }
	}
	option = {
		name = serbia.11.c
		trigger = {
			SER_rep_no_coalition = no
			SER_repsoc_coalition = yes
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.07
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.03
		}
		complete_national_focus = SER_Moralistic_Democracy
		set_country_flag = SER_repsoc_coalition_flag
		mark_focus_tree_layout_dirty = yes
		add_stability = 0.05
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Milan_Grol_hog_sli
				SER_Zivko_Topalovic_for_sde
				SER_Ilija_Sumenkovic_eco_sli
				SER_Kosta_Kumanudi_sec_sli
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_democrat }
			add_to_coalition = yes
			set_country_flag = SER_has_completed_1936_elc
		}
		SER_recalculate_konspiracija = yes
		news_event = { id = serflavor.32 days = 1 }
	}
	option = {
		name = serbia.11.e
		trigger = {
			SER_rad_no_coalition = no
			SER_radagr_coalition = yes
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.07
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.03
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		add_stability = 0.05
		set_country_flag = SER_radagr_coalition_flag
		complete_national_focus = SER_National_Vanguard
		mark_focus_tree_layout_dirty = yes
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Nikola_Uzunovic_hog_mli
				SER_Momcilo_Nincic_for_mli
				SER_Ninko_Peric_eco_mli
				SER_Milos_Trifunovic_sec_mli
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			add_to_coalition = yes
			set_country_flag = SER_has_completed_1936_elc
		}
		SER_recalculate_konspiracija = yes
		news_event = { id = serflavor.33 days = 1 }
	}
	option = {
		name = serbia.11.f
		trigger = {
			SER_jointsoc_coalition = yes
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.07
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.03
		}
		set_politics = {
			ruling_party = radical_socialist
			election_frequency = 60
			elections_allowed = yes
		}
		add_stability = -0.05
		complete_national_focus = SER_Victory_for_the_People
		activate_mission = SER_prove_to_the_people
		activate_mission = SER_defang_the_army
		activate_mission = SER_merge_the_coalition_parties
		mark_focus_tree_layout_dirty = yes
		set_variable = { SER_socialist_control = 0 }
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Sima_Markovic_hog_rso
				SER_Zivko_Topalovic_for_sde
				SER_Filip_Filipovic_eco_rso
				SER_Aleksandar_Rankovic_sec_tot
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_democrat }
			add_to_coalition = yes
			if = {
				limit = {
					OR = {
						has_country_flag = SER_chetniks_agitated1
						has_country_flag = SER_chetniks_agitated2
					}
				}
				set_country_flag = SER_waiting_for_coup
				country_event = { id = serbia.13 days = 5 }
			}
			set_country_flag = SER_has_completed_1936_elc
		}
		SER_recalculate_konspiracija = yes
	}
	option = {
		name = serbia.11.g
		trigger = {
			SER_repsoc_coalition = no
			SER_jointsoc_coalition = no
			check_variable = {
				var = SER_republican_strength
				value = SER_socialist_strength
				compare = greater_than_or_equals
			}
			SER_leftfront_coalition = yes
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.04
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.03
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.03
		}
		complete_national_focus = SER_Moralistic_Democracy
		set_country_flag = SER_repsoc_coalition_flag
		mark_focus_tree_layout_dirty = yes
		add_stability = -0.1
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Milan_Grol_hog_sli
				SER_Zivko_Topalovic_for_sde
				SER_Filip_Filipovic_eco_rso
				SER_Kosta_Kumanudi_sec_sli
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_democrat }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:radical_socialist }
			add_to_coalition = yes
			if = {
				limit = {
					OR = {
						has_country_flag = SER_chetniks_agitated1
						has_country_flag = SER_chetniks_agitated2
					}
				}
				set_country_flag = SER_waiting_for_coup
				country_event = { id = serbia.13 days = 5 }
			}
			set_country_flag = SER_has_completed_1936_elc
		}
		SER_recalculate_konspiracija = yes
	}
	option = {
		name = serbia.11.h
		trigger = {
			SER_repsoc_coalition = no
			SER_jointsoc_coalition = no
			check_variable = { SER_socialist_strength > SER_republican_strength }
			SER_leftfront_coalition = yes
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.03
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.04
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.03
		}
		set_politics = {
			ruling_party = radical_socialist
			election_frequency = 60
			elections_allowed = yes
		}
		add_stability = -0.1
		complete_national_focus = SER_Victory_for_the_People
		activate_mission = SER_prove_to_the_people
		activate_mission = SER_defang_the_army
		activate_mission = SER_merge_the_coalition_parties
		set_variable = { SER_socialist_control = 0 }
		mark_focus_tree_layout_dirty = yes
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Sima_Markovic_hog_rso
				SER_Zivko_Topalovic_for_sde
				SER_Ilija_Sumenkovic_eco_sli
				SER_Aleksandar_Rankovic_sec_tot
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_democrat }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_liberal }
			add_to_coalition = yes
			if = {
				limit = {
					OR = {
						has_country_flag = SER_chetniks_agitated1
						has_country_flag = SER_chetniks_agitated2
					}
				}
				set_country_flag = SER_waiting_for_coup
				country_event = { id = serbia.13 days = 5 }
			}
			set_country_flag = SER_has_completed_1936_elc
		}
		SER_recalculate_konspiracija = yes
	}
	option = {
		name = serbia.11.i
		trigger = {
			SER_repsoc_coalition = no
			SER_leftfront_coalition = no
			SER_radagr_coalition = no
			check_variable = {
				var = SER_republican_strength
				value = SER_radical_strength
				compare = greater_than_or_equals
			}
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.05
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.05
		}
		complete_national_focus = SER_Moralistic_Democracy
		set_country_flag = SER_reprad_coalition_flag
		mark_focus_tree_layout_dirty = yes
		add_stability = -0.1
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Milan_Grol_hog_sli
				SER_Mladen_Zujovic_for_sli
				SER_Ninko_Peric_eco_mli
				SER_Kosta_Kumanudi_sec_sli
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:market_liberal }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			add_to_coalition = yes
			set_country_flag = SER_has_completed_1936_elc
		}
		SER_recalculate_konspiracija = yes
		news_event = { id = serflavor.32 days = 1 }
	}
	option = {
		name = serbia.11.j
		trigger = {
			SER_repsoc_coalition = no
			SER_leftfront_coalition = no
			SER_radagr_coalition = no
			check_variable = { SER_radical_strength > SER_republican_strength }
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.05
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.05
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		complete_national_focus = SER_National_Vanguard
		set_country_flag = SER_reprad_coalition_flag
		mark_focus_tree_layout_dirty = yes
		add_stability = -0.1
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Nikola_Uzunovic_hog_mli
				SER_Momcilo_Nincic_for_mli
				SER_Ilija_Sumenkovic_eco_sli
				SER_Milos_Trifunovic_sec_mli
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_liberal }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			add_to_coalition = yes
			set_country_flag = SER_has_completed_1936_elc
		}
		SER_recalculate_konspiracija = yes
		news_event = { id = serflavor.33 days = 1 }
	}
}

country_event = { #Chetnik organizations worried
	id = serbia.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.12" }
	title = serbia.12.t
	desc = serbia.12.d
	picture = GFX_report_event_ser_white_hand_coup

	trigger = {
		OR = {
			SER_jointsoc_coalition = yes
			SER_leftfront_coalition = yes
		}
		NOT = { has_country_flag = SER_has_completed_1936_elc }
	}

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.12.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		custom_effect_tooltip = SER_radicals_gain
		add_to_variable = { SER_radical_strength = 15 }
		set_country_flag = SER_chetniks_agitated1
	}
	option = {
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
				}
			}
		}
		name = serbia.12.b
		set_country_flag = SER_chetniks_agitated2
		add_popularity = {
			ideology = national_populist
			popularity = 0.04
		}
		SER_recalculate_konspiracija = yes
	}
	option = {
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		name = serbia.12.c
		add_manpower = -1000
		add_war_support = -0.03
		add_stability = -0.03
		set_country_flag = SER_chetniks_agitated2
	}
}

country_event = { #Military putsch
	id = serbia.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.13" }
	title = serbia.13.t
	desc = serbia.13.d
	picture = GFX_report_event_ser_white_hand_coup

	is_triggered_only = yes

	option = {
		name = serbia.13.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		custom_effect_tooltip = SER_will_people_support_tooltip
		hidden_effect = {
			if = {
				limit = { has_country_flag = SER_chetniks_agitated1 }
				country_event = serbia.14
			}
			else = {
				country_event = serbia.15
			}
		}
		clr_country_flag = SER_waiting_for_coup
	}
	option = {
		name = serbia.13.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
				}
			}
		}
		custom_effect_tooltip = SER_will_army_support_tooltip
		hidden_effect = {
			if = {
				limit = { has_country_flag = SER_chetniks_agitated2 }
				country_event = serbia.14
			}
			else = {
				country_event = serbia.15
			}
		}
		clr_country_flag = SER_waiting_for_coup
	}
}

country_event = { #Putsch succeeds
	id = serbia.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.14" }
	title = serbia.14.t
	desc = serbia.14.d
	picture = GFX_report_event_ser_white_hand_coup

	is_triggered_only = yes

	option = {
		name = serbia.14.a
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.05
		}
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		add_stability = -0.3
		remove_ideas = SER_konspiracija_idea
		add_ideas = SER_royalist_purged_army
		create_corps_commander = {
			name = "Petar Živković"
			portrait_path = "gfx/leaders/SER/Portrait_SER_Petar_Zivkovic.png"
			traits = {
				politically_connected
			}
			id = 590
			skill = 2
			attack_skill = 2
			defense_skill = 1
			planning_skill = 2
			logistics_skill = 2
		}
		country_event = { id = serbia.17 days = 4 }
		hidden_effect = {
			end_coalition = yes
			remove_all_ministers = yes
			drop_cosmetic_tag = yes
			add_ideas = {
				SER_Petar_Zivkovic_hog_pau
				SER_Aleksandar_Cincar_Markovic_for_pau
				SER_Josif_Kostic_eco_pau
				SER_Bozidar_Maksimovic_sec_pau
			}
			clr_country_flag = Petar_Zivkovic_dead
			BUL = {
				country_event = serflavor.2
			}
			news_event = serflavor.35
			country_event = { id = serbia.64 days = 10 }
		}
		mark_focus_tree_layout_dirty = yes
	}
}

country_event = { #The republic endures
	id = serbia.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.15" }
	title = serbia.15.t
	desc = serbia.15.d
	picture = GFX_report_event_generic_trial

	is_triggered_only = yes

	option = {
		name = serbia.15.a
		add_manpower = -20
		set_country_flag = Petar_Zivkovic_dead
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.10
		}
		SER_recalculate_konspiracija = yes
		if = {
			limit = { has_government = social_liberal }
			news_event = { id = serflavor.32 days = 1 }
		}
		else = {
			news_event = { id = serflavor.34 days = 1 }
		}
	}
}

country_event = { # Nis Resistance
	id = serbia.16
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.16" }
	title = serbia.16.t
	desc = serbia.16.d
	picture = GFX_report_event_spr_anarchist_uprising2

	is_triggered_only = yes

	option = {
		name = serbia.16.a
		767 = {
			add_resistance = 10
			add_resistance_target = {
				amount = 20
				occupier = BUL
				days = 120
				tooltip = SER_kons_rebellion_increase_rt_tt
			}
		}
		add_stability = -0.02
	}
}

country_event = { #Arrival of King Petar II
	id = serbia.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.17" }
	title = serbia.17.t
	desc = serbia.17.d
	picture = GFX_report_event_generic_happy_crowd

	is_triggered_only = yes

	option = {
		name = serbia.17.a
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.03
		}
		add_ideas = SER_Petar_II_regency
		set_variable = { SER_petar_score = 0 }
		hidden_effect = {
			country_event = { id = serflavor.15 days = 365 random_days = 30 }
			country_event = { id = serflavor.18 days = 730 random_days = 30 }
			country_event = { id = serflavor.19 days = 1095 random_days = 30 }
		}
	}
}

country_event = { # Assassination of Jaša Prodanovic
	id = serbia.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.18" }
	title = serbia.18.t
	desc = serbia.18.d
	picture = GFX_report_event_ser_Jasa_Prodanovic_rip

	is_triggered_only = yes
	trigger = {
		has_idea = SER_konspiracija_idea
		NOT = {
			has_active_mission = SER_complete_the_revolution
		}
	}

	option = {
		name = serbia.18.a #Back down, we need their support against Bulgaria
		add_stability = -0.07
		add_political_power = -30
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		activate_mission = SER_prodanovic_assassination_fallout
		set_variable = { SER_prodanovic_natpop_loss = -0.08 }
		add_ideas = SER_konspiracija_conflict
	}
}

country_event = { #MISSION SUCCESS!
	id = serbia.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.19" }
	title = serbia.19.t
	desc = serbia.19.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		name = serbia.19.a
		add_popularity = {
			ideology = national_populist
			popularity = SER_prodanovic_natpop_loss
		}
		remove_mission = SER_prodanovic_assassination_fallout
		custom_effect_tooltip = SER_curbed_konspiracija_control_tt
		set_country_flag = SER_curbed_konspiracija_control_flag
		SER_recalculate_konspiracija = yes
	}
}

country_event = { #MISSION FAIL! LEVI SQUAD, GET HER!
	id = serbia.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.20" }
	title = serbia.20.t
	desc = {
		text = serbia.20.d1
		trigger = {
			has_country_flag = SER_you_fucked_up_response_flag
		}
	}
	desc = {
		text = serbia.20.d2
		trigger = {
			NOT = {
				has_country_flag = SER_you_fucked_up_response_flag
			}
		}
	}
	picture = GFX_report_event_generic_reporters

	is_triggered_only = yes

	option = {
		name = serbia.20.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		if = {
			limit = { has_idea = SER_ideologically_charged_army }
			remove_ideas = SER_ideologically_charged_army
		}
		if = {
			limit = { has_idea = SER_republican_guard }
			remove_ideas = SER_republican_guard
		}
		add_ideas = SER_puppet_show
		remove_mission = SER_prodanovic_assassination_fallout
		custom_effect_tooltip = SER_enshrined_konspiracija_control_tt
		set_country_flag = SER_enshrined_konspiracija_control_flag
		SER_recalculate_konspiracija = yes
	}
}

country_event = { #Post-1936 Elections
	id = serbia.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.21" }
	title = serbia.21.t
	desc = serbia.21.d
	picture = GFX_report_event_ser_election

	is_triggered_only = yes

	trigger = {
		has_country_flag = SER_has_completed_1936_elc
		has_elected_government = yes
		NOT = {
			has_country_leader = {
				name = "Petar II"
				ruling_only = yes
			}
		}
		NOT = {
			SER_has_founded_yugoslavia = yes
		}
	}

	option = {
		name = serbia.21.a #Republican Popular Front
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_completed_focus = SER_National_Vanguard
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_election_rule
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
					has_game_rule = {
						rule = SER_election_rule
						option = SER_ELECTION_RULE_RADICAL
					}
				}
			}
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.1
		}
		if = {
			limit = {
				has_country_leader = { ruling_only = yes name = "Dragomir Vasić" }
			}
			retire_country_leader = yes
			create_country_leader = {
				name = "Milan Grol"
				desc = "POLITICS_MILAN_GROL_DESC"
				picture = "Portrait_SER_Milan_Grol.png"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
			}
			hidden_effect = {
				country_event = serflavor.14
			}
		}
		set_politics = {
			ruling_party = social_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		if = {
			limit = {
				NOT = {
					has_completed_focus = SER_Moralistic_Democracy
				}
			}
			complete_national_focus = SER_Moralistic_Democracy
		}
		clr_country_flag = SER_reprad_coalition_flag
		set_country_flag = SER_repsoc_coalition_flag
		hidden_effect = {
			SER_remove_radical_ideas = yes
			for_each_loop = {
				array = SER_former_rep_government_ideas
				add_ideas = var:v
			}
			remove_all_ministers = yes
			add_ideas = {
				SER_Mihailo_Ilic_hog_sli
				SER_Mladen_Zujovic_for_sli
				SER_Ilija_Sumenkovic_eco_sli
				SER_Kosta_Kumanudi_sec_sli
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_democrat }
			add_to_coalition = yes
		}
		SER_recalculate_konspiracija = yes
	}

	option = {
		name = serbia.21.b #People's Radical Party (separate from Agrarians)
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_completed_focus = SER_Moralistic_Democracy
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SER_election_rule
					option = SER_ELECTION_RULE_REPUBLICAN
				}
			}
		}
		trigger = {
			NOT = {
				has_completed_focus = SER_unite_with_agrarians
			}
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.1
		}
		if = {
			limit = {
				has_country_leader = { ruling_only = yes name = "Dragomir Vasić" }
			}
			retire_country_leader = yes
			create_country_leader = {
				name = "Milan Grol"
				desc = "POLITICS_MILAN_GROL_DESC"
				picture = "Portrait_SER_Milan_Grol.png"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
			}
			hidden_effect = {
				country_event = serflavor.14
			}
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		if = {
			limit = {
				NOT = {
					has_completed_focus = SER_National_Vanguard
				}
			}
			complete_national_focus = SER_National_Vanguard
		}
		clr_country_flag = SER_reprad_coalition_flag
		set_country_flag = SER_radagr_coalition_flag
		hidden_effect = {
			SER_remove_republican_ideas = yes
			for_each_loop = {
				array = SER_former_rad_government_ideas
				add_ideas = var:v
			}
			remove_all_ministers = yes
			add_ideas = {
				SER_Nikola_Uzunovic_hog_mli
				SER_Momcilo_Nincic_for_mli
				SER_Ninko_Peric_eco_mli
				SER_Milos_Trifunovic_sec_mli
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			add_to_coalition = yes
		}
		SER_recalculate_konspiracija = yes
	}

	option = {
		name = serbia.21.b #People's Radical Party (merged with Agrarians)
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_completed_focus = SER_Moralistic_Democracy
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SER_election_rule
					option = SER_ELECTION_RULE_REPUBLICAN
				}
			}
		}
		trigger = {
			has_completed_focus = SER_unite_with_agrarians
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.1
		}
		if = {
			limit = {
				has_country_leader = { ruling_only = yes name = "Dragomir Vasić" }
			}
			retire_country_leader = yes
			create_country_leader = {
				name = "Milan Grol"
				desc = "POLITICS_MILAN_GROL_DESC"
				picture = "Portrait_SER_Milan_Grol.png"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
			}
			hidden_effect = {
				country_event = serflavor.14
			}
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 60
			elections_allowed = yes
		}
		clr_country_flag = SER_reprad_coalition_flag
		set_country_flag = SER_radagr_coalition_flag
		hidden_effect = {
			SER_remove_republican_ideas = yes
			for_each_loop = {
				array = SER_former_rad_government_ideas
				add_ideas = var:v
			}
			remove_all_ministers = yes
			add_ideas = {
				SER_Nikola_Uzunovic_hog_mli
				SER_Momcilo_Nincic_for_mli
				SER_Ninko_Peric_eco_mli
				SER_Milos_Trifunovic_sec_mli
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:market_liberal }
			add_to_coalition = yes
		}
		SER_recalculate_konspiracija = yes
	}
}

country_event = { # Mihajlov crosses the border
	id = serbia.22
	title = serbia.22.t
	desc = serbia.22.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.22.a
		add_manpower = -1000
		add_popularity = {
			ideology = national_populist
			popularity = -0.02
		}
	}
}

country_event = { #The IMRO rises
	id = serbia.23
	title = serbia.23.t
	desc = serbia.23.d
	picture = GFX_report_event_GRE_army

	trigger = {
		owns_state = 106
	}

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event serbia.23"
		hidden_effect = {
			SER_setup_imro_headquarters = yes
			mark_focus_tree_layout_dirty = yes
		}
	}

	option = {
		name = serbia.23.a
		unlock_decision_category_tooltip = SER_imro_decisions
		effect_tooltip = {
			MAC = {
				transfer_state = 106
				add_state_core = 106
				declare_war_on = {
					target = SER
					type = annex_everything
				}
			}
		}
		custom_effect_tooltip = IMRO_rebellion_begins_in_lull_phase
		complete_national_focus = SER_macedonian_rebellion
		set_country_flag = { flag = SER_IMRO_ai_rebellion_cheat days = 365 value = 1 }
	}
}

country_event = { # Macedonia ticking clock
	id = serbia.230
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.230" }

	trigger = {
		has_war_with = MAC
		has_active_mission = SER_IMRO_reb_lull_phase
	}

	is_triggered_only = yes
	hidden = yes

	immediate = {
		country_event = { id = serbia.230 hours = 24 }
	}

	option = {
		106 = {
			teleport_armies = {
				limit = { tag = SER }
				to_state = 765
			}
		}
	}
}

country_event = { # The IMRO Game - Round system
	id = serbia.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.24" }
	title = serbia.24.t
	desc = serbia.24.d
	picture = GFX_report_event_GRE_army

	trigger = {
		OR = {
			has_war_with = MAC
			has_war_with = SER
		}
	}

	is_triggered_only = yes

	option = {
		name = serbia.24.a
		ai_chance = {
			base = 10
			modifier = {
				factor = 3 #to 30
				tag = MAC
				has_global_flag = IMRO_lured_north
			}
		}
		custom_effect_tooltip = IMRO_attacks_north_tt
		if = {
			limit = {
				tag = MAC
			}
			set_global_flag = IMRO_attacks_north
		}
		else = {
			set_global_flag = SER_attacks_north
		}
	}

	option = {
		name = serbia.24.b
		ai_chance = {
			base = 10
			modifier = {
				factor = 3 #to 30
				tag = MAC
				has_global_flag = IMRO_lured_south
			}
		}
		custom_effect_tooltip = IMRO_attacks_south_tt
		if = {
			limit = {
				tag = MAC
			}
			set_global_flag = IMRO_attacks_south
		}
		else = {
			set_global_flag = SER_attacks_south
		}
	}
}

country_event = { # Serbia gets a win
	id = serbia.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.25" }
	title = serbia.25.t
	desc = serbia.25.d
	picture = GFX_report_event_GRE_army

	trigger = {
		has_war_with = MAC
	}
	immediate = {
		add_to_variable = { SER_won_rounds = 1 }
		if = {
			limit = {
				has_completed_focus = SER_destruction_strategy
				NOT = {
					MAC = {
						has_completed_focus = IMRO_study_their_tactics
					}
				}
			}
			add_to_variable = { SER_won_rounds = 1 }
		}
	}

	is_triggered_only = yes

	option = {
		name = serbia.25.a
		custom_effect_tooltip = IMRO_SER_won_round_tt
	}
}

country_event = { # IMRO gets a win
	id = serbia.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.26" }
	title = serbia.26.t
	desc = serbia.26.d
	picture = GFX_report_event_GRE_army

	trigger = {
		has_war_with = MAC
	}
	immediate = {
		add_to_variable = { IMRO_won_rounds = 1 }
	}

	is_triggered_only = yes

	option = {
		name = serbia.26.a
		custom_effect_tooltip = IMRO_SER_lost_round_tt
	}
}

country_event = { # Round results
	id = serbia.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.27" }
	title = serbia.27.t
	desc = serbia.27.d
	picture = GFX_report_event_GRE_army

	trigger = {
		has_war_with = MAC
	}

	is_triggered_only = yes

	option = {
		name = serbia.27.a
		trigger = {
			check_variable = { IMRO_won_rounds > SER_won_rounds }
		}
		106 = {
			add_resistance = 10
			add_resistance_target = {
				amount = 10
				occupier = SER
				days = 60
				tooltip = SER_IMRO_increase_rt_tt
			}
		}
		if = {
			limit = {
				check_variable = { IMRO_won_rounds > 2 }
			}
			106 = {
				add_resistance = 10
				add_resistance_target = {
					amount = 10
					occupier = SER
					days = 60
					tooltip = SER_IMRO_increase_rt_tt
				}
			}
		}
		set_variable = { SER_won_rounds = 0 }
		set_variable = { IMRO_won_rounds = 0 }
	}
	option = {
		name = serbia.27.b
		trigger = {
			check_variable = {
				var = SER_won_rounds
				value = IMRO_won_rounds
				compare = greater_than_or_equals
			}
		}
		106 = {
			add_resistance = -10
			add_resistance_target = {
				amount = -10
				occupier = SER
				days = 60
				tooltip = SER_IMRO_decrease_rt_tt
			}
		}
		if = {
			limit = {
				check_variable = { SER_won_rounds > 2 }
			}
			106 = {
				add_resistance = -10
				add_resistance_target = {
					amount = -10
					occupier = SER
					days = 60
					tooltip = SER_IMRO_decrease_rt_tt
				}
			}
		}
		set_variable = { SER_won_rounds = 0 }
		set_variable = { IMRO_won_rounds = 0 }
	}
}

country_event = { # IMRO chaos sowed
	id = serbia.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.28" }
	title = serbia.28.t
	desc = serbia.28.d
	picture = GFX_report_event_GRE_army

	trigger = {
		has_war_with = MAC
	}
	immediate = {
		set_country_flag = { flag = SER_macedonia_focuses_blocked days = 90 value = 1 }
	}

	is_triggered_only = yes

	option = {
		name = serbia.28.a
		custom_effect_tooltip = IMRO_SER_sow_chaos_tt
	}
}

country_event = { # Occupation of Pirin
	id = serbia.29
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.29" }
	title = serbia.29.t
	desc = serbia.29.d
	picture = GFX_report_event_GRE_army

	trigger = {
		SER = { has_war_with = MAC }
	}

	is_triggered_only = yes

	option = {
		name = serbia.29.a
		custom_effect_tooltip = IMRO_occupy_pirin_tt
	}
}

country_event = { # Assassinations
	id = serbia.30
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.30" }
	title = serbia.30.t
	desc = serbia.30.d
	picture = GFX_report_event_GRE_army

	trigger = {
		SER = { has_war_with = MAC }
	}

	is_triggered_only = yes

	option = {
		name = serbia.30.a
		add_war_support = -0.1
		add_stability = -0.05
		random_unit_leader = {
			limit = {
				NOT = { has_unit_leader_flag = IMRO_targeted }
			}
			add_timed_unit_leader_trait = {
				trait = wounded
				days = 90
			}
			set_unit_leader_flag = IMRO_targeted
		}
		random_unit_leader = {
			limit = {
				NOT = { has_unit_leader_flag = IMRO_targeted }
			}
			add_timed_unit_leader_trait = {
				trait = wounded
				days = 90
			}
			set_unit_leader_flag = IMRO_targeted
		}
		random_unit_leader = {
			limit = {
				NOT = { has_unit_leader_flag = IMRO_targeted }
			}
			add_timed_unit_leader_trait = {
				trait = wounded
				days = 90
			}
			set_unit_leader_flag = IMRO_targeted
		}
	}
}

country_event = { # Fifth Balkan War (IMRO yeets Serbia in Bulgaria)
	id = serbia.31
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.31" }
	title = serbia.31.t
	desc = serbia.31.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = serbia.31.a
		ai_chance = {
			base = 0
		}
		add_stability = -0.3
		add_war_support = -0.3
		remove_ideas = SER_IMRO_rebellion
		remove_mission = SER_IMRO_lull_phase_rounds
		remove_mission = SER_IMRO_reb_action_phase
		remove_mission = SER_IMRO_reb_lull_phase
		106 = {
			remove_dynamic_modifier = { modifier = SER_IMRO_mountain_warfare }
			remove_dynamic_modifier = { modifier = SER_IMRO_spawned_resistance }
		}
		BUL = {
			annex_country = { target = MAC transfer_troops = yes }
		}
	}
	option = {
		name = serbia.31.b # Bulgaria still exists
		trigger = {
			is_subject = no
			BUL = {
				exists = yes
				is_subject = no
				is_ai = yes # For now.
			}
		}
		add_stability = -0.2
		remove_ideas = SER_IMRO_rebellion
		remove_mission = SER_IMRO_lull_phase_rounds
		remove_mission = SER_IMRO_reb_action_phase
		remove_mission = SER_IMRO_reb_lull_phase
		106 = {
			remove_dynamic_modifier = { modifier = SER_IMRO_mountain_warfare }
			remove_dynamic_modifier = { modifier = SER_IMRO_spawned_resistance }
		}
		BUL = {
			annex_country = { target = MAC transfer_troops = yes }
		}
		declare_war_on = {
			target = BUL
			type = annex_everything
		}
	}
	option = {
		name = serbia.31.b # Bulgaria does not exist
		trigger = {
			is_subject = no
			OR = {
				BUL = {
					exists = no
				}
				BUL = {
					is_subject = yes
				}
				BUL = {
					is_ai = no
				}
			}
		}
		add_stability = -0.2
		remove_ideas = SER_IMRO_rebellion
		remove_mission = SER_IMRO_lull_phase_rounds
		remove_mission = SER_IMRO_reb_action_phase
		remove_mission = SER_IMRO_reb_lull_phase
		106 = {
			remove_dynamic_modifier = { modifier = SER_IMRO_mountain_warfare }
			remove_dynamic_modifier = { modifier = SER_IMRO_spawned_resistance }
		}
		declare_war_on = {
			target = MAC
			type = annex_everything
		}
	}
}
country_event = { # IMRO goes free (Serbia has gone to war with someone)
	id = serbia.310
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.310" }
	title = serbia.310.t
	desc = serbia.310.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = serbia.310.a
		add_stability = -0.1
		remove_ideas = SER_IMRO_rebellion
		remove_mission = SER_IMRO_lull_phase_rounds
		remove_mission = SER_IMRO_reb_action_phase
		remove_mission = SER_IMRO_reb_lull_phase
		106 = {
			remove_dynamic_modifier = { modifier = SER_IMRO_mountain_warfare }
			remove_dynamic_modifier = { modifier = SER_IMRO_spawned_resistance }
		}
	}
}
country_event = { # IMRO is defeated
	id = serbia.3100
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.3100" }
	title = serbia.3100.t
	desc = serbia.3100.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = serbia.3100.a
		add_stability = 0.1
		remove_ideas = SER_IMRO_rebellion
		remove_mission = SER_IMRO_lull_phase_rounds
		remove_mission = SER_IMRO_reb_action_phase
		remove_mission = SER_IMRO_reb_lull_phase
		106 = {
			remove_dynamic_modifier = { modifier = SER_IMRO_mountain_warfare }
			remove_dynamic_modifier = { modifier = SER_IMRO_spawned_resistance }
		}
		hidden_effect = {
			BUL = {
				country_event = { id = bulgaria.50 days = 3 }
			}
		}
		add_timed_idea = {
			idea = SER_IMRO_rebellion_2
			days = 250
		}
	}
}

country_event = { #War is Imminent!
	id = serbia.32
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.32" }
	title = serbia.32.t
	desc = serbia.32.d

	is_triggered_only = yes

	option = {
		name = serbia.32.a
		custom_effect_tooltip = SER_will_declare_war_allies_tooltip
		add_ai_strategy = {
			type = prepare_for_war
			id = AUS
			value = 1000
		}
		AUS = {
			set_country_flag = added_AI_strategies_@ROOT
			add_ai_strategy = {
				type = prepare_for_war
				id = ROOT
				value = 1000
			}
		}
		if = {
			limit = {
				AUS = { is_in_faction = yes }
			}
			for_each_scope_loop = {
				array = AUS.faction_members
				if = {
					limit = {
						is_neighbor_of = ROOT
						NOT = { tag = AUS }
					}
					set_country_flag = added_AI_strategies_@ROOT
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = 1000
					}
					ROOT = {
						add_ai_strategy = {
							type = prepare_for_war
							id = PREV
							value = 1000
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				AUS = { num_subjects > 0 }
			}
			for_each_scope_loop = {
				array = AUS.subjects
				if = {
					limit = { is_neighbor_of = ROOT }
					set_country_flag = added_AI_strategies_@ROOT
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = 1000
					}
					ROOT = {
						add_ai_strategy = {
							type = prepare_for_war
							id = PREV
							value = 1000
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				AUS = { is_subject = yes }
			}
			AUS = {
				overlord = {
					set_country_flag = added_AI_strategies_@ROOT
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = 1000
					}
					ROOT = {
						add_ai_strategy = {
							type = prepare_for_war
							id = PREV
							value = 1000
						}
					}
				}
			}
		}
	}
}

country_event = { #Serbia Mobilises for War
	id = serbia.33
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.33" }
	title = serbia.33.t
	desc = serbia.33.d

	is_triggered_only = yes

	option = {
		name = serbia.33.a
		custom_effect_tooltip = SER_will_declare_war_tooltip
	}
}

country_event = { #The War Against Austria
	id = serbia.34
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.34" }
	title = serbia.34.t

	desc = {
		text = serbia.34.d.normal
		trigger = {
			NOT = { has_war_with = AUS }
		}
	}
	desc = {
		text = serbia.34.d.already_at_war
		trigger = { has_war_with = AUS }
	}

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_other_country = {
				limit = { has_country_flag = added_AI_strategies_@ROOT }
				clr_country_flag = added_AI_strategies_@ROOT
				add_ai_strategy = {
					type = prepare_for_war
					id = ROOT
					value = -1000
				}
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 1000
					}
				}
			}
		}
	}

	option = {
		name = serbia.34.a
		trigger = {
			tag = ITA
			is_subject = no
			NOT = {
				is_in_faction_with = SER
				has_war_with = AUS
			}
			OR = {
				AND = {
					488 = { owned_by_austria_or_puppet = yes }
					can_declare_war_on = 488.owner
				}
				AND = {
					736 = { owned_by_austria_or_puppet = yes }
					can_declare_war_on = 736.owner
				}
				AND = {
					783 = { owned_by_austria_or_puppet = yes }
					can_declare_war_on = 783.owner
				}
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				surrender_progress > 0
			}
			modifier = {
				factor = 0
				enemies_strength_ratio > 0.7
			}
		}
		if = {
			limit = { can_declare_war_on = 488.owner }
			declare_war_on = {
				target = 488.owner
				type = annex_everything
			}
		}
		if = {
			limit = {
				var:736.owner = {
					NOT = { tag = var:488.owner }
				}
				can_declare_war_on = 736.owner
			}
			declare_war_on = {
				target = 736.owner
				type = annex_everything
			}
		}
		if = {
			limit = {
				var:783.owner = {
					NOT = {
						tag = var:488.owner
						tag = var:736.owner
					}
				}
				can_declare_war_on = 783.owner
			}
			declare_war_on = {
				target = 783.owner
				type = annex_everything
			}
		}
		if = {
			limit = {
				var:488.owner = { tag = AUS }
				can_declare_war_on = HUN
				HUN = { has_war_with = AUS }
			}
			declare_war_on = {
				target = HUN
				type = annex_everything
			}
		}
	}

	option = {
		name = serbia.34.a
		trigger = {
			tag = POL
			is_subject = no
			NOT = {
				is_in_faction_with = SER
				has_war_with = AUS
			}
			91 = { owned_by_austria_or_puppet = yes }
			can_declare_war_on = 91.owner
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				surrender_progress > 0
			}
			modifier = {
				factor = 0
				enemies_strength_ratio > 0.7
			}
		}
		declare_war_on = {
			target = 91.owner #Lwow
			type = annex_everything
		}
		if = {
			limit = {
				var:91.owner = { is_ally_with = AUS }
				can_declare_war_on = HUN
				HUN = { has_war_with = AUS }
			}
			declare_war_on = {
				target = HUN
				type = annex_everything
			}
		}
	}

	option = {
		name = serbia.34.a
		trigger = {
			tag = ROM
			is_subject = no
			NOT = {
				is_in_faction_with = SER
				has_war_with = AUS
			}
			84 = { owned_by_austria_or_puppet = yes }
			can_declare_war_on = 84.owner
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				surrender_progress > 0
			}
			modifier = {
				factor = 0
				enemies_strength_ratio > 0.7
			}
		}
		declare_war_on = {
			target = 84.owner #Transylvania
			type = annex_everything
		}
		if = {
			limit = {
				can_declare_war_on = HUN
				HUN = { has_war_with = AUS }
			}
			declare_war_on = {
				target = HUN
				type = annex_everything
			}
		}
	}

	option = {
		name = serbia.34.a
		trigger = {
			is_in_faction_with = SER
			NOT = { has_war_with = AUS }
		}
		ai_chance = {
			base = 100
		}
		effect_tooltip = {
			declare_war_on = {
				target = 84.owner
				type = annex_everything
			}
			if = {
				limit = {
					can_declare_war_on = HUN
					HUN = { has_war_with = AUS }
				}
				declare_war_on = {
					target = HUN
					type = annex_everything
				}
			}
		}
		hidden_effect = {
			SER = {
				every_enemy_country = {
					ROOT = {
						add_to_war = {
							targeted_alliance = PREV.PREV
							enemy = PREV
						}
					}
				}
			}
		}
	}

	option = {
		name = serbia.34.b
		trigger = {
			NOT = { has_war_with = AUS }
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				surrender_progress > 0
			}
			modifier = {
				add = 100
				enemies_strength_ratio > 0.7
			}
			modifier = {
				add = 100
				NOT = { is_in_faction_with = SER }
				is_subject = yes
			}
			modifier = {
				add = 100
				tag = ITA
				NOT = {
					AND = {
						488 = { owned_by_austria_or_puppet = yes }
						can_declare_war_on = 488.owner
					}
					AND = {
						736 = { owned_by_austria_or_puppet = yes }
						can_declare_war_on = 736.owner
					}
					AND = {
						783 = { owned_by_austria_or_puppet = yes }
						can_declare_war_on = 783.owner
					}
				}
			}
			modifier = {
				add = 100
				tag = POL
				OR = {
					91 = { owned_by_austria_or_puppet = no }
					NOT = { can_declare_war_on = 91.owner }
				}
			}
			modifier = {
				add = 100
				tag = ROM
				OR = {
					84 = { owned_by_austria_or_puppet = no }
					NOT = { can_declare_war_on = 84.owner }
				}
			}
		}
		add_war_support = -0.2
		if = {
			limit = { is_in_faction_with = SER }
			leave_faction = yes
		}
		every_other_country = {
			limit = { has_country_flag = SER_will_attack_austria }
			add_opinion_modifier = {
				target = ROOT
				modifier = KR_outraged
			}
		}
	}

	option = {
		name = serbia.34.c
		trigger = {
			has_war_with = AUS
			NOT = { is_in_faction_with = SER }
		}
	}
}

country_event = { #The Balkan Research Initiative
	id = serbia.35
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.35" }
	title = serbia.35.t
	desc = serbia.35.d

	is_triggered_only = yes

	option = {
		name = serbia.35.a #Of course we'll join!
		add_political_power = -30
		if = {
			limit = { has_dlc = "Together for Victory" }
			add_to_tech_sharing_group = balkan_research
		}
		else = {
			hidden_effect = { add_ideas = SER_balkan_research_idea }
			custom_effect_tooltip = SER_balkan_research_idea_tooltip
		}
		add_opinion_modifier = {
			target = FROM
			modifier = KR_pleased
		}
	}

	option = {
		name = serbia.35.b #We don't trust them
		trigger = {
			is_ai = no
		}
		add_political_power = 30
		FROM = { country_event = serbia.36 }
		effect_tooltip = {
			reverse_add_opinion_modifier = {
				target = FROM
				modifier = KR_disapproves_of_govt
			}
		}
	}
}

country_event = { #FROM refuses to join the Initiative
	id = serbia.36
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.36" }
	title = serbia.36.t
	desc = serbia.36.d

	is_triggered_only = yes

	option = {
		name = serbia.36.a
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

country_event = { #End of the Balkan Research Initiative
	id = serbia.37
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.37" }
	title = serbia.37.t
	desc = {
		text = serbia.37.d.war
		trigger = {
			any_enemy_country = {
				OR = {
					is_in_tech_sharing_group = balkan_research
					has_idea = SER_balkan_research_idea
				}
			}
		}
	}
	desc = {
		text = serbia.37.d.joined_other_faction
		trigger = {
			NOT = {
				is_in_faction_with = SER
				SER = { is_faction_leader = yes }
			}
		}
	}

	trigger = {
		OR = {
			is_in_tech_sharing_group = balkan_research
			has_idea = SER_balkan_research_idea
		}
	}

	is_triggered_only = yes

	option = {
		name = serbia.37.a
		if = {
			limit = { is_in_tech_sharing_group = balkan_research }
			remove_from_tech_sharing_group = balkan_research
		}
		else = {
			remove_ideas = SER_balkan_research_idea
		}
	}
}

country_event = { #Serbia wishes to join FROM's faction
	id = serbia.38
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.38" }
	title = serbia.38.t
	desc = serbia.38.d

	is_triggered_only = yes

	option = {
		name = serbia.38.a
		FROM = { country_event = serbia.39 }
	}

	option = {
		name = serbia.38.b
		trigger = { is_ai = no }
		FROM = { country_event = serbia.41 }
	}
}

country_event = { #FROM Accepts Serbia
	id = serbia.39
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.39" }
	title = serbia.39.t

	desc = {
		text = serbia.39.d.INT
		trigger = {
			FROM = { tag = INT }
		}
	}
	desc = {
		text = serbia.39.d.ENT
		trigger = {
			FROM = { tag = ENT }
		}
	}
	desc = {
		text = serbia.39.d.RUS
		trigger = {
			FROM = { tag = RUS }
		}
	}
	desc = {
		text = serbia.39.d.GER
		trigger = {
			FROM = { tag = GER }
		}
	}

	is_triggered_only = yes

	option = {
		name = serbia.39.a
		trigger = {
			NOT = { FROM = { tag = GER } }
		}
		if = {
			limit = {
				OR = {
					is_in_tech_sharing_group = balkan_research
					has_idea = SER_balkan_research_idea
				}
			}
			if = {
				limit = { is_in_tech_sharing_group = balkan_research }
				remove_from_tech_sharing_group = balkan_research
			}
			if = {
				limit = { has_idea = SER_balkan_research_idea }
				remove_ideas = SER_balkan_research_idea
			}
		}
		if = {
			limit = { is_faction_leader = yes }
			every_other_country = {
				limit = {
					OR = {
						is_in_tech_sharing_group = balkan_research
						has_idea = SER_balkan_research_idea
					}
				}
				hidden_effect = { country_event = serbia.40 }
			}
			hidden_effect = {
				if = {
					limit = {
						FROM = { tag = RUS }
					}
					every_other_country = {
						limit = {
							is_in_faction_with = ROOT
							is_subject = no
							has_socialist_government = no
						}
						country_event = { id = serbia.42 days = 2 }
					}
				}
			}
			dismantle_faction = yes
		}
		else_if = {
			limit = { is_in_faction = yes }
			leave_faction = yes
		}
		FROM = { add_to_faction = ROOT }
	}
	option = {
		name = serbia.39.b
		trigger = {
			FROM = { tag = GER }
		}
		if = {
			limit = {
				is_faction_leader = yes
				OR = {
					is_in_tech_sharing_group = balkan_research
					has_idea = SER_balkan_research_idea
				}
			}
			if = {
				limit = { is_in_tech_sharing_group = balkan_research }
				remove_from_tech_sharing_group = balkan_research
			}
			if = {
				limit = { has_idea = SER_balkan_research_idea }
				remove_ideas = SER_balkan_research_idea
			}
			every_other_country = {
				limit = {
					OR = {
						is_in_tech_sharing_group = balkan_research
						has_idea = SER_balkan_research_idea
					}
				}
				hidden_effect = {
					country_event = serbia.40
				}
			}
		}
		else_if = {
			limit = {
				OR = {
					is_in_tech_sharing_group = balkan_research
					has_idea = SER_balkan_research_idea
				}
			}
			if = {
				limit = { is_in_tech_sharing_group = balkan_research }
				remove_from_tech_sharing_group = balkan_research
			}
			if = {
				limit = { has_idea = SER_balkan_research_idea }
				remove_ideas = SER_balkan_research_idea
			}
		}
		if = {
			limit = { is_faction_leader = yes }
			dismantle_faction = yes
		}
		else_if = {
			limit = { is_in_faction = yes }
			leave_faction = yes
		}
		FROM = { add_to_faction = ROOT }
	}
}

country_event = { #Serbia has disbanded the Pact
	id = serbia.40
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.40" }
	title = serbia.40.t
	desc = serbia.40.d

	is_triggered_only = yes

	option = {
		name = serbia.40.a
		if = {
			limit = { is_in_tech_sharing_group = balkan_research }
			remove_from_tech_sharing_group = balkan_research
		}
		if = {
			limit = { has_idea = SER_balkan_research_idea }
			remove_ideas = SER_balkan_research_idea
		}
	}
}

country_event = { #FROM Refuses Serbia
	id = serbia.41
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.41" }
	title = serbia.41.t
	desc = serbia.41.d

	is_triggered_only = yes

	option = {
		name = serbia.41.a
		add_opinion_modifier = {
			target = FROM
			modifier = KR_hates_govt
		}
	}
}

country_event = { #Belgrade Pact members get choice to join Russia as well
	id = serbia.42
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.42 FROM = [From.GetName]" }
	title = serbia.42.t
	desc = serbia.42.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		name = serbia.42.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					tag = GRE
					tag = CZE
					RUS = {
						any_owned_state = { is_claim_or_core_of_ROOT = yes }
					}
					RUS = {
						any_allied_country = {
							any_owned_state = { is_claim_or_core_of_ROOT = yes }
						}
					}
				}
			}
		}
		hidden_effect = {
			RUS = {
				country_event = {
					id = serbia.4200
					days = 3
					random = 72
				}
			}
		}
	}
	option = {
		name = serbia.42.b
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				NOT = {
					tag = GRE
					tag = CZE
					RUS = {
						any_owned_state = { is_claim_or_core_of_ROOT = yes }
					}
					RUS = {
						any_allied_country = {
							any_owned_state = { is_claim_or_core_of_ROOT = yes }
						}
					}
				}
			}
		}
	}
}

country_event = { #FROM wants to join Russia
	id = serbia.4200
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.4200 FROM = [From.GetName]" }
	title = serbia.4200.t

	desc = {
		text = serbia.4200.d.ROM
		trigger = {
			FROM = { tag = ROM }
		}
	}
	desc = {
		text = serbia.4200.d.other
		trigger = {
			NOT = {
				FROM = { tag = ROM }
			}
		}
	}

	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = {
		name = serbia.4200.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				FROM = {
					any_owned_state = { is_claim_or_core_of_ROOT = yes }
				}
			}
			modifier = {
				factor = 0.5
				has_completed_focus = RUS_Expansionism
				FROM = { owns_state = 78 } #Bessarabia
			}
		}
		add_to_faction = FROM
		FROM = {
			every_owned_state = {
				limit = { is_claimed_by = ROOT }
				remove_claim_by = ROOT
			}
		}
		hidden_effect = {
			if = {
				limit = {
					FROM = { tag = ROM }
				}
				GER = {
					embargo_FROM = yes
					FROM = { embargo_PREV = yes }
				}
			}
		}
	}

	option = {
		name = serbia.4200.b
		ai_chance = {
			base = 0
			modifier = {
				add = 50
				FROM = {
					any_owned_state = { is_claim_or_core_of_ROOT = yes }
				}
			}
		}
		FROM = {
			country_event = {
				id = serbia.4201
				days = 2
				random = 48
			}
		}
	}
}

country_event = { #Russia refuses former Serbian ally
	id = serbia.4201
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.4201 FROM = [From.GetName]" }
	title = serbia.4201.t
	desc = serbia.4201.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = {
		name = serbia.4201.a
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

country_event = { # Formation of the Serbian Radical Union
	id = serbia.43
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.43" }
	title = serbia.43.t
	desc = serbia.43.d
	picture = GFX_report_event_ser_radical_union

	is_triggered_only = yes

	option = {
		name = serbia.43.a
		create_country_leader = {
			name = "Milan Stojadinović"
			desc = "POLITICS_MILAN_STOJADINOVIC_DESC"
			picture = "Portrait_SER_Milan_Stojadinovic.png"
			expire = "1965.1.1"
			ideology = social_conservative_subtype
		}
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
		}
		hidden_effect = {
			add_popularity = {
				ideology = market_liberal
				popularity = -0.2
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.2
			}
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			remove_from_coalition = yes
			set_temp_variable = { coalition_partner_var = token:market_liberal }
			add_to_coalition = yes
			if = {
				limit = {
					has_country_flag = SER_reprad_coalition_flag
				}
				set_temp_variable = { coalition_partner_var = token:social_liberal }
				add_to_coalition = yes
			}
			set_party_name = {
				ideology = social_conservative
				long_name = SER_sarez_party_long
				name = SER_sarez_party
			}
			set_party_name = {
				ideology = market_liberal
				long_name = SER_sarez_party_long
				name = SER_sarez_party
			}
		}
		SER_recalculate_konspiracija = yes
	}
}

country_event = { # Stojadinovic's speech
	id = serbia.44
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.44" }
	title = serbia.44.t
	desc = serbia.44.d
	picture = GFX_report_event_ser_radical_union

	is_triggered_only = yes

	option = {
		name = serbia.44.a
		SER_reduce_scars = yes
	}
}

country_event = { # Conflict between Radicals and Republicans
	id = serbia.45
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.45" }
	title = serbia.45.t
	desc = {
		text = serbia.45.d1
		trigger = {
			set_temp_variable = { coalition_partner_to_check = token:social_liberal }
			has_coalition_with_target = yes
		}
	}
	desc = {
		text = serbia.45.d2
		trigger = {
			set_temp_variable = { coalition_partner_to_check = token:radical_socialist }
			has_coalition_with_target = yes
		}
	}
	desc = {
		text = serbia.45.d3
		trigger = {
			set_temp_variable = { coalition_partner_to_check = token:social_liberal }
			has_coalition_with_target = yes
			set_temp_variable = { coalition_partner_to_check = token:radical_socialist }
			has_coalition_with_target = yes
		}
	}
	picture = GFX_report_event_generic_trial_big

	is_triggered_only = yes

	trigger = {
		has_government = authoritarian_democrat
		set_temp_variable = { coalition_partner_to_check = token:social_liberal }
		has_coalition_with_target = yes
	}

	option = {
		name = serbia.45.a
		add_stability = -0.03
		hidden_effect = {
			country_event = { id = serbia.45 days = 60 random_days = 20 }
		}
	}
}
country_event = { # Petar II is put in house arrest
	id = serbia.46
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.46" }
	title = serbia.46.t
	desc = serbia.46.d
	picture = GFX_report_event_yugoslavian_king_peter

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.46.a
		add_stability = -0.1
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.05
		}
		clr_country_flag = SER_petar_anime_protagonist
	}
}
country_event = { # Vasic visits Stojadinovic
	id = serbia.48
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.48" }
	title = serbia.48.t
	desc = serbia.48.d
	picture = GFX_report_event_generic_trial_big

	is_triggered_only = yes

	trigger = {
		has_government = authoritarian_democrat
		#set_temp_variable = { coalition_partner_to_check = token:social_liberal }
		#has_coalition_with_target = yes
	}

	option = {
		name = serbia.48.a
		set_country_flag = SER_reassured_vasic
		custom_effect_tooltip = SER_vasic_is_not_so_pissed_tt
	}
	option = {
		name = serbia.48.b
		hidden_effect = {
			country_event = { id = serbia.49 days = 3 }
		}
		custom_effect_tooltip = SER_vasic_is_really_pissed_tt
	}
}
country_event = { # Fall of SONU
	id = serbia.49
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.49" }
	title = serbia.49.t
	desc = serbia.49.d
	picture = GFX_report_event_generic_trial_big

	is_triggered_only = yes

	option = {
		name = serbia.49.a
		add_stability = -0.2
		set_temp_variable = { coalition_partner_var = token:social_liberal }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:social_democrat }
		remove_from_coalition = yes
		set_party_name = {
			ideology = authoritarian_democrat
			long_name = SER_sarez_party_long
			name = SER_sarez_party
		}
		set_party_name = {
			ideology = social_conservative
			long_name = SER_sarez_party_long
			name = SER_sarez_party
		}
		set_party_name = {
			ideology = market_liberal
			long_name = SER_sarez_party_long
			name = SER_sarez_party
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		SER_recalculate_konspiracija = yes
		set_country_flag = SER_sonu_has_broken
		complete_national_focus = SER_no_communists
		mark_focus_tree_layout_dirty = yes
	}
}


country_event = { #Aviation expertise
	id = serbia.50
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.50" }
	title = serbia.50.t
	desc = serbia.50.d

	is_triggered_only = yes

	option = { #Russia
		name = serbia.50.a
		trigger = {
			OR = {
				AND = {
					country_exists = RUS
					NOT = { has_war_with = RUS }
				}
				AND = {
					country_exists = SOV
					NOT = { has_war_with = SOV }
				}
			}
		}
		add_ideas = SER_russian_aerial_expertise
		air_experience = 25
	}
	option = { #French
		name = serbia.50.b
		trigger = {
			country_exists = FRA
			NOT = { has_war_with = FRA }
		}
		add_ideas = SER_french_aerial_expertise
		air_experience = 25
	}
	option = { #none
		name = serbia.50.c
		air_experience = 25
	}
}

country_event = { #Weltkrieg Aeroplanes Replacement
	id = serbia.51
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.51" }
	title = serbia.51.t
	desc = serbia.51.d

	is_triggered_only = yes

	option = { #Russia
		name = serbia.51.a
		trigger = {
			country_exists = RUS
			NOT = { has_war_with = RUS }
		}
		add_equipment_to_stockpile = {
			type = fighter_equipment_1
			amount = 75
			producer = RUS
		}
	}
	option = { #French
		name = serbia.51.b
		trigger = {
			country_exists = FRA
			NOT = { has_war_with = FRA }
		}
		add_equipment_to_stockpile = {
			type = fighter_equipment_1
			amount = 40
			producer = FRA
		}
		add_tech_bonus = {
			name = SER_Seek_New_Expertise
			bonus = 0.75
			uses = 1
			category = light_fighter
		}
	}
}
country_event = { #Fighter-Bombers or Bombers
	id = serbia.52
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.52" }
	title = serbia.52.t
	desc = serbia.52.d

	is_triggered_only = yes

	option = { #Russia
		name = serbia.52.a
		if = {
			limit = {
				RUS = { has_tech = early_bomber }
			}
			add_equipment_to_stockpile = {
				type = tac_bomber_equipment
				amount = 20
				producer = RUS
			}
		}
		add_tech_bonus = {
			name = SER_Fighter_Bomber_Acquisition
			bonus = 1
			uses = 1
			category = tactical_bomber
		}
	}
	option = { #French
		name = serbia.52.b
		if = {
			limit = {
				FRA = { has_tech = CAS1 }
			}
			add_equipment_to_stockpile = {
				type = CAS_equipment
				amount = 50
				producer = FRA
			}
		}
		add_tech_bonus = {
			name = SER_Fighter_Bomber_Acquisition
			bonus = 1
			uses = 1
			category = cas_bomber
		}
	}

}
country_event = { #Vidovdan
	id = serbia.53
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.53" }
	title = serbia.53.t
	desc = serbia.53.d
	picture = GFX_report_event_ser_vidovdan

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = serbia.53 days = 365 }
		}
	}

	option = {
		name = serbia.53.a
		add_political_power = 20
	}
}

country_event = { #Construction of the Belgrade-Salonica Railway
	id = serbia.54
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.54" }
	title = serbia.54.t
	desc = serbia.54.d
	picture = GFX_report_event_FNG_railway_construction_3

	is_triggered_only = yes

	option = {
		name = serbia.53.a
		731 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		989 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = KR_pleased
		}
	}
}

country_event = { #Serbia wants to buy the HMS Lion
	id = serbia.55
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.55" }
	title = serbia.55.t
	desc = serbia.55.d

	is_triggered_only = yes

	option = {
		name = serbia.55.a # Yes
		ai_chance = {
			base = 100
		}
		add_political_power = 25
		FROM = {
			country_event = {
				id = serbia.56
				days = 2
			}
		}
	}

	option = {
		name = serbia.55.b # No, every ship is needed
		ai_chance = {
			base = 0
		}
		FROM = {
			country_event = {
				id = serbia.57
				days = 2
			}
		}
	}
}

# Canada agrees to sell the Lion
country_event = {
	id = serbia.56
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.56" }
	title = serbia.56.t
	desc = serbia.56.d

	is_triggered_only = yes

	option = {
		name = serbia.56.a # Great!
		add_opinion_modifier = {
			target = FROM
			modifier = KR_pleased
		}
	}
}

# Canada refuses to sell Lion
country_event = {
	id = serbia.57
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.57" }
	title = serbia.57.t
	desc = serbia.57.d

	is_triggered_only = yes

	option = {
		name = serbia.57.a # We will remember this
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
		add_political_power = 60
		remove_decision = SER_Purchase_HMS_Lion
	}
}
country_event = { # Final step
	id = serbia.58
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.58" }
	title = serbia.58.t
	desc = serbia.58.d
	picture = GFX_report_event_ser_Stojadinovic_power

	is_triggered_only = yes

	option = {
		name = serbia.58.a
		add_stability = 0.1
		hidden_effect = {
			set_party_name = {
				ideology = paternal_autocrat
				long_name = SER_sarez_party_long
				name = SER_sarez_party
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = SER_sarez_party_long
				name = SER_sarez_party
			}
			set_party_name = {
				ideology = social_conservative
				long_name = SER_social_conservative_party_long
				name = SER_social_conservative_party
			}
			set_party_name = {
				ideology = market_liberal
				long_name = SER_sarez_breakaway_party_long
				name = SER_sarez_breakaway_party
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.25
			}
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.25
		}
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Milan_Stojadinovic_hog_pau
				SER_Aleksandar_Cincar_Markovic_for_pau
				SER_Dusan_Letica_eco_ade
				SER_Milan_Srskic_sec_ade
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
			add_to_coalition = yes
			create_country_leader = {
				name = "Milan Stojadinović"
				desc = "POLITICS_MILAN_STOJADINOVIC_DESC"
				picture = "Portrait_SER_Milan_Stojadinovic.png"
				expire = "1965.1.1"
				ideology = paternal_autocrat_subtype
				traits = {
					SER_vodja
				}
			}
			create_country_leader = {
				name = "Milan Gavrilović"
				picture = "Portrait_SER_Milan_Gavrilovic.png"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
			}
		}
		SER_recalculate_konspiracija = yes
	}
	option = {
		name = serbia.58.b
		add_stability = 0.1
		hidden_effect = {
			set_party_name = {
				ideology = paternal_autocrat
				long_name = SER_sarez_party_long
				name = SER_sarez_party
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = SER_sarez_party_long
				name = SER_sarez_party
			}
			set_party_name = {
				ideology = social_conservative
				long_name = SER_social_conservative_party_long
				name = SER_social_conservative_party
			}
			set_party_name = {
				ideology = market_liberal
				long_name = SER_sarez_breakaway_party_long
				name = SER_sarez_breakaway_party
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.25
			}
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.25
		}
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		create_country_leader = {
			name = "Petar II"
			desc = "POLITICS_PETAR_II_DESC"
			picture = "Portrait_SER_Peter_II.png"
			expire = "1965.1.1"
			ideology = paternal_autocrat_subtype
		}
		add_ideas = SER_Petar_II_stojadinovic_puppet
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Milan_Stojadinovic_hog_pau
				SER_Aleksandar_Cincar_Markovic_for_pau
				SER_Dusan_Letica_eco_ade
				SER_Milan_Srskic_sec_ade
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
			add_to_coalition = yes
			create_country_leader = {
				name = "Milan Gavrilović"
				picture = "Portrait_SER_Milan_Gavrilovic.png"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
			}
			drop_cosmetic_tag = yes
		}
		SER_recalculate_konspiracija = yes
	}
}
country_event = { # People swayed
	id = serbia.59
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.59" }
	title = serbia.59.t
	desc = serbia.59.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.59.a
		if = {
			limit = {
				check_variable = { SER_socialist_control = 3 }
			}
			activate_mission = SER_complete_the_revolution
		}
	}
}
country_event = { # Army controlled
	id = serbia.60
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.60" }
	title = serbia.60.t
	desc = serbia.60.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.60.a
		if = {
			limit = {
				check_variable = { SER_socialist_control = 3 }
			}
			activate_mission = SER_complete_the_revolution
		}
	}
}
country_event = { # Parties integrated
	id = serbia.61
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.61" }
	title = serbia.61.t
	desc = serbia.61.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.61.a
		if = {
			limit = {
				check_variable = { SER_socialist_control = 3 }
			}
			activate_mission = SER_complete_the_revolution
		}
	}
}
country_event = { # The Revolution Successful
	id = serbia.62
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.62" }
	title = serbia.62.t
	desc = serbia.62.d
	picture = GFX_report_event_generic_happy_crowd

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.62.a
		add_manpower = -1000
		add_political_power = -50
		add_stability = -0.2
		hidden_effect = {
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 160001
						has_id = 160002
						has_id = 160003
						has_id = 160004
						has_id = 160005
					}
				}
				set_nationality = XXA
			}
			set_party_name = {
				ideology = national_populist
				long_name = SER_national_populist_party_puppet_long
				name = SER_national_populist_party_puppet
			}
			kill_ideology_leader = national_populist
			create_country_leader = {
				name = "Milan Nedić"
				picture = "Portrait_SER_Milan_Nedic.png"
				expire = "1965.1.1"
				ideology = national_populist_subtype
			}
			remove_all_ministers = yes
			add_ideas = {
				SER_Sima_Markovic_hog_rso
				SER_Stanoje_Simic_for_rso
				SER_Filip_Filipovic_eco_rso
				SER_Aleksandar_Rankovic_sec_tot
			}
			end_coalition = yes
			set_country_flag = Dusan_Simovic_dead
			set_country_flag = Milan_Nedic_dead
			set_country_flag = Milutin_Nedic_dead
			set_country_flag = Bogoljub_Ilic_dead
			set_country_flag = Dragoljub_Mihailovic_dead
			set_politics = {
				ruling_party = radical_socialist
				elections_allowed = no
			}
		}
		custom_effect_tooltip = SER_several_generals_shot_tt
		remove_ideas = SER_konspiracija_idea
		add_ideas = SER_revolution_purged_army
		if = {
			limit = {
				NOT = {
					has_completed_focus = SER_Third_Revolution
				}
			}
			complete_national_focus = SER_Third_Revolution
		}
		mark_focus_tree_layout_dirty = yes
	}
}
country_event = { # Collapse of the SRP
	id = serbia.63
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.63" }
	title = serbia.63.t
	desc = serbia.63.d
	picture = GFX_report_event_generic_happy_crowd

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.63.a
		add_stability = -0.1
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.3
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.15
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
		hidden_effect = {
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:radical_socialist }
			add_to_coalition = yes
			create_country_leader = {
				name = "Trifun Kaclerović"
				desc = "POLITICS_TRISA_KACLEROVIC_DESC"
				picture = "Portrait_SER_Trifun_Kaclerovic.png"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
			}
			create_country_leader = {
				name = "Vukašin Marković"
				picture = "Portrait_SER_Vukasin_Markovic.png"
				expire = "1965.1.1"
				ideology = radical_socialist_subtype
			}
			drop_cosmetic_tag = yes
			clr_country_flag = SER_curbed_konspiracija_control_flag
			set_party_name = {
				ideology = social_democrat
				long_name = SER_social_democrat_party_long
				name = SER_social_democrat_party
			}
			set_party_name = {
				ideology = radical_socialist
				long_name = SER_radical_socialist_breakaway_party_long
				name = SER_radical_socialist_breakaway_party
			}
			set_party_name = {
				ideology = syndicalist
				long_name = SER_syndicalist_party_long
				name = SER_syndicalist_breakaway_party
			}
			set_party_name = {
				ideology = totalist
				long_name = SER_totalist_party_long
				name = SER_totalist_breakaway_party
			}
		}
		SER_recalculate_konspiracija = yes
	}
}
country_event = { # The radical monarchists
	id = serbia.64
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.64" }
	title = serbia.64.t
	desc = serbia.64.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.64.a
		add_stability = -0.05
		create_country_leader = {
			name = "Dimitrije Ljotić"
			picture = "Portrait_SER_Trifun_Kaclerovic.png"
			expire = "1965.1.1"
			ideology = national_populist_subtype
		}
		set_party_name = {
			ideology = national_populist
			long_name = SER_radical_monarchist_party_long
			name = SER_radical_monarchist_party
		}
		hidden_effect = {
			set_temp_variable = { coalition_partner_var = token:national_populist }
			add_to_coalition = yes
		}
	}
}
country_event = { # Dictatorship of 6 November
	id = serbia.65
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.65" }
	title = serbia.65.t
	desc = serbia.65.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		has_government = paternal_autocrat
	}

	option = {
		name = serbia.65.a
		if = {
			limit = {
				has_completed_focus = SER_anti_republican_crackdown
				has_completed_focus = SER_rehabilitate_officers
				has_completed_focus = SER_monarchist_coalition
			}
			add_stability = 0.1
		}
		else_if = {
			limit = {
				NOT = {
					AND = {
						has_completed_focus = SER_anti_republican_crackdown
						has_completed_focus = SER_rehabilitate_officers
						has_completed_focus = SER_monarchist_coalition
					}
				}
			}
			add_stability = -0.05
		}
		set_party_name = {
			ideology = paternal_autocrat
			long_name = SER_royal_paternal_autocrat_party_long
			name = SER_royal_paternal_autocrat_party
		}
		hidden_effect = {
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = SER_royal_paternal_autocrat_party_long
				name = SER_royal_paternal_autocrat_party
			}
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
			add_to_coalition = yes
			country_event = { id = serbia.67 days = 90 random_days = 30 }
		}
		complete_national_focus = SER_November_Sixth_Dictatorship
		country_event = serbia.66
		set_variable = { SER_zivkovic_foci = 0 }
		set_variable = { SER_ljotic_foci = 0 }
	}
}
country_event = { # Serbian Radical Peasants' Democracy
	id = serbia.66
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.66" }
	title = serbia.66.t
	desc = serbia.66.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.66.a
	}
}
country_event = { # Royalists flavor
	id = serbia.67
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event serbia.67"
		hidden_effect = {
			country_event = { id = serbia.67 days = 90 random_days = 30 }
		}
	}
	title = serbia.67.t
	desc = {
		text = serbia.67.d1 # Z below L
		trigger = {
			set_temp_variable = { SER_total_foci = SER_zivkovic_foci }
			add_to_temp_variable = { SER_total_foci = 1 }
			check_variable = { SER_total_foci < SER_ljotic_foci }
		}
	}
	desc = {
		text = serbia.67.d2
		trigger = {
			set_temp_variable = { SER_total_foci = SER_zivkovic_foci }
			add_to_temp_variable = { SER_total_foci = 1 }
			check_variable = { SER_total_foci < SER_ljotic_foci }
		}
	}
	desc = {
		text = serbia.67.d3
		trigger = {
			set_temp_variable = { SER_total_foci = SER_zivkovic_foci }
			add_to_temp_variable = { SER_total_foci = 1 }
			check_variable = { SER_total_foci < SER_ljotic_foci }
		}
	}
	desc = {
		text = serbia.67.d4 # L below Z
		trigger = {
			set_temp_variable = { SER_total_foci = SER_ljotic_foci }
			add_to_temp_variable = { SER_total_foci = 1 }
			check_variable = { SER_total_foci < SER_zivkovic_foci }
		}
	}
	desc = {
		text = serbia.67.d5
		trigger = {
			set_temp_variable = { SER_total_foci = SER_ljotic_foci }
			add_to_temp_variable = { SER_total_foci = 1 }
			check_variable = { SER_total_foci < SER_zivkovic_foci }
		}
	}
	desc = {
		text = serbia.67.d6
		trigger = {
			set_temp_variable = { SER_total_foci = SER_ljotic_foci }
			add_to_temp_variable = { SER_total_foci = 1 }
			check_variable = { SER_total_foci < SER_zivkovic_foci }
		}
	}
	desc = {
		text = serbia.67.d7 # Roughly equal
		trigger = {
			OR = {
				check_variable = { SER_ljotic_foci = SER_zivkovic_foci }
				AND = {
					set_temp_variable = { SER_total_foci = SER_ljotic_foci }
					add_to_temp_variable = { SER_total_foci = 1 }
					check_variable = { SER_total_foci = SER_zivkovic_foci }
				}
				AND = {
					set_temp_variable = { SER_total_foci = SER_zivkovic_foci }
					add_to_temp_variable = { SER_total_foci = 1 }
					check_variable = { SER_total_foci = SER_ljotic_foci }
				}
			}
		}
	}
	# this was more complicated than I thought, jfc
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		name = serbia.67.a
		trigger = {
			set_temp_variable = { SER_total_foci = SER_ljotic_foci }
			add_to_temp_variable = { SER_total_foci = 1 }
			check_variable = { SER_total_foci < SER_zivkovic_foci }
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.02
		}
		add_stability = 0.01
	}
	option = {
		name = serbia.67.b
		trigger = {
			set_temp_variable = { SER_total_foci = SER_zivkovic_foci }
			add_to_temp_variable = { SER_total_foci = 1 }
			check_variable = { SER_total_foci < SER_ljotic_foci }
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.02
		}
		add_stability = 0.01
	}
	option = {
		name = serbia.67.c
		trigger = {
			OR = {
				check_variable = { SER_ljotic_foci = SER_zivkovic_foci }
				AND = {
					set_temp_variable = { SER_total_foci = SER_ljotic_foci }
					add_to_temp_variable = { SER_total_foci = 1 }
					check_variable = { SER_total_foci = SER_zivkovic_foci }
				}
				AND = {
					set_temp_variable = { SER_total_foci = SER_zivkovic_foci }
					add_to_temp_variable = { SER_total_foci = 1 }
					check_variable = { SER_total_foci = SER_ljotic_foci }
				}
			}
		}
		add_stability = -0.02
	}
	# I hope alp doesn't skin me or something
}
country_event = { # March Coup Proposal
	id = serbia.68
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.68" }
	title = serbia.68.t
	desc = serbia.68.d
	picture = GFX_report_event_yugoslavian_king_peter

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		has_government = paternal_autocrat
		has_idea = SER_Petar_II_regency
		has_country_flag = SER_petar_anime_protagonist
		check_variable = { SER_petar_score = 2 }
		OR = {
			check_variable = { SER_ljotic_foci = SER_zivkovic_foci }
			AND = {
				set_temp_variable = { SER_total_foci = SER_ljotic_foci }
				add_to_temp_variable = { SER_total_foci = 1 }
				check_variable = { SER_total_foci = SER_zivkovic_foci }
			}
			AND = {
				set_temp_variable = { SER_total_foci = SER_zivkovic_foci }
				add_to_temp_variable = { SER_total_foci = 1 }
				check_variable = { SER_total_foci = SER_ljotic_foci }
			}
		}
		SER_has_not_founded_yugoslavia = yes
	}

	option = {
		name = serbia.68.a
		set_party_name = {
			ideology = authoritarian_democrat
			long_name = SER_national_populist_party_puppet_long
			name = SER_national_populist_party_puppet
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		hidden_effect = {
			create_country_leader = {
				name = "Petar II"
				picture = "Portrait_SER_Peter_II.png"
				desc = "POLITICS_PETAR_II_DESC"
				expire = "1965.1.1"
				ideology = authoritarian_democrat_subtype
				traits = {
					SER_petar_democracy
				}
			}
			country_event = { id = serbia.69 days = 7 }
		}
	}
	option = {
		name = serbia.68.b
		clr_country_flag = SER_petar_anime_protagonist
	}
}
country_event = { # March Coup
	id = serbia.69
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.69" }
	title = serbia.69.t
	desc = serbia.69.d
	picture = GFX_report_event_ser_monarchy_restored

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.69.a
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = no
		}
		set_party_name = {
			ideology = social_liberal
			long_name = SER_democratic_party_long
			name = SER_democratic_party
		}
		add_stability = -0.05
		remove_ideas = SER_Petar_II_regency
		complete_national_focus = SER_March_Conspiracy
		hidden_effect = {
			random_unit_leader = {
				limit = {
					has_id = 590
				}
				set_nationality = XXA
			}
			set_party_name = {
				ideology = social_conservative
				long_name = SER_market_liberal_party_long
				name = SER_market_liberal_party
			}
			create_country_leader = {
				name = "Petar II"
				picture = "Portrait_SER_Peter_II.png"
				desc = "POLITICS_PETAR_II_DESC"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
				traits = {
					SER_petar_democracy
				}
			}
			create_country_leader = {
				name = "Petar II"
				picture = "Portrait_SER_Peter_II.png"
				desc = "POLITICS_PETAR_II_DESC"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
				traits = {
					SER_petar_democracy
				}
			}
			create_country_leader = {
				name = "Petar II"
				picture = "Portrait_SER_Peter_II.png"
				desc = "POLITICS_PETAR_II_DESC"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
				traits = {
					SER_petar_democracy
				}
			}
			end_coalition = yes
			remove_all_ministers = yes
			#SER_remove_royalist_ideas = yes
			add_ideas = {
				SER_Dusan_Simovic_hog_ade
				SER_Momcilo_Nincic_for_mli
				SER_Dusan_Letica_eco_ade
				SER_Milan_Srskic_sec_ade
			}
			country_event = { id = serbia.70 days = 10 }
		}
		mark_focus_tree_layout_dirty = yes
	}
}
country_event = { #Forming a government
	id = serbia.70
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.70" }
	title = serbia.70.t
	desc = serbia.70.d
	picture = GFX_report_event_ser_monarchy_restored

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.70.a
		add_popularity = {
			ideology = social_liberal
			popularity = 0.15
		}
		add_stability = 0.1
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = social_liberal
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Mihailo_Ilic_hog_sli
				SER_Mladen_Zujovic_for_sli
				SER_Ilija_Sumenkovic_eco_sli
				SER_Kosta_Kumanudi_sec_sli
			}
			end_coalition = yes
		}
	}
	option = {
		name = serbia.70.b
		add_popularity = {
			ideology = social_conservative
			popularity = 0.15
		}
		add_stability = 0.1
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = social_conservative
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Nikola_Uzunovic_hog_mli
				SER_Momcilo_Nincic_for_mli
				SER_Ninko_Peric_eco_mli
				SER_Milos_Trifunovic_sec_mli
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:market_liberal }
			add_to_coalition = yes
		}
	}
}
country_event = { #Kingdom Elections
	id = serbia.71
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.71" }
	title = serbia.71.t
	desc = serbia.71.d
	picture = GFX_report_event_ser_election

	is_triggered_only = yes

	trigger = {
		has_country_flag = SER_has_completed_1936_elc
		has_elected_government = yes
		has_country_leader = {
			name = "Petar II"
			ruling_only = yes
		}
		SER_has_founded_yugoslavia = no
	}

	option = {
		name = serbia.71.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_government = social_conservative
			}
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.05
		}
		set_politics = {
			ruling_party = social_liberal
			election_frequency = 48
			elections_allowed = yes
		}
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Mihailo_Ilic_hog_sli
				SER_Mladen_Zujovic_for_sli
				SER_Ilija_Sumenkovic_eco_sli
				SER_Kosta_Kumanudi_sec_sli
			}
			end_coalition = yes
		}
	}
	option = {
		name = serbia.71.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_government = social_liberal
			}
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.05
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 48
			elections_allowed = yes
		}
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Nikola_Uzunovic_hog_mli
				SER_Momcilo_Nincic_for_mli
				SER_Ninko_Peric_eco_mli
				SER_Milos_Trifunovic_sec_mli
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:market_liberal }
			add_to_coalition = yes
		}
	}
}
country_event = { # King Peter reaches maturity
	id = serbia.72
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.72" }
	title = serbia.72.t
	desc = serbia.72.d
	picture = GFX_report_event_yugoslavian_king_peter

	is_triggered_only = yes
	trigger = {
		has_idea = SER_Petar_II_regency
		has_government = paternal_autocrat
	}
	fire_only_once = yes

	option = {
		name = serbia.72.a
		trigger = {
			check_variable = { SER_zivkovic_foci < SER_ljotic_foci }
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.1
		}
		add_stability = 0.05
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
		}
		remove_ideas = SER_Petar_II_regency
		if = {
			limit = {
				has_completed_focus = SER_ljotic_constitution
			}
			create_country_leader = {
				name = "Petar II"
				picture = "Portrait_SER_Peter_II.png"
				desc = "POLITICS_PETAR_II_DESC"
				expire = "1965.1.1"
				ideology = national_populist_subtype
				traits = {
					SER_petar_natpop
				}
			}
			hidden_effect = {
				create_country_leader = {
					name = "Petar II"
					picture = "Portrait_SER_Peter_II.png"
					desc = "POLITICS_PETAR_II_DESC"
					expire = "1965.1.1"
					ideology = paternal_autocrat_subtype
					traits = {
						SER_petar_natpop
					}
				}
				create_country_leader = {
					name = "Petar II"
					picture = "Portrait_SER_Peter_II.png"
					desc = "POLITICS_PETAR_II_DESC"
					expire = "1965.1.1"
					ideology = authoritarian_democrat_subtype
					traits = {
						SER_petar_natpop
					}
				}
			}
		}
		else = {
			create_country_leader = {
				name = "Petar II"
				picture = "Portrait_SER_Peter_II.png"
				desc = "POLITICS_PETAR_II_DESC"
				expire = "1965.1.1"
				ideology = national_populist_subtype
			}
			hidden_effect = {
				create_country_leader = {
					name = "Petar II"
					picture = "Portrait_SER_Peter_II.png"
					desc = "POLITICS_PETAR_II_DESC"
					expire = "1965.1.1"
					ideology = paternal_autocrat_subtype
				}
				create_country_leader = {
					name = "Petar II"
					picture = "Portrait_SER_Peter_II.png"
					desc = "POLITICS_PETAR_II_DESC"
					expire = "1965.1.1"
					ideology = authoritarian_democrat_subtype
				}
			}
		}
		hidden_effect = {
			if = {
				limit = {
					SER_has_founded_yugoslavia = yes
				}
				set_party_name = {
					ideology = authoritarian_democrat
					long_name = SER_YUG_royal_paternal_autocrat_party_long
					name = SER_YUG_royal_paternal_autocrat_party
				}
				set_party_name = {
					ideology = paternal_autocrat
					long_name = SER_YUG_royal_paternal_autocrat_party_long
					name = SER_YUG_royal_paternal_autocrat_party
				}
				set_party_name = {
					ideology = national_populist
					long_name = SER_YUG_royal_paternal_autocrat_party_long
					name = SER_YUG_royal_paternal_autocrat_party
				}
			}
			else = {
				set_party_name = {
					ideology = national_populist
					long_name = SER_royal_paternal_autocrat_party_long
					name = SER_royal_paternal_autocrat_party
				}
				set_party_name = {
					ideology = paternal_autocrat
					long_name = SER_royal_paternal_autocrat_party_long
					name = SER_royal_paternal_autocrat_party
				}
				set_party_name = {
					ideology = authoritarian_democrat
					long_name = SER_royal_paternal_autocrat_party_long
					name = SER_royal_paternal_autocrat_party
				}
			}
			remove_all_ministers = yes
			add_ideas = {
				SER_Dimitrije_Ljotic_hog_npo
				SER_Punisa_Racic_for_npo
				SER_Mihailo_Olcan_eco_npo
				SER_Velibor_Jonic_sec_npo
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:paternal_autocrat }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
			add_to_coalition = yes
		}
	}
	option = {
		name = serbia.72.b
		trigger = {
			check_variable = {
				var = SER_zivkovic_foci
				value = SER_ljotic_foci
				compare = greater_than_or_equals
			}
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.1
		}
		add_stability = 0.05
		remove_ideas = SER_Petar_II_regency
		if = {
			limit = {
				has_completed_focus = SER_foster_elite_cooperation
			}
			create_country_leader = {
				name = "Petar II"
				picture = "Portrait_SER_Peter_II.png"
				desc = "POLITICS_PETAR_II_DESC"
				expire = "1965.1.1"
				ideology = paternal_autocrat_subtype
				traits = {
					SER_petar_military
				}
			}
			hidden_effect = {
				create_country_leader = {
					name = "Petar II"
					picture = "Portrait_SER_Peter_II.png"
					desc = "POLITICS_PETAR_II_DESC"
					expire = "1965.1.1"
					ideology = national_populist_subtype
					traits = {
						SER_petar_military
					}
				}
				create_country_leader = {
					name = "Petar II"
					picture = "Portrait_SER_Peter_II.png"
					desc = "POLITICS_PETAR_II_DESC"
					expire = "1965.1.1"
					ideology = authoritarian_democrat_subtype
					traits = {
						SER_petar_military
					}
				}
			}
		}
		else = {
			create_country_leader = {
				name = "Petar II"
				picture = "Portrait_SER_Peter_II.png"
				desc = "POLITICS_PETAR_II_DESC"
				expire = "1965.1.1"
				ideology = paternal_autocrat_subtype
			}
			hidden_effect = {
				create_country_leader = {
					name = "Petar II"
					picture = "Portrait_SER_Peter_II.png"
					desc = "POLITICS_PETAR_II_DESC"
					expire = "1965.1.1"
					ideology = national_populist_subtype
				}
				create_country_leader = {
					name = "Petar II"
					picture = "Portrait_SER_Peter_II.png"
					desc = "POLITICS_PETAR_II_DESC"
					expire = "1965.1.1"
					ideology = authoritarian_democrat_subtype
				}
			}
		}
		hidden_effect = {
			if = {
				limit = {
					SER_has_founded_yugoslavia = yes
				}
				set_party_name = {
					ideology = authoritarian_democrat
					long_name = SER_YUG_royal_paternal_autocrat_party_long
					name = SER_YUG_royal_paternal_autocrat_party
				}
				set_party_name = {
					ideology = paternal_autocrat
					long_name = SER_YUG_royal_paternal_autocrat_party_long
					name = SER_YUG_royal_paternal_autocrat_party
				}
				set_party_name = {
					ideology = national_populist
					long_name = SER_YUG_royal_paternal_autocrat_party_long
					name = SER_YUG_royal_paternal_autocrat_party
				}
			}
			else = {
				set_party_name = {
					ideology = national_populist
					long_name = SER_royal_paternal_autocrat_party_long
					name = SER_royal_paternal_autocrat_party
				}
				set_party_name = {
					ideology = paternal_autocrat
					long_name = SER_royal_paternal_autocrat_party_long
					name = SER_royal_paternal_autocrat_party
				}
				set_party_name = {
					ideology = authoritarian_democrat
					long_name = SER_royal_paternal_autocrat_party_long
					name = SER_royal_paternal_autocrat_party
				}
			}
			remove_all_ministers = yes
			add_ideas = {
				SER_Petar_Zivkovic_hog_pau
				SER_Aleksandar_Cincar_Markovic_for_pau
				SER_Josif_Kostic_eco_pau
				SER_Bozidar_Maksimovic_sec_pau
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:national_populist }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
			add_to_coalition = yes
		}
	}
}
country_event = { # Nedić Brothers Coup
	id = serbia.73
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.73" }
	title = serbia.73.t
	desc = serbia.73.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.73.a
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.25
		}
		set_party_name = {
			ideology = paternal_autocrat
			long_name = SER_national_populist_party_puppet_long
			name = SER_national_populist_party_puppet
		}
		create_country_leader = {
			name = "Milan Nedić"
			picture = "Portrait_SER_Milan_Nedic.png"
			expire = "1965.1.1"
			ideology = paternal_autocrat_subtype
		}
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		add_stability = -0.25
		remove_ideas = SER_konspiracija_idea
		remove_dynamic_modifier = { modifier = YUG_serbia_dynamic_modifier }
		remove_dynamic_modifier = { modifier = YUG_croatia_dynamic_modifier }
		remove_dynamic_modifier = { modifier = YUG_bosnia_dynamic_modifier }
		remove_dynamic_modifier = { modifier = YUG_slovenia_dynamic_modifier }
		remove_dynamic_modifier = { modifier = YUG_other_dynamic_modifier }
		hidden_effect = {
			remove_mission = YUG_rounds_system_mission
			YUG_reset_yugoslavia_missions = yes
			set_party_name = {
				ideology = national_populist
				long_name = SER_national_populist_party_puppet_long
				name = SER_national_populist_party_puppet
			}
			create_country_leader = {
				name = "Milan Nedić"
				picture = "Portrait_SER_Milan_Nedic.png"
				expire = "1965.1.1"
				ideology = national_populist_subtype
			}
			end_coalition = yes
			remove_all_ministers = yes
			drop_cosmetic_tag = yes
			SER_remove_revolut_socialist_ideas = yes
			SER_remove_radical_ideas = yes
			SER_remove_republican_ideas = yes
			remove_ideas = SER_puppet_show
			clr_country_flag = YUG_usy_formed
			clr_country_flag = YUG_three_named_nation_formed
			clr_country_flag = YUG_balkan_socialist_federation_formed
			clr_country_flag = YUG_integral_yugoslavia_formed
			add_ideas = {
				SER_Bogoljub_Ilic_hog_pau
				SER_Aleksandar_Cincar_Markovic_for_pau
				SER_Dusan_Letica_eco_ade
				SER_Milan_Acimovic_sec_pau
			}
			random_unit_leader = {
				limit = {
					has_id = 191822
				}
				set_nationality = XXA
			}
			if = {
				limit = {
					NOT = {
						has_unit_leader = 160001
					}
				}
				XXA = {
					random_unit_leader = {
						limit = {
							has_id = 160001
						}
						set_nationality = SER
					}
				}
			}
			country_event = { id = serbia.74 days = 7 }
		}
		mark_focus_tree_layout_dirty = yes
	}
}
country_event = { # Rebellions in the North
	id = serbia.74
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event serbia.74"
		hidden_effect = {
			YUG_spawn_slovenia_rebellion = yes
			YUG_spawn_croatia_rebellion = yes
			YUG_spawn_bosnia_rebellion = yes
		}
	}
	title = serbia.74.t
	desc = serbia.74.d
	picture =  GFX_report_event_ser_slovene_rebellion

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.74.a
		clr_country_flag = SER_keeping_the_pact
		if = {
			limit = {
				is_in_belgrade_pact = yes
			}
			every_country = {
				limit = {
					is_in_belgrade_pact = yes
				}
				leave_faction = yes
			}
		}
		else_if = {
			limit = {
				is_in_faction = yes
			}
			leave_faction = yes
		}
		effect_tooltip = {
			declare_war_on = {
				target = SLV
				type = annex_everything
			}
			declare_war_on = {
				target = CRO
				type = annex_everything
			}
			declare_war_on = {
				target = BOS
				type = annex_everything
			}
		}
		hidden_effect = {
			add_state_claim = 104
			add_state_claim = 163
			add_state_claim = 794
			country_event = { id = serbia.75 days = 7 }
			division_template = {
				name = "Srpsko domobranstvo"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
				}
			}
			104 = {
				create_unit = {
					division = "division_template = \"Srpsko domobranstvo\" division_name = \"Prečani Serbian Home Guard\" start_experience_factor = 0.1"
					allow_spawning_on_enemy_provs = yes
					owner = SER
					prioritize_location = 6983
				}
			}
		}
	}
}
country_event = { # Socialist Serbia rises
	id = serbia.75
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event serbia.75"
		hidden_effect = {
			YUG_spawn_socialist_rebellion = yes
		}
	}
	title = serbia.75.t
	desc = serbia.75.d
	picture = GFX_report_event_ser_left_rebellion

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serbia.75.a
		effect_tooltip = {
			transfer_units_fraction = {
				target = event_target:ASOS_uprising
				size = 0.3
				navy_ratio = 0
				keep_unit_leaders_trigger = { always = yes }
			}
			declare_war_on = {
				target = event_target:ASOS_uprising
				type = annex_everything
			}
		}
	}
}

# hidden event to spawn the Chetnik divisions (donotlog)
country_event = {
	id = serbia.998
	hidden = yes

	is_triggered_only = yes

	option = {
		SER_spawn_drina_divisions = yes
	}
}

# hidden event to clear the Congress arrays
country_event = {
	id = serbia.999
	immediate = { log = "[GetDateText]: [Root.GetName]: event serbia.999" }
	hidden = yes

	is_triggered_only = yes

	option = {
		clr_country_flag = SER_war_against_austria
		clr_country_flag = SER_diplomacy_with_austria
		clear_array = SER.SER_attending_congress
		clear_array = SER.SER_will_attack_austria
		every_other_country = {
			limit = { has_country_flag = SER_will_attack_austria }
			clr_country_flag = SER_will_attack_austria
		}
	}
}

#############
# Events for Yugoslavia mechanics
#############

country_event = { # Rebellions in the North
	id = yugmechanics.1
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event yugmechanics.1"
		hidden_effect = {
			YUG_spawn_croatia_rebellion = yes
		}
	}
	title = yugmechanics.1.t
	desc = yugmechanics.1.d
	picture =  GFX_report_event_ser_croat_rebellion

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugmechanics.1.a
		effect_tooltip = {
			declare_war_on = {
				target = CRO
				type = annex_everything
			}
		}
		set_temp_variable = { checked_state = 2 } # Croatia
		set_temp_variable = { ethnic_situation = 5 }
		custom_effect_tooltip = YUG_croatia_improve_relations_tt
		YUG_update_ethnic_situation = yes
	}
}
country_event = { # Rebellions in the North
	id = yugmechanics.2
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event yugmechanics.2"
		hidden_effect = {
			YUG_spawn_bosnia_rebellion = yes
		}
	}
	title = yugmechanics.2.t
	desc = yugmechanics.2.d
	picture =  GFX_report_event_ser_bosnian_rebellion

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugmechanics.2.a
		effect_tooltip = {
			declare_war_on = {
				target = BOS
				type = annex_everything
			}
		}
		set_temp_variable = { checked_state = 3 } # Bosnia
		set_temp_variable = { ethnic_situation = 5 }
		custom_effect_tooltip = YUG_bosnia_improve_relations_tt
		YUG_update_ethnic_situation = yes
	}
}
country_event = { # Rebellions in the North
	id = yugmechanics.3
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event yugmechanics.3"
		hidden_effect = {
			YUG_spawn_slovenia_rebellion = yes
		}
	}
	title = yugmechanics.3.t
	desc = yugmechanics.3.d
	picture =  GFX_report_event_ser_slovene_rebellion

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugmechanics.3.a
		effect_tooltip = {
			declare_war_on = {
				target = SLV
				type = annex_everything
			}
		}
		set_temp_variable = { checked_state = 4 } # Slovenia
		set_temp_variable = { ethnic_situation = 5 }
		custom_effect_tooltip = YUG_slovenia_improve_relations_tt
		YUG_update_ethnic_situation = yes
	}
}
country_event = { # Random event pulse
	id = yugmechanics.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugmechanics.4" }

	is_triggered_only = yes
	hidden = yes

	trigger = {
		SER_has_founded_yugoslavia = yes
		NOT = {
			has_completed_focus = SER_YUG_brotherhood_and_unity
		}
	}

	option = {
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_country_flag = YUG_flavor_event_1_fired
			}
		}
		set_country_flag = { flag = YUG_flavor_event_1 days = 7 value = 1 }
		set_country_flag = { flag = YUG_flavor_event_1_fired days = 271 value = 1 }
		country_event = yugoslavia.16
	}
	option = {
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_country_flag = YUG_flavor_event_2_fired
			}
		}
		set_country_flag = { flag = YUG_flavor_event_2 days = 7 value = 1 }
		set_country_flag = { flag = YUG_flavor_event_2_fired days = 271 value = 1 }
		country_event = yugoslavia.16
	}
	option = {
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_country_flag = YUG_flavor_event_3_fired
			}
		}
		set_country_flag = { flag = YUG_flavor_event_3 days = 7 value = 1 }
		set_country_flag = { flag = YUG_flavor_event_3_fired days = 271 value = 1 }
		country_event = yugoslavia.16
	}
	option = {
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_country_flag = YUG_flavor_event_4_fired
			}
		}
		set_country_flag = { flag = YUG_flavor_event_4 days = 7 value = 1 }
		set_country_flag = { flag = YUG_flavor_event_4_fired days = 271 value = 1 }
		country_event = yugoslavia.16
	}
	option = {
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_country_flag = YUG_flavor_event_5_fired
			}
		}
		set_country_flag = { flag = YUG_flavor_event_5 days = 7 value = 1 }
		set_country_flag = { flag = YUG_flavor_event_5_fired days = 271 value = 1 }
		country_event = yugoslavia.16
	}
	option = {
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_country_flag = YUG_flavor_event_6_fired
			}
		}
		set_country_flag = { flag = YUG_flavor_event_6 days = 7 value = 1 }
		set_country_flag = { flag = YUG_flavor_event_6_fired days = 271 value = 1 }
		country_event = yugoslavia.16
	}
}

country_event = {
	id = yugmechanics.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugmechanics.6" }
	title = yugmechanics.6.t
	desc = yugmechanics.6.d
	picture = GFX_report_event_yugoslavian_split

	is_triggered_only = yes

	option = {
		name = yugmechanics.6.a
	}
}
country_event = {
	id = yugmechanics.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugmechanics.7" }
	title = yugmechanics.7.t
	desc = yugmechanics.7.d
	picture = GFX_report_event_yugoslavian_split

	is_triggered_only = yes

	option = {
		name = yugmechanics.7.a
	}
}

###########################
# Puppet Serbia Events
###########################

country_event = { #Puppet Introduction
	id = serpuppet.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.1" }
	title = serpuppet.1.t
	desc = serpuppet.1.d
	picture = GFX_report_event_generic_diplomacy3
	trigger = {
		tag = SER
		is_subject_of = BUL
	}
	fire_only_once = yes

	option = {
		name = serpuppet.1.a
		complete_national_focus = SER_under_bulgarian_hegemony
	}
}
country_event = { #start of reforms
	id = serpuppet.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.2" }
	title = serpuppet.2.t
	desc = serpuppet.2.d
	picture = GFX_report_event_generic_diplomacy2

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = serpuppet.2.a
		hidden_effect = {
			set_variable = {
				var = ser_liberal
				value = 1
			}
			set_variable = {
				var = ser_autho
				value = 0
			}
			country_event = {
				id = serpuppet.3
				days = 7
			}
		}
	}
	option = {
		name = serpuppet.2.b
		hidden_effect = {
			set_variable = {
				var = ser_autho
				value = 1
			}
			set_variable = {
				var = ser_liberal
				value = 0
			}
			country_event = {
				id = serpuppet.3
				days = 7
			}
		}
	}
}
country_event = {
	id = serpuppet.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.3" }
	title = serpuppet.3.t
	desc = serpuppet.3.d
	picture = GFX_report_event_generic_diplomacy2

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = serpuppet.3.a
		hidden_effect = {
			add_to_variable = {
				var = ser_liberal
				value = 1
			}
			country_event = {
				id = serpuppet.4
				days = 7
			}
		}
	}
	option = {
		name = serpuppet.3.b
		hidden_effect = {
			add_to_variable = {
				var = ser_autho
				value = 1
			}
			country_event = {
				id = serpuppet.4
				days = 7
			}
		}
	}
}
country_event = {
	id = serpuppet.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.4" }
	title = serpuppet.4.t
	desc = serpuppet.4.d
	picture = GFX_report_event_generic_conference2

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = serpuppet.4.a
		hidden_effect = {
			add_to_variable = {
				var = ser_liberal
				value = 1
			}
			if = {
				limit = {
					check_variable = { ser_liberal > ser_autho }
				}
				country_event = {
					id = serpuppet.5
					days = 7
				}
			}
			else = {
                country_event = {
					id = serpuppet.6
					days = 7
				}
            }
		}
	}
	option = {
		name = serpuppet.4.b
		hidden_effect = {
			add_to_variable = {
				var = ser_autho
				value = 1
			}
			if = {
				limit = {
					check_variable = { ser_liberal < ser_autho }
				}
				country_event = {
					id = serpuppet.6
					days = 7
				}
			}
			else = {
                country_event = {
					id = serpuppet.5
					days = 7
				}
            }
		}
	}
}
country_event = { #liberal reforms
	id = serpuppet.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.5" }
	title = serpuppet.5.t
	desc = serpuppet.5.d
	fire_only_once = yes
	is_triggered_only = yes
	picture = GFX_report_event_generic_happy_crowd

	option = {
		name = serpuppet.5.a
		swap_ideas = {
			remove_idea = SER_progressive_reforms_base
			add_idea = SER_progressive_reforms_liberal
		}
	}
}
country_event = { #authoritarian reforms
	id = serpuppet.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.6" }
	title = serpuppet.6.t
	desc = serpuppet.6.d
	fire_only_once = yes
	is_triggered_only = yes
	picture = GFX_news_event_POL_military_takeover

	option = {
		name = serpuppet.6.a
		swap_ideas = {
			remove_idea = SER_progressive_reforms_base
			add_idea = SER_progressive_reforms_authoritarian
		}
	}
}
country_event = { ### leader meet independantist discretely
	id = serpuppet.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.7" }
	title = serpuppet.7.t
	desc = serpuppet.7.d
	picture = GFX_report_event_generic_diplomacy3
	is_triggered_only = yes
	fire_only_once = yes

	option = { ###meet him
		name = serpuppet.7.a
		ai_chance = {
			base = 75
		}
		hidden_effect = {
			set_variable = {
				var = ser_stealth ###discretion of the independance movement, if variable fall to 1, bulgaria annex SER, to 3 SER declares war. If SER reaches 8-9-10 they got a bonus of surprise.
				value = 5
			}
			country_event = {
				id = serpuppet.8
				days = 7
			}
		}
	}
	option = { ###no way, arrest him
		name = serpuppet.7.b
		ai_chance = {
			base = 25
		}
		add_political_power = 20
	}
}
country_event = { ### Involve members of the government
	id = serpuppet.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.8" }
	title = serpuppet.8.t
	desc = serpuppet.8.d
	picture = GFX_report_event_generic_diplomacy3
	is_triggered_only = yes
	fire_only_once = yes

	option = { ### no way, no confidence
		name = serpuppet.8.a
		custom_effect_tooltip = SER_NCR_gains_stealth
		hidden_effect = {
			add_to_variable = {
				var = ser_stealth
				value = 1
			}
			country_event = {
				id = serpuppet.9
				days = 7
			}
		}
	}
	option = { ### maybe we can gain some support
		name = serpuppet.8.b
		custom_effect_tooltip = SER_NCR_loses_stealth
		hidden_effect = {
			add_to_variable = {
				var = ser_stealth
				value = -1
			}
			country_event = {
				id = serpuppet.9
				days = 7
			}
		}
		add_political_power = 100
	}
}
country_event = { ### Involve generals ?
	id = serpuppet.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.9" }
	title = serpuppet.9.t
	desc = serpuppet.9.d
	picture = GFX_report_event_ROM_generals
	is_triggered_only = yes
	fire_only_once = yes

	option = { ### no way, no confidence
		name = serpuppet.9.a
		ai_chance = {
			base = 60
		}
		custom_effect_tooltip = SER_NCR_gains_stealth
		hidden_effect = {
			add_to_variable = {
				var = ser_stealth
				value = 1
			}
			country_event = {
				id = serpuppet.10
				days = 7
			}
		}
	}
	option = { ### maybe we can gain some support
		name = serpuppet.9.b
		ai_chance = {
			base = 40
		}
		custom_effect_tooltip = SER_NCR_loses_stealth
		hidden_effect = {
			add_to_variable = {
				var = ser_stealth
				value = -1
			}
			country_event = {
				id = serpuppet.10
				days = 7
			}
		}
		add_war_support = 0.1
		add_command_power = 100
	}
}
country_event = { ### Find military equipment
	id = serpuppet.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.10" }
	title = serpuppet.10.t
	desc = serpuppet.10.d
	picture = GFX_report_event_CHI_machinegun_fighting
	is_triggered_only = yes
	fire_only_once = yes

	option = { ### too risky
		name = serpuppet.10.a
		ai_chance = {
			base = 30
		}
		custom_effect_tooltip = SER_NCR_gains_stealth
		hidden_effect = {
			add_to_variable = {
				var = ser_stealth
				value = 1
			}
			country_event = {
				id = serpuppet.11
				days = 7
			}
		}
	}
	option = { ### it's necessary
		name = serpuppet.10.b
		ai_chance = {
			base = 70
		}
		custom_effect_tooltip = SER_NCR_greatly_loses_stealth
		hidden_effect = {
			add_to_variable = {
				var = ser_stealth
				value = -2
			}
			country_event = {
				id = serpuppet.11
				days = 7
			}
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 2000
			producer = AUS
		}
	}
}
country_event = { ### Find men
	id = serpuppet.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.10" }
	title = serpuppet.11.t
	desc = serpuppet.11.d
	picture = GFX_report_event_POR_demand_accept
	is_triggered_only = yes
	fire_only_once = yes

	option = { ### too risky
		name = serpuppet.11.a
		ai_chance = {
			base = 30
		}
		custom_effect_tooltip = SER_NCR_gains_stealth
		hidden_effect = {
			add_to_variable = {
				var = ser_stealth
				value = 1
			}
			country_event = {
				id = serpuppet.18
				days = 7
			}
		}
	}
	option = { ### it's necessary
		name = serpuppet.11.b
		ai_chance = {
			base = 70
		}
		custom_effect_tooltip = SER_NCR_greatly_loses_stealth
		hidden_effect = {
			add_to_variable = {
				var = ser_stealth
				value = -2
			}
			country_event = {
				id = serpuppet.18
				days = 7
			}
		}
		add_manpower = 4000
	}
}
country_event = { ### Hiding guns in Churches ?
	id = serpuppet.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.10" }
	title = serpuppet.18.t
	desc = serpuppet.18.d
	picture = GFX_report_event_IRE_church
	is_triggered_only = yes
	fire_only_once = yes

	option = { ### dewit
		name = serpuppet.18.a
		ai_chance = {
			base = 60
		}
		custom_effect_tooltip = SER_NCR_greatly_gains_stealth
		hidden_effect = {
			add_to_variable = {
				var = ser_stealth
				value = 2
			}
			country_event = {
				id = serpuppet.12
				days = 7
			}
		}
		add_political_power = -100
	}
	option = { ### don't touch to churches
		name = serpuppet.18.b
		ai_chance = {
			base = 40
		}
		custom_effect_tooltip = SER_NCR_loses_stealth
		hidden_effect = {
			add_to_variable = {
				var = ser_stealth
				value = -1
			}
			country_event = {
				id = serpuppet.12
				days = 7
			}
		}
	}
}
country_event = { ### recruit mercenaries ?
	id = serpuppet.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.10" }
	title = serpuppet.12.t
	desc = serpuppet.12.d
	picture = GFX_report_event_USA_desert_battle
	is_triggered_only = yes
	fire_only_once = yes

	option = { ### too risky
		name = serpuppet.12.a
		ai_chance = {
			base = 60
		}
		custom_effect_tooltip = SER_NCR_gains_stealth
		hidden_effect = {
			add_to_variable = {
				var = ser_stealth
				value = 1
			}
			country_event = {
				id = serpuppet.13
				days = 7
			}
		}
	}
	option = { ### we need them
		name = serpuppet.12.b
		ai_chance = {
			base = 40
		}
		custom_effect_tooltip = SER_NCR_greatly_loses_stealth
		hidden_effect = {
			add_to_variable = {
				var = ser_stealth
				value = -3
			}
			country_event = {
				id = serpuppet.13
				days = 7
			}
            107 = {
                create_unit = {
                    division = "division_template = \"Pesadijska Divizija\" start_experience_factor = 0.9 start_equipment_factor = 1"
                    owner = ROOT
                    count = 3
                }
            }
		}
	}
}
country_event = {
    id = serpuppet.13
    immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.13" }
    title = serpuppet.13.t
    desc = serpuppet.13.d

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = serpuppet.13.a
        hidden_effect = {
            if = {
                limit = {
                    check_variable = { ser_stealth > 7 }
                }
                country_event = {
                    id = serpuppet.14
                    days = 7
                }
            }
            else_if = {
                limit = {
                    check_variable = { ser_stealth < 4 }
                    check_variable = { ser_stealth > 1 }
                }
                country_event = {
                    id = serpuppet.15
                    days = 7
                }
            }
            else_if = {
                limit = {
                    check_variable = { ser_stealth < 2 }
                }
                country_event = {
                    id = serpuppet.16
                    days = 7
                }
            }
            else_if = {
				limit = {
                    check_variable = { ser_stealth > 3 }
                    check_variable = { ser_stealth < 8 }
				}
                country_event = {
                    id = serpuppet.17
                    days = 7
                }
            }
			BUL = {
				country_event = { id = bulgaria.67 days = 1 }
			}
        }
    }
}
country_event = { #
	id = serpuppet.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.14" }
	title = serpuppet.14.t
	desc = serpuppet.14.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = serpuppet.14.a
		hidden_effect = {
			BUL = {
				country_event = { id = bulgaria.68 hours = 1 }
			}
		}	
		add_ideas = SER_surprise_attack
		leave_faction = yes
		BUL = {
			end_puppet = SER
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SER
			}
		}
	}
}
country_event = { #conspiration failed
	id = serpuppet.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.15" }
	title = serpuppet.15.t
	desc = serpuppet.15.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = serpuppet.15.a
		add_political_power = -100
	}
}
country_event = { #
	id = serpuppet.16
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.16" }
	title = serpuppet.16.t
	desc = serpuppet.16.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = serpuppet.16.a
		hidden_effect = {
			BUL = {
				country_event = { id = bulgaria.68 hours = 1 }
			}
		}
		leave_faction = yes
		BUL = {
			end_puppet = SER
			declare_war_on = {
				target = SER
				type = annex_everything
			}
		}
	}
}
country_event = { #
	id = serpuppet.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event serpuppet.17" }
	title = serpuppet.17.t
	desc = serpuppet.17.d
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = serpuppet.17.a
		hidden_effect = {
			BUL = {
				country_event = { id = bulgaria.68 hours = 1 }
			}
		}
		leave_faction = yes
		BUL = {
			end_puppet = SER
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SER
			}
		}
	}
}

#####################
# Flavor (interactions etc.)
#####################

country_event = { # The Belgrade Pact
	id = serflavor.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.1" }
	title = serflavor.1.t
	desc = serflavor.1.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.1.a
		add_war_support = 0.05
	}
}
country_event = { # The Return of the Karadordevics
	id = serflavor.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.2" }
	title = serflavor.2.t
	desc = serflavor.2.d
	picture = GFX_report_event_yugoslavian_king_peter

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.2.a
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.01
		}
		add_popularity = {
			ideology = social_democrat
			popularity = -0.01
		}
		add_popularity = {
			ideology = social_liberal
			popularity = -0.01
		}
	}
}
country_event = { # Ljotic in the Skupstina
	id = serflavor.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.3" }
	title = serflavor.3.t
	desc = serflavor.3.d
	picture = GFX_report_event_BUL_assembly

	trigger = {
		NOT = { has_government = paternal_autocrat }
	}

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.3.a
		add_stability = -0.01
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.02
		}
	}
}
country_event = { # Assassination
	id = serflavor.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.4" }
	title = serflavor.4.t
	desc = serflavor.4.d
	picture = GFX_report_event_POL_assassination

	trigger = {
		NOT = { has_government = paternal_autocrat }
	}

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.4.a
		add_stability = -0.05
		add_popularity = {
			ideology = national_populist
			popularity = -0.01
		}
		hidden_effect = {
			country_event = { id = serflavor.5 days = 30 random_days = 14 }
		}
	}
}
country_event = { # Counter-assassination
	id = serflavor.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.5" }
	title = serflavor.5.t
	desc = serflavor.5.d
	picture = GFX_report_event_POL_assassination

	trigger = {
		NOT = { has_government = paternal_autocrat }
	}

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.5.a
		add_stability = -0.02
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.01
		}
	}
}
country_event = { # The Fourth Balkan War
	id = serflavor.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.6" }
	title = serflavor.6.t
	desc = serflavor.6.d
	picture = GFX_report_event_BUL_crowd

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.6.a
		add_war_support = 0.05
		add_manpower = 5000
		hidden_effect = {
			if = {
				limit = {
					tag = SER
				}
				country_event = { id = serflavor.11 days = 3 }
			}
		}
	}
}
country_event = { # Avantgarde continues
	id = serflavor.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.7" }
	title = serflavor.7.t
	desc = serflavor.7.d
	picture = GFX_report_event_generic_books

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.7.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.01
		}
		custom_effect_tooltip = SER_socialists_gain
		add_to_variable = { SER_socialist_strength = 5 }
	}
}
country_event = { # AURORA BOREALIS?!
	id = serflavor.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.8" }
	title = serflavor.8.t
	desc = serflavor.8.d
	picture = GFX_report_event_BUL_crowd

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.8.a
		add_stability = -0.01
	}
}
country_event = { # First and second Serbian revolutions
	id = serflavor.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.9" }
	title = serflavor.9.t
	desc = serflavor.9.d
	picture = GFX_report_event_generic_strike

	is_triggered_only = yes
	trigger = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}
	fire_only_once = yes

	option = {
		name = serflavor.9.a
		if = {
			limit = {
				has_government = radical_socialist
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.02
			}
		}
		else_if = {
			limit = {
				has_government = social_democrat
			}
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
		}
		else = {
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
		}
		add_stability = 0.01
	}
}
country_event = { # First and second Serbian revolutions (Radicals)
	id = serflavor.999
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.999" }
	title = serflavor.9.t
	desc = serflavor.9.d
	picture = GFX_report_event_generic_strike

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.9.a
		add_popularity = {
			ideology = market_liberal
			popularity = 0.02
		}
		add_stability = 0.01
	}
}
country_event = { # Dinaric Race
	id = serflavor.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.10" }
	title = serflavor.10.t
	desc = serflavor.10.d
	picture = GFX_report_event_generic_books

	is_triggered_only = yes
	trigger = {
		owns_state = 767
	}
	fire_only_once = yes

	option = {
		name = serflavor.10.a
		add_war_support = 0.03
	}
}
country_event = { # Bojovic comes to help
	id = serflavor.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.11" }
	title = serflavor.11.t
	desc = serflavor.11.d
	picture = GFX_report_event_BUL_oldguard

	is_triggered_only = yes
	trigger = {
		has_socialist_government = no
	}
	fire_only_once = yes

	option = {
		name = serflavor.11.a
		create_field_marshal = {
			name = "Petar Bojović"
			portrait_path = "gfx/leaders/SER/Portrait_SER_Petar_Bojovic.png"
			traits = {
				old_guard
				war_hero
				thorough_planner
				defensive_doctrine
			}
			id = 191821
			skill = 4
			attack_skill = 3
			defense_skill = 3
			planning_skill = 5
			logistics_skill = 4
		}
		custom_effect_tooltip = Bojovic_stats_tt
		hidden_effect = {
			if = {
				limit = {
					has_idea = SER_Petar_II_regency
				}
				random_unit_leader = {
					limit = { has_id = 191821 }
					unit_leader_event = serflavor.12
				}
			}
		}
	}
	option = {
		name = serflavor.11.b
		add_war_support = 0.05
		add_manpower = 5000
	}
}
unit_leader_event = { # Bojovic's letter to Peter
	id = serflavor.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.12" }
	title = serflavor.12.t
	desc = serflavor.12.d

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.12.a
		add_stability = 0.01
		set_country_flag = SER_petar_anime_protagonist
	}
}
country_event = { # The perfidious Anglo
	id = serflavor.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.13" }
	title = serflavor.13.t
	desc = serflavor.13.d
	picture = GFX_report_event_CAF_Edward_Visit

	trigger = {
		owns_state = 106
		is_in_faction = no
		has_country_leader = { ruling_only = yes name = "Dragomir Vasić" }
		OR = {
			has_war = no
			surrender_progress < 0.20
		}
	}

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.13.a
		add_political_power = 25
	}
}
country_event = { # Vasic's last speech
	id = serflavor.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.14" }
	title = serflavor.14.t
	desc = serflavor.14.d
	picture = GFX_report_event_AST_curtinspeech

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.14.a
		add_popularity = {
			ideology = social_liberal
			popularity = 0.02
		}
		add_stability = 0.01
	}
}
country_event = { # Prince Paul visits
	id = serflavor.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.15" }
	title = serflavor.15.t
	desc = serflavor.15.d
	picture = GFX_report_event_yugoslavian_king_peter

	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		has_idea = SER_Petar_II_regency
		has_country_flag = SER_petar_anime_protagonist
	}

	option = {
		name = serflavor.15.a

	}
	option = {
		name = serflavor.15.b
		add_to_variable = { SER_petar_score = 1 }
	}
}
country_event = { # Uncle Carol
	id = serflavor.16
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.16" }
	title = serflavor.16.t
	desc = serflavor.16.d
	picture = GFX_report_event_ROM_postcard_palace

	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		has_idea = SER_Petar_II_regency
		is_in_faction_with = ROM
		ROM = {
			has_country_leader = {
				name = "Carol II"
				ruling_only = yes
			}
		}
	}

	option = {
		name = serflavor.16.a
		add_stability = 0.01
	}
}
country_event = { # Lapčević criticizes war policy
	id = serflavor.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.17" }
	title = serflavor.17.t
	desc = serflavor.17.d
	picture = GFX_report_event_AST_curtinspeech

	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		OR = {
			has_elected_government = yes
			has_government = radical_socialist
		}
	}

	option = {
		name = serflavor.17.a
		SER_increase_scars = yes
	}
	option = {
		name = serflavor.17.b
		add_stability = -0.1
		add_popularity = {
			ideology = national_populist
			popularity = 0.03
		}
	}
}
country_event = { # Countryside tours
	id = serflavor.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.18" }
	title = serflavor.18.t
	desc = serflavor.18.d
	picture = GFX_report_event_yugoslavian_king_peter

	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		has_idea = SER_Petar_II_regency
		has_country_flag = SER_petar_anime_protagonist
	}

	option = {
		name = serflavor.18.a
		add_stability = -0.03
	}
	option = {
		name = serflavor.18.b
		add_political_power = -50
		add_to_variable = { SER_petar_score = 1 }
	}
}
country_event = { # Failed assassination attempt
	id = serflavor.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.19" }
	title = serflavor.19.t
	desc = serflavor.19.d
	picture = GFX_report_event_yugoslavian_king_peter

	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		has_idea = SER_Petar_II_regency
		has_country_flag = SER_petar_anime_protagonist
	}

	option = {
		name = serflavor.19.a

	}
	option = {
		name = serflavor.19.b
		add_political_power = -50
		add_to_variable = { SER_petar_score = 1 }
		hidden_effect = {
			if = {
				limit = {
					check_variable = { SER_petar_score = 3 }
				}
				country_event = { id = serbia.46 days = 5 }
			}
		}
	}
}
country_event = { # Ljotic and Stojadinovic mad at one another
	id = serflavor.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.20" }
	title = serflavor.20.t
	desc = serflavor.20.d
	picture = GFX_report_event_SAF_parliament_3

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.20.a
		add_political_power = -25
		add_stability = -0.01
	}
}
country_event = { # Last dying breath
	id = serflavor.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.21" }
	title = serflavor.21.t
	desc = serflavor.21.d
	picture = GFX_report_event_GER_march

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.21.a
		add_political_power = 25
		add_war_support = 0.01
	}
}
country_event = { # Second Toplica Uprising
	id = serflavor.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.22" }
	title = serflavor.22.t
	desc = serflavor.22.d
	picture = GFX_report_event_POL_rebels

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.22.a
		trigger = {
			tag = SER
		}
		add_war_support = 0.02
	}
	option = {
		name = serflavor.22.b
		trigger = {
			tag = BUL
		}
		767 = {
			add_compliance = -10
		}
		add_stability = -0.02
	}
}
country_event = { # Konspiracija warning
	id = serflavor.23
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event serflavor.23"
		set_country_flag = SER_konspiracija_warning
	}
	title = serflavor.23.t
	desc = serflavor.23.d
	picture = GFX_report_event_GER_march

	trigger = {
		NOT = {
			has_country_flag = SER_konspiracija_warning
		}
	}

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.23.a
		custom_effect_tooltip = SER_konspiracija_warning_tt
	}
}
country_event = { # Mustafa Golubić
	id = serflavor.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.24" }
	title = serflavor.24.t
	desc = serflavor.24.d
	picture = GFX_report_event_GER_march

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		has_socialist_government = yes
	}

	option = {
		name = serflavor.24.a
		add_political_power = 50
		add_popularity = {
			ideology = national_populist
			popularity = -0.03
		}
		SER_recalculate_konspiracija = yes
	}
	option = {
		name = serflavor.24.b1
		trigger = {
			NOT = {
				owns_state = 767
			}
		}
		effect_tooltip = {
			BUL = {
				add_timed_idea = {
					idea = SER_golubic_assassinations
					days = 365
				}
			}
		}
		hidden_effect = {
			BUL = {
				country_event = serflavor.25
			}
		}
	}
	option = {
		name = serflavor.24.b2
		trigger = {
			owns_state = 767
			NOT = {
				owns_state = 45
			}
		}
		effect_tooltip = {
			AUS = {
				add_timed_idea = {
					idea = SER_golubic_assassinations
					days = 365
				}
			}
		}
		hidden_effect = {
			AUS = {
				country_event = serflavor.25
			}
		}
	}
	option = {
		name = serflavor.24.c
		trigger = {
			has_war_with = MAC
		}
		106 = {
			add_resistance = -15
			add_resistance_target = {
				amount = -10
				occupier = SER
				days = 60
				tooltip = SER_IMRO_decrease_rt_tt
			}
		}
	}
	option = {
		name = serflavor.24.e
		add_stability = 0.05
	}
}
country_event = { # Golubić
	id = serflavor.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.25" }
	title = serflavor.25.t
	desc = serflavor.25.d
	picture = GFX_report_event_GER_march

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.25.a
		add_timed_idea = {
			idea = SER_golubic_assassinations
			days = 365
		}
	}
}
country_event = { # Stefan Dušan
	id = serflavor.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.26" }
	title = serflavor.26.t
	desc = serflavor.26.d
	picture = GFX_report_event_GER_march

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.26.a
		add_stability = 0.1
		add_war_support = 0.1
	}
}
country_event = { # Royal Palace
	id = serflavor.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.27" }
	title = serflavor.27.t
	desc = serflavor.27.d
	picture = GFX_report_event_BUL_palace

	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		has_completed_focus = SER_November_Sixth_Dictatorship
	}

	option = {
		name = serflavor.27.a
		add_stability = 0.02
	}
	option = {
		name = serflavor.27.b
		add_political_power = 25
	}
}
country_event = { # Legacy of the Colonization Decree
	id = serflavor.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.28" }
	title = serflavor.28.t
	desc = serflavor.28.d
	picture = GFX_report_event_generic_farming

	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		owns_state = 765
	}

	option = {
		name = serflavor.28.a
		trigger = {
			OR = {
				has_authoritarian_government = yes
				has_right_democratic_government = yes
			}
		}
		765 = {
			damage_building = {
				type = infrastructure
				damage = 1.0
			}
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.03
		}
		SER_recalculate_konspiracija = yes
	}
	option = {
		name = serflavor.28.b
		trigger = {
			NOT = {
				has_authoritarian_government = yes
				has_right_democratic_government = yes
			}
		}
		765 = {
			damage_building = {
				type = infrastructure
				damage = 1.0
			}
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.03
		}
		SER_recalculate_konspiracija = yes
	}
}
country_event = { # SKK patronage
	id = serflavor.29
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.29" }
	title = serflavor.29.t
	desc = serflavor.29.d
	picture = GFX_report_event_BUL_palace

	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		has_idea = SER_konspiracija_idea
	}

	option = {
		name = serflavor.29.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.02
		}
		SER_recalculate_konspiracija = yes
	}
	option = {
		name = serflavor.29.b
		add_political_power = -50
		add_stability = -0.08
	}
}
country_event = { # Army requests removal of minister
	id = serflavor.30
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.30" }
	title = serflavor.30.t
	desc = serflavor.30.d
	picture = GFX_report_event_BUL_palace

	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		has_idea = SER_konspiracija_idea
	}

	option = {
		name = serflavor.30.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.02
		}
		SER_recalculate_konspiracija = yes
		add_political_power = 50
		remove_ideas_with_trait = security_minister
		add_ideas = SER_Milan_Acimovic_sec_pau
	}
	option = {
		name = serflavor.30.b
		meta_effect = {
			text = {
				add_popularity = {
					ideology = [RULING_PARTY_TAG]
					popularity = -0.07
				}
			}
			RULING_PARTY_TAG = "[Root.GetRulingIdeologyId]"
		}
		add_political_power = -25
	}
}
country_event = { # Bojovic leaves
	id = serflavor.31
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.31" }
	title = serflavor.31.t
	desc = serflavor.31.d
	picture = GFX_report_event_BUL_oldguard

	fire_only_once = yes

	trigger = {
		tag = SER
		has_unit_leader = 191821
		has_war = no
	}

	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 0.1
			date > 1940.1.1
		}
	}

	option = {
		name = serflavor.31.a # He served his country well
		remove_unit_leader = 191821
	}
}

news_event = { # Republicans Win Serbian Elections
	id = serflavor.32
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.32 FROM = [From.GetName]" }
	title = serflavor.32.t
	picture = GFX_news_event_SER_republicans
	desc = {
		text = serflavor.32.d.majority
		trigger = {
			SER = {
				SER_rep_no_coalition = yes
			}
		}
	}
	desc = {
		text = serflavor.32.d.status_quo
		trigger = {
			SER = {
				SER_repsoc_coalition = yes
			}
		}
	}
	desc = {
		text = serflavor.32.d.popular_front
		trigger = {
			SER = {
				SER_leftfront_coalition = yes
			}
		}
	}
	desc = {
		text = serflavor.32.d.grand_coalition
		trigger = {
			SER = {
				has_country_flag = SER_reprad_coalition_flag
			}
		}
	}

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	major = yes
	show_major = {
		NOT = { tag = FROM }
		regional_europe_news = yes
	}

	option = {
		name = serflavor.32.a
		trigger = {
			NOT = {
				tag = SER
				tag = ROM
				tag = GRE
				tag = BUL
				tag = ALB
				tag = AUS
				is_subject_of = AUS
			}
		}
	}
	option = {
		name = serflavor.32.b
		trigger = {
			tag = SER
		}
	}
	option = {
		name = serflavor.32.c
		trigger = {
			OR = {
				tag = ROM
				tag = GRE
			}
		}
	}
	option = {
		name = serflavor.32.e
		trigger = {
			OR = {
				tag = BUL
				tag = ALB
			}
		}
	}
	option = {
		name = serflavor.32.f
		trigger = {
			OR = {
				tag = AUS
				is_subject_of = AUS
			}
		}
	}
}

news_event = { # Radicals Win Serbian Elections
	id = serflavor.33
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.33 FROM = [From.GetName]" }
	title = serflavor.33.t
	picture = GFX_news_event_SER_radicals
	desc = {
		text = serflavor.33.d.majority
		trigger = {
			SER = {
				SER_rad_no_coalition = yes
			}
		}
	}
	desc = {
		text = serflavor.33.d.great_union
		trigger = {
			SER = {
				SER_radagr_coalition = yes
			}
		}
	}
	desc = {
		text = serflavor.33.d.grand_coalition
		trigger = {
			SER = {
				has_country_flag = SER_reprad_coalition_flag
			}
		}
	}

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	major = yes
	show_major = {
		NOT = { tag = FROM }
		regional_europe_news = yes
	}

	option = {
		name = serflavor.33.a
		trigger = {
			NOT = {
				tag = SER
				tag = ROM
				tag = GRE
				tag = BUL
				tag = ALB
				tag = AUS
				is_subject_of = AUS
			}
		}
	}
	option = {
		name = serflavor.33.b
		trigger = {
			tag = SER
		}
	}
	option = {
		name = serflavor.33.c
		trigger = {
			OR = {
				tag = ROM
				tag = GRE
			}
		}
	}
	option = {
		name = serflavor.33.e
		trigger = {
			OR = {
				tag = BUL
				tag = ALB
			}
		}
	}
	option = {
		name = serflavor.33.f
		trigger = {
			OR = {
				tag = AUS
				is_subject_of = AUS
			}
		}
	}
}

news_event = { # Socialists Win Serbian Elections
	id = serflavor.34
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.34 FROM = [From.GetName]" }
	title = serflavor.34.t
	picture = GFX_news_event_GRE_celebrate
	desc = {
		text = serflavor.34.d.soc_coalition
		trigger = {
			SER = {
				SER_jointsoc_coalition = yes
			}
		}
	}
	desc = {
		text = serflavor.34.d.popular_front
		trigger = {
			SER = {
				SER_leftfront_coalition = yes
			}
		}
	}

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	major = yes
	show_major = {
		NOT = { tag = FROM }
		regional_europe_news = yes
	}

	option = {
		name = serflavor.34.a
		trigger = {
			NOT = {
				tag = SER
				tag = ROM
				tag = GRE
				tag = BUL
				tag = ALB
				tag = AUS
				is_subject_of = AUS
				has_socialist_government = yes
			}
		}
	}
	option = {
		name = serflavor.34.b
		trigger = {
			tag = SER
		}
	}
	option = {
		name = serflavor.34.c
		trigger = {
			OR = {
				tag = ROM
				tag = GRE
			}
		}
	}
	option = {
		name = serflavor.34.e
		trigger = {
			OR = {
				tag = BUL
				tag = ALB
			}
		}
	}
	option = {
		name = serflavor.34.f
		trigger = {
			OR = {
				tag = AUS
				is_subject_of = AUS
			}
		}
	}
	option = {
		name = serflavor.34.g
		trigger = {
			has_socialist_government = yes
			NOT = {
				tag = SER
				tag = GRE
			}
		}
	}
}

news_event = { # Royalist Coup in Serbia!
	id = serflavor.35
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.35 FROM = [From.GetName]" }
	title = serflavor.35.t
	picture = GFX_news_event_SER_white_hand
	desc = serflavor.35.d

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	major = yes
	show_major = {
		NOT = { tag = FROM }
		regional_europe_news = yes
	}

	option = {
		name = serflavor.35.a
		trigger = {
			NOT = {
				tag = SER
				tag = ROM
				tag = GRE
				tag = BUL
				tag = ALB
				tag = AUS
				tag = CAN
				is_subject_of = AUS
			}
		}
	}
	option = {
		name = serflavor.35.b
		trigger = {
			tag = SER
		}
	}
	option = {
		name = serflavor.35.c
		trigger = {
			OR = {
				tag = ROM
				tag = GRE
			}
		}
	}
	option = {
		name = serflavor.35.e
		trigger = {
			OR = {
				tag = BUL
				tag = ALB
			}
		}
	}
	option = {
		name = serflavor.35.f
		trigger = {
			OR = {
				tag = AUS
				is_subject_of = AUS
			}
		}
	}
	option = {
		name = serflavor.35.g
		trigger = {
			tag = CAN
		}
	}
}
country_event = { # Petar wants to return
	id = serflavor.36
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.36" }
	title = serflavor.36.t
	desc = serflavor.36.d
	picture = GFX_report_event_yugoslavian_king_peter

	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		NOT = {
			OR = {
				has_socialist_government = yes
				has_country_leader = {
					name = "Petar II"
					ruling_only = yes
				}
				has_country_leader = {
					name = "Petar Živković"
					ruling_only = yes
				}
			}
		}
	}

	option = {
		name = serflavor.36.a
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.03
		}
		add_stability = 0.02
	}
	option = {
		name = serflavor.36.b

	}
}
country_event = { # The Fifth Balkan War
	id = serflavor.37
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.37" }
	title = serflavor.37.t
	desc = serflavor.37.d
	picture = GFX_report_event_generic_bombers

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = serflavor.37.a
		if = {
			limit = {
				SER_has_scarred_nation = yes
			}
			SER_reduce_scars = yes
		}
		else = {
			add_war_support = 0.05
		}
	}
}
country_event = { # Montenegrin Federalists
	id = serflavor.38
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.38" }
	title = serflavor.38.t

	is_triggered_only = yes

	desc = serflavor.38.d
	picture = GFX_report_event_generic_rally

	option = {
		name = serflavor.38.a
		ai_chance = {
			base = 1
		}
		add_stability = -0.05
		add_war_support = -0.05
	}
	option = {
		name = serflavor.38.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_SOCIALIST
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZIVKOVIC
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_MONARCHY_ZBOR
					}
				}
			}
		}
		custom_effect_tooltip = SER_republicans_gain
		add_to_variable = { SER_republican_strength = 10 }
	}
	option = {
		name = serflavor.38.c
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL
					}
					has_game_rule = {
						rule = SER_ELECTION_RULE
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
				}
			}
		}
		custom_effect_tooltip = SER_socialists_gain
		add_to_variable = { SER_socialist_strength = 10 }
		hidden_effect = {
			country_event = { id = serbia.12 days = 14 random_days = 7 }
		}
	}
}
country_event = { # Who will be the Serbian Savinkov?
	id = serflavor.39
	immediate = { log = "[GetDateText]: [Root.GetName]: event serflavor.39" }
	title = serflavor.39.t
	desc = serflavor.39.d
	picture = GFX_report_event_RUS_Boris_Savinkov

	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		RUS = {
			has_government = national_populist
		}
		NOT = {
			has_dictatorship_government = yes
		}
	}

	option = {
		name = serflavor.39.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.02
		}
	}
}

######################
# Yugoslavia Events
######################

country_event = { #Yugoslavia Elections
	id = yugoslavia.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.1" }
	title = yugoslavia.1.t
	desc = yugoslavia.1.d
	picture = GFX_report_event_ser_election

	is_triggered_only = yes

	trigger = {
		has_country_flag = SER_has_completed_1936_elc
		has_democratic_government = yes
		SER_has_founded_yugoslavia = yes
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					NOT = {
						has_completed_focus = SER_November_Sixth_Dictatorship
					}
				}
				if = {
					limit = {
						has_country_flag = YUG_grol_leads_republicans
					}
					create_country_leader = {
						name = "Milan Grol"
						desc = "POLITICS_MILAN_GROL_DESC"
						picture = "Portrait_SER_Milan_Grol.png"
						expire = "1965.1.1"
						ideology = social_liberal_subtype
					}
				}
				else_if = {
					limit = {
						has_country_flag = YUG_budisavljevic_leads_republicans
					}
					create_country_leader = {
						name = "Srđan Budisavljević"
						picture = "Portrait_SER_Srdan_Budisavljevic.png"
						expire = "1965.1.1"
						ideology = social_liberal_subtype
					}
				}
				else_if = {
					limit = {
						has_country_flag = YUG_kramer_leads_republicans
					}
					create_country_leader = {
						name = "Albert Kramer"
						picture = "gfx/leaders/SLV/Portrait_SLV_Albert_Kramer.png"
						expire = "1965.1.1"
						ideology = social_liberal_subtype
					}
				}
				create_country_leader = {
					name = "Miha Krek"
					picture = "gfx/leaders/SLV/Portrait_SLV_Albert_Kramer.png"
					expire = "1965.1.1"
					ideology = market_liberal_subtype
				}
				if = {
					limit = {
						NOT = {
							has_completed_focus = SER_unite_with_agrarians
						}
					}
					create_country_leader = {
						name = "Stjepan Radić"
						picture = "gfx/leaders/CRO/Portrait_CRO_Stjepan_Radic.png"
						expire = "1965.1.1"
						ideology = social_conservative_subtype
					}
				}
				else = {
					create_country_leader = {
						name = "Milan Stojadinović"
						desc = "POLITICS_MILAN_STOJADINOVIC_DESC"
						picture = "Portrait_SER_Milan_Stojadinovic.png"
						expire = "1965.1.1"
						ideology = social_conservative_subtype
					}
				}
				create_country_leader = {
					name = "Milan Stojadinović"
					desc = "POLITICS_MILAN_STOJADINOVIC_DESC"
					picture = "Portrait_SER_Milan_Stojadinovic.png"
					expire = "1965.1.1"
					ideology = authoritarian_democrat_subtype
				}
			}
		}
	}

	### Republican options

	option = {
		name = yugoslavia.1.a #Republican Party
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_completed_focus = SER_National_Vanguard
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_election_rule
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
					has_game_rule = {
						rule = SER_election_rule
						option = SER_ELECTION_RULE_RADICAL
					}
				}
			}
		}
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Petar II"
					ruling_only = yes
				}
			}
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.1
		}
		set_politics = {
			ruling_party = social_liberal
			election_frequency = 48
			elections_allowed = yes
		}
		if = {
			limit = {
				NOT = {
					has_completed_focus = SER_Moralistic_Democracy
				}
			}
			complete_national_focus = SER_Moralistic_Democracy
		}
		clr_country_flag = SER_reprad_coalition_flag
		clr_country_flag = SER_repsoc_coalition_flag
		hidden_effect = {
			SER_remove_radical_ideas = yes
			for_each_loop = {
				array = SER_former_rep_government_ideas
				add_ideas = var:v
			}
			remove_all_ministers = yes
			add_ideas = {
				SER_Mihailo_Ilic_hog_sli
				SER_Mladen_Zujovic_for_sli
				SER_Ilija_Sumenkovic_eco_sli
				SER_Kosta_Kumanudi_sec_sli
			}
			end_coalition = yes
		}
	}

	option = {
		name = yugoslavia.1.b #People's Radical Party
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_completed_focus = SER_Moralistic_Democracy
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SER_election_rule
					option = SER_ELECTION_RULE_REPUBLICAN
				}
			}
		}
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Petar II"
					ruling_only = yes
				}
			}
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			election_frequency = 60
			elections_allowed = yes
		}
		if = {
			limit = {
				NOT = {
					has_completed_focus = SER_National_Vanguard
				}
			}
			complete_national_focus = SER_National_Vanguard
		}
		if = {
			limit = {
				has_completed_focus = SER_unite_with_agrarians
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			add_to_coalition = yes
		}
		else = {
			end_coalition = yes
		}
		clr_country_flag = SER_reprad_coalition_flag
		clr_country_flag = SER_radagr_coalition_flag
		hidden_effect = {
			SER_remove_republican_ideas = yes
			for_each_loop = {
				array = SER_former_rad_government_ideas
				add_ideas = var:v
			}
			remove_all_ministers = yes
			add_ideas = {
				SER_Nikola_Uzunovic_hog_mli
				SER_Momcilo_Nincic_for_mli
				SER_Dusan_Letica_eco_ade
				SER_Milan_Srskic_sec_ade
			}
		}
		SER_recalculate_konspiracija = yes
	}

	option = {
		name = yugoslavia.1.c #Socialist Party
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = SER_election_rule
						option = SER_ELECTION_RULE_REPUBLICAN
					}
					has_game_rule = {
						rule = SER_election_rule
						option = SER_ELECTION_RULE_RADICAL_DEMOCRACY
					}
					has_game_rule = {
						rule = SER_election_rule
						option = SER_ELECTION_RULE_RADICAL
					}
				}
			}
		}
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Petar II"
					ruling_only = yes
				}
			}
			has_country_flag = YUG_usy_formed
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.1
		}
		set_politics = {
			ruling_party = social_democrat
			election_frequency = 48
			elections_allowed = yes
		}
		if = {
			limit = {
				NOT = {
					has_completed_focus = SER_Victory_for_the_People
				}
			}
			complete_national_focus = SER_Victory_for_the_People
		}
		hidden_effect = {
			SER_remove_radical_ideas = yes
			SER_remove_republican_ideas = yes
			remove_all_ministers = yes
			add_ideas = {
				SER_Mihailo_Ilic_hog_sli
				SER_Zivko_Topalovic_for_sde
				SER_Filip_Filipovic_eco_rso
				SER_Kosta_Kumanudi_sec_sli
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_liberal }
			add_to_coalition = yes
		}
	}

	## Royalist options

	option = {
		name = yugoslavia.1.e # Democratic Party
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_government = social_conservative
			}
		}
		trigger = {
			has_country_leader = {
				name = "Petar II"
				ruling_only = yes
			}
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.05
		}
		set_politics = {
			ruling_party = social_liberal
			election_frequency = 48
			elections_allowed = yes
		}
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Mihailo_Ilic_hog_sli
				SER_Mladen_Zujovic_for_sli
				SER_Ilija_Sumenkovic_eco_sli
				SER_Kosta_Kumanudi_sec_sli
			}
			end_coalition = yes
		}
	}

	option = {
		name = yugoslavia.1.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_government = social_liberal
			}
		}
		trigger = {
			has_country_leader = {
				name = "Petar II"
				ruling_only = yes
			}
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.05
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 48
			elections_allowed = yes
		}
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				SER_Nikola_Uzunovic_hog_mli
				SER_Momcilo_Nincic_for_mli
				SER_Dusan_Letica_eco_ade
				SER_Milan_Srskic_sec_ade
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:market_liberal }
			add_to_coalition = yes
		}
	}
}
country_event = { # The (Republican-)Democratic Party
	id = yugoslavia.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.2" }
	title = {
		text = yugoslavia.2.t1
		trigger = {
			has_country_leader = {
				name = "Petar II"
				ruling_only = yes
			}
		}
	}
	title = {
		text = yugoslavia.2.t2
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Petar II"
					ruling_only = yes
				}
			}
		}
	}
	desc = {
		text = yugoslavia.2.d1
		trigger = {
			has_country_leader = {
				name = "Petar II"
				ruling_only = yes
			}
		}
	}
	desc = {
		text = yugoslavia.2.d2
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Petar II"
					ruling_only = yes
				}
			}
			has_elected_government = yes
		}
	}
	desc = {
		text = yugoslavia.2.d3
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Petar II"
					ruling_only = yes
				}
			}
			has_elected_government = no
		}
	}
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugoslavia.2.a
		if = {
			limit = {
				has_country_leader = {
					name = "Petar II"
					ruling_only = yes
				}
			}
			set_party_name = {
				ideology = social_liberal
				long_name = SER_YUG_democratic_party_long
				name = SER_YUG_democratic_party
			}
		}
		else = {
			set_party_name = {
				ideology = social_liberal
				long_name = SER_YUG_republican_democratic_party_long
				name = SER_YUG_republican_democratic_party
			}
			country_event = { id = yugoslavia.5 days = 30 }
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.02
		}
	}
}
country_event = { # The Radicals Radicalize
	id = yugoslavia.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.3" }
	title = yugoslavia.3.t
	desc = {
		text = yugoslavia.3.d1
		trigger = {
			has_completed_focus = SER_unite_with_agrarians
		}
	}
	desc = {
		text = yugoslavia.3.d2
		trigger = {
			NOT = {
				has_completed_focus = SER_unite_with_agrarians
			}
		}
	}
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_leader = {
				name = "Petar II"
				ruling_only = yes
			}
		}
		has_democratic_government = yes
	}
	fire_only_once = yes

	option = {
		name = yugoslavia.3.a
		if = {
			limit = {
				has_completed_focus = SER_unite_with_agrarians
			}
			set_party_name = {
				ideology = market_liberal
				long_name = SER_YUG_slovene_party_long
				name = SER_YUG_slovene_party
			}
			set_party_name = {
				ideology = social_conservative
				long_name = SER_YUG_jarez_party_long
				name = SER_YUG_jarez_party
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = SER_YUG_jarez_party_long
				name = SER_YUG_jarez_party
			}
		}
		else = {
			set_party_name = { # Move to another event later
				ideology = market_liberal
				long_name = SER_YUG_slovene_party_long
				name = SER_YUG_slovene_party
			}
			set_party_name = { # move to another event later
				ideology = social_conservative
				long_name = SER_YUG_hpss_party_long
				name = SER_YUG_hpss_party
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = SER_market_liberal_party_long
				name = SER_market_liberal_party
			}
		}
		add_popularity = {
			ideology = market_liberal
			popularity = -0.2
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		if = {
			limit = {
				check_variable = { YUG_serbia_pp_requirement < 5 }
			}
			set_temp_variable = { added_need = 1 }
			custom_effect_tooltip = YUG_serbia_increase_turn_req_tt
			add_to_variable = { YUG_serbia_pp_requirement = added_need }
			YUG_update_AI_variables_serbia = yes
		}
	}
}
country_event = { # Fate of the Konspiracija
	id = yugoslavia.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.4" }
	title = yugoslavia.4.t
	desc = yugoslavia.4.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		SER_has_founded_yugoslavia = yes
	}

	option = {
		name = yugoslavia.4.a
		if = {
			limit = {
				set_temp_variable = { natpop_popularity = ROOT.party_popularity@national_populist }
				check_variable = {
					var = natpop_popularity
					value = 0.1
					compare = less_than_or_equals
				}
			}
			add_ideas = SER_YUG_constitutionalist_military
			set_temp_variable = { pp_gain = 2 }
			custom_effect_tooltip = YUG_pp_gain_tt
			add_to_variable = { YUG_political_capital = pp_gain }
		}
		else_if = {
			limit = {
				set_temp_variable = { natpop_popularity = ROOT.party_popularity@national_populist }
				check_variable = {
					var = natpop_popularity
					value = 0.2
					compare = less_than_or_equals
				}
			}
			add_ideas = SER_YUG_interferent_military
			if = {
				limit = {
					check_variable = { YUG_croatia_relations_level > 1 }
				}
				set_temp_variable = { checked_state = 2 } # Croatia
				set_temp_variable = { ethnic_situation = -1 }
				custom_effect_tooltip = YUG_croatia_reduce_relations_tt
				YUG_update_ethnic_situation = yes
			}
			if = {
				limit = {
					check_variable = { YUG_slovenia_relations_level > 1 }
				}
				set_temp_variable = { checked_state = 4 } # Slovenia
				set_temp_variable = { ethnic_situation = -1 }
				custom_effect_tooltip = YUG_slovenia_reduce_relations_tt
				YUG_update_ethnic_situation = yes
			}
		}
		else = {
			add_ideas = SER_YUG_deep_state
			if = {
				limit = {
					check_variable = { YUG_croatia_relations_level > 2 }
				}
				set_temp_variable = { checked_state = 2 } # Croatia
				set_temp_variable = { ethnic_situation = -2 }
				custom_effect_tooltip = YUG_croatia_reduce_relations_tt
				YUG_update_ethnic_situation = yes
			}
			else_if = {
				limit = {
					check_variable = { YUG_croatia_relations_level > 1 }
				}
				set_temp_variable = { checked_state = 2 } # Croatia
				set_temp_variable = { ethnic_situation = -1 }
				custom_effect_tooltip = YUG_croatia_reduce_relations_tt
				YUG_update_ethnic_situation = yes
			}
			if = {
				limit = {
					check_variable = { YUG_bosnia_relations_level > 1 }
				}
				set_temp_variable = { checked_state = 3 } # Bosnia
				set_temp_variable = { ethnic_situation = -1 }
				custom_effect_tooltip = YUG_bosnia_reduce_relations_tt
				YUG_update_ethnic_situation = yes
			}
			if = {
				limit = {
					check_variable = { YUG_slovenia_relations_level > 2 }
				}
				set_temp_variable = { checked_state = 4 } # Slovenia
				set_temp_variable = { ethnic_situation = -2 }
				custom_effect_tooltip = YUG_slovenia_reduce_relations_tt
				YUG_update_ethnic_situation = yes
			}
			else_if = {
				limit = {
					check_variable = { YUG_slovenia_relations_level > 1 }
				}
				set_temp_variable = { checked_state = 4 } # Slovenia
				set_temp_variable = { ethnic_situation = -1 }
				custom_effect_tooltip = YUG_slovenia_reduce_relations_tt
				YUG_update_ethnic_situation = yes
			}
			if = {
				limit = {
					check_variable = { YUG_other_relations_level > 1 }
				}
				set_temp_variable = { checked_state = 5 } # Other
				set_temp_variable = { ethnic_situation = -1 }
				custom_effect_tooltip = YUG_other_reduce_relations_tt
				YUG_update_ethnic_situation = yes
			}
		}
	}
}
country_event = { # The (Republican-)Democratic Party
	id = yugoslavia.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.5" }
	title = yugoslavia.5.t
	desc = yugoslavia.5.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	trigger = {
		has_elected_government = yes
	}
	fire_only_once = yes

	option = {
		name = yugoslavia.5.a
		set_country_flag = YUG_grol_leads_republicans
	}
	option = {
		name = yugoslavia.5.b
		set_country_flag = YUG_budisavljevic_leads_republicans
	}
	option = {
		name = yugoslavia.5.c
		set_country_flag = YUG_kramer_leads_republicans
	}
}
country_event = { # ORJUNA
	id = yugoslavia.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.6" }
	title = yugoslavia.6.t
	desc = yugoslavia.6.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	trigger = {
		has_socialist_government = no
	}
	fire_only_once = yes

	option = {
		name = yugoslavia.6.a
		if = {
			limit = {
				has_dictatorship_government = no
			}
			set_party_name = {
				ideology = national_populist
				long_name = SER_YUG_orjuna_party_long
				name = SER_YUG_orjuna_party
			}
			create_country_leader = {
				name = "Mirko Korolija"
				picture = "gfx/leaders/Generic/Portrait_Europe_Generic_new_12.png"
				expire = "1965.1.1"
				ideology = national_populist_subtype
			}
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.02
		}
		set_country_flag = YUG_orjuna_is_established
		set_temp_variable = { pp_gain = 1 }
		custom_effect_tooltip = YUG_pp_gain_tt
		add_to_variable = { YUG_political_capital = pp_gain }
		custom_effect_tooltip = YUG_orjuna_is_established_tt
	}
}
country_event = { # Special Relationship
	id = yugoslavia.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.7" }
	title = yugoslavia.7.t
	desc = yugoslavia.7.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugoslavia.7.a
		ai_chance = {
			base = 100
		}
		give_guarantee = FROM
		give_military_access = FROM
		FROM = {
			give_military_access = ROOT
		}
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
		}
		FROM = {
			country_event = yugoslavia.8
		}
	}
	option = {
		name = yugoslavia.7.b
		ai_chance = {
			base = 0
		}
		FROM = {
			country_event = yugoslavia.9
		}
	}
}
country_event = { # Special Relationship
	id = yugoslavia.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.8" }
	title = yugoslavia.8.t
	desc = yugoslavia.8.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugoslavia.8.a
		effect_tooltip = {
			FROM = {
				give_guarantee = SER
				give_military_access = SER
				SER = {
					give_military_access = ROOT
				}
				diplomatic_relation = {
					country = SER
					relation = non_aggression_pact
				}
			}
		}
		add_ideas = SER_YUG_special_relationship_idea
	}
}
country_event = { # Special Relationship
	id = yugoslavia.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.9" }
	title = yugoslavia.9.t
	desc = yugoslavia.9.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugoslavia.9.a
	}
}
country_event = { # Party of Rights
	id = yugoslavia.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.10" }
	title = yugoslavia.10.t
	desc = yugoslavia.10.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	trigger = {
		NOT = {
			has_completed_focus = SER_YUG_brotherhood_and_unity
		}
	}
	fire_only_once = yes

	option = {
		name = yugoslavia.10.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.02
		}
		if = {
			limit = {
				check_variable = { YUG_croatia_relations_level > 1 }
			}
			set_temp_variable = { checked_state = 2 } # Croatia
			set_temp_variable = { ethnic_situation = -1 }
			custom_effect_tooltip = YUG_croatia_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
		hidden_effect = {
			country_event = { id = yugoslavia.15 days = 300 random_days = 60 }
		}
	}
}
country_event = { # Socialist National Conference
	id = yugoslavia.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.11" }
	title = yugoslavia.11.t
	desc = yugoslavia.11.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugoslavia.11.a
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.01
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.01
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.01
		}
		hidden_effect = {
			country_event = { id = yugoslavia.17 days = 14 }
		}
	}
}
country_event = { # South Slavic Unification
	id = yugoslavia.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.12" }
	title = yugoslavia.12.t
	desc = yugoslavia.12.d
	picture = GFX_report_event_BUL_assembly

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugoslavia.12.a
		trigger = {
			is_ai = yes
		}
		FROM = {
			country_event = yugoslavia.13
		}
	}
	option = {
		name = yugoslavia.12.b
		trigger = {
			is_ai = no
		}
		FROM = {
			country_event = yugoslavia.14
		}
	}
}
country_event = { # South Slavic Unification
	id = yugoslavia.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.13" }
	title = yugoslavia.13.t
	desc = yugoslavia.13.d
	picture = GFX_report_event_BUL_assembly

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugoslavia.13.a
		every_other_country = {
			limit = {
				has_war_with = BUL
				NOT = { has_war_with = ROOT }
			}
			ROOT = {
				add_to_war = {
					targeted_alliance = BUL
					enemy = PREV
					hostility_reason = asked_to_join
				}
			}
		}
		annex_country = {
			target = BUL
			transfer_troops = yes
		}
		every_owned_state = {
			limit = {
				is_core_of = BUL
				OR = {
					state = 48
					state = 211
					state = 212
					state = 770
					state = 771
					state = 1089
					state = 1090
				}
			}
			add_claim_by = SER
		}
		BUL = {
			every_unit_leader = {
				#limit = {
				#	OR = {
				#		has_id = 1408
				#		has_id = 2202
				#	}
				#}
				set_nationality = SER
			}
			every_navy_leader = {
				set_nationality = SER
			}
		}
		hidden_effect = {
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 666555
						has_id = 555666
						has_id = 71209
						has_id = 18401
						has_id = 91820
						has_id = 76891 # Boris
						has_id = 91024 # Kyril
					}
				}
				set_nationality = XXA
			}
		}
		add_stability = -0.1
		if = {
			limit = {
				NOT = {
					has_completed_focus = SER_YUG_brotherhood_and_unity
				}
			}
			if = {
				limit = {
					check_variable = { YUG_other_relations_level > 4 }
				}
				set_temp_variable = { checked_state = 5 } # Other
				set_temp_variable = { ethnic_situation = -4 }
				custom_effect_tooltip = YUG_other_reduce_relations_tt
				YUG_update_ethnic_situation = yes
			}
			else_if = {
				limit = {
					check_variable = { YUG_other_relations_level > 3 }
				}
				set_temp_variable = { checked_state = 5 } # Other
				set_temp_variable = { ethnic_situation = -3 }
				custom_effect_tooltip = YUG_other_reduce_relations_tt
				YUG_update_ethnic_situation = yes
			}
			else_if = {
				limit = {
					check_variable = { YUG_other_relations_level > 2 }
				}
				set_temp_variable = { checked_state = 5 } # Other
				set_temp_variable = { ethnic_situation = -2 }
				custom_effect_tooltip = YUG_other_reduce_relations_tt
				YUG_update_ethnic_situation = yes
			}
			else_if = {
				limit = {
					check_variable = { YUG_other_relations_level > 1 }
				}
				set_temp_variable = { checked_state = 5 } # Other
				set_temp_variable = { ethnic_situation = -1 }
				custom_effect_tooltip = YUG_other_reduce_relations_tt
				YUG_update_ethnic_situation = yes
			}
			set_temp_variable = { gained_pp_per_turn = -3 }
			custom_effect_tooltip = YUG_modify_pp_gain_decrease_tt
			add_to_variable = { YUG_political_capital_gain = gained_pp_per_turn }
		}
	}
}
country_event = { # Bulgaria refuses
	id = yugoslavia.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.14" }
	title = yugoslavia.14.t
	desc = yugoslavia.14.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugoslavia.14.a
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
	}
}
country_event = { # ohno
	id = yugoslavia.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.15" }
	title = yugoslavia.15.t
	desc = yugoslavia.15.d
	picture = GFX_report_event_yugoslavia_partisans

	is_triggered_only = yes
	trigger = {
		NOT = {
			has_completed_focus = SER_YUG_brotherhood_and_unity
		}
	}
	fire_only_once = yes

	option = {
		name = yugoslavia.15.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.02
		}
		if = {
			limit = {
				check_variable = { YUG_croatia_relations_level > 1 }
			}
			set_temp_variable = { checked_state = 2 } # Croatia
			set_temp_variable = { ethnic_situation = -1 }
			custom_effect_tooltip = YUG_croatia_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
		set_variable = { YUG_pc_expenditure_croatia = 0 }
		custom_effect_tooltip = SER_YUG_croatia_zero_expenditure_tt
		YUG_update_expenditure_missions_croatia = yes
		set_country_flag = YUG_ustase_is_established
		custom_effect_tooltip = YUG_ustase_is_established_tt
	}
}
country_event = { # Yugoslavia random event
	# This is way more complicated than it should be buuuut whatever
	id = yugoslavia.16
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event yugoslavia.16"
		hidden_effect = {
			country_event = { id = yugmechanics.4 days = 90 }
		}
	}
	title = {
		text = yugoslavia.16.t1
		trigger = {
			has_country_flag = YUG_flavor_event_1
		}
	}
	title = {
		text = yugoslavia.16.t2
		trigger = {
			has_country_flag = YUG_flavor_event_2
		}
	}
	title = {
		text = yugoslavia.16.t3
		trigger = {
			has_country_flag = YUG_flavor_event_3
		}
	}
	title = {
		text = yugoslavia.16.t4
		trigger = {
			has_country_flag = YUG_flavor_event_4
		}
	}
	title = {
		text = yugoslavia.16.t5
		trigger = {
			has_country_flag = YUG_flavor_event_5
		}
	}
	title = {
		text = yugoslavia.16.t6
		trigger = {
			has_country_flag = YUG_flavor_event_6
		}
	}
	desc = {
		text = yugoslavia.16.d1
		trigger = {
			has_country_flag = YUG_flavor_event_1
		}
	}
	desc = {
		text = yugoslavia.16.d2
		trigger = {
			has_country_flag = YUG_flavor_event_2
		}
	}
	desc = {
		text = yugoslavia.16.d3
		trigger = {
			has_country_flag = YUG_flavor_event_3
		}
	}
	desc = {
		text = yugoslavia.16.d4
		trigger = {
			has_country_flag = YUG_flavor_event_4
		}
	}
	desc = {
		text = yugoslavia.16.d5
		trigger = {
			has_country_flag = YUG_flavor_event_5
		}
	}
	desc = {
		text = yugoslavia.16.d6
		trigger = {
			has_country_flag = YUG_flavor_event_6
		}
	}
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = {
		name = yugoslavia.16.a
		trigger = {
			has_country_flag = YUG_flavor_event_1
		}
		random_list = {
			seed = random
			20 = {
				if = {
					limit = {
						check_variable = { YUG_croatia_relations_level < 10 }
					}
					set_temp_variable = { checked_state = 2 } # Croatia
					set_temp_variable = { ethnic_situation = 1 }
					custom_effect_tooltip = YUG_croatia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
			}
			20 = {
				if = {
					limit = {
						check_variable = { YUG_bosnia_relations_level < 10 }
					}
					set_temp_variable = { checked_state = 3 } # Bosnia
					set_temp_variable = { ethnic_situation = 1 }
					custom_effect_tooltip = YUG_bosnia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
			}
			20 = {
				if = {
					limit = {
						check_variable = { YUG_slovenia_relations_level < 10 }
					}
					set_temp_variable = { checked_state = 4 } # Slovenia
					set_temp_variable = { ethnic_situation = 1 }
					custom_effect_tooltip = YUG_slovenia_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
			}
			20 = {
				if = {
					limit = {
						check_variable = { YUG_other_relations_level < 10 }
					}
					set_temp_variable = { checked_state = 5 } # Other
					set_temp_variable = { ethnic_situation = 1 }
					custom_effect_tooltip = YUG_other_improve_relations_tt
					YUG_update_ethnic_situation = yes
				}
			}
		}
		add_stability = -0.08
		add_political_power = -60
		set_temp_variable = { pp_loss = -2 }
		custom_effect_tooltip = YUG_pp_loss_tt
		add_to_variable = { YUG_political_capital = pp_loss }
		clamp_variable = { var = YUG_political_capital min = 0 }
	}
	option = {
		name = yugoslavia.16.b
		trigger = {
			has_country_flag = YUG_flavor_event_2
		}
		if = {
			limit = {
				check_variable = { YUG_serbia_relations_level < 10 }
			}
			set_temp_variable = { checked_state = 1 }
			set_temp_variable = { ethnic_situation = 1 }
			custom_effect_tooltip = YUG_serbia_improve_relations_tt
			YUG_update_ethnic_situation = yes
		}
		if = {
			limit = {
				check_variable = { YUG_other_relations_level < 10 }
			}
			set_temp_variable = { checked_state = 5 }
			set_temp_variable = { ethnic_situation = 1 }
			custom_effect_tooltip = YUG_other_improve_relations_tt
			YUG_update_ethnic_situation = yes
		}
		if = {
			limit = {
				check_variable = { YUG_croatia_relations_level > 2 }
			}
			set_temp_variable = { checked_state = 2 }
			set_temp_variable = { ethnic_situation = -2 }
			custom_effect_tooltip = YUG_croatia_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
		else_if = {
			limit = {
				check_variable = { YUG_croatia_relations_level > 1 }
			}
			set_temp_variable = { checked_state = 2 }
			set_temp_variable = { ethnic_situation = -1 }
			custom_effect_tooltip = YUG_croatia_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
		if = {
			limit = {
				check_variable = { YUG_slovenia_relations_level > 2 }
			}
			set_temp_variable = { checked_state = 4 }
			set_temp_variable = { ethnic_situation = -2 }
			custom_effect_tooltip = YUG_slovenia_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
		else_if = {
			limit = {
				check_variable = { YUG_slovenia_relations_level > 1 }
			}
			set_temp_variable = { checked_state = 4 }
			set_temp_variable = { ethnic_situation = -1 }
			custom_effect_tooltip = YUG_slovenia_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
	}
	option = {
		name = yugoslavia.16.c
		trigger = {
			has_country_flag = YUG_flavor_event_2
		}
		if = {
			limit = {
				check_variable = { YUG_croatia_relations_level < 10 }
			}
			set_temp_variable = { checked_state = 2 } # Croatia
			set_temp_variable = { ethnic_situation = 1 }
			custom_effect_tooltip = YUG_croatia_improve_relations_tt
			YUG_update_ethnic_situation = yes
		}
		if = {
			limit = {
				check_variable = { YUG_slovenia_relations_level < 10 }
			}
			set_temp_variable = { checked_state = 4 } # Slovenia
			set_temp_variable = { ethnic_situation = 1 }
			custom_effect_tooltip = YUG_slovenia_improve_relations_tt
			YUG_update_ethnic_situation = yes
		}
		if = {
			limit = {
				check_variable = { YUG_serbia_relations_level > 2 }
			}
			set_temp_variable = { checked_state = 1 } # Serbia
			set_temp_variable = { ethnic_situation = -2 }
			custom_effect_tooltip = YUG_serbia_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
		else_if = {
			limit = {
				check_variable = { YUG_serbia_relations_level > 1 }
			}
			set_temp_variable = { checked_state = 1 } # Serbia
			set_temp_variable = { ethnic_situation = -1 }
			custom_effect_tooltip = YUG_serbia_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
		if = {
			limit = {
				check_variable = { YUG_other_relations_level > 2 }
			}
			set_temp_variable = { checked_state = 5 } # Other
			set_temp_variable = { ethnic_situation = -2 }
			custom_effect_tooltip = YUG_other_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
		else_if = {
			limit = {
				check_variable = { YUG_other_relations_level > 1 }
			}
			set_temp_variable = { checked_state = 5 } # Other
			set_temp_variable = { ethnic_situation = -1 }
			custom_effect_tooltip = YUG_other_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
	}
	option = {
		name = yugoslavia.16.e
		trigger = {
			has_country_flag = YUG_flavor_event_3
		}
		add_political_power = -25
		add_stability = -0.02
		set_temp_variable = { pp_loss = -2 }
		custom_effect_tooltip = YUG_pp_loss_tt
		add_to_variable = { YUG_political_capital = pp_loss }
		clamp_variable = { var = YUG_political_capital min = 0 }
	}
	option = {
		name = yugoslavia.16.f
		trigger = {
			has_country_flag = YUG_flavor_event_4
		}
		add_political_power = -50
		set_temp_variable = { pp_gain = 1 }
		custom_effect_tooltip = YUG_pp_gain_tt
		add_to_variable = { YUG_political_capital = pp_gain }
	}
	option = {
		name = yugoslavia.16.g
		trigger = {
			has_country_flag = YUG_flavor_event_5
		}
		add_political_power = -75
		add_stability = -0.04
	}
	option = {
		name = yugoslavia.16.h
		trigger = {
			has_country_flag = YUG_flavor_event_5
		}
		if = {
			limit = {
				check_variable = { YUG_bosnia_relations_level > 1 }
			}
			set_temp_variable = { checked_state = 3 } # Bosnia
			set_temp_variable = { ethnic_situation = -1 }
			custom_effect_tooltip = YUG_bosnia_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
	}
	option = {
		name = yugoslavia.16.i
		trigger = {
			has_country_flag = YUG_flavor_event_6
		}
		set_temp_variable = { pp_loss = -2 }
		custom_effect_tooltip = YUG_pp_loss_tt
		add_to_variable = { YUG_political_capital = pp_loss }
		clamp_variable = { var = YUG_political_capital min = 0 }
	}
	option = {
		name = yugoslavia.16.j
		trigger = {
			has_country_flag = YUG_flavor_event_6
		}
		if = {
			limit = {
				check_variable = { YUG_other_relations_level > 1 }
			}
			set_temp_variable = { checked_state = 5 } # Other
			set_temp_variable = { ethnic_situation = -1 }
			custom_effect_tooltip = YUG_other_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
	}
}
country_event = { # The Unification Congress
	id = yugoslavia.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.17" }
	title = yugoslavia.17.t
	desc = {
		text = yugoslavia.17.d1
		trigger = {
			has_government = radical_socialist
			NOT = {
				has_completed_focus = SER_serbian_path
			}
		}
	}
	desc = {
		text = yugoslavia.17.d2
		trigger = {
			has_government = radical_socialist
			has_completed_focus = SER_serbian_path
		}
	}
	desc = {
		text = yugoslavia.17.d3
		trigger = {
			has_completed_focus = SER_Victory_for_the_People
			NOT = {
				has_government = radical_socialist
			}
		}
	}
	desc = {
		text = yugoslavia.17.d4
		trigger = {
			NOT = {
				has_government = radical_socialist
			}
			NOT = {
				has_completed_focus = SER_Victory_for_the_People
			}
		}
	}
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugoslavia.17.a
		if = {
			limit = {
				has_government = radical_socialist
				NOT = {
					has_completed_focus = SER_serbian_path
				}
			}
			set_party_name = {
				ideology = radical_socialist
				long_name = SER_YUG_radical_socialist_party_long
				name = SER_YUG_radical_socialist_party
			}
			set_party_name = {
				ideology = syndicalist
				long_name = SER_YUG_radical_socialist_party_long
				name = SER_YUG_radical_socialist_party
			}
			set_party_name = {
				ideology = totalist
				long_name = SER_YUG_radical_socialist_party_long
				name = SER_YUG_radical_socialist_party
			}
			set_party_name = {
				ideology = social_democrat
				long_name = SER_YUG_radical_socialist_party_long
				name = SER_YUG_radical_socialist_party
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:totalist }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:syndicalist }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_democrat }
			add_to_coalition = yes
			hidden_effect = {
				country_event = { id = yugoslavia.18 days = 15 }
			}
		}
		else_if = {
			limit = {
				has_government = radical_socialist
				has_completed_focus = SER_serbian_path
			}
			set_party_name = {
				ideology = radical_socialist
				long_name = SER_YUG_radical_socialist_party_long
				name = SER_YUG_radical_socialist_party
			}
			set_party_name = {
				ideology = syndicalist
				long_name = SER_YUG_syndicalist_party_long
				name = SER_YUG_syndicalist_party
			}
			set_party_name = {
				ideology = totalist
				long_name = SER_YUG_radical_socialist_party_long
				name = SER_YUG_radical_socialist_party
			}
			set_party_name = {
				ideology = social_democrat
				long_name = SER_YUG_radical_socialist_party_long
				name = SER_YUG_radical_socialist_party
			}
			end_coalition = yes
			set_temp_variable = { coalition_partner_var = token:totalist }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:social_democrat }
			add_to_coalition = yes
			hidden_effect = {
				country_event = { id = yugoslavia.18 days = 15 }
			}
		}
		else_if = {
			limit = {
				has_completed_focus = SER_Victory_for_the_People
				NOT = {
					has_government = radical_socialist
				}
			}
			set_party_name = {
				ideology = radical_socialist
				long_name = SER_YUG_radical_socialist_party_long
				name = SER_YUG_radical_socialist_party
			}
			set_party_name = {
				ideology = syndicalist
				long_name = SER_YUG_syndicalist_party_long
				name = SER_YUG_syndicalist_party
			}
			set_party_name = {
				ideology = totalist
				long_name = SER_YUG_syndicalist_party_long
				name = SER_YUG_syndicalist_party
			}
			set_party_name = {
				ideology = social_democrat
				long_name = SER_YUG_social_democrat_party_long
				name = SER_YUG_social_democrat_party
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_completed_focus = SER_Victory_for_the_People
				}
				NOT = {
					has_government = radical_socialist
				}
			}
			set_party_name = {
				ideology = radical_socialist
				long_name = SER_YUG_radical_socialist_party_long
				name = SER_YUG_radical_socialist_party
			}
			set_party_name = {
				ideology = syndicalist
				long_name = SER_YUG_radical_socialist_party_long
				name = SER_YUG_radical_socialist_party
			}
			set_party_name = {
				ideology = totalist
				long_name = SER_YUG_radical_socialist_party_long
				name = SER_YUG_radical_socialist_party
			}
			set_party_name = {
				ideology = social_democrat
				long_name = SER_YUG_social_democrat_party_long
				name = SER_YUG_social_democrat_party
			}
		}
	}
}
country_event = { # New party leader
	id = yugoslavia.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.18" }
	title = yugoslavia.18.t
	desc = yugoslavia.18.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = yugoslavia.18.a
		add_political_power = -25
		if = {
			limit = {
				check_variable = { YUG_serbia_pp_requirement > 1 }
			}
			set_temp_variable = { added_need = -1 }
			custom_effect_tooltip = YUG_serbia_decrease_turn_req_tt
			add_to_variable = { YUG_serbia_pp_requirement = added_need }
			YUG_update_AI_variables_serbia = yes
		}
	}
	option = {
		name = yugoslavia.18.b
		create_country_leader = {
			name = "Moša Pijade"
			picture = "Portrait_SER_Mosa_Pijade.png"
			expire = "1965.1.1"
			ideology = radical_socialist_subtype
		}
	}
	option = {
		name = yugoslavia.18.c
		create_country_leader = {
			name = "Milan Gorkić"
			picture = "Portrait_SER_Milan_Gorkic.png"
			expire = "1965.1.1"
			ideology = radical_socialist_subtype
		}
		if = {
			limit = {
				check_variable = { YUG_serbia_relations_level > 1 }
			}
			set_temp_variable = { checked_state = 1 } # Serbia
			set_temp_variable = { ethnic_situation = -1 }
			custom_effect_tooltip = YUG_serbia_reduce_relations_tt
			YUG_update_ethnic_situation = yes
		}
		if = {
			limit = {
				check_variable = { YUG_croatia_relations_level < 10 }
			}
			set_temp_variable = { checked_state = 2 } # Croatia
			set_temp_variable = { ethnic_situation = 1 }
			custom_effect_tooltip = YUG_croatia_improve_relations_tt
			YUG_update_ethnic_situation = yes
		}
		if = {
			limit = {
				check_variable = { YUG_slovenia_relations_level < 10 }
			}
			set_temp_variable = { checked_state = 4 } # Slovenia
			set_temp_variable = { ethnic_situation = 1 }
			custom_effect_tooltip = YUG_slovenia_improve_relations_tt
			YUG_update_ethnic_situation = yes
		}
		hidden_effect = {
			country_event = { id = yugoslavia.19 days = 1825 }
		}
	}
}
country_event = { # Is this a heckin reference
	id = yugoslavia.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event yugoslavia.19" }
	title = yugoslavia.19.t
	desc = yugoslavia.19.d
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	trigger = {
		NOT = {
			has_completed_focus = SER_YUG_brotherhood_and_unity
		}
		is_ai = no
		OR = {
			is_faction_leader = yes
			is_in_faction = no
		}
		has_government = radical_socialist
	}
	fire_only_once = yes

	option = {
		name = yugoslavia.19.a
		add_stability = -0.05
	}
	option = {
		name = yugoslavia.19.b
		create_country_leader = {
			name = "Josip Broz"
			picture = "Portrait_SER_Josip_Broz.png"
			expire = "1965.1.1"
			ideology = radical_socialist_subtype
			traits = {
				SER_independent_red
			}
		}
		add_stability = -0.1
	}
}

