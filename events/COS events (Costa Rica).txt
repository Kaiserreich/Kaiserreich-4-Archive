# Costa Rica - Jeankedezeehond

add_namespace = costa_rica_events

country_event = { #Nomination of the Republican Candidate
	id = costa_rica_events.2
	title = costa_rica_events.2.t
	desc = costa_rica_events.2.d

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = costa_rica_events.3 days = 7 }
		}
	}

	option = { #Cortes
		log = "[GetLogInfo]: event costa_rica_events.2 option costa_rica_events.2.a"
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = COS_path option = DEFAULT } }
				NOT = { has_game_rule = { rule = COS_path option = COS_PATH_SOCCON } }
			}
		}
		name = costa_rica_events.2.a
		set_country_flag = CORTES
		effect_tooltip = {
			add_country_leader_role = {
				character = COS_leon_cortes_castro
				country_leader = {
					# Tooltip only, doesn't need desc
					ideology = social_conservative_subtype
				}
			}
		}
	}

	option = { #Guardia
		log = "[GetLogInfo]: event costa_rica_events.2 option costa_rica_events.2.b"
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				has_game_rule = { rule = COS_path option = COS_PATH_SOCCON }
			}
		}
		name = costa_rica_events.2.b
		set_country_flag = GUARDIA
		add_country_leader_role = {
			character = COS_rafael_angel_calderon_guardia
			country_leader = {
				desc = COS_rafael_angel_calderon_guardia_leader_desc
				ideology = social_conservative_subtype
			}
		}
	}
}

country_event = { #Manuel Mora Valverde requests lowering of the age requirement

	id = costa_rica_events.3
	title = costa_rica_events.3.t
	desc = costa_rica_events.3.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #The constitution is sacred
		log = "[GetLogInfo]: event costa_rica_events.3 option costa_rica_events.3.a"
		ai_chance = { base = 95 }
		name = costa_rica_events.3.a
		add_political_power = 20
	}

	option = { #It was a dumb rule anyway
		log = "[GetLogInfo]: event costa_rica_events.3 option costa_rica_events.3.b"
		ai_chance = { base = 5 }
		name = costa_rica_events.3.b
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		add_stability = 0.03
	}
}

country_event = { #1936 Elections

	id = costa_rica_events.4
	title = costa_rica_events.4.t
	desc = costa_rica_events.4.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		date < 1938.02.02
	}

	immediate = {
		hidden_effect = {
			country_event = { id = costa_rica_events.59 days = 365 }
		}
	}

	option = { #Cortes wins
		log = "[GetLogInfo]: event costa_rica_events.4 option costa_rica_events.4.a"
		trigger = {
			has_country_flag = CORTES
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.4.a
		complete_national_focus = COS_Conservative_Victory
		promote_character = COS_leon_cortes_castro
		hidden_effect = {
			country_event = { id = costa_rica_events.122 days = 710 }
		}
	}

	option = { #Guardia wins
		log = "[GetLogInfo]: event costa_rica_events.4 option costa_rica_events.4.b"
		trigger = {
			has_country_flag = GUARDIA
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.4.b
		promote_character = {
			character = COS_rafael_angel_calderon_guardia
			ideology = social_conservative_subtype
		}
		hidden_effect = {
			country_event = { id = costa_rica_events.77 days = 6 }
		}
	}
}

### BLACK MONDAY ###

country_event = { #Black Monday hits the ZKG
	id = costa_rica_events.5
	title = costa_rica_events.5.t
	desc = costa_rica_events.5.d

	is_triggered_only = yes

	option = { #Oh the humanity
		log = "[GetLogInfo]: event costa_rica_events.5 option costa_rica_events.5.a"
		name = costa_rica_events.5.a
		trigger = {
			has_country_flag = CORTES
		}
		ai_chance = { base = 100 }
		hidden_effect = {
			country_event = { id = costa_rica_events.14 days = 100 }
		}
	}
	option = { #Those Germans had it coming!
		log = "[GetLogInfo]: event costa_rica_events.5 option costa_rica_events.5.b"
		name = costa_rica_events.5.b
		trigger = {
			has_country_flag = GUARDIA
		}
		ai_chance = { base = 100 }
	}
	after = {
		add_ideas = COS_black_monday
		add_stability = -0.4
		add_political_power = -100
	}
}

country_event = { #ZKG collapses under the BM crisis

	id = costa_rica_events.6
	title = costa_rica_events.6.t
	desc = costa_rica_events.6.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Approach the USA
		log = "[GetLogInfo]: event costa_rica_events.6 option costa_rica_events.6.a"
		ai_chance = { base = 30 }
		name = costa_rica_events.6.a
		USA = {
			country_event = { id = costa_rica_events.7 days = 2 }
		}
	}

	option = { #Ask for a German bailout
		log = "[GetLogInfo]: event costa_rica_events.6 option costa_rica_events.6.b"
		ai_chance = { base = 70 }
		name = costa_rica_events.6.b
		GER = {
			country_event = { id = costa_rica_events.10 days = 2 }
		}
	}
}

country_event = { #Costa Rica requests American support

	id = costa_rica_events.7
	title = costa_rica_events.7.t
	desc = costa_rica_events.7.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Offer them assistance
		log = "[GetLogInfo]: event costa_rica_events.7 option costa_rica_events.7.a"
		ai_chance = { base = 100 }
		name = costa_rica_events.7.a
		COS = {
			country_event = { id = costa_rica_events.8 days = 2 }
		}
	}

	option = { #We have more important matters to attend to
		log = "[GetLogInfo]: event costa_rica_events.7 option costa_rica_events.7.b"
		ai_chance = { base = 0 }
		name = costa_rica_events.7.b
		COS = {
			set_country_flag = COS_USA_denied_help
			country_event = { id = costa_rica_events.9 days = 2 }
		}
	}
}

country_event = { #Costa Rica receives American support

	id = costa_rica_events.8
	title = costa_rica_events.8.t
	desc = costa_rica_events.8.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #God bless the US of A
		log = "[GetLogInfo]: event costa_rica_events.8 option costa_rica_events.8.a"
		name = costa_rica_events.8.a
		add_stability = 0.08
		set_temp_variable = { cos_UFC_change = 8 }
		update_UFC_influence = yes
		unlock_national_focus = COS_Request_American_Support
	}
}

country_event = { #Costa Rica receives no American support

	id = costa_rica_events.9
	title = costa_rica_events.9.t
	desc = costa_rica_events.9.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Ask Germany
		log = "[GetLogInfo]: event costa_rica_events.9 option costa_rica_events.9.a"
		trigger = {
			NOT = {
				has_country_flag = COS_GER_denied_help
			}
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.9.a
		GER = {
			country_event = { id = costa_rica_events.10 days = 2 }
		}
	}

	option = { #RIP
		log = "[GetLogInfo]: event costa_rica_events.9 option costa_rica_events.9.b"
		trigger = {
			has_country_flag = COS_GER_denied_help
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.9.b
		add_stability = -0.10
		custom_effect_tooltip = ZKG_NO_SUPPORT
		hidden_effect = {
			country_event = { id = costa_rica_events.13 days = 1825 }
		}
	}
}

country_event = { #Costa Rica requests German support

	id = costa_rica_events.10
	title = costa_rica_events.7.t
	desc = costa_rica_events.7.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Offer them assistance
		log = "[GetLogInfo]: event costa_rica_events.10 option costa_rica_events.7.a"
		ai_chance = { base = 100 }
		name = costa_rica_events.7.a
		COS = {
			country_event = costa_rica_events.11
		}
	}

	option = { #We have more important matters to attend to
		log = "[GetLogInfo]: event costa_rica_events.10 option costa_rica_events.7.b"
		ai_chance = { base = 0 }
		name = costa_rica_events.7.b
		COS = {
			set_country_flag = COS_GER_denied_help
			country_event = costa_rica_events.12
		}
	}
}

country_event = { #Costa Rica receives German support

	id = costa_rica_events.11
	title = costa_rica_events.8.t
	desc = costa_rica_events.11.d

	is_triggered_only = yes

	option = { #Thank God for the Germans
		log = "[GetLogInfo]: event costa_rica_events.11 option costa_rica_events.11.a"
		name = costa_rica_events.11.a
		add_stability = 0.08
		set_temp_variable = { cos_ZKG_change = 8 }
		update_ZKG_influence = yes
		unlock_national_focus = COS_German_Crisis_Response
	}
}

country_event = { #Costa Rica receives no German support

	id = costa_rica_events.12
	title = costa_rica_events.9.t
	desc = costa_rica_events.12.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Ask America
		log = "[GetLogInfo]: event costa_rica_events.12 option costa_rica_events.12.a"
		trigger = {
			NOT = {
				has_country_flag = COS_USA_denied_help
			}
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.12.a
		USA = {
			country_event = costa_rica_events.10
		}
	}

	option = { #RIP
		log = "[GetLogInfo]: event costa_rica_events.12 option costa_rica_events.9.b"
		trigger = {
			has_country_flag = COS_USA_denied_help
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.9.b
		add_stability = -0.10
		custom_effect_tooltip = ZKG_NO_SUPPORT
		hidden_effect = {
			country_event = { id = costa_rica_events.13 days = 1825 }
		}
	}
}

country_event = { #ZKG recovers on its own

	id = costa_rica_events.13
	title = costa_rica_events.13.t
	desc = costa_rica_events.13.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #At last
		log = "[GetLogInfo]: event costa_rica_events.13 option costa_rica_events.13.a"
		name = costa_rica_events.13.a
		add_stability = 0.05
		swap_ideas = {
			remove_idea = COS_black_monday_bailout
			add_idea = COS_black_monday_nearly_over
		}
		if = {
			limit = { has_government = social_democrat }
			complete_national_focus = COS_A_Different_Approach
		}
		else = {
			complete_national_focus = COS_Industrial_Developement_Scheme
		}
	}
}

### 1936 Events ###

country_event = { #ZKG strikes

	id = costa_rica_events.14
	title = costa_rica_events.14.t
	desc = costa_rica_events.14.d

	fire_only_once = yes

	is_triggered_only = yes

	trigger = {
		has_country_flag = CORTES
	}

	option = { #Let's hope they don't repeat the '34 disaster
		log = "[GetLogInfo]: event costa_rica_events.14 option costa_rica_events.14.a"
		name = costa_rica_events.14.a
		add_stability = -0.05
		add_popularity = {
			ideology = syndicalist
			popularity = 0.03
		}
		hidden_effect = {
			country_event = { id = costa_rica_events.15 days = 80 }
		}
	}
}

country_event = { #Protest against Blacks taking Costa Rican jobs

	id = costa_rica_events.15
	title = costa_rica_events.15.t
	desc = costa_rica_events.15.d

	fire_only_once = yes

	is_triggered_only = yes

	trigger = {
		has_government = social_conservative
	}

	option = { #It's a free world
		log = "[GetLogInfo]: event costa_rica_events.15 option costa_rica_events.15.a"
		ai_chance = { base = 33 }
		name = costa_rica_events.15.a
		set_temp_variable = { cos_ZKG_change = 3 }
		update_ZKG_influence = yes
		set_temp_variable = { cos_UFC_change = 3 }
		update_UFC_influence = yes
	}

	option = { #Encourage companies to hire native Costa Ricans
		log = "[GetLogInfo]: event costa_rica_events.15 option costa_rica_events.15.b"
		ai_chance = { base = 33 }
		name = costa_rica_events.15.b
		add_political_power = -30
		set_temp_variable = { cos_ZKG_change = -3 }
		update_ZKG_influence = yes
		set_temp_variable = { cos_UFC_change = -3 }
		update_UFC_influence = yes
	}

	option = { #Enforce zones which blacks can't leave
		log = "[GetLogInfo]: event costa_rica_events.15 option costa_rica_events.15.c"
		ai_chance = { base = 33 }
		name = costa_rica_events.15.c
		add_political_power = -30
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
}

### Schleswig ###

country_event = { #German Cruiser Schleswig docks in Costa Rica

	id = costa_rica_events.16
	title = costa_rica_events.16.t
	desc = costa_rica_events.16.d

	is_triggered_only = yes

	trigger = {
		has_country_flag = CORTES
	}

	option = { #Request a German garisson
		log = "[GetLogInfo]: event costa_rica_events.16 option costa_rica_events.16.a"
		ai_chance = { base = 90 }
		name = costa_rica_events.16.a
		add_political_power = -100
		GER = {
			country_event = costa_rica_events.17
		}
	}

	option = { #Request German arms
		log = "[GetLogInfo]: event costa_rica_events.16 option costa_rica_events.16.b"
		ai_chance = { base = 20 }
		name = costa_rica_events.16.b
		add_political_power = -50
		GER = {
			country_event = costa_rica_events.20
		}
	}

	option = { #We don't need their help
		log = "[GetLogInfo]: event costa_rica_events.16 option costa_rica_events.16.c"
		ai_chance = { base = 0 }
		name = costa_rica_events.16.c
		add_stability = 0.05
	}
}

country_event = { #CR requests German garisson

	id = costa_rica_events.17
	title = costa_rica_events.17.t
	desc = costa_rica_events.17.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Accept their idea
		log = "[GetLogInfo]: event costa_rica_events.17 option costa_rica_events.17.a"
		ai_chance = { base = 80 }
		name = costa_rica_events.17.a
		COS = {
			country_event = costa_rica_events.18
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -100
			producer = GER
		}
		add_manpower = -100
	}

	option = { #We shouldn't anger the USA
		log = "[GetLogInfo]: event costa_rica_events.17 option costa_rica_events.17.b"
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				COS = {
					is_ai = no
				}
			}
		}
		name = costa_rica_events.17.b
		COS = {
			country_event = costa_rica_events.19
		}
	}
}

country_event = { #German garisson instated

	id = costa_rica_events.18
	title = costa_rica_events.18.t
	desc = costa_rica_events.18.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Wilkommen meine Freunden
		log = "[GetLogInfo]: event costa_rica_events.18 option costa_rica_events.18.a"
		name = costa_rica_events.18.a
		COS_create_GER_garrison_divisions = yes
	}
}

country_event = { #German garisson refused

	id = costa_rica_events.19
	title = costa_rica_events.19.t
	desc = costa_rica_events.19.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #SAD
		log = "[GetLogInfo]: event costa_rica_events.19 option costa_rica_events.19.a"
		name = costa_rica_events.19.a
		add_war_support = 0.10
	}
}

country_event = { #CR requests German arms

	id = costa_rica_events.20
	title = costa_rica_events.20.t
	desc = costa_rica_events.20.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Accept their idea
		log = "[GetLogInfo]: event costa_rica_events.20 option costa_rica_events.20.a"
		ai_chance = { base = 30 }
		name = costa_rica_events.20.a
		COS = {
			country_event = costa_rica_events.21
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -500
			producer = GER
		}
	}

	option = { #We shouldn't anger the USA
		log = "[GetLogInfo]: event costa_rica_events.20 option costa_rica_events.17.b"
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				COS = {
					is_ai = no
				}
			}
		}
		name = costa_rica_events.17.b
		COS = {
			country_event = costa_rica_events.22
		}
	}
}

country_event = { #German arms received

	id = costa_rica_events.21
	title = costa_rica_events.21.t
	desc = costa_rica_events.21.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #It's for a good cause
		log = "[GetLogInfo]: event costa_rica_events.21 option costa_rica_events.21.a"
		name = costa_rica_events.21.a
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 500
			producer = GER
		}
	}
}

country_event = { #Germany refuses weapons shipment

	id = costa_rica_events.22
	title = costa_rica_events.19.t
	desc = costa_rica_events.22.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Well fuck you too then
		log = "[GetLogInfo]: event costa_rica_events.22 option costa_rica_events.22.a"
		name = costa_rica_events.22.a
		add_war_support = 0.10
	}
}

#######
# ACW #
#######

country_event = { #ACW breaks out
	id = costa_rica_events.23
	title = costa_rica_events.23.t
	desc = costa_rica_events.23.d

	is_triggered_only = yes

	trigger = {
		is_subject = no
	}

	immediate = {
		hidden_effect = {
			country_event = { id = costa_rica_events.63 days = 150 }
			country_event = { id = costa_rica_events.64 days = 160 }
		}
	}

	option = { #Approach the Entente
		log = "[GetLogInfo]: event costa_rica_events.23 option costa_rica_events.23.a"
		name = costa_rica_events.23.a
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = COS_forpol option = DEFAULT } }
				NOT = { has_game_rule = { rule = COS_forpol option = COS_FORPOL_ENT } }
			}
		}
		CAN = {
			country_event = { id = costa_rica_events.24 days = 2 }
		}
	}

	option = { #Approach Germany
		log = "[GetLogInfo]: event costa_rica_events.23 option costa_rica_events.23.b"
		name = costa_rica_events.23.b
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = COS_forpol option = DEFAULT } }
				NOT = { has_game_rule = { rule = COS_forpol option = COS_FORPOL_GER } }
			}
		}
		GER = {
			country_event = { id = costa_rica_events.27 days = 2 }
		}
	}

	option = { #The world is a warm place with only fluffy and happy thoughts
		log = "[GetLogInfo]: event costa_rica_events.23 option costa_rica_events.23.c"
		name = costa_rica_events.23.c
		ai_chance = { base = 0 }
		add_stability = -0.1
		add_war_support = 0.20
		add_manpower = 1000
	}
	after = {
		remove_ideas = CEN_monroe_doctrine
	}
}

country_event = { #Costa Rica requests we guarantee their safety (CANADA)

	id = costa_rica_events.24
	title = costa_rica_events.24.t
	desc = costa_rica_events.24.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Offer them assistance
		log = "[GetLogInfo]: event costa_rica_events.24 option costa_rica_events.24.a"
		ai_chance = { base = 100 }
		name = costa_rica_events.24.a
		give_guarantee = COS
		COS = {
			country_event = { id = costa_rica_events.25 days = 2 }
		}
	}

	option = { #We have more important matters to attend to
		log = "[GetLogInfo]: event costa_rica_events.24 option costa_rica_events.24.b"
		ai_chance = { base = 0 }
		name = costa_rica_events.24.b
		COS = {
			set_country_flag = CAN_denies_COS
			country_event = { id = costa_rica_events.26 days = 2 }
		}
	}
}

country_event = { #Costa Rica receives Canadian backing

	id = costa_rica_events.25
	title = costa_rica_events.25.t
	desc = costa_rica_events.25.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #We are grateful
		log = "[GetLogInfo]: event costa_rica_events.25 option costa_rica_events.25.a"
		name = costa_rica_events.25.a
		add_stability = 0.05
	}
}

country_event = { #Costa Rica receives no Canadian support

	id = costa_rica_events.26
	title = costa_rica_events.26.t
	desc = costa_rica_events.26.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Ask Germany
		log = "[GetLogInfo]: event costa_rica_events.26 option costa_rica_events.26.a"
		trigger = {
			NOT = {
				has_country_flag = GER_denies_COS
			}
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.26.a
		GER = {
			country_event = { id = costa_rica_events.27 days = 2 }
		}
	}

	option = { #RIP
		log = "[GetLogInfo]: event costa_rica_events.26 option costa_rica_events.26.b"
		trigger = {
			has_country_flag = GER_denies_COS
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.26.b
		add_stability = -0.1
		add_war_support = 0.20
		add_manpower = 1000
	}
}

country_event = { #Costa Rica requests German protection

	id = costa_rica_events.27
	title = costa_rica_events.24.t
	desc = costa_rica_events.27.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Offer them assistance
		log = "[GetLogInfo]: event costa_rica_events.27 option costa_rica_events.24.a"
		ai_chance = { base = 100 }
		name = costa_rica_events.24.a
		give_guarantee = COS
		COS = {
			country_event = { id = costa_rica_events.28 days = 2 }
		}
	}

	option = { #We have more important matters to attend to
		log = "[GetLogInfo]: event costa_rica_events.27 option costa_rica_events.27.b"
		ai_chance = { base = 0 }
		name = costa_rica_events.27.b
		COS = {
			set_country_flag = GER_denies_COS
			country_event = { id = costa_rica_events.29 days = 2 }
		}
	}
}

country_event = { #Costa Rica receives German support

	id = costa_rica_events.28
	title = costa_rica_events.25.t
	desc = costa_rica_events.28.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Thank God for the Germans
		log = "[GetLogInfo]: event costa_rica_events.28 option costa_rica_events.28.a"
		name = costa_rica_events.28.a
		add_stability = 0.05
	}
}

country_event = { #Costa Rica receives no German support

	id = costa_rica_events.29
	title = costa_rica_events.26.t
	desc = costa_rica_events.29.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Ask Canada
		log = "[GetLogInfo]: event costa_rica_events.29 option costa_rica_events.29.a"
		trigger = {
			NOT = {
				has_country_flag = CAN_denies_COS
			}
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.29.a
		CAN = {
			country_event = { id = costa_rica_events.24 days = 2 }
		}
	}

	option = { #RIP
		log = "[GetLogInfo]: event costa_rica_events.29 option costa_rica_events.29.b"
		trigger = {
			has_country_flag = CAN_denies_COS
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.29.b
		add_stability = -0.1
		add_war_support = 0.20
		add_manpower = 1000
	}
}

###############
# COTO CRISIS #
###############

country_event = { #Panama invades!
	id = costa_rica_events.30
	title = costa_rica_events.30.t
	desc = costa_rica_events.30.d

	is_triggered_only = yes

	trigger = {
		FROM = {
			is_subject = no
			can_declare_war_on = ROOT
		}
	}

	option = { #Request Mediation from our ally Canada
		log = "[GetLogInfo]: event costa_rica_events.30 option costa_rica_events.30.a"
		trigger = {
			OR = {
				is_guaranteed_by = CAN
				is_in_faction_with = CAN
			}
			CAN = { is_in_faction_with = ENT }
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.30.a
		CAN = {
			country_event = { id = costa_rica_events.31 days = 2 }
		}
	}

	option = { #Request Mediation from our ally Germany
		log = "[GetLogInfo]: event costa_rica_events.30 option costa_rica_events.30.b"
		trigger = {
			OR = {
				is_guaranteed_by = GER
				is_in_faction_with = GER
			}
			GER = { is_faction_leader = yes }
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.30.b
		GER = {
			country_event = { id = costa_rica_events.31 days = 2 }
		}
	}

	option = { #RIP
		log = "[GetLogInfo]: event costa_rica_events.30 option costa_rica_events.30.c"
		trigger = {
			NOT = {
				is_guaranteed_by = CAN
				is_in_faction_with = CAN
				is_guaranteed_by = GER
				is_in_faction_with = GER
			}
		}
		ai_chance = { base = 100 }
		name = costa_rica_events.30.c
		add_war_support = 0.20
		add_stability = -0.10
		add_manpower = 2000
		PAN = {
			country_event = { id = costa_rica_events.301 days = 2 }
		}
	}
}

country_event = { #Costa Rica is undefended
	id = costa_rica_events.301
	title = costa_rica_events.301.t
	desc = costa_rica_events.301.d

	is_triggered_only = yes

	trigger = {
		is_subject = no
		can_declare_war_on = COS
	}

	option = { #Talk to Panama
		log = "[GetLogInfo]: event costa_rica_events.301 option costa_rica_events.301.a"
		name = costa_rica_events.301.a
		declare_war_on = {
			target = COS
			type = annex_everything
		}
		COS = { set_country_flag = COS_coto_white_peace_enable }
	}
}

country_event = { #CAN/GER response to the border conflict
	id = costa_rica_events.31
	title = costa_rica_events.30.t
	desc = costa_rica_events.31.d

	is_triggered_only = yes

	trigger = {
		PAN = {
			is_subject = no
			can_declare_war_on = COS
		}
	}

	option = { #Talk to Panama
		log = "[GetLogInfo]: event costa_rica_events.31 option costa_rica_events.31.a"
		ai_chance = { base = 80 }
		name = costa_rica_events.31.a
		PAN = {
			country_event = { id = costa_rica_events.32 days = 2 }
		}
	}

	option = { #Issue a warning to Panama
		log = "[GetLogInfo]: event costa_rica_events.31 option costa_rica_events.31.b"
		ai_chance = { base = 20 }
		name = costa_rica_events.31.b
		trigger = {
			NOT = {
				AND = {
					COS = {
						OR = {
							is_guaranteed_by = CAN
							is_in_faction_with = CAN
						}
					}
					PAN = {
						has_country_flag = PAN_canada_accepted
					}
				}
			}
		}
		PAN = {
			country_event = { id = costa_rica_events.44 days = 2 }
		}
	}
}

country_event = { #Panama reacts to mediation
	id = costa_rica_events.32
	title = costa_rica_events.32.t
	desc = costa_rica_events.32.d

	is_triggered_only = yes

	trigger = {
		is_subject = no
		can_declare_war_on = COS
	}

	option = { #Accept the Fallo White ruling (no coto for you)
		log = "[GetLogInfo]: event costa_rica_events.32 option costa_rica_events.32.a"
		ai_chance = { base = 80 }
		name = costa_rica_events.32.a
		FROM = {
			country_event = { id = costa_rica_events.33 days = 2 }
		}
	}

	option = { #Demand monetary compensation
		log = "[GetLogInfo]: event costa_rica_events.32 option costa_rica_events.32.b"
		ai_chance = { base = 20 }
		name = costa_rica_events.32.b
		FROM = {
			country_event = { id = costa_rica_events.35 days = 2 }
		}
	}

	option = { #The time for mediation is over. To war!
		log = "[GetLogInfo]: event costa_rica_events.32 option costa_rica_events.32.c"
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				COS = {
					OR = {
						is_guaranteed_by = GER
						is_guaranteed_by = CAN
						is_in_faction = yes
					}
				}
			}
			modifier = {
				factor = 0
				is_in_faction = yes
			}
		}
		name = costa_rica_events.32.c
		trigger = {
			NOT = {
				AND = {
					COS = {
						OR = {
							is_guaranteed_by = CAN
							is_in_faction_with = CAN
						}
					}
					PAN = {
						has_country_flag = PAN_canada_accepted
					}
				}
			}
		}
		if = {
			limit = { is_in_faction = yes }
			leave_faction = yes
		}
		declare_war_on = {
			target = COS
			type = annex_everything
		}
		FROM = {
			country_event = costa_rica_events.41
		}
		COS = {
			country_event = costa_rica_events.42
		}
	}
}

country_event = { #Panama accepts the Fallo White ruling
	id = costa_rica_events.33
	title = costa_rica_events.33.t
	desc = costa_rica_events.33.d

	is_triggered_only = yes

	option = { #Another job well done
		log = "[GetLogInfo]: event costa_rica_events.33 option costa_rica_events.33.a"
		name = costa_rica_events.33.a
		COS = {
			country_event = { id = costa_rica_events.34 days = 2 }
		}
		add_political_power = 30
	}
}

country_event = { #Panama accepts the Fallo White ruling (COS reaction)
	id = costa_rica_events.34
	title = costa_rica_events.33.t
	desc = costa_rica_events.34.d

	is_triggered_only = yes

	option = { #Another success for diplomacy
		log = "[GetLogInfo]: event costa_rica_events.34 option costa_rica_events.34.a"
		name = costa_rica_events.34.a
		add_war_support = -0.1
		add_stability = 0.1
	}
}

country_event = { #Panama demands monetary compensation
	id = costa_rica_events.35
	title = costa_rica_events.35.t
	desc = costa_rica_events.35.d

	is_triggered_only = yes

	option = { #Propose the deal to Costa Rica
		log = "[GetLogInfo]: event costa_rica_events.35 option costa_rica_events.35.a"
		ai_chance = { base = 80 }
		name = costa_rica_events.35.a
		COS = {
			country_event = { id = costa_rica_events.36 days = 2 }
		}
	}

	option = { #We don't negotiate with these villains
		log = "[GetLogInfo]: event costa_rica_events.35 option costa_rica_events.35.b"
		ai_chance = { base = 80 }
		trigger = {
			NOT = {
				AND = {
					COS = {
						OR = {
							is_guaranteed_by = CAN
							is_in_faction_with = CAN
						}
					}
					PAN = {
						has_country_flag = PAN_canada_accepted
					}
				}
			}
		}
		name = costa_rica_events.35.b
		COS = {
			country_event = { id = costa_rica_events.39 days = 2 }
		}
		PAN = {
			country_event = { id = costa_rica_events.40 days = 2 }
		}
	}
}

country_event = { #Panama demands monetary compensation (COS reaction)
	id = costa_rica_events.36
	title = costa_rica_events.35.t
	desc = costa_rica_events.36.d

	is_triggered_only = yes

	option = { #Accept the deal
		log = "[GetLogInfo]: event costa_rica_events.36 option costa_rica_events.36.a"
		ai_chance = { base = 80 }
		name = costa_rica_events.36.a
		FROM = {
			country_event = { id = costa_rica_events.37 days = 2 }
		}
		PAN = {
			country_event = { id = costa_rica_events.38 days = 2 }
		}
		add_timed_idea = {
			idea = COS_coto_compensation
			days = 300
		}
	}

	option = { #We don't negotiate with these villains
		log = "[GetLogInfo]: event costa_rica_events.36 option costa_rica_events.36.b"
		ai_chance = { base = 80 }
		trigger = {
			NOT = {
				AND = {
					COS = {
						OR = {
							is_guaranteed_by = CAN
							is_in_faction_with = CAN
						}
					}
					PAN = {
						has_country_flag = PAN_canada_accepted
					}
				}
			}
		}
		name = costa_rica_events.36.b
		FROM = {
			country_event = { id = costa_rica_events.43 days = 2 }
		}
		PAN = {
			country_event = { id = costa_rica_events.40 days = 2 }
		}
	}
}

country_event = { #CAN/GER signs the deal
	id = costa_rica_events.37
	title = costa_rica_events.37.t
	desc = costa_rica_events.37.d

	is_triggered_only = yes

	option = { #We truly make the best deals
		log = "[GetLogInfo]: event costa_rica_events.37 option costa_rica_events.37.a"
		name = costa_rica_events.37.a
		add_political_power = 30
	}
}

country_event = { #Panama signs the deal
	id = costa_rica_events.38
	title = costa_rica_events.37.t
	desc = costa_rica_events.38.d

	is_triggered_only = yes

	option = { #We truly make the best deals
		log = "[GetLogInfo]: event costa_rica_events.38 option costa_rica_events.37.a"
		name = costa_rica_events.37.a
		add_timed_idea = {
			idea = COS_coto_compensation_PAN
			days = 300
		}
	}
}

country_event = { #CAN/GER puts the squeeze on Panama (COS reaction)
	id = costa_rica_events.39
	title = costa_rica_events.39.t
	desc = costa_rica_events.39.d

	is_triggered_only = yes

	option = { #They are playing with fire!
		log = "[GetLogInfo]: event costa_rica_events.39 option costa_rica_events.39.a"
		name = costa_rica_events.39.a
	}
}

country_event = { #Compensation is refused by COS or CAN/GER (PAN reaction)
	id = costa_rica_events.40
	title = costa_rica_events.40.t
	desc = {
		text = costa_rica_events.40.can.d
		trigger = {
			COS = {
				OR = {
					is_guaranteed_by = CAN
					is_in_faction_with = CAN
				}
			}
		}
	}
	desc = {
		text = costa_rica_events.40.ger.d
		trigger = {
			COS = {
				OR = {
					is_guaranteed_by = GER
					is_in_faction_with = GER
				}
			}
		}
	}

	is_triggered_only = yes

	trigger = {
		is_subject = no
		can_declare_war_on = COS
	}

	option = { #They clearly don't want to negotiate!
		log = "[GetLogInfo]: event costa_rica_events.40 option costa_rica_events.40.a"
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				COS = {
					OR = {
						is_guaranteed_by = GER
						is_guaranteed_by = CAN
						is_in_faction = yes
					}
				}
			}
			modifier = {
				factor = 0
				is_in_faction = yes
			}
		}
		name = costa_rica_events.40.a
		if = {
			limit = { is_in_faction = yes }
			leave_faction = yes
		}
		declare_war_on = {
			target = COS
			type = annex_everything
		}
		FROM.FROM = {
			country_event = costa_rica_events.41
		}
		COS = {
			country_event = costa_rica_events.42
		}
	}

	option = { #Back down and accept the Fallo White ruling
		log = "[GetLogInfo]: event costa_rica_events.40 option costa_rica_events.40.b"
		ai_chance = { base = 80 }
		name = costa_rica_events.40.b
		add_war_support = -0.20
		add_stability = -0.10
		FROM.FROM = {
			country_event = { id = costa_rica_events.33 days = 2 }
		}
		COS = {
			country_event = { id = costa_rica_events.34 days = 2 }
		}
	}
}

country_event = { #War over Coto! (CAN/GER reaction)
	id = costa_rica_events.41
	title = costa_rica_events.41.t
	desc = costa_rica_events.41.d

	is_triggered_only = yes

	option = { #welp that didn't go so well
		log = "[GetLogInfo]: event costa_rica_events.41 option costa_rica_events.41.a"
		name = costa_rica_events.41.a
	}
}

country_event = { #War over Coto! (COS reaction)
	id = costa_rica_events.42
	title = costa_rica_events.41.t
	desc = {
		text = costa_rica_events.42.can.d
		trigger = {
			COS = {
				OR = {
					is_guaranteed_by = CAN
					is_in_faction_with = CAN
				}
			}
		}
	}
	desc = {
		text = costa_rica_events.42.ger.d
		trigger = {
			COS = {
				OR = {
					is_guaranteed_by = GER
					is_in_faction_with = GER
				}
			}
		}
	}

	is_triggered_only = yes

	trigger = {
		OR = {
			AND = {
				is_guaranteed_by = ENT
				ENT = { is_faction_leader = yes }
			}
			AND = {
				is_guaranteed_by = GER
				GER = { is_faction_leader = yes }
			}
		}
		PAN = {
			is_subject = no
		}
	}

	option = { #all men to battle stations!
		log = "[GetLogInfo]: event costa_rica_events.42 option costa_rica_events.42.a"
		name = costa_rica_events.42.a
		add_manpower = 1000
		if = {
			limit = { is_in_faction = no }
			if = {
				limit = { is_guaranteed_by = ENT }
				ENT = { add_to_faction = COS }
				set_country_flag = COS_CAN_ally
			}
			else_if = {
				limit = { is_guaranteed_by = GER }
				GER = { add_to_faction = COS }
				set_country_flag = COS_GER_ally
			}
		}
		set_country_flag = COS_coto_white_peace_enable
	}
}

country_event = { #COS refuses the monetary compensation
	id = costa_rica_events.43
	title = costa_rica_events.43.t
	desc = costa_rica_events.43.d

	is_triggered_only = yes

	option = { #let's hope they don't anger the Panamese
		log = "[GetLogInfo]: event costa_rica_events.43 option costa_rica_events.43.a"
		name = costa_rica_events.43.a
	}
}

country_event = { #CAN/GER issues a warning to Panama (PAN reaction)
	id = costa_rica_events.44
	title = costa_rica_events.44.t
	desc = costa_rica_events.44.d

	is_triggered_only = yes

	trigger = {
		is_subject = no
		can_declare_war_on = COS
	}

	option = { #Accept the Fallo White Ruling
		log = "[GetLogInfo]: event costa_rica_events.44 option costa_rica_events.44.a"
		ai_chance = { base = 80 }
		name = costa_rica_events.44.a
		FROM = {
			country_event = { id = costa_rica_events.33 days = 2 }
		}
		COS = {
			country_event = { id = costa_rica_events.34 days = 2 }
		}
	}

	option = { #We aren't afraid
		log = "[GetLogInfo]: event costa_rica_events.44 option costa_rica_events.44.b"
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				COS = {
					OR = {
						is_guaranteed_by = GER
						is_guaranteed_by = CAN
						is_in_faction = yes
					}
				}
			}
			modifier = {
				factor = 0
				is_in_faction = yes
			}
		}
		name = costa_rica_events.44.b
		if = {
			limit = { is_in_faction = yes }
			leave_faction = yes
		}
		declare_war_on = {
			target = COS
			type = annex_everything
		}
		FROM = {
			country_event = costa_rica_events.41
		}
		COS = {
			country_event = costa_rica_events.42
		}
	}
}

########
# 1937 #
########

country_event = { #Banana Plantation Strike

	id = costa_rica_events.59
	title = costa_rica_events.59.t
	desc = costa_rica_events.59.d

	fire_only_once = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = costa_rica_events.60 days = 30 }
			country_event = { id = costa_rica_events.61 days = 60 }
			country_event = { id = costa_rica_events.62 days = 110 }
		}
	}

	option = { #Unfortunate
		log = "[GetLogInfo]: event costa_rica_events.59 option costa_rica_events.59.a"
		name = costa_rica_events.59.a
	}
}

country_event = { #Counter Cortes protest in "Trabaio"

	id = costa_rica_events.60
	title = costa_rica_events.60.t
	desc = costa_rica_events.60.d

	fire_only_once = yes

	is_triggered_only = yes

	trigger = {
		has_country_flag = CORTES
	}

	option = { #Silence the journal
		log = "[GetLogInfo]: event costa_rica_events.60 option costa_rica_events.60.a"
		ai_chance = { base = 30 }
		name = costa_rica_events.60.a
		add_stability = -0.04
		hidden_effect = {
			country_event = { id = costa_rica_events.62 days = 100 }
		}
		set_country_flag = silence_trabaio
	}

	option = { #Let them preach their nonsense
		log = "[GetLogInfo]: event costa_rica_events.60 option costa_rica_events.60.b"
		ai_chance = { base = 70 }
		name = costa_rica_events.60.b
		add_popularity = {
			ideology = syndicalist
			popularity = 0.04
		}
	}
}

country_event = { #Signature of the Collective Agreement between Workers and the UFC
	id = costa_rica_events.61
	title = costa_rica_events.61.t
	desc = costa_rica_events.61.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Agreement is signed
		log = "[GetLogInfo]: event costa_rica_events.61 option costa_rica_events.61.a"
		name = costa_rica_events.61.a
		remove_ideas = COS_labour_conflicts
		set_country_flag = ZKG_Labour_Accord
		set_country_flag = UFC_Labour_Accord
		add_stability = 0.05
		if = {
			limit = {
				has_government = social_democrat
			}
			set_temp_variable = { ideology_change_var = 0.1 }
			change_ruling_party_popularity = yes
		}
		else = {
			add_popularity = {
				ideology = social_democrat
				popularity = 0.05
			}
			set_temp_variable = { ideology_change_var = 0.05 }
			change_ruling_party_popularity = yes
		}
		set_temp_variable = { cos_ZKG_change = -3 }
		update_ZKG_influence = yes
		set_temp_variable = { cos_UFC_change = -3 }
		update_UFC_influence = yes
	}
}

country_event = { #Increased regulation of the Press

	id = costa_rica_events.62
	title = costa_rica_events.62.t
	desc = costa_rica_events.62.d

	fire_only_once = yes

	is_triggered_only = yes

	trigger = {
		has_country_flag = CORTES
	}

	option = { #Free Speech is a human right!
		log = "[GetLogInfo]: event costa_rica_events.62 option costa_rica_events.62.a"
		ai_chance = { base = 30 }
		name = costa_rica_events.62.a
		add_stability = 0.03
	}

	option = { #...syndies aren't human anyway
		log = "[GetLogInfo]: event costa_rica_events.62 option costa_rica_events.62.b"
		ai_chance = { base = 70 }
		name = costa_rica_events.62.b
		add_popularity = {
			ideology = syndicalist
			popularity = -0.20
		}
		add_stability = -0.10
	}
}

country_event = { #Jewish refugees request permission to settle

	id = costa_rica_events.63
	title = costa_rica_events.63.t
	desc = costa_rica_events.63.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = CORTES
	}

	option = { #Jews are propagators of socialism! Away with them!
		log = "[GetLogInfo]: event costa_rica_events.63 option costa_rica_events.63.a"
		ai_chance = { base = 30 }
		name = costa_rica_events.63.a
		add_stability = 0.03
	}

	option = { #Offer the Tenerio farm as a possible colony
		log = "[GetLogInfo]: event costa_rica_events.63 option costa_rica_events.63.b"
		ai_chance = { base = 70 }
		name = costa_rica_events.63.b
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		add_stability = -0.05
	}
}

country_event = { #American refugees flood the nation

	id = costa_rica_events.64
	title = costa_rica_events.64.t
	desc = costa_rica_events.64.d

	fire_only_once = yes
	is_triggered_only = yes

	option = { #Accept them with open arms
		log = "[GetLogInfo]: event costa_rica_events.64 option costa_rica_events.64.a"
		ai_chance = { base = 30 }
		name = costa_rica_events.64.a
		add_timed_idea = {
			idea = COS_AM_REFUGEES
			days = 150
		}
		add_stability = -0.05
	}

	option = { #We have no place for them
		log = "[GetLogInfo]: event costa_rica_events.64 option costa_rica_events.64.b"
		ai_chance = { base = 70 }
		name = costa_rica_events.64.b
		add_stability = 0.03
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
}

country_event = { #1938 Regional Elections

	id = costa_rica_events.65
	title = costa_rica_events.65.t
	desc = costa_rica_events.65.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = CORTES
	}

	immediate = {
		set_variable = {
			cos_prn_factor = 20
		}
		set_variable = {
			cos_pvp_factor = 10
		}
		set_country_flag = COS_ELECTIONS
		hidden_effect = {
			activate_mission = COS_Mora_Supporters_mission
			country_event = { id = costa_rica_events.107 days = 130 }
			country_event = { id = costa_rica_events.70 days = 245 random_days = 36 }
		}
	}

	option = { #The popularity of Cortes is at an all time low!
		log = "[GetLogInfo]: event costa_rica_events.65 option costa_rica_events.65.a"
		ai_chance = { base = 30 }
		name = costa_rica_events.65.a
		add_to_variable = {
			var = cos_prn_factor
			value = 2
			tooltip = COS_PRN_support_increase
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.10
		}
	}

	option = { #We shall intervene directly!
		log = "[GetLogInfo]: event costa_rica_events.65 option costa_rica_events.65.b"
		ai_chance = { base = 30 }
		name = costa_rica_events.65.b
		subtract_from_variable = {
			var = cos_pvp_factor
			value = 5
			tooltip = COS_PVP_support_decrease
		}
		add_stability = -0.10
	}
}

country_event = { #Costa Rican National Theathre

	id = costa_rica_events.68
	title = costa_rica_events.68.t
	desc = costa_rica_events.68.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Deny their offer
		log = "[GetLogInfo]: event costa_rica_events.68 option costa_rica_events.68.a"
		name = costa_rica_events.68.a
		add_stability = 0.05
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
}

country_event = { #Jimenez announces his candidancy for the presidency

	id = costa_rica_events.70
	title = costa_rica_events.70.t
	desc = costa_rica_events.70.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = CORTES
	}

	option = { #the race has started
		log = "[GetLogInfo]: event costa_rica_events.70 option costa_rica_events.70.a"
		name = costa_rica_events.70.a
		add_political_power = -30
		activate_mission = COS_Jimenez_Supporters_mission
		hidden_effect = {
			country_event = { id = costa_rica_events.106 days = 60 }
			country_event = { id = costa_rica_events.108 days = 250 }
		}
	}
}

country_event = { #1940 Elections

	id = costa_rica_events.71
	title = costa_rica_events.71.t
	desc = costa_rica_events.71.d

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		clr_country_flag = COS_ELECTIONS
		hidden_effect = {
			remove_mission = COS_Mora_Supporters_mission
			remove_mission = COS_Jimenez_Supporters_mission
		}
	}

	trigger = {
		date > 1939.12.31
		has_country_flag = CORTES
	}

	option = { #Calderon
		log = "[GetLogInfo]: event costa_rica_events.71 option costa_rica_events.71.a"
		ai_chance = { base = 70 }
		trigger = {
			NOT = {
				has_completed_focus = COS_Adapt_the_Constitution
			}
		}
		name = costa_rica_events.71.a
		add_country_leader_role = {
			character = COS_rafael_angel_calderon_guardia
			country_leader = {
				desc = COS_rafael_angel_calderon_guardia_leader_desc
				ideology = social_conservative_subtype
			}
			promote_leader = yes
		}
		clr_country_flag = CORTES
		add_stability = 0.1
		country_event = { id = costa_rica_events.77 days = 20 }

		#ELECTION RESULTS
		hidden_effect = {
			set_variable = {
				current_prn_pop = party_popularity@social_conservative
			}
			multiply_variable = {
				var = cos_prn_factor
				value = 0.01
			}
			multiply_variable = {
				var = cos_pvp_factor
				value = 0.01
			}
			subtract_from_variable = {
				var = cos_prn_factor
				value = current_prn_pop
			}
			add_popularity = {
				ideology = social_conservative
				popularity = cos_prn_factor
			}
			add_popularity = {
				ideology = syndicalist
				popularity = cos_pvp_factor
			}
		}
	}

	option = { #Cortes
		log = "[GetLogInfo]: event costa_rica_events.71 option costa_rica_events.71.b"
		ai_chance = { base = 100 }
		trigger = {
			has_completed_focus = COS_Adapt_the_Constitution
		}
		name = costa_rica_events.71.b
		hidden_effect = {
			country_event = { id = costa_rica_events.72 days = 30 }
		}

		#ELECTION RESULTS
		hidden_effect = {
			set_variable = {
				current_prn_pop = party_popularity@social_conservative
			}
			multiply_variable = {
				var = cos_prn_factor
				value = 0.01
			}
			multiply_variable = {
				var = cos_pvp_factor
				value = 0.01
			}
			subtract_from_variable = {
				var = cos_prn_factor
				value = current_prn_pop
			}
			add_popularity = {
				ideology = social_conservative
				popularity = cos_prn_factor
			}
			add_popularity = {
				ideology = syndicalist
				popularity = cos_pvp_factor
			}
		}
	}
}

country_event = { #Figueres Ferrer takes to the air

	id = costa_rica_events.72
	title = costa_rica_events.72.t
	desc = costa_rica_events.72.d

	picture = GFX_report_event_COS_ferrer_radio

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Release the man
		log = "[GetLogInfo]: event costa_rica_events.72 option costa_rica_events.72.a"
		ai_chance = { base = 30 }
		name = costa_rica_events.72.a
		add_political_power = -100
		add_stability = 0.05
		hidden_effect = {
			country_event = { id = costa_rica_events.73 days = 15 }
		}
	}

	option = { #Put him on the first boat to Mexico!
		log = "[GetLogInfo]: event costa_rica_events.72 option costa_rica_events.72.b"
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				has_game_rule = { rule = COS_path option = COS_PATH_FERRER_SOCDEM }
			}
		}
		name = costa_rica_events.72.b
		add_stability = -0.15
		hidden_effect = {
			country_event = { id = costa_rica_events.75 days = 5 }
		}
	}
}

country_event = { #Unrest in the countryside

	id = costa_rica_events.73
	title = costa_rica_events.73.t
	desc = costa_rica_events.73.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #What can a few peasants do?
		log = "[GetLogInfo]: event costa_rica_events.73 option costa_rica_events.73.a"
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_game_rule = { rule = COS_path option = COS_PATH_SOCCON }
			}
		}
		name = costa_rica_events.73.a
		add_stability = -0.10
		hidden_effect = {
			country_event = { id = costa_rica_events.76 days = 20 }
		}
	}

	option = { #Cortes announces his resignation
		log = "[GetLogInfo]: event costa_rica_events.73 option costa_rica_events.73.b"
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				has_game_rule = { rule = COS_path option = COS_PATH_FERRER_SOCDEM }
			}
		}
		name = costa_rica_events.73.b
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
		country_event = { id = costa_rica_events.74 days = 3 }
	}
}

country_event = { #Cortes resigns from office

	id = costa_rica_events.74
	title = costa_rica_events.74.t
	desc = costa_rica_events.74.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Good luck CalderÃ³n!
		log = "[GetLogInfo]: event costa_rica_events.74 option costa_rica_events.74.a"
		name = costa_rica_events.74.a
		add_stability = 0.05
		clr_country_flag = CORTES
		set_country_flag = GUARDIA
		add_country_leader_role = {
			character = COS_rafael_angel_calderon_guardia
			country_leader = {
				desc = COS_rafael_angel_calderon_guardia_leader_desc
				ideology = social_conservative_subtype
			}
			promote_leader = yes
		}
		country_event = { id = costa_rica_events.77 days = 6 }
	}
}

country_event = { #Ferrer escapes!

	id = costa_rica_events.75
	title = costa_rica_events.75.t
	desc = costa_rica_events.75.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Do I have to do everything myself?
		log = "[GetLogInfo]: event costa_rica_events.75 option costa_rica_events.75.a"
		name = costa_rica_events.75.a
		add_political_power = -75
		hidden_effect = {
			country_event = { id = costa_rica_events.76 days = 10 }
		}
	}
}

country_event = { #The Legion Caribe excecutes a Coup

	id = costa_rica_events.76
	title = costa_rica_events.76.t
	desc = costa_rica_events.76.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Figueres proclaims the Junta
		log = "[GetLogInfo]: event costa_rica_events.76 option costa_rica_events.76.a"
		name = costa_rica_events.76.a
		clr_country_flag = CORTES
		set_party_name = {
			ideology = social_democrat
			name = COS_ferrer_social_democrat
			long_name = COS_ferrer_social_democrat_long
		}
		set_politics = {
			ruling_party = social_democrat
		}
		complete_national_focus = COS_Ferrer_takes_Control
		COS_jose_figueres_ferrer = { set_nationality = ROOT }
		add_country_leader_role = {
			character = COS_jose_figueres_ferrer
			country_leader = {
				desc = COS_jose_figueres_ferrer_army_chief_desc
				ideology = social_democrat_subtype
			}
			promote_leader = yes
		}
		custom_effect_tooltip = tooltip_white_line
		activate_targeted_decision = { decision = COS_form_faction target = ROOT }
		hidden_effect = {
			set_temp_variable = { coalition_partner_var = token:syndicalist }
			remove_from_coalition = yes
		}
	}
}

############
# CALDERON #
############

country_event = { #Calderon announces his ambitions
	id = costa_rica_events.77
	title = costa_rica_events.77.t
	desc = costa_rica_events.77.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #H-he can't do this!
		log = "[GetLogInfo]: event costa_rica_events.77 option costa_rica_events.77.a"
		name = costa_rica_events.77.a
		complete_national_focus = COS_Socialist_Victory
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
		hidden_effect = {
			promote_character = COS_leon_cortes_castro
			country_event = { id = costa_rica_events.79 days = 365 }
			country_event = { id = costa_rica_events.80 days = 730 }
		}

		set_country_flag = GUARDIA

		#ELECTION RESULTS
		if = {
			limit = {
				date > 1937.01.01
			}
			hidden_effect = {
				set_variable = {
					current_prn_pop = party_popularity@social_conservative
				}
				set_variable = {
					current_prn_dem_pop = party_popularity@social_democrat
				}
				subtract_from_variable = {
					var = current_prn_pop
					value = current_prn_dem_pop
				}
				add_popularity = {
					ideology = social_democrat
					popularity = current_prn_pop
				}
			}
		}
	}
}

country_event = { #Education Reform

	id = costa_rica_events.78
	title = costa_rica_events.78.t
	desc = costa_rica_events.78.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #The seperation between Church and State becomes less distinct by the day
		log = "[GetLogInfo]: event costa_rica_events.78 option costa_rica_events.78.a"
		name = costa_rica_events.78.a
		add_political_power = 20
		add_popularity = {
			ideology = social_democrat
			popularity = -0.05
		}
		add_stability = -0.03
	}
}

country_event = { #"Paco o Medias"

	id = costa_rica_events.79
	title = costa_rica_events.79.t
	desc = costa_rica_events.79.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Whilst the people starve, the rich become richer
		log = "[GetLogInfo]: event costa_rica_events.79 option costa_rica_events.79.a"
		name = costa_rica_events.79.a
		add_stability = -0.05
		add_popularity = {
			ideology = social_democrat
			popularity = -0.03
		}
	}
}

country_event = { #Emergency powers

	id = costa_rica_events.80
	title = costa_rica_events.80.t
	desc = costa_rica_events.80.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Dark times are ahead of us...
		log = "[GetLogInfo]: event costa_rica_events.80 option costa_rica_events.80.a"
		name = costa_rica_events.80.a
		add_political_power = 200
		add_stability = -0.05
		set_country_flag = EMERGENCY
		hidden_effect = {
			country_event = { id = costa_rica_events.83 days = 300 }
		}
	}
}

country_event = { #German assets

	id = costa_rica_events.81
	title = costa_rica_events.81.t
	desc = costa_rica_events.81.d

	fire_only_once = yes

	trigger = {
		tag = COS
		has_country_flag = EMERGENCY
		has_country_flag = GUARDIA
		has_completed_focus = COS_Break_Coffee_Elite
		NOT = { is_in_faction_with = GER }
		GER = { has_war_with_major = yes }
	}

	option = { #Take their lands
		log = "[GetLogInfo]: event costa_rica_events.81 option costa_rica_events.81.a"
		ai_chance = { base = 30 }
		name = costa_rica_events.81.a
		add_political_power = 150
		add_stability = -0.10
		custom_effect_tooltip = COS_ZKG_eradicated
		hidden_effect = {
			set_temp_variable = { cos_ZKG_change = -100 }
			update_ZKG_influence = yes
			remove_ideas = COS_influence_of_the_ZKG_idea
		}
	}

	option = { #Strip them from their rights
		log = "[GetLogInfo]: event costa_rica_events.81 option costa_rica_events.81.b"
		ai_chance = { base = 30 }
		name = costa_rica_events.81.b
		add_stability = -0.15
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		custom_effect_tooltip = COS_ZKG_eradicated
		hidden_effect = {
			set_temp_variable = { cos_ZKG_change = -100 }
			update_ZKG_influence = yes
			remove_ideas = COS_influence_of_the_ZKG_idea
		}
	}

	option = { #Maybe we shouldn't...
		log = "[GetLogInfo]: event costa_rica_events.81 option costa_rica_events.81.c"
		ai_chance = { base = 30 }
		name = costa_rica_events.81.c
	}
}

country_event = { #A Tempting Offer...
	id = costa_rica_events.83
	title = costa_rica_events.83.t
	desc = costa_rica_events.83.d

	trigger = {
		is_subject = no
	}

	is_triggered_only = yes

	option = { #Together we shall restore stability!
		log = "[GetLogInfo]: event costa_rica_events.83 option costa_rica_events.83.a"
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = COS_path option = COS_PATH_CALDERON_SOCDEM }
					has_game_rule = { rule = COS_path option = COS_PATH_FERRER_SOCDEM }
				}
			}
		}
		name = costa_rica_events.83.a
		country_event = { id = costa_rica_events.84 days = 20 }
	}

	option = { #Mora declines the offer
		log = "[GetLogInfo]: event costa_rica_events.83 option costa_rica_events.83.b"
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = COS_path option = COS_PATH_SOCCON }
					has_game_rule = { rule = COS_path option = COS_PATH_SYNDIE }
				}
			}
		}
		name = costa_rica_events.83.b
		country_event = { id = costa_rica_events.96 days = 20 }
	}
}

country_event = { #Coup in Costa Rica
	id = costa_rica_events.84
	title = costa_rica_events.84.t
	desc = costa_rica_events.84.d

	trigger = {
		is_subject = no
	}

	is_triggered_only = yes

	option = { #The Dictator is gone! Long Live Costa Rica!
		log = "[GetLogInfo]: event costa_rica_events.84 option costa_rica_events.84.a"
		name = costa_rica_events.84.a
		clr_country_flag = GUARDIA
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		country_event = { id = costa_rica_events.85 days = 2 }
	}
}

country_event = { #Future of Costa Rica
	id = costa_rica_events.85
	title = costa_rica_events.85.t
	desc = costa_rica_events.85.d

	trigger = {
		is_subject = no
	}

	is_triggered_only = yes

	option = { #Mora proclaims the Workers Republic
		log = "[GetLogInfo]: event costa_rica_events.85 option costa_rica_events.85.a"
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				has_game_rule = { rule = COS_path option = COS_PATH_SOCCON }
			}
		}
		name = costa_rica_events.85.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = syndicalist
		}
		custom_effect_tooltip = COS_UFC_eradicated
		if = {
			limit = { has_idea = COS_UFC_Profit_idea }
			set_temp_variable = { cos_delete_profit = cos_profit_factor }
			multiply_temp_variable = { cos_delete_profit = -1 }
			set_temp_variable = { cos_profit_change = cos_delete_profit }
			update_UFC_profits = yes
			remove_ideas = COS_UFC_Profit_idea
		}
		hidden_effect = {
			set_temp_variable = { cos_UFC_change = -100 }
			update_UFC_influence = yes
			remove_ideas = COS_influence_of_the_UFC_idea
			if = {
				limit = {
					NIC = {
						has_socialist_government = yes
						is_subject = no
						exists = yes
						has_war = no
					}
				}
				NIC = {
					country_event = { id = costa_rica_events.881 days = 1 }
				}
			}
			else_if = {
				limit = {
					CEN = {
						has_socialist_government = yes
						is_subject = no
						exists = yes
						has_war = no
					}
				}
				CEN = {
					country_event = { id = costa_rica_events.881 days = 1 }
				}
			}
			else = {
				country_event = { id = costa_rica_events.89 days = 10 }
			}
		}
	}

	option = { #Emergency elections are held
		log = "[GetLogInfo]: event costa_rica_events.85 option costa_rica_events.85.b"
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				has_game_rule = { rule = COS_path option = COS_PATH_SYNDIE }
			}
		}
		name = costa_rica_events.85.b
		country_event = { id = costa_rica_events.86 days = 30 }
	}
}

country_event = { #Jimenez wins the emergency elections
	id = costa_rica_events.86
	title = costa_rica_events.86.t
	desc = costa_rica_events.86.d

	fire_only_once = yes

	is_triggered_only = yes

	trigger = {
		has_government = paternal_autocrat
		is_subject = no
	}

	option = { #The Dictator is gone! Long Live Costa Rica!
		log = "[GetLogInfo]: event costa_rica_events.86 option costa_rica_events.86.a"
		name = costa_rica_events.86.a
		promote_character = COS_ricardo_jimenez_oreamuno
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = social_conservative
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		add_stability = 0.1
		complete_national_focus = COS_Conservative_Victory
	}
}

country_event = { #Nicaragua crosses the border
	id = costa_rica_events.87
	title = costa_rica_events.87.t
	desc = costa_rica_events.87.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #The World Revolution continues ever stronger!
		log = "[GetLogInfo]: event costa_rica_events.87 option costa_rica_events.87.a"
		name = costa_rica_events.87.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.08
		}
		hidden_effect = {
			country_event = { id = costa_rica_events.88 days = 3 }
		}
	}
}

country_event = { #Nicaragua requests our integration into the Central American union
	id = costa_rica_events.88
	title = costa_rica_events.88.t
	desc = costa_rica_events.88.d

	trigger = {
		is_subject = no
	}

	is_triggered_only = yes

	option = { #Costa Rica joins Centro-America
		log = "[GetLogInfo]: event costa_rica_events.88 option costa_rica_events.88.a"
		ai_chance = { base = 100 }
		name = costa_rica_events.88.a
		FROM.FROM = {
			country_event = { id = costa_rica_events.882 days = 1 }
			if = {
				limit = { ROOT = { is_ai = no } }
				change_tag_from = COS
			}
		}
	}

	option = { #We reject their "offer"
		log = "[GetLogInfo]: event costa_rica_events.88 option costa_rica_events.88.b"
		ai_chance = { base = 0 }
		name = costa_rica_events.88.b
		hidden_effect = {
			country_event = { id = costa_rica_events.89 days = 10 }
		}
	}
}

country_event = { #Nicaragua senses an opportunity
	id = costa_rica_events.881
	title = costa_rica_events.881.t
	desc = costa_rica_events.881.d

	trigger = {
		is_subject = no
	}

	is_triggered_only = yes

	option = { #Costa Rica is forced into Centro-America
		log = "[GetLogInfo]: event costa_rica_events.881 option costa_rica_events.881.a"
		ai_chance = { base = 100 }
		name = costa_rica_events.881.a
		COS = {
			country_event = { id = costa_rica_events.87 days = 1 }
		}
	}

	option = { #We reject their "offer"
		log = "[GetLogInfo]: event costa_rica_events.881 option costa_rica_events.881.b"
		ai_chance = { base = 0 }
		name = costa_rica_events.881.b
		COS = {
			hidden_effect = {
				country_event = { id = costa_rica_events.89 days = 10 }
			}
		}
	}
}

country_event = { #Nicaragua annexes Costa Rica

	id = costa_rica_events.882
	title = costa_rica_events.882.t
	desc = costa_rica_events.882.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Costa Rica is forced into Centro-America
		log = "[GetLogInfo]: event costa_rica_events.882 option costa_rica_events.882.a"
		name = costa_rica_events.882.a
		if = {
			limit = { #maybe add checks at some point for integrating cos leaders/generals
				tag = CEN
			}
			316 = {
				add_core_of = CEN
			}
			COS = {
				hidden_effect = {
					remove_targeted_decision = { decision = CEN_unite_central_america target = THIS }
				}
				COS_rafael_angel_calderon_guardia = { set_nationality = CEN }
				COS_arturo_quiros_carranza = { set_nationality = CEN }
				every_subject_country = {
					set_temp_variable = { target = THIS }
					CEN = { puppet_country_without_changing_government = yes }
				}
			}
			CEN = {
				annex_country = { target = COS transfer_troops = yes }
			}
		}
		else = {
			316 = { add_claim_by = NIC }
			annex_country = { target = COS transfer_troops = yes }
		}
	}
}

country_event = { #Army deposes Mora
	id = costa_rica_events.89
	title = costa_rica_events.89.t
	desc = costa_rica_events.89.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Hold Emergency Elections
		log = "[GetLogInfo]: event costa_rica_events.89 option costa_rica_events.89.a"
		ai_chance = { base = 75 }
		name = costa_rica_events.89.a
		country_event = { id = costa_rica_events.86 days = 30 }
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
	}

	option = { #Council of National Security rules temporarily
		log = "[GetLogInfo]: event costa_rica_events.89 option costa_rica_events.89.b"
		ai_chance = { base = 25 }
		name = costa_rica_events.89.b
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = yes
			election_frequency = 48
			last_election = "1936.02.02"
		}
		set_country_flag = COUNCIL_RULE
		hidden_effect = {
			country_event = { id = costa_rica_events.90 days = 360 }
		}
	}
	after = {
		add_popularity = {
			ideology = syndicalist
			popularity = 0.1
		}
	}
}

country_event = { #1940/1944 Election year

	id = costa_rica_events.90
	title = costa_rica_events.90.t
	desc = costa_rica_events.90.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = COUNCIL_RULE
	}

	option = { #Elections proceed as scheduled
		log = "[GetLogInfo]: event costa_rica_events.90 option costa_rica_events.90.a"
		ai_chance = { base = 100 }
		name = costa_rica_events.90.a
	}

	option = { #Council retains control
		log = "[GetLogInfo]: event costa_rica_events.90 option costa_rica_events.90.b"
		ai_chance = { base = 0 }
		name = costa_rica_events.90.b
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		hidden_effect = {
			country_event = { id = costa_rica_events.92 days = 32 }
		}
	}
}

country_event = { #1940 Elections
	id = costa_rica_events.91
	title = costa_rica_events.91.t
	desc = costa_rica_events.91.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		date > 1939.12.31
		has_country_flag = COUNCIL_RULE
	}

	immediate = {
		clr_country_flag = COUNCIL_RULE
	}

	option = { #Jimenez
		log = "[GetLogInfo]: event costa_rica_events.91 option costa_rica_events.91.a"
		name = costa_rica_events.91.a
		promote_character = COS_ricardo_jimenez_oreamuno
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
			election_frequency = 48
		}
	}

	option = { #Cortes
		log = "[GetLogInfo]: event costa_rica_events.91 option costa_rica_events.91.b"
		name = costa_rica_events.91.b
		promote_character = COS_leon_cortes_castro
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
		}
	}
	after = {
		add_stability = 0.1
		complete_national_focus = COS_Conservative_Victory
	}
}

country_event = { #Figueres Ferrer takes to the air

	id = costa_rica_events.92
	title = costa_rica_events.92.t
	desc = costa_rica_events.92.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Release the man
		log = "[GetLogInfo]: event costa_rica_events.92 option costa_rica_events.92.a"
		ai_chance = { base = 30 }
		name = costa_rica_events.92.a
		add_political_power = -100
		add_stability = 0.05
		hidden_effect = {
			country_event = { id = costa_rica_events.93 days = 15 }
		}
	}

	option = { #Put him on the first boat to Mexico!
		log = "[GetLogInfo]: event costa_rica_events.92 option costa_rica_events.92.b"
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				has_game_rule = { rule = COS_path option = COS_PATH_FERRER_SOCDEM }
			}
		}
		name = costa_rica_events.92.b
		add_stability = -0.15
		hidden_effect = {
			country_event = { id = costa_rica_events.94 days = 5 }
		}
	}
}

country_event = { #Unrest in the countryside

	id = costa_rica_events.93
	title = costa_rica_events.93.t
	desc = costa_rica_events.93.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #What can a few peasants do?
		log = "[GetLogInfo]: event costa_rica_events.93 option costa_rica_events.93.a"
		name = costa_rica_events.93.a
		add_stability = -0.10
		hidden_effect = {
			country_event = { id = costa_rica_events.95 days = 15 }
		}
	}
}

country_event = { #Ferrer escapes!

	id = costa_rica_events.94
	title = costa_rica_events.94.t
	desc = costa_rica_events.94.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Do I have to do everything myself?
		log = "[GetLogInfo]: event costa_rica_events.94 option costa_rica_events.94.a"
		name = costa_rica_events.94.a
		add_political_power = -75
		hidden_effect = {
			country_event = { id = costa_rica_events.93 days = 10 }
		}
	}
}

country_event = { #The Legion Caribe excecutes a Coup
	id = costa_rica_events.95
	title = costa_rica_events.95.t
	desc = costa_rica_events.95.d

	trigger = {
		is_subject = no
	}

	is_triggered_only = yes

	immediate = {
		clr_country_flag = COUNCIL_RULE
	}

	option = { #Figueres proclaims the Junta
		log = "[GetLogInfo]: event costa_rica_events.95 option costa_rica_events.95.a"
		name = costa_rica_events.95.a
		set_party_name = {
			ideology = social_democrat
			name = COS_ferrer_social_democrat
			long_name = COS_ferrer_social_democrat_long
		}
		set_politics = {
			ruling_party = social_democrat
		}
		complete_national_focus = COS_Ferrer_takes_Control
		COS_jose_figueres_ferrer = { set_nationality = ROOT }
		add_country_leader_role = {
			character = COS_jose_figueres_ferrer
			country_leader = {
				desc = COS_jose_figueres_ferrer_army_chief_desc
				ideology = social_democrat_subtype
			}
			promote_leader = yes
		}
		custom_effect_tooltip = tooltip_white_line
		activate_targeted_decision = { decision = COS_form_faction target = ROOT }
		hidden_effect = {
			set_temp_variable = { coalition_partner_var = token:syndicalist }
			remove_from_coalition = yes
		}
	}
}

country_event = { #Mora offers an alliance to the PRN

	id = costa_rica_events.96
	title = costa_rica_events.96.t
	desc = costa_rica_events.96.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #The Left stand united
		log = "[GetLogInfo]: event costa_rica_events.96 option costa_rica_events.96.a"
		name = costa_rica_events.96.a
		add_popularity = {
			ideology = social_democrat
			popularity = 0.04
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.04
		}
		set_temp_variable = { coalition_partner_var = token:syndicalist }
		add_to_coalition = yes
	}
}

country_event = { #Coffee Elite speaks out against Calderon

	id = costa_rica_events.98
	title = costa_rica_events.98.t
	desc = costa_rica_events.98.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Ufortunate
		log = "[GetLogInfo]: event costa_rica_events.98 option costa_rica_events.98.a"
		name = costa_rica_events.98.a
		add_popularity = {
			ideology = social_democrat
			popularity = -0.04
		}
	}
}

country_event = { #[GetYear] Elections

	id = costa_rica_events.99
	title = costa_rica_events.99.t
	desc = costa_rica_events.99.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = GUARDIA
		date > 1939.12.31
	}

	option = { #Picado takes control
		log = "[GetLogInfo]: event costa_rica_events.99 option costa_rica_events.99.a"
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = COS_path option = COS_PATH_FERRER_SOCDEM }
			}
		}
		name = costa_rica_events.99.a
		promote_character = COS_teodoro_picado_michalski
		clr_country_flag = GUARDIA
	}

	option = { #Calderon announces his second term
		log = "[GetLogInfo]: event costa_rica_events.99 option costa_rica_events.99.b"
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = COS_path option = COS_PATH_CALDERON_SOCDEM }
			}
		}
		name = costa_rica_events.99.b
		hidden_effect = {
			country_event = { id = costa_rica_events.92 days = 30 }
		}
		add_political_power = 200
		add_stability = -0.15
	}
}

country_event = { #Figueres Ferrer takes to the air

	id = costa_rica_events.100
	title = costa_rica_events.100.t
	desc = costa_rica_events.100.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Release the man
		log = "[GetLogInfo]: event costa_rica_events.100 option costa_rica_events.100.a"
		ai_chance = { base = 30 }
		name = costa_rica_events.100.a
		add_political_power = -100
		add_stability = 0.05
		hidden_effect = {
			country_event = { id = costa_rica_events.101 days = 15 }
		}
	}

	option = { #Put him on the first boat to Mexico!
		log = "[GetLogInfo]: event costa_rica_events.100 option costa_rica_events.100.b"
		ai_chance = { base = 70 }
		name = costa_rica_events.100.b
		add_stability = -0.15
		hidden_effect = {
			country_event = { id = costa_rica_events.102 days = 5 }
		}
	}
}

country_event = { #Unrest in the countryside

	id = costa_rica_events.101
	title = costa_rica_events.101.t
	desc = costa_rica_events.101.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #What can a few peasants do?
		log = "[GetLogInfo]: event costa_rica_events.101 option costa_rica_events.101.a"
		name = costa_rica_events.101.a
		add_stability = -0.10
		hidden_effect = {
			country_event = { id = costa_rica_events.103 days = 20 }
		}
	}
}

country_event = { #Ferrer escapes!

	id = costa_rica_events.102
	title = costa_rica_events.102.t
	desc = costa_rica_events.102.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Do I have to do everything myself?
		log = "[GetLogInfo]: event costa_rica_events.102 option costa_rica_events.102.a"
		name = costa_rica_events.102.a
		add_political_power = -75
		hidden_effect = {
			country_event = { id = costa_rica_events.101 days = 10 }
		}
	}
}

country_event = { #The Legion Caribe excecutes a Coup
	id = costa_rica_events.103
	title = costa_rica_events.103.t
	desc = costa_rica_events.103.d

	trigger = {
		is_subject = no
	}

	is_triggered_only = yes

	option = { #Figueres proclaims the Junta
		log = "[GetLogInfo]: event costa_rica_events.103 option costa_rica_events.103.a"
		name = costa_rica_events.103.a
		clr_country_flag = GUARDIA
		set_party_name = {
			ideology = social_democrat
			name = COS_ferrer_social_democrat
			long_name = COS_ferrer_social_democrat_long
		}
		set_politics = {
			ruling_party = social_democrat
		}
		complete_national_focus = COS_Ferrer_takes_Control
		COS_jose_figueres_ferrer = { set_nationality = ROOT }
		add_country_leader_role = {
			character = COS_jose_figueres_ferrer
			country_leader = {
				desc = COS_jose_figueres_ferrer_army_chief_desc
				ideology = social_democrat_subtype
			}
			promote_leader = yes
		}
		custom_effect_tooltip = tooltip_white_line
		activate_targeted_decision = { decision = COS_form_faction target = ROOT }
		hidden_effect = {
			set_temp_variable = { coalition_partner_var = token:syndicalist }
			remove_from_coalition = yes
		}
	}
}

#EVENTS FOR THE ELECTION SYSTEM

country_event = { #Mora starts rallying support

	id = costa_rica_events.104

	hidden = yes

	is_triggered_only = yes

	trigger = {
		has_country_flag = COS_ELECTIONS
	}

	option = { #Do I have to do everything myself?
		log = "[GetLogInfo]: event costa_rica_events.104 option 1"
		hidden_effect = {
			activate_mission = COS_Mora_Supporters_mission
		}
	}
}

country_event = { #Jimenez starts rallying support

	id = costa_rica_events.105
	hidden = yes

	is_triggered_only = yes

	trigger = {
		has_country_flag = COS_ELECTIONS
		NOT = {
			has_country_flag = JIMMY_DOWN
		}
	}

	option = { #Do I have to do everything myself?
		log = "[GetLogInfo]: event costa_rica_events.105 option 1"
		hidden_effect = {
			activate_mission = COS_Jimenez_Supporters_mission
		}
	}
}

country_event = { #Businessmen sign a deal with Jimenez

	id = costa_rica_events.106
	title = costa_rica_events.106.t
	desc = costa_rica_events.106.d

	fire_only_once = yes

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_country_flag = JIMMY_DOWN
		}
	}

	option = { #Screw them!
		log = "[GetLogInfo]: event costa_rica_events.106 option costa_rica_events.106.a"
		name = costa_rica_events.106.a
		subtract_from_variable = {
			var = cos_prn_factor
			value = 3
			tooltip = COS_PRN_support_decrease
		}
	}

	option = { #Convince them of our campaign
		log = "[GetLogInfo]: event costa_rica_events.106 option costa_rica_events.106.b"
		name = costa_rica_events.106.b
		add_political_power = -60
	}
}

country_event = { #Storm devastates the Limon plantations

	id = costa_rica_events.107
	title = costa_rica_events.107.t
	desc = costa_rica_events.107.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #I don't control Mother Nature!
		log = "[GetLogInfo]: event costa_rica_events.107 option costa_rica_events.107.a"
		name = costa_rica_events.107.a
		subtract_from_variable = {
			var = cos_prn_factor
			value = 3
			tooltip = COS_PRN_support_decrease
		}
		add_to_variable = {
			var = cos_pvp_factor
			value = 3
			tooltip = COS_PVP_support_increase
		}
	}

	option = { #Divert Funds to aid them
		log = "[GetLogInfo]: event costa_rica_events.107 option costa_rica_events.107.b"
		name = costa_rica_events.107.b
		add_political_power = -50
		subtract_from_variable = {
			var = cos_prn_factor
			value = 1
			tooltip = COS_PRN_support_decrease
		}
	}
}

country_event = { #Put Jimenez out of the race

	id = costa_rica_events.108
	title = costa_rica_events.108.t
	desc = costa_rica_events.108.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Attack him at his next rally
		log = "[GetLogInfo]: event costa_rica_events.108 option costa_rica_events.108.a"
		name = costa_rica_events.108.a
		add_political_power = -30
		hidden_effect = {
			country_event = { id = costa_rica_events.109 days = 10 }
		}
	}

	option = { #We will not steep so low
		log = "[GetLogInfo]: event costa_rica_events.108 option costa_rica_events.108.b"
		name = costa_rica_events.108.b
	}
}

country_event = { #Jimenez withdraws out of the race

	id = costa_rica_events.109
	title = costa_rica_events.109.t
	desc = costa_rica_events.109.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Good Riddance
		log = "[GetLogInfo]: event costa_rica_events.109 option costa_rica_events.109.a"
		name = costa_rica_events.109.a
		subtract_from_variable = {
			var = cos_prn_factor
			value = 3
			tooltip = COS_PRN_support_decrease
		}
		set_country_flag = JIMMY_DOWN
		add_stability = -0.04
	}
}

country_event = { #Strike on the plantations

	id = costa_rica_events.110
	title = costa_rica_events.110.t
	desc = costa_rica_events.110.d

	is_triggered_only = yes

	trigger = {
		has_country_flag = COS_ELECTIONS
	}

	option = { #Blast it!
		log = "[GetLogInfo]: event costa_rica_events.110 option costa_rica_events.110.a"
		name = costa_rica_events.110.a
		add_to_variable = {
			var = cos_pvp_factor
			value = 3
			tooltip = COS_PVP_support_increase
		}
		hidden_effect = {
			country_event = { id = costa_rica_events.110 days = 200 }
		}
	}
}

country_event = { #Crisis in Central America

	id = costa_rica_events.113
	title = costa_rica_events.113.t
	desc = costa_rica_events.113.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Stay neutral in the conflict
		log = "[GetLogInfo]: event costa_rica_events.113 option costa_rica_events.113.a"
		ai_chance = { base = 50 }
		name = costa_rica_events.113.a
	}

	option = { #Support Costa Rica
		log = "[GetLogInfo]: event costa_rica_events.113 option costa_rica_events.113.b"
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_authoritarian_government = yes
			}
		}
		name = costa_rica_events.113.b
		add_to_faction = COS
	}

	option = { #Support Central American Republic
		log = "[GetLogInfo]: event costa_rica_events.113 option costa_rica_events.113.c"
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_democratic_government = yes
			}
		}
		name = costa_rica_events.113.c
		add_to_faction = CEN
	}
	after = {
		set_country_flag = COS_CEN_WAR
	}
}

country_event = { #event to restore the old factions

	id = costa_rica_events.115

	fire_only_once = yes

	hidden = yes

	trigger = {
		tag = COS
		CEN = {
			exists = no
		}
		has_country_flag = COS_TIME_TO_DANCE_DICKWEED
	}

	option = { #ola amigos
		log = "[GetLogInfo]: event costa_rica_events.115 option 1"
		if = {
			limit = {
				GER = {
					has_country_flag = COS_CEN_WAR
				}
			}
			GER = {
				add_to_faction = COS
			}
		}
		if = {
			limit = {
				CAN = {
					has_country_flag = COS_CEN_WAR
				}
			}
			CAN = {
				add_to_faction = COS
			}
		}
		if = {
			limit = {
				USA = {
					has_country_flag = COS_CEN_WAR
				}
			}
			USA = {
				add_to_faction = COS
			}
		}
	}
}

country_event = { #event to restore the old factions

	id = costa_rica_events.116

	fire_only_once = yes

	hidden = yes

	trigger = {
		tag = CEN
		COS = {
			exists = no
			has_country_flag = COS_TIME_TO_DANCE_DICKWEED
		}
	}

	option = { #hello there
		log = "[GetLogInfo]: event costa_rica_events.116 option 1"
		if = {
			limit = {
				GER = {
					has_country_flag = COS_CEN_WAR
				}
			}
			GER = {
				add_to_faction = CEN
			}
		}
		if = {
			limit = {
				CAN = {
					has_country_flag = COS_CEN_WAR
				}
			}
			CAN = {
				add_to_faction = CEN
			}
		}
		if = {
			limit = {
				USA = {
					has_country_flag = COS_CEN_WAR
				}
			}
			USA = {
				add_to_faction = CEN
			}
		}
	}
}

country_event = { #Costa Rica wins Coto
	id = costa_rica_events.117
	title = costa_rica_events.117.t
	desc = costa_rica_events.117.d

	fire_only_once = yes

	trigger = {
		tag = COS
		has_war_with = PAN
		is_valid_peace_target = yes
		PAN = {
			OR = {
				surrender_progress > 0.8
				NOT = { controls_province = 13683 }
			}
			is_subject = no
		}
		has_country_flag = COS_coto_white_peace_enable
	}

	option = { #HUZZAH
		log = "[GetLogInfo]: event costa_rica_events.117 option costa_rica_events.117.a"
		name = costa_rica_events.117.a
		add_timed_idea = {
			idea = COS_coto_compensation_PAN
			days = 365
		}
		PAN = {
			add_timed_idea = {
				idea = COS_coto_compensation
				days = 365
			}
			every_enemy_country = {
				limit = {
					OR = {
						is_ally_with = COS
						has_guaranteed = COS
					}
					is_valid_peace_target = yes
				}
				white_peace_with_PREV = yes
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				OR = {
					has_country_flag = COS_CAN_ally
					has_country_flag = COS_GER_ally
				}
			}
			leave_faction = yes
			if = {
				limit = { has_country_flag = COS_GER_ally }
				GER = { give_guarantee = COS }
				clr_country_flag = COS_GER_ally
			}
			else_if = {
				limit = { has_country_flag = COS_CAN_ally }
				CAN = { give_guarantee = COS }
				clr_country_flag = COS_CAN_ally
			}
		}
		clr_country_flag = COS_coto_white_peace_enable
	}
}

country_event = { #Panama wins Coto

	id = costa_rica_events.118
	title = costa_rica_events.117.t
	desc = costa_rica_events.118.d

	fire_only_once = yes

	trigger = {
		tag = PAN
		has_war_with = COS
		is_valid_peace_target = yes
		COS = {
			OR = {
				surrender_progress > 0.8
				NOT = { controls_province = 12878 }
			}
			is_subject = no
			has_country_flag = COS_coto_white_peace_enable
		}
	}

	option = { #HUZZAH
		log = "[GetLogInfo]: event costa_rica_events.118 option costa_rica_events.118.a"
		name = costa_rica_events.118.a
		add_timed_idea = {
			idea = COS_coto_compensation_PAN
			days = 365
		}
		COS = {
			add_timed_idea = {
				idea = COS_coto_compensation
				days = 365
			}
		}
		every_enemy_country = {
			limit = {
				OR = {
					is_ally_with = COS
					has_guaranteed = COS
				}
				is_valid_peace_target = yes
			}
			white_peace_with_ROOT = yes
		}
		COS = {
			if = {
				limit = {
					is_in_faction = yes
					OR = {
						has_country_flag = COS_CAN_ally
						has_country_flag = COS_GER_ally
					}
				}
				leave_faction = yes
				if = {
					limit = { has_country_flag = COS_GER_ally }
					GER = { give_guarantee = COS }
					clr_country_flag = COS_GER_ally
				}
				else_if = {
					limit = { has_country_flag = COS_CAN_ally }
					CAN = { give_guarantee = COS }
					clr_country_flag = COS_CAN_ally
				}
			}
			clr_country_flag = COS_coto_white_peace_enable
		}
	}
}

#DIPLOMACY
country_event = { #Costa Rica in the Entente/Reichspakt

	id = costa_rica_events.120
	title = costa_rica_events.120.t
	desc = costa_rica_events.120.d

	is_triggered_only = yes

	option = { #YES
		log = "[GetLogInfo]: event costa_rica_events.120 option costa_rica_events.120.a"
		ai_chance = { base = 100 }
		name = costa_rica_events.120.a
		add_to_faction = COS
	}
	option = { #NO
		log = "[GetLogInfo]: event costa_rica_events.120 option costa_rica_events.120.b"
		ai_chance = { base = 0 }
		name = costa_rica_events.120.b
		COS = {
			country_event = costa_rica_events.121
		}
	}
}

country_event = { #Request refused

	id = costa_rica_events.121
	title = costa_rica_events.121.t
	desc = costa_rica_events.121.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event costa_rica_events.121 option costa_rica_events.121.a"
		name = costa_rica_events.121.a
	}
}

country_event = { #Punctuality in the Castro Regime

	id = costa_rica_events.122
	title = costa_rica_events.122.t
	desc = costa_rica_events.122.d

	fire_only_once = yes

	is_triggered_only = yes

	trigger = {
		has_country_flag = CORTES
	}

	option = { #YES
		log = "[GetLogInfo]: event costa_rica_events.122 option costa_rica_events.122.a"
		name = costa_rica_events.122.a
		add_stability = 0.05
	}
}

country_event = { #"Mamita Yunai"

	id = costa_rica_events.123
	title = costa_rica_events.123.t
	desc = costa_rica_events.123.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #YES
		log = "[GetLogInfo]: event costa_rica_events.123 option costa_rica_events.123.a"
		name = costa_rica_events.123.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
	}
}

country_event = { #Pepe smashes the walls of Oppression

	id = costa_rica_events.124
	title = costa_rica_events.124.t
	desc = costa_rica_events.124.d

	picture = GFX_report_event_COS_ferrer_smash

	fire_only_once = yes

	is_triggered_only = yes

	option = { #YES
		log = "[GetLogInfo]: event costa_rica_events.124 option costa_rica_events.124.a"
		name = costa_rica_events.124.a
		add_stability = 0.02
	}
}

country_event = { #Pepe stops a plane Hijacking

	id = costa_rica_events.125
	title = costa_rica_events.125.t
	desc = costa_rica_events.125.d

	picture = GFX_report_event_COS_ferrer_hijacking

	fire_only_once = yes

	trigger = {
		tag = COS
		has_country_leader = { character = COS_jose_figueres_ferrer }
		NOT = {
			has_war_with = GER
			NIC = { has_authoritarian_government = yes }
		}
	}

	mean_time_to_happen = {
		months = 12
	}

	option = { #YES
		log = "[GetLogInfo]: event costa_rica_events.125 option costa_rica_events.125.a"
		name = costa_rica_events.125.a
		add_stability = 0.02
	}
}

country_event = { #Countries in Ferrer's cool kids club
	id = costa_rica_events.126
	title = costa_rica_events.126.t
	desc = costa_rica_events.126.d

	is_triggered_only = yes

	option = { #YES
		log = "[GetLogInfo]: event costa_rica_events.126 option costa_rica_events.126.a"
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				ROOT = { original_tag = COS }
				OR = {
					has_game_rule = { rule = COS_forpol option = COS_FORPOL_GER }
					has_game_rule = { rule = COS_forpol option = COS_FORPOL_ENT }
				}
			}
			modifier = {
				factor = 0
				ROOT = { tag = CEN }
				OR = {
					has_game_rule = { rule = CEN_dem_forpol option = CEN_DEM_FORPOL_ENT }
					has_game_rule = { rule = CEN_dem_forpol option = CEN_DEM_FORPOL_ENT_BELIZE }
				}
			}
		}
		name = costa_rica_events.126.a
		FROM = {
			add_to_faction = ROOT
		}
	}
	option = { #NO
		log = "[GetLogInfo]: event costa_rica_events.126 option costa_rica_events.126.b"
		ai_chance = {
			base = 0
			modifier = {
				add = 5
				ROOT = { original_tag = COS }
				OR = {
					has_game_rule = { rule = COS_forpol option = COS_FORPOL_GER }
					has_game_rule = { rule = COS_forpol option = COS_FORPOL_ENT }
				}
			}
			modifier = {
				add = 5
				ROOT = { tag = CEN }
				OR = {
					has_game_rule = { rule = CEN_dem_forpol option = CEN_DEM_FORPOL_ENT }
					has_game_rule = { rule = CEN_dem_forpol option = CEN_DEM_FORPOL_ENT_BELIZE }
				}
			}
		}
		name = costa_rica_events.126.b
		FROM = {
			country_event = costa_rica_events.121
		}
	}
}

country_event = { #Offering a hand? (Invasion of Panama)
	id = costa_rica_events.128
	title = costa_rica_events.128.t
	desc = costa_rica_events.128.d

	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = COS
		has_war = no
		CAN = {
			is_faction_leader = yes
			has_war_with = PAN
		}
	}

	option = { #YES
		log = "[GetLogInfo]: event costa_rica_events.128 option costa_rica_events.128.a"
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = COS_path option = COS_PATH_SYNDIE }
			}
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = COS_forpol option = DEFAULT } }
				NOT = { has_game_rule = { rule = COS_forpol option = COS_FORPOL_ENT } }
			}
		}
		name = costa_rica_events.128.a
		CAN = {
			country_event = costa_rica_events.129
		}
	}
	option = { #NO
		log = "[GetLogInfo]: event costa_rica_events.128 option costa_rica_events.128.b"
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				has_game_rule = { rule = COS_path option = COS_PATH_SYNDIE }
			}
			modifier = {
				add = 100
				NOT = { has_game_rule = { rule = COS_forpol option = DEFAULT } }
				NOT = { has_game_rule = { rule = COS_forpol option = COS_FORPOL_ENT } }
			}
		}
		name = costa_rica_events.128.b
	}
}

country_event = { #Offering a hand? (Invasion of Panama)

	id = costa_rica_events.129
	title = costa_rica_events.129.t
	desc = costa_rica_events.129.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #YES
		log = "[GetLogInfo]: event costa_rica_events.129 option costa_rica_events.129.a"
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = COS_path option = COS_PATH_SYNDIE }
					has_game_rule = { rule = COS_forpol option = COS_FORPOL_GER }
				}
			}
		}
		name = costa_rica_events.129.a
		COS = {
			country_event = costa_rica_events.130
			add_to_war = {
				targeted_alliance = CAN
				enemy = PAN
				hostility_reason = asked_to_join
			}
			give_military_access = CAN
			if = {
				limit = {
					is_in_faction = no
				}
				CAN = {
					add_to_faction = COS
				}
			}
		}
	}
	option = { #NO
		log = "[GetLogInfo]: event costa_rica_events.129 option costa_rica_events.129.b"
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				OR = {
					has_game_rule = { rule = COS_path option = COS_PATH_SYNDIE }
					has_game_rule = { rule = COS_forpol option = COS_FORPOL_GER }
				}
			}
		}
		name = costa_rica_events.129.b
		COS = {
			country_event = costa_rica_events.131
		}
	}
}

country_event = { #You have my axe (Invasion of Panama)

	id = costa_rica_events.130
	title = costa_rica_events.130.t
	desc = costa_rica_events.130.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #YES
		log = "[GetLogInfo]: event costa_rica_events.130 option costa_rica_events.130.a"
		name = costa_rica_events.130.a
	}
}

country_event = { #Canada says no

	id = costa_rica_events.131
	title = costa_rica_events.131.t
	desc = costa_rica_events.131.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #YES
		log = "[GetLogInfo]: event costa_rica_events.131 option costa_rica_events.131.a"
		name = costa_rica_events.131.a
	}
}

country_event = { #Formation of the Democratic Alliance of the Caribbean

	id = costa_rica_events.132
	title = costa_rica_events.132.t
	desc = costa_rica_events.132.d
	picture = GFX_report_event_COS_ferrer_radio

	fire_only_once = yes

	is_triggered_only = yes

	option = { #For a brighter future for Central America
		log = "[GetLogInfo]: event costa_rica_events.132 option costa_rica_events.132.a"
		name = costa_rica_events.132.a
	}
}

country_event = { #Invitation to the Economic Bloc
	id = costa_rica_events.133
	title = costa_rica_events.133.t
	desc = costa_rica_events.133.d

	is_triggered_only = yes

	option = { #Thanks
		log = "[GetLogInfo]: event costa_rica_events.133 option costa_rica_events.133.a"
		name = costa_rica_events.133.a
		add_ideas = COS_car_economic_bloc_idea
	}
}

country_event = { #"Rescuing" Panama

	id = costa_rica_events.134
	title = costa_rica_events.134.t
	desc = costa_rica_events.134.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Yes, let's join your alliance
		log = "[GetLogInfo]: event costa_rica_events.134 option costa_rica_events.134.a"
		name = costa_rica_events.134.a
		ai_chance = { base = 1 }
		add_political_power = 10
		effect_tooltip = {
			FROM = {
				add_to_faction = ROOT
			}
		}
		hidden_effect = {
			COL = {
				country_event = costa_rica_events.135
			}
		}
	}
	option = { #Nah, Colombia is fine
		log = "[GetLogInfo]: event costa_rica_events.134 option costa_rica_events.134.b"
		name = costa_rica_events.134.b
		ai_chance = { base = 0 }
		hidden_effect = {
			FROM = {
				country_event = costa_rica_events.137
			}
		}
	}
}

country_event = { #Colombia recives suspicious news from Panama

	id = costa_rica_events.135
	title = costa_rica_events.135.t
	desc = costa_rica_events.135.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Everything is fine, let's not interfire
		log = "[GetLogInfo]: event costa_rica_events.135 option costa_rica_events.135.a"
		name = costa_rica_events.135.a
		ai_chance = { base = 10 }
		hidden_effect = {
			FROM.FROM = {
				country_event = costa_rica_events.136
			}
		}
	}
	option = { #Give Panama a bit of reasurence to not lose their support
		log = "[GetLogInfo]: event costa_rica_events.135 option costa_rica_events.135.b"
		name = costa_rica_events.135.b
		ai_chance = { base = 0 }
		add_political_power = -100
		PAN = {
			add_political_power = 100
		}
		hidden_effect = {
			FROM.FROM = {
				country_event = costa_rica_events.137
			}
		}
	}
}

country_event = { #Panama joins us

	id = costa_rica_events.136
	title = costa_rica_events.136.t
	desc = costa_rica_events.136.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #yay
		log = "[GetLogInfo]: event costa_rica_events.136 option costa_rica_events.136.a"
		name = costa_rica_events.136.a
		ROOT = { add_to_faction = PAN }
	}
}

country_event = { #Panama remains with Colombia

	id = costa_rica_events.137
	title = costa_rica_events.137.t
	desc = costa_rica_events.137.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Damn
		log = "[GetLogInfo]: event costa_rica_events.137 option costa_rica_events.137.a"
		name = costa_rica_events.137.a
	}
}

country_event = { #Merging the factions?

	id = costa_rica_events.138
	title = costa_rica_events.138.t
	desc = costa_rica_events.138.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Yes
		log = "[GetLogInfo]: event costa_rica_events.138 option costa_rica_events.138.a"
		name = costa_rica_events.138.a
		ai_chance = { base = 8 }
		every_other_country = {
			limit = {
				is_in_faction_with = ROOT
				is_subject = no
				has_elected_government = yes
			}
			set_global_flag = TEMPORARY_DISABLED_FACTION_POPUP
			FROM = { add_to_faction = PREV }
		}
		dismantle_faction = yes
		FROM = { add_to_faction = ROOT }
	}
	option = { #No
		log = "[GetLogInfo]: event costa_rica_events.138 option costa_rica_events.138.b"
		name = costa_rica_events.138.b
		ai_chance = {
			base = 2
			modifier = {
				factor = 0
				FROM = { is_ai = no }
			}
		}
	}
}

country_event = { #Unification with Costa Rica

	id = costa_rica_events.139
	title = costa_rica_events.139.t
	desc = costa_rica_events.139.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #The federation reunited at last
		log = "[GetLogInfo]: event costa_rica_events.139 option costa_rica_events.139.a"
		name = costa_rica_events.139.a
		add_ideas = CENdem_beacon_democracy
		if = {
			limit = {
				COS = { has_idea = COS_car_economic_bloc_idea }
				NOT = { has_idea = COS_car_economic_bloc_idea }
			}
			add_ideas = COS_car_economic_bloc_idea
		}
		else = {
			COS = {
				add_to_variable = { COS_car_eco_bloc_modifier = -0.015 }
				add_to_variable = { COS_car_eco_bloc_research = -0.01 }
				force_update_dynamic_modifier = yes
			}
		}
		COS = {
			COS_arturo_quiros_carranza = { set_nationality = CEN }
			COS_rafael_castro_quesada = { set_nationality = CEN }
			if = {
				limit = { has_character = COS_jose_figueres_ferrer }
				COS_jose_figueres_ferrer = { set_nationality = CEN }
			}
			every_core_state = { add_core_of = CEN }
			every_subject_country = {
				set_temp_variable = { target = THIS }
				CEN = { puppet_country_without_changing_government = yes }
			}
		}
		hidden_effect = {
			set_country_flag = COS_legion_faction
			set_faction_leader = yes
		}
		CEN = {
			if = {
				limit = { COS = { is_ai = no } }
				change_tag_from = COS
			}
		}
		annex_country = {
			target = COS
			transfer_troops = yes
		}
	}
}

country_event = { #Closening Ties with Costa Rica

	id = costa_rica_events.140
	title = costa_rica_events.140.t
	desc = {
		text = costa_rica_events.140.d_level_1
		trigger = {
			NOT = { has_idea = COS_CEN_ties }
			NOT = { has_idea = COS_CEN_ties_2 }
			NOT = { has_idea = COS_CEN_ties_3 }
		}
	}
	desc = {
		text = costa_rica_events.140.d_level_2
		trigger = { has_idea = COS_CEN_ties }
	}
	desc = {
		text = costa_rica_events.140.d_level_3
		trigger = { has_idea = COS_CEN_ties_2 }
	}
	desc = {
		text = costa_rica_events.140.d_final
		trigger = { has_idea = COS_CEN_ties_3 }
	}

	is_triggered_only = yes

	option = { #Yes
		log = "[GetLogInfo]: event costa_rica_events.140 option costa_rica_events.140.a"
		name = costa_rica_events.140.a
		ai_chance = { base = 1 }
		if = {
			limit = { has_idea = COS_CEN_ties }
			swap_ideas = {
				remove_idea = COS_CEN_ties
				add_idea = COS_CEN_ties_2
			}
			set_temp_variable = { cos_UFC_change = -5 }
			update_UFC_influence = yes
			set_temp_variable = { cos_ZKG_change = -5 }
			update_ZKG_influence = yes
		}
		else_if = {
			limit = { has_idea = COS_CEN_ties_2 }
			swap_ideas = {
				remove_idea = COS_CEN_ties_2
				add_idea = COS_CEN_ties_3
			}
			set_temp_variable = { ideology_change_var = -0.05 }
			change_ruling_party_popularity = yes
			get_current_government_type = yes
			CEN = { puppet = COS }
			restore_previous_government_type = yes
		}
		else_if = {
			limit = { has_idea = COS_CEN_ties_3 }
			remove_ideas = COS_CEN_ties_3
			every_core_state = { add_core_of = CEN }
			every_subject_country = {
				set_temp_variable = { target = THIS }
				CEN = { puppet_country_without_changing_government = yes }
			}
			CEN = {
				add_ideas = CENdem_beacon_democracy
				if = {
					limit = { COS = { is_ai = no } }
					change_tag_from = COS
				}
				annex_country = {
					target = COS
					transfer_troops = yes
				}
			}
		}
		else = {
			add_ideas = COS_CEN_ties
		}
	}
	option = { #No
		log = "[GetLogInfo]: event costa_rica_events.140 option costa_rica_events.140.b"
		trigger = { NOT = { has_idea = COS_CEN_ties_3 } }
		name = costa_rica_events.140.b
		ai_chance = { base = 0 }
		set_country_flag = COS_no_further_integration #Maybe an event should be added to get rid of the ideas?
	}
}

