###########################
# Annexation Events concerning Europe
###########################
# By lots of folks
# Converted from on_actions to decisions by Rylock and Dr_Njitram
# Any new post-annexation events need to have their triggers in the KR_on_actions file
###########################

# Table of Contents
#	This might sound arcane to you, but we are following a center-west-north-east-south route. You'll get the hang of it
#
# Europe
#	Central Europe
#		Germany
#			Alsace
#			Luxemburg
#			Rheinland
#			North Germany
#			Schleswig
#			Prussia (+ East & West Prussia)
#			Posen
#			Masuria
#			Memel
#			Upper Silesia
#			Bavaria
#		Poland
#			Bialystok
#		UBD
#			Estonia
#			Latvia
#		Lithuania
#			Vilnius
#		Austria
#			Austria proper
#			Bohemia
#			Galicia
#				Bukovina
#			Hungary
#				Slovakia
#				Transcarpathia
#				Transylvania
#				West Banat
#				Vojvodina
#				Burgenland
#			Croatia
#				Dalmatia
#				Istria
#			Triest
#			Slovenia
#			Trentino
#		Switzerland
#			Romandie
#			Ticino
#
#	Western Europe
#		France
#			Brittany
#			Pas-de-Calais
#		Britain
#			Scotland
#			Wales
#		Ireland
#		Netherlands
#		Belgium
#			Wallonia
#
#	Northern Europe
#		Denmark
#			Iceland
#			Greenland
#		Norway
#		Sweden
#			Aland
#		Finland
#			Karelia
#
#	Eastern Europe
#		Ukraine
#			Brest
#		White Ruthenia
#			Eastern White Ruth.
#		European Russia
#			Dvinsk
#			Siberia
#
#	Southeastern Europe
#		Albania
#		Montenegro
#		Bosnia
#		Kosovo
#		Serbia
#			Nis
#			Macedonia
#		Romania
#		Bulgaria
#		Constantinople
#		Greece
#			Thessaloniki
#			Keraferia
#			Northern Epirus
#
#	Southern Europe
#		Spain
#			Galicia
#			Central Spain
#			Euskadi
#			Catalonia
#		Portugal
#		Southern France
#		Corsica
#		Italy
#			Aosta
#			Piedmont
#			Lombardy
#			Venetia
#			Emilia
#			Tuscany
#			Central Italy
#			Rome
#			Southern Italy
#			Sardinia
#		Malta

add_namespace = annex

country_event = { #Check for possible annexations (donotlog)
	id = annex.1
	hidden = yes
	is_triggered_only = yes

	trigger = {
		is_subject = no
		NOT = {
			# Special tags - these shouldn't exist outside of very specific circumstances
			tag = XXA #debug tag
			tag = INR #HND civil war
			original_tag = IKH #not meant to survive
			AND = {
				has_civil_war = yes
				any_enemy_country = { is_dynamic_country = yes } #== start_civil_war
			}
		}
	}

	option = {
		every_owned_state = {
			limit = {
				has_state_flag = annexation_trigger_state
				NOT = { is_core_of = ROOT }
				is_controlled_by = ROOT
			}
			check_potential_annexations = yes
		}
		clr_country_flag = KR_checking_for_possible_annexations
	}
}

state_event = { #Generic "Land Granted" event
	id = annex.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.2 FROM = [From.GetName]" }
	title = annex.2.t
	desc = annex.2.d

	is_triggered_only = yes

	option = {
		name = annex.2.a
		ROOT = {
			add_political_power = 5
			add_opinion_modifier = { target = FROM modifier = KR_approves_of_govt }
		}
	}
}

#####################################
##   C E N T R A L   E U R O P E   ##
#####################################

country_event = { #Fate of Germany
	id = annex.1000
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1000 FROM = [From.GetName]" }
	title = annexation_GER_CONQ
	desc = annexation_GER_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					original_tag = NFA
					28 = { is_claim_or_core_of_ROOT = no }
				}
				add_state_claim = 28
			}
			add_to_temp_array = { core_removal_array = GRU }
			remove_all_cores_and_claims_of_tags = yes
			GRU = {
				if = {
					limit = { has_character = RUS_boris_romanov }
					RUS_boris_romanov = {
						set_character_name = RUS_boris_romanov
						remove_all_country_leader_roles = yes
						set_nationality = RUS
					}
				}
			}
		}
	}

	option = { #republic
		name = annex.1000.a
		trigger = {
			NOT = { country_exists = GRU }
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 60
		}
		create_german_union_cores = yes

		set_temp_variable = { tag_to_release = GRU }
		release_targeted_tag = yes
		hidden_effect = {
			if = {
				limit = { has_socialist_government = yes }
				GRU = { create_socialist_german_government = yes }
			}
			else_if = {
				limit = { has_authoritarian_government = yes }
				GRU = { create_autocratic_german_government = yes }
			}
			else = {
				GRU = {
					random_list = {
						20 = { create_rightist_democratic_german_government = yes }
						20 = { create_centrist_democratic_german_government = yes }
						20 = { create_natliberal_democratic_german_government = yes }
						20 = { create_leftliberal_democratic_german_government = yes }
						20 = { create_leftist_democratic_german_government = yes }
					}
				}
			}
		}
	}

	option = { #Romanov German empire
		name = annex.1000.b
		trigger = {
			RUS_can_crown_boris_in_germany = yes
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 60
		}
		create_german_union_cores = yes
		set_temp_variable = { tag_to_release = GRU }
		release_targeted_tag = yes
		var:tag_to_release = {
			set_cosmetic_tag = GRU_empire
			RUS_create_puppet_boris_romanov = yes
		}
	}

	option = { #republic, split off Rhineland
		name = annex.1000.c
		trigger = {
			OR = {
				original_tag = FRA
				original_tag = NFA
			}
			NOT = { country_exists = GRU }
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 0
		}
		create_rhenish_cores = yes
		set_temp_variable = { tag_to_release = RHI }
		release_targeted_tag = yes

		create_german_union_cores = yes
		set_temp_variable = { tag_to_release = GRU }
		release_targeted_tag = yes
		hidden_effect = {
			if = {
				limit = { has_socialist_government = yes }
				GRU = { create_socialist_german_government = yes }
			}
			else_if = {
				limit = { has_authoritarian_government = yes }
				GRU = { create_autocratic_german_government = yes }
			}
			if = {
				limit = { has_elected_government = yes }
				GRU = {
					random_list = {
						20 = { create_rightist_democratic_german_government = yes }
						20 = { create_centrist_democratic_german_government = yes }
						20 = { create_natliberal_democratic_german_government = yes }
						20 = { create_leftliberal_democratic_german_government = yes }
						20 = { create_leftist_democratic_german_government = yes }
					}
				}
			}
		}
	}

	option = { #republic, annex rhineland
		name = annex.1000.d
		trigger = {
			OR = {
				original_tag = FRA
				original_tag = NFA
			}
			owns_state = 42
			owns_state = 781
			NOT = { country_exists = GRU }
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 0
		}
		add_state_claim = 42
		add_state_claim = 781
		create_german_union_cores = yes
		set_temp_variable = { tag_to_release = GRU }
		release_targeted_tag = yes
		hidden_effect = {
			if = {
				limit = { has_socialist_government = yes }
				GRU = { create_socialist_german_government = yes }
			}
			else_if = {
				limit = { has_authoritarian_government = yes }
				GRU = { create_autocratic_german_government = yes }
			}
			if = {
				limit = { has_elected_government = yes }
				GRU = {
					random_list = {
						20 = { create_rightist_democratic_german_government = yes }
						20 = { create_centrist_democratic_german_government = yes }
						20 = { create_natliberal_democratic_german_government = yes }
						20 = { create_leftliberal_democratic_german_government = yes }
						20 = { create_leftist_democratic_german_government = yes }
					}
				}
			}
		}
	}

	option = { #annex Rhineland, split Germany
		name = annex.1000.e
		trigger = {
			OR = {
				original_tag = FRA
				original_tag = NFA
			}
			owns_state = 42
			owns_state = 781
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 0
		}
		add_state_claim = 42
		add_state_claim = 781
		custom_effect_tooltip = new_annexation_decisions_tt
		set_country_flag = { flag = GER_CONQ days = 100 value = 1 }
		recheck_annexations_immediate = yes
	}

	option = { #GROSSDEUTSCHLAND
		name = annex.1000.f
		trigger = {
			original_tag = AUS
			OR = {
				has_completed_focus = AUS_status_quo
				has_completed_focus = AUS_military_occupation
			}
			NOT = {
				country_exists = GER
				country_exists = GRU
			}
		}

		ai_chance = {
			base = 60
		}
		every_state = {
			limit = {
				is_core_of = GER
				is_not_claim_or_core_of_ROOT = yes
			}
			add_claim_by = ROOT
		}
		every_subject_country = {
			limit = {
				OR = {
					original_tag = BAY
					original_tag = NGF
					original_tag = RHI
					original_tag = PRE
				}
			}
			ROOT = {
				annex_country = {
					target = PREV
					transfer_troops = yes
				}
			}
		}
		set_cosmetic_tag = AUS_germany
		occupy_large_country = yes
	}

	option = { #split Germany
		name = annex.1000.g
		trigger = {
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 10
			modifier = {
				factor = 6
				tag = AUS
			}
			modifier = {
				factor = 6
				tag = FRA
			}
			modifier = {
				factor = 3
				OR = {
					tag = RUS
					tag = SOV
				}
			}
			modifier = {
				add = 10
				NOT = { tag = FRA }
				NOT = { country_exists = NGF }
				owns_state = 59 #Hanover
			}
		}
		custom_effect_tooltip = new_annexation_decisions_tt
		set_country_flag = { flag = GER_CONQ days = 100 value = 1 }
		recheck_annexations_immediate = yes
	}

	option = { #give to GEX
		name = annex.1000.h
		trigger = {
			GEX = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 100
		}
		every_owned_state = {
			limit = {
				OR = {
					is_germany = yes
					is_core_of = GEX
					is_claimed_by = GEX
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = GEX
		}
	}
	option = { #occupy all
		name = annex.occupation
		trigger = {
			GEX = { is_ally_of_ROOT = no }
			OR = {
				AND = {
					owns_state = 51 #Eastern Rheinland
					NOT = { country_exists = RHI }
				}
				AND = {
					owns_state = 52 #Upper Bavaria
					NOT = { country_exists = BAY }
				}
				AND = {
					owns_state = 59 #Hanover
					NOT = { country_exists = NGF }
				}
			}
		}
		ai_chance = {
			base = 0
		}
		set_country_flag = GER_CONQ
		set_country_flag = PRE_CONQ
		set_country_flag = RHI_CONQ
		set_country_flag = BAY_CONQ
		set_country_flag = NGF_CONQ
		occupy_massive_country = yes
	}
}

country_event = { #Fate of Alsace-Lorraine
	id = annex.1001
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1001 FROM = [From.GetName]" }
	title = annexation_ALSACE_CONQ
	desc = annexation_ALSACE_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		28 = { clear_retain_state = yes }
	}

	option = {
		name = annex.1001.a #Give to FRA
		trigger = {
			is_french_tag = no
			is_germany_or_splinter_tag = no
			FRA = {
				owns_state = 785 #Lorraine
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = FRA }
		28 = { transfer_state_and_add_claim = yes }
	}

	option = {
		name = annex.1001.b #Give to NFA
		trigger = {
			is_french_tag = no
			is_germany_or_splinter_tag = no
			NFA = {
				owns_state = 785 #Lorraine
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				FRP = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = NFA }
			}
		}
		set_temp_variable = { tag_to_release = NFA }
		28 = { transfer_state_and_add_claim = yes }
	}

	option = {
		name = annex.1001.c #Give to FRP
		trigger = {
			is_french_tag = no
			is_germany_or_splinter_tag = no
			FRP = {
				owns_state = 785 #Lorraine
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				NFA = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = FRP }
			}
		}
		set_temp_variable = { tag_to_release = FRP }
		28 = { transfer_state_and_add_claim = yes }
	}

	option = {
		name = annex.1001.d #Give to German tag 1 (owner of Palatinate)
		trigger = {
			is_french_tag = no
			is_germany_or_splinter_tag = no
			var:42.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				var:785.owner = { #Lorraine
					is_french_tag = yes
					is_ally_of_ROOT = yes
				}
			}
		}
		set_temp_variable = { tag_to_release = 42.owner }
		28 = { transfer_state_and_add_core = yes }
	}

	option = {
		name = annex.1001.e #Give to German tag 2 (owner of Baden)
		trigger = {
			is_french_tag = no
			is_germany_or_splinter_tag = no
			var:780.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
				NOT = { tag = var:42.owner } #avoids duplication with the previous option
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				var:785.owner = { #Lorraine
					is_french_tag = yes
					is_ally_of_ROOT = yes
				}
			}
		}
		set_temp_variable = { tag_to_release = 780.owner }
		28 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				is_french_tag = yes
				is_germany_or_splinter_tag = yes
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = ROOT }
		if = {
			limit = { is_french_tag = yes }
			28 = { transfer_state_and_add_claim = yes }
		}
		else = {
			28 = { transfer_state_and_add_core = yes }
		}
	}

	option = {
		name = annex.occupation #Occupy
		ai_chance = { base = 0 }
		set_country_flag = ALSACE_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Luxembourg
	id = annex.1002
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1002 FROM = [From.GetName]" }
	title = annexation_LUX_CONQ
	desc = annexation_LUX_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		8 = { clear_retain_state = yes }
		if = {
			limit = {
				var:28.owner = { #Alsace-Lorraine
					is_french_tag = yes
					ROOT_can_grant_land = yes
				}
			}
			var:28.owner = { save_event_target_as = france }
		}
		else_if = {
			limit = {
				var:741.owner = { #Ardennes
					is_french_tag = yes
					ROOT_can_grant_land = yes
				}
			}
			var:28.owner = { save_event_target_as = france }
		}
		if = {
			limit = { BEL = { ROOT_can_grant_land = yes } }
			BEL = { save_event_target_as = belgium }
		}
		else_if = {
			limit = { WAL = { ROOT_can_grant_land = yes } }
			WAL = { save_event_target_as = belgium }
		}
		else_if = {
			limit = {
				FLA = {
					has_cosmetic_tag = BEL
					ROOT_can_grant_land = yes
				}
			}
			FLA = { save_event_target_as = belgium }
		}
		if = {
			limit = {
				var:781.owner = { #Western Rhineland
					is_germany_or_splinter_tag = yes
					ROOT_can_grant_land = yes
				}
			}
			var:781.owner = { save_event_target_as = germany }
		}
	}

	option = { #Give to France
		name = annex.1002.a
		trigger = {
			has_event_target = france
			is_french_tag = no
			is_germany_or_splinter_tag = no
			NOT = {
				tag = BEL
				tag = WAL
				has_cosmetic_tag = BEL
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.2
				is_ally_with = event_target:belgium
			}
		}
		set_temp_variable = { tag_to_release = event_target:france }
		if = {
			limit = { owns_state = 741 }
			741 = { transfer_state_and_add_claim = yes }
		}
		8 = { transfer_state_and_add_claim = yes }
	}

	option = { #Give to Belgium
		name = annex.1002.b
		trigger = {
			has_event_target = belgium
			741 = {
				OR = {
					is_valid_annexation_state = yes
					is_owned_by = event_target:belgium
				}
			}
			is_germany_or_splinter_tag = no
			NOT = {
				tag = BEL
				tag = WAL
				has_cosmetic_tag = BEL
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = event_target:belgium }
		8 = { transfer_state_and_add_core = yes }
		if = {
			limit = { owns_state = 741 } #Ardennes
			741 = { transfer_state_and_add_core = yes }
		}
	}

	option = { #Give to Germany
		name = annex.1002.c
		trigger = {
			has_event_target = germany
			is_germany_or_splinter_tag = no
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_french_tag = yes
			}
			modifier = {
				factor = 0.5
				OR = {
					is_ally_with = event_target:france
					is_ally_with = event_target:belgium
				}
			}
		}
		set_temp_variable = { tag_to_release = 781.owner }
		8 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = BEL
				tag = WAL
				has_cosmetic_tag = BEL
				is_french_tag = yes
				is_germany_or_splinter_tag = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_event_target = belgium
				is_french_tag = yes
				NOT = {
					owns_state = 948 #Liège
					owns_state = 741 #Ardennes
				}
			}
		}
		if = {
			limit = { is_french_tag = yes }
			add_state_claim = 8
		}
		else = {
			add_state_core = 8
		}
		occupy_small_country = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_french_tag = no
			is_germany_or_splinter_tag = no
			NOT = {
				tag = BEL
				tag = WAL
				has_cosmetic_tag = BEL
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = LUX_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of the Rhineland
	id = annex.1003
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1003 FROM = [From.GetName]" }
	title = annexation_RHI_CONQ
	desc = annexation_RHI_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { country_exists = RHI } }
				add_to_temp_array = { core_removal_array = RHI }
				remove_all_cores_and_claims_of_tags = yes
			}
			if = {
				limit = {
					OR = {
						42 = { is_valid_annexation_state = yes } #Western Rhineland
						781 = { is_valid_annexation_state = yes } #Palatinate
					}
				}
				save_event_target_as = controls_rhine_west_bank
			}
			if = {
				limit = {
					51 = { is_valid_annexation_state = yes } #Eastern Rhineland
				}
				save_event_target_as = controls_rhine_east_bank
			}
		}
	}

	option = { #puppet
		name = annex.1003.a
		trigger = {
			NOT = {
				country_exists = RHI
				GEX = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 100
		}
		create_rhenish_cores = yes
		set_temp_variable = { tag_to_release = RHI }
		release_targeted_tag = yes
	}

	option = { #give it to Germany
		name = annex.1003.b
		trigger = {
			var:55.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.1
				is_french_tag = yes
			}
		}
		set_temp_variable = { tag_to_release = 55.owner }
		if = {
			limit = { var:tag_to_release = { original_tag = RHI } }
			every_owned_state = {
				limit = {
					is_rhineland = yes
					is_claim_or_core_of_ROOT = no
				}
				transfer_state_to = var:tag_to_release
			}
		}
		else = {
			effect_tooltip = {
				every_owned_state = {
					limit = {
						is_rhineland = yes
						is_claim_or_core_of_ROOT = no
					}
					add_core_of = var:tag_to_release
					transfer_state_to = var:tag_to_release
				}
				every_state = {
					limit = {
						is_rhineland = yes
						is_valid_annexation_state = no
					}
					add_claim_by = var:tag_to_release
				}
			}
			hidden_effect = {
				every_state = {
					limit = { is_rhineland = yes }
					add_core_and_transfer_if_owned_else_add_claim = yes
				}
			}
		}
	}

	option = { #occupy Rhineland, give the rest to Germany
		name = annex.1003.c
		trigger = {
			is_french_tag = yes
			has_event_target = controls_rhine_west_bank
			var:55.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 0
		}
		add_state_claim = 42
		add_state_claim = 781
		occupy_medium_country = yes
		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = 55.owner }
		51 = { add_core_of_target_and_transfer_if_owned = yes }
	}

	option = { #occupy Rhineland
		name = annex.1003.d
		trigger = {
			is_french_tag = yes
			has_event_target = controls_rhine_west_bank
			NOT = {
				has_event_target = controls_rhine_east_bank
				GEX = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 0
		}
		add_state_claim = 42
		add_state_claim = 781
		occupy_medium_country = yes
	}

	option = { #give it to GEX
		name = annex.1000.h
		trigger = {
			GEX = { is_ally_of_ROOT = yes }
		}
		every_owned_state = {
			limit = {
				region = 6 #Rhineland
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = GEX
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			OR = {
				is_french_tag = no
				has_event_target = controls_rhine_east_bank
			}
		}
		ai_chance = { base = 0 }
		if = {
			limit = { is_french_tag = yes }
			add_state_claim = 42
			add_state_claim = 781
		}
		occupy_large_country = yes
		set_country_flag = RHI_CONQ
	}
}

country_event = { #Fate of North Germany
	id = annex.1004
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1004 FROM = [From.GetName]" }
	title = annexation_NGF_CONQ
	desc = annexation_NGF_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = NGF }
			remove_all_cores_and_claims_of_tags = yes
		}
	}

	option = { #puppet
		name = annex.1004.a
		trigger = {
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = NGF }
		create_hanoverian_cores = yes
		release_targeted_tag = yes
	}

	option = { #puppet, include Rhineland
		name = annex.1004.b
		trigger = {
			781 = { is_valid_annexation_state = yes } #Western Rhineland
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.25
				is_actual_major = no
			}
			modifier = {
				factor = 2
				is_actual_major = yes
			}
		}
		set_temp_variable = { tag_to_release = NGF }
		effect_tooltip = {
			every_owned_state = {
				limit = {
					OR = {
						region = 6 #Rhineland
						state = 56 #Oldenburg
						state = 58 #Schleswig-Holstein
						state = 59 #Hanover
						state = 60 #Thuringia
						state = 65 #Saxony
						state = 147 #Prussian Saxony
					}
					is_claim_or_core_of_ROOT = no
				}
				remove_claim_and_core_of_target = yes
			}
			every_state = {
				limit = {
					OR = {
						region = 6 #Rhineland
						state = 56 #Oldenburg
						state = 58 #Schleswig-Holstein
						state = 59 #Hanover
						state = 60 #Thuringia
						state = 65 #Saxony
						state = 147 #Prussian Saxony
					}
					is_valid_annexation_state = no
				}
				add_claim_of_target = yes
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						region = 6 #Rhineland
						state = 56 #Oldenburg
						state = 58 #Schleswig-Holstein
						state = 59 #Hanover
						state = 60 #Thuringia
						state = 65 #Saxony
						state = 147 #Prussian Saxony
					}
				}
				add_core_if_owned_else_add_claim = yes
			}
		}
		release_targeted_tag = yes
	}

	option = { #puppet, include Prussia
		name = annex.1004.c
		trigger = {
			64 = { is_valid_annexation_state = yes } #Brandenburg
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.25
				is_actual_major = no
			}
			modifier = {
				factor = 2
				is_actual_major = yes
			}
		}
		set_temp_variable = { tag_to_release = NGF }
		effect_tooltip = {
			every_owned_state = {
				limit = {
					OR = {
						is_north_germany = yes
						AND = {
							state = 51 #Eastern Rhineland
							781 = { is_valid_annexation_state = no } #Western Rhineland
						}
					}
					is_claim_or_core_of_ROOT = no
				}
				remove_claim_and_core_of_target = yes
			}
			every_state = {
				limit = {
					OR = {
						is_north_germany = yes
						AND = {
							state = 51 #Eastern Rhineland
							781 = { is_valid_annexation_state = no } #Western Rhineland
						}
					}
					is_valid_annexation_state = no
				}
				add_claim_of_target = yes
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_north_germany = yes
						AND = {
							state = 51 #Eastern Rhineland
							781 = { is_valid_annexation_state = no } #Western Rhineland
						}
					}
				}
				add_core_if_owned_else_add_claim = yes
			}
		}
		release_targeted_tag = yes
	}

	option = { #puppet full NGF
		name = annex.1004.d
		trigger = {
			64 = { is_valid_annexation_state = yes } #Brandenburg
			781 = { is_valid_annexation_state = yes } #Western Rhineland
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.25
				is_actual_major = no
			}
			modifier = {
				factor = 2
				is_actual_major = yes
			}
		}
		set_temp_variable = { tag_to_release = NGF }
		effect_tooltip = {
			every_owned_state = {
				limit = {
					OR = {
						is_north_germany = yes
						region = 6 #Rhineland
					}
					is_claim_or_core_of_ROOT = no
				}
				remove_claim_and_core_of_target = yes
			}
			every_state = {
				limit = {
					OR = {
						is_north_germany = yes
						region = 6 #Rhineland
					}
					is_valid_annexation_state = no
				}
				add_claim_of_target = yes
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_north_germany = yes
						region = 6 #Rhineland
					}
				}
				add_core_if_owned_else_add_claim = yes
			}
		}
		release_targeted_tag = yes
	}

	option = { #give it to GEX
		name = annex.1000.h
		trigger = {
			GEX = { is_ally_of_ROOT = yes }
		}
		every_owned_state = {
			limit = {
				is_north_germany = yes
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = GEX
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = { base = 0 }
		occupy_large_country = yes
		set_country_flag = NGF_CONQ
	}
}

country_event = { #Fate of Northern Schleswig
	id = annex.1005
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1005 FROM = [From.GetName]" }
	title = annexation_SCHLESWIG_CONQ
	desc = annexation_SCHLESWIG_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #Give it to Denmark/Scandinavia
		name = annex.1005.a
		trigger = {
			var:99.owner = { #Jutland
				OR = {
					tag = DEN
					tag = SCA
				}
				ROOT_can_grant_land = yes
			}
			is_germany_or_splinter_tag = no
			NOT = {
				tag = DEN
				tag = SCA
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 0.1
				NOT = {
					DEN = { is_ally_of_ROOT = yes }
					SCA = { is_ally_of_ROOT = yes }
				}
			}
		}
		set_temp_variable = { tag_to_release = 99.owner }
		782 = { transfer_state_and_add_claim = yes }
	}
	option = { #Give it to the Germans
		name = annex.1005.b
		trigger = {
			var:58.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
			is_germany_or_splinter_tag = no
			NOT = {
				tag = DEN
				tag = SCA
			}
		}
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				has_socialist_government = yes
				var:99.owner = { #Jutland
					OR = {
						tag = DEN
						tag = SCA
					}
					ROOT_can_grant_land = yes
				}
			}
		}
		set_temp_variable = { tag_to_release = 58.owner }
		782 = { transfer_state_and_add_core = yes }
	}
	option = { #Integrate
		name = annex.1005.c
		trigger = {
			is_germany_or_splinter_tag = yes
		}
		ai_chance = {
			base = 1000
		}
		add_state_core = 782 #Northern Schleswig
		recheck_annexations = yes
	}
	option = { #Integrate
		name = annex.1005.c
		trigger = {
			OR = {
				tag = DEN
				tag = SCA
			}
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 782 #Northern Schleswig
		recheck_annexations = yes
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = {
				tag = DEN
				tag = SCA
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = SCHLESWIG_CONQ
	}
}

country_event = { #Fate of Prussia
	id = annex.1006
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1006 FROM = [From.GetName]" }
	title = annexation_PRE_CONQ
	desc = annexation_PRE_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = PRE }
			if = {
				limit = { NOT = { country_exists = NGF } }
				add_to_temp_array = { core_removal_array = NGF }
			}
			remove_all_cores_and_claims_of_tags = yes
			GRU = {
				if = {
					limit = {
						exists = no
						has_character = RUS_boris_romanov
					}
					RUS_boris_romanov = {
						set_character_name = RUS_boris_romanov
						remove_all_country_leader_roles = yes
						set_nationality = RUS
					}
				}
			}
			PRE = {
				if = {
					limit = { has_character = RUS_boris_romanov }
					RUS_boris_romanov = {
						set_character_name = RUS_boris_romanov
						remove_all_country_leader_roles = yes
						set_nationality = RUS
					}
				}
			}
		}
	}

	option = { #puppet PRE
		name = annex.1006.a
		trigger = {
			NOT = { country_exists = PRE }
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				RUS_can_crown_boris_in_germany = yes
			}
			modifier = {
				factor = 0.1
				NOT = {
					count_triggers = {
						amount = 4
						60 = { is_valid_annexation_state = yes }
						62 = { is_valid_annexation_state = yes }
						63 = { is_valid_annexation_state = yes }
						64 = { is_valid_annexation_state = yes }
						65 = { is_valid_annexation_state = yes }
						66 = { is_valid_annexation_state = yes }
						68 = { is_valid_annexation_state = yes }
					}
				}
			}
		}
		create_prussian_cores = yes
		set_temp_variable = { tag_to_release = PRE }
		release_targeted_tag = yes
	}

	option = { #puppet PRE with Romanov monarch
		name = annex.1006.b
		trigger = {
			RUS_can_crown_boris_in_germany = yes
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.1
				NOT = {
					count_triggers = {
						amount = 4
						60 = { is_valid_annexation_state = yes }
						62 = { is_valid_annexation_state = yes }
						63 = { is_valid_annexation_state = yes }
						64 = { is_valid_annexation_state = yes }
						65 = { is_valid_annexation_state = yes }
						66 = { is_valid_annexation_state = yes }
						68 = { is_valid_annexation_state = yes }
					}
				}
			}
		}
		create_prussian_cores = yes
		set_temp_variable = { tag_to_release = PRE }
		release_targeted_tag = yes
		var:tag_to_release = { RUS_create_puppet_boris_romanov = yes }
	}

	option = { #give it to NGF
		name = annex.1006.c
		trigger = {
			NGF = { is_ally_of_ROOT = yes }
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 10
				NOT = {
					count_triggers = {
						amount = 4
						60 = { is_valid_annexation_state = yes }
						62 = { is_valid_annexation_state = yes }
						63 = { is_valid_annexation_state = yes }
						64 = { is_valid_annexation_state = yes }
						65 = { is_valid_annexation_state = yes }
						66 = { is_valid_annexation_state = yes }
						68 = { is_valid_annexation_state = yes }
					}
				}
			}
		}
		set_temp_variable = { tag_to_release = NGF }
		effect_tooltip = {
			every_owned_state = {
				limit = {
					region = 8 #Lower Germany
					is_claim_or_core_of_ROOT = no
				}
				remove_claim_and_core_of_target = yes
			}
			every_state = {
				limit = {
					region = 8 #Lower Germany
					is_valid_annexation_state = no
				}
				add_claim_of_target = yes
			}
		}
		hidden_effect = {
			every_state = {
				limit = { region = 8 } #Lower Germany
				add_core_and_transfer_if_owned_else_add_claim = yes
			}
		}
	}

	option = { #give it to GEX
		name = annex.1006.d
		trigger = {
			GEX = { is_ally_of_ROOT = yes }
		}
		every_state = {
			limit = {
				region = 8 #Lower Germany
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = GEX
		}
	}

	option = { #give it to POL
		name = annex.1006.e
		trigger = {
			PRE = { is_ally_of_ROOT = no }
			POL = { is_ally_of_ROOT = yes }
			NOT = {
				original_tag = POL
				owns_state = 60 #Thuringia
				owns_state = 62 #Hither Pomerania
				owns_state = 64 #Brandenburg
				owns_state = 65 #Saxony
				owns_state = 147 #Prussian Saxony
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = POL }
		every_owned_state = {
			limit = {
				is_valid_annexation_state = yes
				OR = {
					region = 38 #Vistula Basin
					state = 63 #Farther Pomerania
					state = 66 #Lower Silesia
					state = 68 #Neumark
				}
			}
			add_claim_of_target_and_transfer_if_owned = yes
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = { factor = 0 }
		set_country_flag = PRE_CONQ
		occupy_large_country = yes
	}
}

country_event = { #Fate of West Prussia
	id = annex.1007
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1007 FROM = [From.GetName]" }
	title = annexation_WESTPRUSSIA_CONQ
	desc = annexation_WESTPRUSSIA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		776 = { clear_retain_state = yes }
	}

	option = { #Give it to Poland
		name = annex.1009.a
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = { tag = POL }
			POL = {
				OR = {
					owns_state = 86 #Posen
					owns_state = 777 #Masuria
				}
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = POL }
		776 = { transfer_state_and_add_claim = yes }
	}
	option = { #Give it to the Germans
		name = annex.1007.a
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = { tag = POL }
			var:63.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					tag = ENG
					is_french_tag = yes
					is_russian_tag = yes
				}
				POL = {
					OR = {
						owns_state = 86 #Posen
						owns_state = 777 #Masuria
					}
					ROOT_can_grant_land = yes
				}
			}
			modifier = {
				factor = 0.5
				POL = { is_ally_of_ROOT = yes }
			}
			modifier = {
				factor = 0.2
				POL = { owns_state = 86 }
			}
		}
		set_temp_variable = { tag_to_release = 63.owner }
		776 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.1005.c
		trigger = {
			is_germany_or_splinter_tag = yes
		}
		ai_chance = {
			base = 1000
		}
		add_state_core = 776
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			tag = POL
		}
		ai_chance = {
			base = 100
		}
		add_state_claim = 776
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			is_russian_tag = yes
			10 = { is_claimed_by = ROOT } #== RUS has annexed Poland
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 776
		POL = { add_state_core = 776 }
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = {
				tag = POL
				AND = {
					is_russian_tag = yes
					10 = { is_claimed_by = ROOT }
				}
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = WESTPRUSSIA_CONQ
	}
}

country_event = { #Fate of East Prussia
	id = annex.1008
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1008 FROM = [From.GetName]" }
	title = annexation_EASTPRUSSIA_CONQ
	desc = annexation_EASTPRUSSIA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		5 = { clear_retain_state = yes }
	}

	option = { #Give it to the Germans
		name = annex.1008.a
		trigger = {
			is_germany_or_splinter_tag = no
			var:63.owner = {
				is_germany_or_splinter_tag = yes
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				tag = POL
				has_government = national_populist
			}
		}
		set_temp_variable = { tag_to_release = 63.owner }
		5 = { transfer_state_and_add_core = yes } #East Prussia
	}

	option = { #Give it to Poland
		name = annex.1008.b
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = { tag = POL }
			OR = {
				POL = { owns_state = 777 }
				777 = { is_valid_annexation_state = yes } #Masuria
			}
			POL = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				var:63.owner = {
					is_germany_or_splinter_tag = yes
					ROOT_can_grant_land = yes
				}
			}
		}
		set_temp_variable = { tag_to_release = POL }
		every_owned_state = {
			limit = {
				OR = {
					state = 5 #Konigsberg
					state = 777 #Masuria
				}
			}
			transfer_state_and_add_claim = yes
		}
	}

	option = { #Split between Poland and Germany
		name = annex.1008.c
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = { tag = POL }
			777 = { is_valid_annexation_state = yes } #Masuria
			POL = { ROOT_can_grant_land = yes }
			var:63.owner = {
				is_germany_or_splinter_tag = yes
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = 63.owner }
		5 = { transfer_state_and_add_core = yes }
		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = POL }
		777 = { transfer_state_and_add_claim = yes }
	}

	option = { #Annex East Prussia
		name = annex.1008.d
		trigger = {
			tag = POL
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				OR = {
					has_government = national_populist
					var:63.owner = { is_germany_or_splinter_tag = no }
					var:63.owner = { ROOT_can_grant_land = no }
				}
			}
		}
		add_state_claim = 5
		occupy_medium_country = yes
	}

	option = { #Integrate
		name = annex.1005.c
		trigger = {
			is_germany_or_splinter_tag = yes
		}
		ai_chance = {
			base = 1000
		}
		add_state_core = 5
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = { tag = POL }
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = EASTPRUSSIA_CONQ
	}
}

country_event = { #Fate of Posen
	id = annex.1009
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1009 FROM = [From.GetName]" }
	title = annexation_POSEN_CONQ
	desc = annexation_POSEN_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		86 = { clear_retain_state = yes }
	}

	option = { #Give it to Poland
		name = annex.1009.a
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = { tag = POL }
			POL = {
				owns_state = 87 #Kalisz
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = POL }
		86 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to the Germans
		name = annex.1009.b
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = { tag = POL }
			var:66.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					tag = ENG
					is_french_tag = yes
					is_russian_tag = yes
				}
				POL = {
					owns_state = 87 #Kalisz
					ROOT_can_grant_land = yes
				}
			}
			modifier = {
				factor = 0
				POL = { is_ally_of_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = 66.owner }
		86 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.1005.c
		trigger = {
			is_germany_or_splinter_tag = yes
		}
		ai_chance = {
			base = 1000
		}
		add_state_core = 86
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			tag = POL
		}
		ai_chance = {
			base = 100
		}
		add_state_claim = 86
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			is_russian_tag = yes
			10 = { is_claimed_by = ROOT } #== RUS has annexed Poland
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 86
		POL = { add_state_core = 86 }
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = {
				tag = POL
				AND = {
					is_russian_tag = yes
					10 = { is_claimed_by = ROOT }
				}
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = POSEN_CONQ
	}
}

country_event = { #Fate of Masuria
	id = annex.1010
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1010 FROM = [From.GetName]" }
	title = annexation_MASURIA_CONQ
	desc = annexation_MASURIA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		777 = { clear_retain_state = yes }
	}

	option = { #Give it to Poland
		name = annex.1009.a
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = { tag = POL }
			POL = {
				owns_state = 98 #Plock
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = POL }
		777 = { transfer_state_and_add_claim = yes }
	}

	option = { #Give it to the Germans
		name = annex.1010.a
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = { tag = POL }
			var:5.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					tag = ENG
					is_french_tag = yes
					is_russian_tag = yes
				}
				POL = {
					owns_state = 98 #Plock
					ROOT_can_grant_land = yes
				}
			}
			modifier = {
				factor = 0
				POL = { is_ally_of_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = 5.owner }
		777 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.1005.c
		trigger = {
			is_germany_or_splinter_tag = yes
		}
		ai_chance = {
			base = 1000
		}
		add_state_core = 777
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			tag = POL
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 777
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			is_russian_tag = yes
			10 = { is_claimed_by = ROOT } #== RUS has annexed Poland
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 777
		POL = { add_state_core = 777 }
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = {
				tag = POL
				AND = {
					is_russian_tag = yes
					10 = { is_claimed_by = ROOT }
				}
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = MASURIA_CONQ
	}
}

country_event = { #Fate of Memel
	id = annex.1011
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1011 FROM = [From.GetName]" }
	title = annexation_MEMEL_CONQ
	desc = annexation_MEMEL_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		188 = { clear_retain_state = yes }
	}

	option = { #Give it to the Germans
		name = annex.1010.a
		trigger = {
			NOT = {
				tag = LIT
				tag = BAT
			}
			var:5.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					tag = ENG
					is_french_tag = yes
					is_russian_tag = yes
				}
				OR = {
					LIT = { ROOT_can_grant_land = yes }
					BAT = {
						owns_state = 11 #Kaunas
						is_ally_with = ROOT
					}
				}
			}
			modifier = {
				factor = 0
				LIT = { is_ally_of_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = 5.owner }
		188 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Lithuania
		name = annex.1011.b
		trigger = {
			NOT = {
				tag = LIT
				tag = BAT
			}
			LIT = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = LIT }
		188 = { transfer_state_and_add_core = yes }
	}

	option = { #give to BAT
		name = annex.1011.c
		trigger = {
			NOT = {
				tag = LIT
				tag = BAT
			}
			BAT = { is_ally_of_ROOT = yes }
			BAT = { owns_state = 11 } #Kaunas
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = BAT }
		188 = { transfer_state_and_add_core = yes }
	}

	option = { #give to POL
		name = annex.1011.d
		trigger = {
			NOT = {
				tag = LIT
				tag = BAT
				tag = POL
			}
			POL = {
				owns_state = 5 #East Prussia
				is_ally_of_ROOT = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				LIT = { ROOT_can_grant_land = yes }
			}
		}
		set_temp_variable = { tag_to_release = POL }
		188 = { transfer_state_and_add_claim = yes }
	}

	option = { #Integrate
		name = annex.1005.c
		trigger = {
			OR = {
				tag = LIT
				AND = {
					owns_state = 189 #Samogitia
					OR = {
						tag = BAT
						tag = POL
						is_russian_tag = yes
					}
				}
				AND = {
					tag = POL
					owns_state = 5 #East Prussia
				}
			}
		}
		ai_chance = {
			base = 1000
			modifier = {
				factor = 0
				tag = POL
				OR = {
					LIT = { ROOT_can_grant_land = yes }
					BAT = {
						owns_state = 11 #Kaunas
						is_ally_with = ROOT
					}
				}
			}
		}
		add_state_claim = 188
		if = {
			limit = { is_russian_tag = yes }
			LIT = { add_state_core = 188 } #Memel
		}
		else_if = {
			limit = { original_tag = POL }
			occupy_small_country = yes
		}
		recheck_annexations = yes
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = LIT
				AND = {
					owns_state = 189 #Samogitia
					OR = {
						tag = BAT
						tag = POL
						is_russian_tag = yes
					}
				}
				AND = {
					tag = POL
					owns_state = 5 #East Prussia
				}
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = MEMEL_CONQ
	}
}

country_event = { #Fate of Upper Silesia
	id = annex.1012
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1012 FROM = [From.GetName]" }
	title = annexation_UPPERSILESIA_CONQ
	desc = annexation_UPPERSILESIA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		67 = { clear_retain_state = yes }
	}

	option = { #Give it to Poland
		name = annex.1009.a
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = { tag = POL }
			POL = {
				owns_state = 87 #Kalisz
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = POL }
		67 = { transfer_state_and_add_claim = yes }
	}
	option = { #Give it to the Germans
		name = annex.1009.b
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = { tag = POL }
			var:66.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.5
				POL = { is_ally_of_ROOT = yes }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ENG
					is_french_tag = yes
					is_russian_tag = yes
				}
				POL = {
					owns_state = 87 #Kalisz
					ROOT_can_grant_land = yes
				}
			}
		}
		set_temp_variable = { tag_to_release = 66.owner }
		67 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.1005.c
		trigger = {
			is_germany_or_splinter_tag = yes
		}
		ai_chance = {
			base = 1000
		}
		add_state_core = 67
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			tag = POL
		}
		ai_chance = {
			base = 100
		}
		add_state_claim = 67
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			is_russian_tag = yes
			10 = { is_claimed_by = ROOT } #== RUS has annexed Poland
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 67
		POL = { add_state_core = 67 }
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = {
				tag = POL
				AND = {
					is_russian_tag = yes
					10 = { is_claimed_by = ROOT }
				}
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = UPPERSILESIA_CONQ
	}
}

country_event = { #Fate of Bavaria
	id = annex.1013
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1013 FROM = [From.GetName]" }
	title = annexation_BAY_CONQ
	desc = annexation_BAY_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = BAY }
			remove_all_cores_and_claims_of_tags = yes
		}
	}

	option = { #puppet
		name = annex.1013.a
		trigger = {
			GEX = { is_ally_of_ROOT = no }
		}
		ai_chance = {
			base = 99
		}
		create_bavarian_cores = yes
		set_temp_variable = { tag_to_release = BAY }
		release_targeted_tag = yes
		if = {
			limit = { tag = AUS }
			BAY = { set_cosmetic_tag = SGF }
		}
	}
	option = { #give to AUS
		name = annex.1013.b
		trigger = {
			is_in_faction_with = AUS
			AUS = { is_subject = no }
			NOT = { tag = AUS }
		}
		ai_chance = {
			base = 100
		}
		every_owned_state = {
			limit = { region = 7 } #Upper Germany
			transfer_state_to = AUS
		}
	}
	option = { #give to GEX
		name = annex.1000.h
		trigger = {
			GEX = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 200
		}
		every_owned_state = {
			limit = { region = 7 } #Upper Germany
			transfer_state_to = GEX
		}
	}
	option = { #integrate the south German lands
		name = annex.1013.c
		trigger = {
			tag = AUS
		}
		ai_chance = {
			base = 100
		}
		every_state = {
			limit = { region = 7 } #Upper Germany
			add_claim_of_ROOT = yes
		}
		occupy_medium_country = yes
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = AUS
				GEX = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = { base = 0 }
		occupy_large_country = yes
		set_country_flag = BAY_CONQ
	}
}

country_event = { #Fate of Poland
	id = annex.1014
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1014 FROM = [From.GetName]" }
	title = annexation_POL_CONQ
	desc = annexation_POL_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			POL = {
				POL_remove_monarchy = yes
				if = {
					limit = { has_character = POL_konstanty_rokossowski }
					retire_character = POL_konstanty_rokossowski
				}
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = POL
						is_claimed_by = POL
					}
					NOT = {
						state = 10 #Warsaw
						state = 87 #Kalisz
						state = 88 #Krakow
						state = 90 #Kielce
						state = 91 #Lwow
						state = 92 #Lublin
						state = 97 #Bialystok
						state = 98 #Plock
						state = 1088 #Chelm
					}
				}
				remove_core_of = POL
				remove_claim_by = POL
			}
			80 = { retain_state = yes } #Cernauti
			97 = { retain_state = yes } #Bialystok
			713 = { retain_state = yes } #Suceava
			1088 = { retain_state = yes } #Chelm
		}
	}

	option = { #liberate
		name = annex.1014.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				RUS_is_empire = yes
				RUS_is_expansionist = yes
			}
		}
		set_temp_variable = { tag_to_release = POL }
		release_targeted_tag = yes
		POL_puppet_setup = yes
	}

	option = { #liberate with GAL
		name = annex.1014.b
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				RUS_is_empire = yes
				RUS_is_expansionist = yes
			}
			modifier = {
				factor = 0.3
				UKR = { is_ally_of_ROOT = yes }
			}
		}
		trigger = {
			OR = {
				has_subject = GAL
				89 = { is_valid_annexation_state = yes } #Krakow
				91 = { is_valid_annexation_state = yes } #Lwow
			}
		}
		1088 = { clear_retain_state = yes } #Chelm
		set_temp_variable = { tag_to_release = POL }
		POL = { set_transfer_target_cores = yes }
		GAL = { set_transfer_target_cores = yes }
		transfer_targeted_territory_and_add_claims = yes
		if = {
			limit = { has_subject = GAL }
			hidden_effect = {
				GAL = {
					every_owned_state = {
						limit = {
							OR = {
								state = 80 #Cernauti
								state = 713 #Suceava
							}
						}
						transfer_state_to = ROOT
					}
				}
			}
			POL = {
				annex_country = {
					target = GAL
					transfer_troops = yes
				}
			}
		}
		puppet_released_tag_nocosmetic = yes
		POL_puppet_setup = yes
		POL_galicia_joins_poland = yes
	}

	option = { #annex
		name = annex.1014.c
		trigger = {
			OR = {
				tag = TRM
				RUS_is_expansionist = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				RUS_is_empire = no
			}
		}
		every_state = {
			limit = {
				OR = {
					state = 10 #Warsaw
					state = 87 #Kalisz
					state = 90 #Kielce
					state = 92 #Lublin
					state = 97 #Bialystok
					state = 98 #Plock
					state = 1088 #Chelm
				}
				is_claim_or_core_of_ROOT = no
			}
			add_claim_by = ROOT
		}
		set_country_flag = POL_CONQ
		occupy_medium_country = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = TRM
				RUS_is_expansionist = yes
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = POL_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Southern Lithuania / Fate of Bialystok
	id = annex.1015
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1015 FROM = [From.GetName]" }
	title = annexation_BIALYSTOK_CONQ
	desc = annexation_BIALYSTOK_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		97 = { clear_retain_state = yes }
	}

	option = { #Give it to Poland
		name = annex.1015.a
		trigger = {
			NOT = {
				tag = POL
				tag = WHR
				tag = LIT
				AND = {
					owns_state = 94 #Volkovysk
					owns_state = 96 #Vilnius
				}
			}
			POL = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 80
		}
		set_temp_variable = { tag_to_release = POL }
		97 = { transfer_state_and_add_claim = yes }
	}

	option = { #Give it to Belarus
		name = annex.1015.b
		trigger = {
			NOT = {
				tag = POL
				tag = WHR
				tag = LIT
			}
			WHR = {
				ROOT_can_grant_land = yes
				OR = {
					owns_state = 94 #Volkovysk
					94 = { is_valid_annexation_state = yes }
				}
			}
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = WHR }
		every_owned_state = {
			limit = {
				OR = {
					state = 94 #Volkovysk
					state = 97 #Bialystok
				}
			}
			transfer_state_and_add_core = yes
		}
	}

	option = { #Give it to Lithuania
		name = annex.1015.c
		trigger = {
			NOT = {
				tag = POL
				tag = WHR
				tag = LIT
			}
			LIT = {
				ROOT_can_grant_land = yes
				OR = {
					is_subject_of = ROOT
					94 = { is_claim_or_core_of_PREV = yes }
					97 = { is_claim_or_core_of_PREV = yes }
				}
			}
			OR = {
				LIT = { owns_state = 94 } #Volkovysk
				94 = { is_valid_annexation_state = yes }
			}
			OR = {
				LIT = { owns_state = 96 } #Vilnius
				96 = { is_valid_annexation_state = yes }
			}
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = LIT }
		every_owned_state = {
			limit = {
				OR = {
					state = 94 #Volkovysk
					state = 96 #Vilnius
					state = 97 #Bialystok
				}
			}
			transfer_state_and_add_core = yes
		}
	}

	option = { #Give Bialystok to Poland
		name = annex.1015.e
		trigger = {
			owns_state = 94 #Volkovysk
			owns_state = 96 #Vilnius
			NOT = {
				tag = POL
				tag = WHR
				tag = LIT
			}
			POL = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 80
		}
		set_temp_variable = { tag_to_release = POL }
		97 = { transfer_state_and_add_claim = yes }
	}

	option = { #Give it all to Poland
		name = annex.1015.f
		trigger = {
			owns_state = 94 #Volkovysk
			owns_state = 96 #Vilnius
			NOT = {
				tag = POL
				tag = WHR
				tag = LIT
			}
			POL = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = POL }
		every_owned_state = {
			limit = {
				OR = {
					state = 94 #Volkovysk
					state = 96 #Vilnius
					state = 97 #Bialystok
				}
			}
			transfer_state_and_add_claim = yes
		}
	}

	option = { #Split between Poland and Belarus/Russia
		name = annex.1015.d
		trigger = {
			owns_state = 94 #Volkovysk
			OR = {
				96 = { is_valid_annexation_state = no } #Vilnius
				var:11.owner = { is_russian_tag = yes }
			}
			NOT = {
				tag = POL
				tag = WHR
				tag = LIT
			}
			POL = { ROOT_can_grant_land = yes }
			var:204.owner = {
				OR = {
					AND = {
						tag = WHR
						ROOT_can_grant_land = yes
					}
					AND = {
						is_russian_tag = yes
						is_ally_with = ROOT
						OR = {
							96 = { is_valid_annexation_state = no } #Vilnius
							LIT = { ROOT_can_grant_land = no }
						}
					}
				}
			}
		}
		ai_chance = {
			base = 80
		}
		set_temp_variable = { tag_to_release = POL }
		97 = { transfer_state_and_add_claim = yes }
		custom_effect_tooltip = tooltip_white_line

		set_temp_variable = { tag_to_release = 204.owner }
		if = {
			limit = {
				var:204.owner = { is_russian_tag = yes }
				204 = { is_core_of = owner }
			}
			94 = { transfer_state_and_add_core = yes }
		}
		else = {
			94 = { transfer_state_and_add_claim = yes }
		}
		custom_effect_tooltip = tooltip_white_line

		if = {
			limit = { 96 = { is_valid_annexation_state = yes } }
			if = {
				limit = {
					var:11.owner = { is_russian_tag = yes }
					11 = { is_core_of = owner }
				}
				96 = { transfer_state_and_add_core = yes }
			}
			else = {
				96 = { transfer_state_and_add_claim = yes }
			}
		}
	}

	option = { #Split three-way
		name = annex.1015.g
		trigger = {
			owns_state = 94 #Volkovysk
			owns_state = 96 #Vilnius
			NOT = {
				tag = POL
				tag = WHR
				tag = LIT
			}
			POL = { ROOT_can_grant_land = yes }
			LIT = { ROOT_can_grant_land = yes }
			var:204.owner = {
				OR = {
					AND = {
						tag = WHR
						ROOT_can_grant_land = yes
					}
					AND = {
						is_russian_tag = yes
						is_ally_with = ROOT
					}
				}
			}
		}
		ai_chance = {
			base = 80
		}
		set_temp_variable = { tag_to_release = 204.owner }
		if = {
			limit = {
				var:204.owner = { is_russian_tag = yes }
				204 = { is_core_of = owner }
			}
			94 = { transfer_state_and_add_core = yes }
		}
		else = {
			94 = { transfer_state_and_add_claim = yes }
		}
		custom_effect_tooltip = tooltip_white_line

		set_temp_variable = { tag_to_release = LIT }
		96 = { transfer_state_and_add_core = yes }

		set_temp_variable = { tag_to_release = POL }
		97 = { transfer_state_and_add_claim = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = POL
				tag = WHR
				tag = LIT
			}
		}
		ai_chance = {
			base = 1000
		}
		if = {
			limit = { tag = LIT }
			add_state_core = 94 #Volkovysk
			add_state_core = 97 #Bialystok
		}
		else_if = {
			limit = {
				OR = {
					tag = WHR
					96 = { is_valid_annexation_state = yes }
				}
			}
			add_state_claim = 94 #Volkovysk
			add_state_claim = 96 #Vilnius
			add_state_claim = 97 #Bialystok
		}
		else = {
			add_state_claim = 97 #Bialystok
		}
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = POL
				tag = WHR
				tag = LIT
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = BIALYSTOK_CONQ
	}
}

country_event = { #Fate of Estonia
	id = annex.1016
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1016 FROM = [From.GetName]" }
	title = annexation_EST_CONQ
	desc = annexation_EST_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			EST = {
				if = {
					limit = { NOT = { has_character = EST_johan_laidoner } }
					EST_johan_laidoner = { set_nationality = PREV }
				}
			}
			SCA = {
				every_unit_leader = {
					limit = { has_character_flag = EST_leader }
					set_nationality = EST
					if = {
						limit = { can_be_country_leader = yes }
						promote_character = yes
					}
				}
			}
		}
	}

	option = { #puppet
		name = annex.1016.a
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				RUS_is_expansionist = yes
			}
			modifier = {
				factor = 0
				BAT = { is_ally_of_ROOT = yes }
			}
			modifier = {
				factor = 0
				has_country_flag = RUS_will_annex_baltic
			}
		}
		if = {
			limit = { tag = RUS }
			set_country_flag = RUS_will_liberate_baltic
		}
		set_temp_variable = { tag_to_release = EST }
		release_targeted_tag = yes
		hidden_effect = {
			EST = { EST_johan_pitka = { set_nationality = EST } }
		}
	}

	option = { #give to UBD
		name = annex.1016.b
		trigger = {
			BAT = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				has_country_flag = RUS_will_annex_baltic
			}
		}
		set_temp_variable = { tag_to_release = BAT }
		EST = { set_transfer_target_cores = yes }
		transfer_targeted_territory = yes
		hidden_effect = {
			EST = { EST_johan_pitka = { set_nationality = BAT } }
		}
	}

	option = { #Integrate
		name = annex.1016.c
		trigger = {
			is_russian_tag = yes
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_country_flag = RUS_will_liberate_baltic
			}
		}
		every_state = {
			limit = {
				region = 37 #Baltic States
				is_core_of = EST
			}
			hidden_effect = {
				if = {
					limit = { has_resistance = yes }
					set_temp_variable = { original_compliance = THIS.compliance }
					set_temp_variable = { original_resistance = THIS.resistance }
					cancel_resistance = yes
				}
				start_resistance = EST
				if = {
					limit = { has_variable = original_compliance }
					set_compliance = original_compliance
				}
				if = {
					limit = { has_variable = original_resistance }
					set_resistance = original_resistance
				}
			}
			if = {
				limit = {
					is_claim_or_core_of_ROOT = no
					NOT = {
						is_claim_or_core_of_owner = yes
						owner = {
							NOT = { tag = ROOT }
							is_ally_with = ROOT
						}
					}
				}
				add_claim_by = ROOT
			}
		}
		set_country_flag = RUS_will_annex_baltic
		add_political_power = -25
		add_to_array = { RUS_integration_array = EST }
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_russian_tag = no
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = EST_CONQ
	}
}

country_event = { #Fate of Latvia
	id = annex.1017
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1017 FROM = [From.GetName]" }
	title = annexation_LAT_CONQ
	desc = annexation_LAT_CONQ_desc
	picture = GFX_report_event_generic_conference2

	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { country_exists = BAT } }
				add_to_temp_array = { core_removal_array = BAT }
				remove_all_cores_and_claims_of_tags = yes
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = LAT
						is_claimed_by = LAT
					}
					NOT = { region = 37 } #Baltic States
				}
				remove_core_of = LAT
				remove_claim_by = LAT
			}
			LAT = {
				every_character = {
					limit = { has_character_flag = SOV_character }
					clr_character_flag = SOV_character
					set_nationality = SOV
				}
			}
		}
	}

	is_triggered_only = yes

	option = { #puppet
		name = annex.1017.a
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				RUS_is_expansionist = yes
			}
			modifier = {
				factor = 0
				BAT = { is_ally_of_ROOT = yes }
			}
			modifier = {
				factor = 0.25
				tag = GER
			}
			modifier = {
				factor = 0
				has_country_flag = RUS_will_annex_baltic
			}
		}
		if = {
			limit = { tag = RUS }
			set_country_flag = RUS_will_liberate_baltic
		}
		set_temp_variable = { tag_to_release = LAT }
		release_targeted_tag = yes
		hidden_effect = {
			LAT = {
				LAT_move_leaders = yes
				if = {
					limit = { has_socialist_government = yes }
					load_focus_tree = LAT_socialist_focus
					unlock_national_focus = LAT_the_second_iskolat
				}
				else = {
					load_focus_tree = LAT_auth_tree
					unlock_national_focus = LAT_2nd_awakening
				}
				if = {
					limit = { has_country_leader = { character = LAT_janis_kurelis } }
					promote_character = {
						character = LAT_karlis_ulmanis
						ideology = authoritarian_democrat_subtype
					}
					promote_character = LAT_kristaps_upelnieks
				}
				if = {
					limit = { controls_state = 842 } #Riga
					remove_ideas = LAT_remember_riga
					set_capital = { state = 842 remember_old_capital = no }
				}
			}
		}
	}

	option = { #Liberate the Baltic Union!
		name = annex.1017.b
		trigger = {
			NOT = {
				tag = LIT
				tag = EST
				country_exists = BAT
			}
			has_socialist_government = yes
			OR = {
				11 = { is_valid_annexation_state = yes } #Kaunas
				13 = { is_valid_annexation_state = yes } #Estonia
				96 = { is_valid_annexation_state = yes } #Vilnius
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				has_country_flag = RUS_will_annex_baltic
			}
		}
		set_temp_variable = { tag_to_release = BAT }
		every_state = {
			limit = {
				region = 37 #Baltic States
				NOT = {
					state = 96 #Vilnius
					state = 880 #Dvinsk
				}
			}
			add_core_of_target_and_transfer_if_owned = yes
		}
		puppet_released_tag = yes
		setup_puppet_baltic_union = yes
	}

	option = { #restore UBD
		name = annex.1017.c
		trigger = {
			tag = GER
			NOT = { country_exists = BAT }
		}
		ai_chance = {
			base = 80
		}
		BAT = {
			add_state_core = 12 #Livonia
			add_state_core = 13 #Estonia
			add_state_core = 190 #Courland
			add_state_core = 191 #Northern Livonia
			add_state_core = 842 #Riga
		}
		set_temp_variable = { tag_to_release = BAT }
		release_targeted_tag = yes
		hidden_effect = {
			BAT = { LAT_move_leaders = yes }
		}
	}

	option = { #give to BAT
		name = annex.1017.d
		trigger = {
			BAT = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				has_country_flag = RUS_will_annex_baltic
			}
		}
		set_temp_variable = { tag_to_release = BAT }
		LAT = { set_transfer_target_cores = yes }
		transfer_targeted_territory_and_add_cores = yes
	}

	option = { #Integrate
		name = annex.1017.e
		trigger = {
			is_russian_tag = yes
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_country_flag = RUS_will_liberate_baltic
			}
		}
		every_state = {
			limit = {
				region = 37 #Baltic States
				is_core_of = LAT
			}
			hidden_effect = {
				if = {
					limit = { has_resistance = yes }
					set_temp_variable = { original_compliance = THIS.compliance }
					set_temp_variable = { original_resistance = THIS.resistance }
					cancel_resistance = yes
					start_resistance = LAT
					if = {
						limit = { has_variable = original_compliance }
						set_compliance = original_compliance
					}
					if = {
						limit = { has_variable = original_resistance }
						set_resistance = original_resistance
					}
				}
			}
			if = {
				limit = {
					is_claim_or_core_of_ROOT = no
					NOT = {
						is_claim_or_core_of_owner = yes
						owner = {
							NOT = { tag = ROOT }
							is_ally_with = ROOT
						}
					}
				}
				add_claim_by = ROOT
			}
		}
		set_country_flag = RUS_will_annex_baltic
		add_political_power = -25
		add_to_array = { RUS_integration_array = LAT }
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_russian_tag = no
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = LAT_CONQ
	}
}

country_event = { #Fate of Lithuania
	id = annex.1018
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1018 FROM = [From.GetName]" }
	title = annexation_LIT_CONQ
	desc = annexation_LIT_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = LIT }
			remove_all_cores_and_claims_of_tags = yes
			LIT = {
				add_state_core = 11 #Kaunas
				add_state_core = 96 #Vilnius
				add_state_core = 189 #Samogitia
				add_state_core = 655 #Sudovia
				LIT_remove_monarchy = yes
				remove_ideas = {
					LIT_german_aviation_advisors
					LIT_long_road_to_pluralism_idea
					LIT_german_economic_dominance_1
					LIT_german_economic_dominance_2
				}
				if = {
					limit = { ROOT = { NOT = { has_government = national_populist } } }
					remove_ideas = {
						LIT_aftermath_of_the_coup
						LIT_uprising_army
						LIT_wolfs_state_1
						LIT_wolfs_state_2
						LIT_wolfs_state_3
						LIT_corporate_nation_state_1
						LIT_corporate_nation_state_2
						LIT_corporate_nation_state_3
						LIT_national_purity_1
						LIT_national_purity_2
						LIT_national_purity_3
						LIT_national_purity_4
						LIT_nationalist_fanaticism
						LIT_nationalist_equality
						LIT_nationalist_welfare
					}
				}
			}
			BAT = {
				every_unit_leader = {
					limit = {
						OR = {
							is_character = LIT_vincas_vitkauskas
							is_character = LIT_kazys_ladiga
							is_character = LIT_povilas_julius_labanauskas
						}
					}
					set_nationality = LIT
				}
			}
		}
	}

	option = { #Release Lithuania
		name = annex.1018.a
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				RUS_is_expansionist = yes
			}
			modifier = {
				factor = 0
				has_country_flag = RUS_will_annex_baltic
			}
		}
		if = {
			limit = { tag = RUS }
			set_country_flag = RUS_will_liberate_baltic
		}
		set_temp_variable = { tag_to_release = LIT }
		every_owned_state = {
			limit = {
				is_core_of = LIT
				is_claim_or_core_of_ROOT = no
				NOT = { state = 96 } #Vilnius
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag = yes
		LIT_puppet_setup = yes
	}

	option = { #give to BAT
		name = annex.1017.c
		trigger = {
			BAT = { is_ally_of_ROOT = yes }
			has_socialist_government = yes
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				has_country_flag = RUS_will_annex_baltic
			}
		}
		set_temp_variable = { tag_to_release = BAT }
		every_state = {
			limit = {
				is_core_of = LIT
				is_claim_or_core_of_ROOT = no
				NOT = { state = 96 } #Vilnius
			}
			add_core_of_target_and_transfer_if_owned = yes
		}
	}

	option = { #Integrate
		name = annex.1018.b
		trigger = {
			is_russian_tag = yes
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_country_flag = RUS_will_liberate_baltic
			}
		}
		every_state = {
			limit = {
				region = 37 #Baltic States
				is_core_of = LIT
				is_claim_or_core_of_ROOT = no
				NOT = {
					state = 188 #Memel
					AND = {
						is_claim_or_core_of_owner = yes
						owner = {
							NOT = { tag = ROOT }
							is_ally_with = ROOT
						}
					}
				}
			}
			add_claim_by = ROOT
		}
		set_country_flag = RUS_will_annex_baltic
		add_political_power = -40
		add_to_array = { RUS_integration_array = LIT }
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_russian_tag = no
		}
		ai_chance = { base = 0 }
		set_country_flag = LIT_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Vilnius
	id = annex.1019
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1019 FROM = [From.GetName]" }
	title = annexation_VILNIUS_CONQ
	desc = annexation_VILNIUS_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		96 = { clear_retain_state = yes }
	}

	option = { #give to Lithuania
		name = annex.1019.a
		trigger = {
			NOT = {
				tag = POL
				tag = WHR
			}
			LIT = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.5
				POL = { is_ally_of_ROOT = yes }
			}
			modifier = {
				factor = 0
				POL = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = LIT }
			}
		}
		set_temp_variable = { tag_to_release = LIT }
		96 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to BAT
		name = annex.1019.b
		trigger = {
			NOT = {
				tag = POL
				tag = WHR
			}
			BAT = {
				is_ally_with = ROOT
				owns_state = 11 #Kaunas
			}
		}
		ai_chance = {
			base = 1000
		}
		set_temp_variable = { tag_to_release = BAT }
		96 = { transfer_state_and_add_core = yes }
	}

	option = { #give to Poland
		name = annex.1019.c
		trigger = {
			NOT = {
				tag = POL
				tag = WHR
			}
			POL = {
				owns_state = 97 #Bialystok
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				is_russian_tag = yes
				owns_state = 11 #Kaunas
			}
			modifier = {
				factor = 0
				LIT = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = POL }
			}
		}
		set_temp_variable = { tag_to_release = POL }
		96 = { transfer_state_and_add_core = yes }
	}

	option = { #give to White Ruthenia
		name = annex.1019.d
		trigger = {
			NOT = {
				tag = POL
				tag = WHR
			}
			WHR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					LIT = { is_ally_of_ROOT = yes }
					POL = { is_ally_of_ROOT = yes }
				}
				NOT = { is_ally_with = WHR }
			}
		}
		set_temp_variable = { tag_to_release = WHR }
		96 = { transfer_state_and_add_claim = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = POL
				tag = WHR
				tag = BAT
				AND = {
					is_russian_tag = yes
					owns_state = 11 #Kaunas
				}
			}
		}
		ai_chance = {
			base = 80
		}
		add_state_claim = 96
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = POL
				tag = WHR
				AND = {
					is_russian_tag = yes
					owns_state = 11 #Kaunas
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = VILNIUS_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Austria
	id = annex.1020
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1020 FROM = [From.GetName]" }
	title = annexation_AUS_CONQ
	desc = annexation_AUS_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			AUS = {
				every_character = {
					limit = { AUS_is_habsburg_family_member = yes }
					remove_all_country_leader_roles = yes
					set_nationality = XXA
				}
				set_party_name = {
					ideology = paternal_autocrat
					long_name = AUS_paternal_autocrat_party_long
					name = AUS_paternal_autocrat_party
				}
				remove_ideas = {
					AUS_financial_ties_broken
					AUS_paid_reparations
					AUS_imperial_development_scheme
					AUS_DNF_political_instability
					AUS_DNF_political_instability-1
					AUS_DNF_political_instability-2
					AUS_kaiser_faith
				}
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = AUS
						is_claimed_by = AUS
						has_variable = ambition_area_AUS
					}
					NOT = {
						region = 21 #Austria
						state = 784 #Burgenland
					}
				}
				remove_core_of = AUS
				remove_claim_by = AUS
				clear_variable = ambition_area_AUS
			}
			39 = { retain_state = yes } #Southern Tyrol
			784 = { retain_state = yes } #Burgenland
		}
	}

	option = { #liberate
		name = annex.1020.a
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				is_germany_or_splinter_tag = yes
			}
		}
		set_temp_variable = { tag_to_release = AUS }
		release_targeted_tag = yes
		var:tag_to_release = {
			if = {
				limit = {
					ROOT = { has_government = social_liberal }
				}
				set_politics = {
					ruling_party = social_democrat
					elections_allowed = no
				}
				set_political_party = {
					ideology = social_democrat
					popularity = 60
				}
			}
			else_if = {
				limit = {
					ROOT = { has_government = market_liberal }
				}
				set_politics = {
					ruling_party = social_conservative
					elections_allowed = no
				}
				set_political_party = {
					ideology = social_conservative
					popularity = 60
				}
			}
		}
	}

	option = { #give to Germany
		name = annex.1020.b
		trigger = {
			is_germany_or_splinter_tag = no
			var:52.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 0
		}
		set_temp_variable = { tag_to_release = 52.owner }
		every_state = {
			limit = {
				is_core_austria = yes
				NOT = {
					is_claimed_by = var:tag_to_release
					is_core_of = var:tag_to_release
				}
			}
			add_claim_by = var:tag_to_release
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 4 #Lower Austria
					state = 152 #Upper Austria
					state = 153 #Tyrol
					state = 775 #Styria
					state = 835 #Carinthia
					state = 836 #Salzburg
					state = 942 #Vorarlberg
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = var:tag_to_release
		}
		var:tag_to_release = {
			activate_targeted_decision = { decision = GER_integrate_austria target = AUS }
		}
	}

	option = { #Danubian Republic of Councils
		name = annex.1020.c
		trigger = {
			is_germany_or_splinter_tag = no
			AUS = { NOT = { has_completed_focus = AUS_military_occupation } }
			43 = { #Budapest
				is_owned_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}
		ai_chance = {
			base = 1000
		}
		set_temp_variable = { tag_to_release = AUS }
		var:tag_to_release = {
			set_cosmetic_tag = AUS_danubia
			add_state_core = 43 #Central Hungary
			add_state_core = 154 #Alfold
			add_state_core = 155 #Transdanubia
			add_state_core = 664 #Miskolc
			add_state_core = 784 #Burgenland
		}
		784 = { clear_retain_state = yes }
		release_targeted_tag_nocosmetic = yes
	}

	option = { #old idea
		name = annex.integration
		trigger = {
			is_germany_or_splinter_tag = yes
		}
		ai_chance = {
			base = 100
		}
		every_state = {
			limit = {
				is_core_austria = yes
				is_claim_or_core_of_ROOT = no
			}
			add_claim_of_ROOT = yes
		}
		activate_targeted_decision = { decision = GER_integrate_austria target = AUS }
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			is_germany_or_splinter_tag = no
		}
		ai_chance = { base = 0 }
		set_country_flag = AUS_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Bohemia
	id = annex.1021
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1021 FROM = [From.GetName]" }
	title = annexation_CZE_CONQ
	desc = annexation_CZE_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = CZE
						is_claimed_by = CZE
					}
					NOT = { region = 22 } #Bohemia
				}
				remove_core_of = CZE
				remove_claim_by = CZE
				clear_variable = ambition_area_CZE
			}
			924 = { retain_state = yes } #Teschen
			XXA = {
				every_character = {
					limit = { has_character_flag = CZE_character }
					set_nationality = CZE
				}
			}
			CZE = {
				promote_character = {
					character = CZE_jan_syrovy
					ideology = paternal_autocrat_subtype
				}
				CZE_change_portraits = yes
			}
		}
	}

	option = { #Liberate Bohemia
		name = annex.1021.a
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_socialist_government = yes
				AUS = {
					is_ally_with = ROOT
					has_cosmetic_tag = AUS_danubia
				}
			}
			modifier = {
				factor = 3
				has_elected_government = yes
			}
		}
		set_temp_variable = { tag_to_release = CZE }
		release_targeted_tag = yes
	}

	option = { #Czechoslovakia
		name = annex.1021.b
		trigger = {
			70 = {
				is_owned_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				is_germany_or_splinter_tag = yes
			}
		}
		set_temp_variable = { tag_to_release = CZE }
		CZE = { set_transfer_target_cores = yes }
		SLO = { set_transfer_target_cores = yes }
		71 = { retain_state = yes } #Danubian Plain
		73 = { retain_state = yes } #Transcarpathia
		1090 = { retain_state = yes } #Pressburg

		release_targeted_tag_from_core_regions_and_add_cores = yes
		var:tag_to_release = { set_cosmetic_tag = CZE_czechoslavakia }
	}

	option = { #Give to Austria
		name = annex.1021.c
		trigger = {
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
			}
		}
		ai_chance = {
			base = 1000
		}
		set_temp_variable = { tag_to_release = AUS }
		CZE = { set_transfer_target_cores = yes }
		if = {
			limit = { has_subject = AUS }
			transfer_targeted_territory_and_add_cores = yes
		}
		else = {
			transfer_targeted_territory = yes
		}
	}

	option = { #Assimilate
		name = annex.integration
		trigger = {
			is_germany_or_splinter_tag = yes
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0.15
				has_elected_government = yes
			}
		}
		add_state_claim = 9 #Prague
		add_state_claim = 69 #Liberec
		add_state_claim = 74 #Czech Silesia
		add_state_claim = 75 #Moravia
		add_state_claim = 786 #Budejovice
		add_state_claim = 924 #Teschen
		occupy_medium_country = yes
	}

	option = { #occupation
		name = annex.occupation
		trigger = {
			is_germany_or_splinter_tag = no
		}
		ai_chance = { base = 0 }
		occupy_medium_country = yes
		set_country_flag = CZE_CONQ
	}
}

country_event = { #Fate of Galicia and Lodomeria
	id = annex.1022
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1022 FROM = [From.GetName]" }
	title = annexation_GAL_CONQ
	desc = annexation_GAL_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			GAL = { GAL_remove_karl_albrecht = yes }
			80 = { retain_state = yes } #Cernauti
			713 = { retain_state = yes } #Suceava

			if = {
				limit = { 88 = { is_valid_annexation_state = yes } } #Krakow
				save_event_target_as = polish_galicia
			}
			if = {
				limit = { 91 = { is_valid_annexation_state = yes } } #Krakow
				save_event_target_as = lwow
			}
			if = {
				limit = {
					OR = {
						91 = { is_valid_annexation_state = yes } #Lwow
						88 = { is_valid_annexation_state = yes } #Stanislawow
					}
				}
				save_event_target_as = ukrainian_galicia
			}
			if = {
				limit = { UKR = { ROOT_can_grant_land = yes } }
				save_event_target_as = ukraine
			}
			if = {
				limit = { POL = { ROOT_can_grant_land = yes } }
				save_event_target_as = poland
			}
		}
	}

	option = {
		name = annex.1022.a #Liberate Galicia
		trigger = {
			NOT = {
				original_tag = POL
				original_tag = UKR
			}
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				RUS_is_empire = yes
				RUS_is_expansionist = yes
			}
			modifier = {
				factor = 0
				OR = {
					POL = { is_ally_of_ROOT = yes }
					UKR = { is_ally_of_ROOT = yes }
				}
			}
		}
		set_temp_variable = { tag_to_release = GAL }
		release_targeted_tag = yes
	}

	option = {
		name = annex.1022.b #Give to Austria
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				RUS_is_empire = yes
				RUS_is_expansionist = yes
			}
		}
		trigger = {
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
				OR = {
					owns_state = 71 #Eastern Slovakia
					owns_state = 75 #Moravia
				}
			}
			NOT = {
				original_tag = POL
				original_tag = UKR
			}
		}
		set_temp_variable = { tag_to_release = AUS }
		88 = { add_core_of_target_and_transfer_if_owned = yes }
		89 = { add_core_of_target_and_transfer_if_owned = yes }
		91 = { add_core_of_target_and_transfer_if_owned = yes }
	}

	option = {
		name = annex.1022.c #Give to Poland
		trigger = {
			has_event_target = poland
			OR = {
				NOT = { original_tag = UKR }
				NOT = { has_event_target = ukrainian_galicia }
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				RUS_is_empire = yes
				RUS_is_expansionist = yes
				has_event_target = ukrainian_galicia
			}
		}
		set_temp_variable = { tag_to_release = POL }
		88 = { add_claim_of_target_and_transfer_if_owned = yes }
		89 = { add_claim_of_target_and_transfer_if_owned = yes }
		91 = { add_claim_of_target_and_transfer_if_owned = yes }
		POL_galicia_joins_poland = yes
	}

	option = {
		name = annex.1022.d #Give to Ukraine
		trigger = {
			has_event_target = ukraine
			NOT = { has_event_target = polish_galicia }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				original_tag = POL
			}
			modifier = {
				factor = 0
				RUS_is_expansionist = yes
			}
		}
		set_temp_variable = { tag_to_release = UKR }
		89 = { add_claim_of_target_and_transfer_if_owned = yes }
		91 = { add_claim_of_target_and_transfer_if_owned = yes }
	}

	option = {
		name = annex.1022.e #Give to Ukraine, liberate the rest
		trigger = {
			has_event_target = ukraine
			has_event_target = polish_galicia
			NOT = { original_tag = POL }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				RUS_is_expansionist = yes
			}
			modifier = {
				factor = 0
				POL = { is_ally_of_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = GAL }
		var:tag_to_release = { transfer_state = 88 } #Krakow
		puppet_released_tag = yes

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = UKR }
		89 = { add_claim_of_target_and_transfer_if_owned = yes }
		91 = { add_claim_of_target_and_transfer_if_owned = yes }
	}

	option = {
		name = annex.1022.f #Split between UKR and POL, Lwow to Poland
		trigger = {
			has_event_target = poland
			has_event_target = ukraine
			has_event_target = polish_galicia
			has_event_target = ukrainian_galicia
			OR = {
				has_event_target = lwow
				POL = { owns_state = 91 } #Lwow
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				RUS_is_expansionist = yes
			}
		}
		set_temp_variable = { tag_to_release = POL }
		88 = { add_claim_of_target_and_transfer_if_owned = yes }
		91 = { add_claim_of_target_and_transfer_if_owned = yes }
		POL_galicia_joins_poland = yes

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = UKR }
		89 = { add_claim_of_target_and_transfer_if_owned = yes }
	}

	option = {
		name = annex.1022.g #Split between UKR and POL, Lwow to Ukraine
		trigger = {
			has_event_target = poland
			has_event_target = ukraine
			has_event_target = polish_galicia
			has_event_target = ukrainian_galicia
			OR = {
				has_event_target = lwow
				UKR = { owns_state = 91 } #Lwow
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				RUS_is_expansionist = yes
			}
		}
		set_temp_variable = { tag_to_release = POL }
		88 = { add_claim_of_target_and_transfer_if_owned = yes }
		POL_galicia_joins_poland = yes

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = UKR }
		89 = { add_claim_of_target_and_transfer_if_owned = yes }
		91 = { add_claim_of_target_and_transfer_if_owned = yes }
	}

	option = {
		name = annex.1022.h #Keep Polish Galicia, give the rest to Ukraine
		trigger = {
			original_tag = POL
			has_event_target = ukraine
			OR = {
				has_event_target = polish_galicia
				has_event_target = lwow
			}
			89 = { is_valid_annexation_state = yes } #Stanislawow
		}
		ai_chance = {
			base = 0
		}
		add_state_claim = 88 #Krakow
		add_state_claim = 91 #Lwow
		POL_galicia_joins_poland = yes

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = UKR }
		89 = { transfer_state_and_add_core = yes }
	}

	option = {
		name = annex.1022.i #Keep Ukrainian Galicia, liberate the rest
		trigger = {
			original_tag = UKR
			has_event_target = polish_galicia
			has_event_target = ukrainian_galicia
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_event_target = poland
			}
		}
		89 = { add_claim_of_ROOT = yes }
		91 = { add_claim_of_ROOT = yes }

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = GAL }
		release_targeted_tag = yes
	}

	option = {
		name = annex.1022.j #Keep Ukrainian Galicia, give the rest to Poland
		trigger = {
			original_tag = UKR
			has_event_target = polish_galicia
			has_event_target = ukrainian_galicia
			has_event_target = poland
		}
		ai_chance = {
			base = 100
		}
		89 = { add_claim_of_ROOT = yes }
		91 = { add_claim_of_ROOT = yes }

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = POL }
		88 = { transfer_state_and_add_claim = yes }
		GAL_characters_join_ukraine = yes
	}

	option = {
		name = annex.1022.k #Keep Ukrainian Galicia, occupy the rest
		trigger = {
			original_tag = UKR
			has_event_target = polish_galicia
			has_event_target = ukrainian_galicia
		}
		ai_chance = {
			base = 0
		}
		89 = { remove_claim_and_add_core_of_ROOT = yes }
		91 = { remove_claim_and_add_core_of_ROOT = yes }

		custom_effect_tooltip = tooltip_white_line
		set_country_flag = GAL_CONQ
		occupy_small_country = yes
	}

	option = { #split with POL, Lwow to Poland
		name = annex.1022.l
		trigger = {
			is_russian_tag = yes
			has_event_target = poland
			has_event_target = ukrainian_galicia
			OR = {
				has_event_target = lwow
				POL = { owns_state = 91 } #Lwow
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				RUS_is_empire = yes
				RUS_is_expansionist = yes
				has_event_target = lwow
			}
		}
		add_state_claim = 89 #Stanislawow

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = POL }
		88 = { transfer_state_and_add_claim = yes } #Krakow
		91 = { transfer_state_and_add_claim = yes } #Lwow
	}

	option = { #split with POL, keep Lwow
		name = annex.1022.m
		trigger = {
			is_russian_tag = yes
			has_event_target = poland
			has_event_target = ukrainian_galicia
			has_event_target = polish_galicia
			has_event_target = lwow
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				RUS_is_empire = yes
				RUS_is_expansionist = yes
			}
		}
		add_state_claim = 89 #Stanislawow
		add_state_claim = 91 #Lwow

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = POL }
		88 = { transfer_state_and_add_claim = yes } #Krakow
	}

	option = { #annex
		name = annex.integration
		trigger = {
			original_tag = POL
		}
		ai_chance = {
			base = 1000
		}
		88 = { add_claim_of_ROOT = yes }
		89 = { add_claim_of_ROOT = yes }
		91 = { add_claim_of_ROOT = yes }
		POL_galicia_joins_poland = yes
	}

	option = { #annex
		name = annex.integration
		trigger = {
			original_tag = UKR
			NOT = { has_event_target = polish_galicia }
		}
		ai_chance = {
			base = 1000
		}
		89 = { add_claim_of_ROOT = yes }
		91 = { add_claim_of_ROOT = yes }
		GAL_characters_join_ukraine = yes
	}

	option = { #annex
		name = annex.integration
		trigger = {
			is_russian_tag = yes
			NOT = { has_event_target = polish_galicia }
		}
		ai_chance = {
			base = 1000
			modifier = {
				factor = 0
				OR = {
					RUS_is_empire = no
					RUS_is_expansionist = no
				}
			}
		}
		89 = { add_claim_of_ROOT = yes }
		91 = { add_claim_of_ROOT = yes }
	}

	option = { #annex
		name = annex.integration
		trigger = {
			original_tag = AUS
			AUS_is_unified = yes
		}
		ai_chance = {
			base = 1000
		}
		88 = { remove_claim_and_add_core_of_ROOT = yes }
		89 = { remove_claim_and_add_core_of_ROOT = yes }
		91 = { remove_claim_and_add_core_of_ROOT = yes }
	}

	option = { #Occupy
		name = annex.occupation
		trigger = {
			NOT = {
				original_tag = POL
				AND = {
					original_tag = UKR
					NOT = { has_event_target = polish_galicia }
				}
				AND = {
					is_russian_tag = yes
					NOT = { has_event_target = polish_galicia }
				}
				AND = {
					original_tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = GAL_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Bucovina
	id = annex.1023
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1023 FROM = [From.GetName]" }
	title = annexation_BUKOVINA_CONQ
	desc = annexation_BUKOVINA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		80 = { clear_retain_state = yes }
		713 = { clear_retain_state = yes }
	}

	option = {
		name = annex.1023.a #Give it to AUS
		trigger = {
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
				OR = {
					AND = {
						owns_state = 89 #Stanislawow
						ROOT = { owns_state = 80 } #Cernauti
					}
					AND = {
						owns_state = 80 #Cernauti
						ROOT = { owns_state = 713 } #Suceava
					}
					AND = {
						owns_state = 713 #Suceava
						ROOT = { owns_state = 80 } #Cernauti
					}
					AND = {
						owns_state = 76 #Cluj
						ROOT = { owns_state = 713 } #Suceava
					}
				}
			}
			NOT = {
				tag = ROM
				tag = TRS
				tag = GAL
			}
		}
		ai_chance = {
			base = 40
		}
		set_temp_variable = { tag_to_release = AUS }
		80 = { add_core_of_target_and_transfer_if_owned = yes }
		713 = { add_core_of_target_and_transfer_if_owned = yes }
	}

	option = {
		name = annex.1023.b #Give it to GAL
		trigger = {
			GAL = {
				ROOT_can_grant_land = yes
				OR = {
					AND = {
						owns_state = 89 #Stanislawow
						ROOT = { owns_state = 80 } #Cernauti
					}
					AND = {
						owns_state = 80 #Cernauti
						ROOT = { owns_state = 713 } #Suceava
					}
				}
			}
			NOT = {
				tag = ROM
				tag = TRS
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 10
				ROOT = { is_ally_with = GAL }
			}
			modifier = {
				factor = 10
				GAL = { same_government_type_as_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = GAL }
		80 = { add_core_of_target_and_transfer_if_owned = yes }
		713 = { add_core_of_target_and_transfer_if_owned = yes }
	}

	option = {
		name = annex.1023.c #Give it to ROM
		trigger = {
			ROM = { ROOT_can_grant_land = yes }
			NOT = {
				tag = GAL
				tag = TRS
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 10
				ROOT = { is_ally_with = ROM }
			}
			modifier = {
				factor = 10
				ROM = { same_government_type_as_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = ROM }
		80 = { add_core_or_claim_of_target_and_transfer_if_owned = yes }
		713 = { add_core_or_claim_of_target_and_transfer_if_owned = yes }
	}

	option = {
		name = annex.1023.d #Give it to TRS
		trigger = {
			TRS = { ROOT_can_grant_land = yes }
			NOT = {
				tag = GAL
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				ROM = { ROOT_can_grant_land = yes }
			}
			modifier = {
				factor = 10
				ROOT = { is_ally_with = TRS }
			}
			modifier = {
				factor = 10
				TRS = { same_government_type_as_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = TRS }
		80 = { add_core_of_target_and_transfer_if_owned = yes }
		713 = { add_core_of_target_and_transfer_if_owned = yes }
	}

	option = {
		name = annex.1023.e #Give it to POL
		trigger = {
			POL = {
				ROOT_can_grant_land = yes
				OR = {
					AND = {
						owns_state = 89 #Stanislawow
						ROOT = { owns_state = 80 } #Cernauti
					}
					AND = {
						owns_state = 80 #Cernauti
						ROOT = { owns_state = 713 } #Suceava
					}
				}
			}
			NOT = {
				tag = ROM
				tag = TRS
				tag = GAL
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 10
			modifier = {
				factor = 10
				POL = { is_ally_of_ROOT = yes }
			}
			modifier = {
				factor = 10
				POL = { same_government_type_as_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = POL }
		80 = { add_claim_of_target_and_transfer_if_owned = yes }
		713 = { transfer_if_owned = yes }
	}

	option = {
		name = annex.1023.f #Give it to UKR
		trigger = {
			UKR = {
				ROOT_can_grant_land = yes
				OR = {
					AND = {
						owns_state = 89 #Stanislawow
						ROOT = { owns_state = 80 } #Cernauti
					}
					AND = {
						owns_state = 80 #Cernauti
						ROOT = { owns_state = 713 } #Suceava
					}
				}
			}
			NOT = {
				tag = ROM
				tag = TRS
				tag = GAL
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 10
				ROOT = { is_ally_with = UKR }
			}
			modifier = {
				factor = 10
				UKR = { same_government_type_as_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = UKR }
		80 = { add_claim_of_target_and_transfer_if_owned = yes }
		713 = { transfer_if_owned = yes }
	}

	option = {
		name = annex.1023.g #Split it between UKR and ROM
		trigger = {
			80 = { is_valid_annexation_state = yes } #Cernauti
			713 = { is_valid_annexation_state = yes } #Suceava
			UKR = {
				ROOT_can_grant_land = yes
				owns_state = 89 #Stanislawow
			}
			ROM = { ROOT_can_grant_land = yes }
			NOT = {
				tag = ROM
				tag = TRS
				tag = GAL
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 10
				UKR = { is_ally_of_ROOT = yes }
				ROM = { is_ally_of_ROOT = yes }
			}
			modifier = {
				factor = 10
				UKR = { same_government_type_as_ROOT = yes }
				ROM = { same_government_type_as_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = UKR }
		80 = { transfer_state_and_add_core = yes }

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = ROM }
		713 = { transfer_state_and_add_claim_or_core = yes }
	}

	option = {
		name = annex.1023.h #Split it between UKR and TRS
		trigger = {
			80 = { is_valid_annexation_state = yes } #Cernauti
			713 = { is_valid_annexation_state = yes } #Suceava
			UKR = {
				ROOT_can_grant_land = yes
				owns_state = 89 #Stanislawow
			}
			TRS = { ROOT_can_grant_land = yes }
			NOT = {
				tag = ROM
				tag = TRS
				tag = GAL
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 10
				UKR = { is_ally_of_ROOT = yes }
				TRS = { is_ally_of_ROOT = yes }
			}
			modifier = {
				factor = 10
				UKR = { same_government_type_as_ROOT = yes }
				TRS = { same_government_type_as_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = UKR }
		80 = { transfer_state_and_add_core = yes }

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = TRS }
		713 = { transfer_state_and_add_core = yes }
	}

	option = {
		name = annex.1023.i #Split it between POL and ROM
		trigger = {
			80 = { is_valid_annexation_state = yes } #Cernauti
			713 = { is_valid_annexation_state = yes } #Suceava
			POL = {
				ROOT_can_grant_land = yes
				owns_state = 89 #Stanislawow
			}
			ROM = { ROOT_can_grant_land = yes }
			NOT = {
				tag = ROM
				tag = TRS
				tag = GAL
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				POL = { is_ally_of_ROOT = yes }
			}
			modifier = {
				add = 10
				POL = { same_government_type_as_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = POL }
		80 = { transfer_state_and_add_claim = yes }

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = ROM }
		713 = { transfer_state_and_add_claim_or_core = yes }
	}

	option = {
		name = annex.1023.j #Split it between POL and TRS
		trigger = {
			80 = { is_valid_annexation_state = yes } #Cernauti
			713 = { is_valid_annexation_state = yes } #Suceava
			POL = {
				ROOT_can_grant_land = yes
				owns_state = 89 #Stanislawow
			}
			TRS = { ROOT_can_grant_land = yes }
			NOT = {
				tag = ROM
				tag = TRS
				tag = GAL
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				POL = { is_ally_of_ROOT = yes }
				TRS = { is_ally_of_ROOT = yes }
			}
			modifier = {
				add = 10
				POL = { same_government_type_as_ROOT = yes }
				TRS = { same_government_type_as_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = POL }
		80 = { transfer_state_and_add_claim = yes }

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = TRS }
		713 = { transfer_state_and_add_claim_or_core = yes }
	}

	option = { #split with ROM
		name = annex.1023.k
		trigger = {
			80 = { is_valid_annexation_state = yes } #Cernauti
			713 = { is_valid_annexation_state = yes } #Suceava
			ROM = { ROOT_can_grant_land = yes }
			OR = {
				is_russian_tag = yes
				AND = {
					tag = UKR
					owns_state = 89 #Stanislawow
				}
				AND = {
					tag = POL
					owns_state = 89 #Stanislawow
				}
			}
		}
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				tag = POL
				is_in_faction_with = AUS
				AUS = { is_faction_leader = yes }
			}
		}
		80 = { add_claim_of_ROOT = yes } #Cernauti
		custom_effect_tooltip = tooltip_white_line

		set_temp_variable = { tag_to_release = ROM }
		713 = { #Suceava
			transfer_state_and_add_claim = yes
			state_given_notification_effect = yes
		}
	}

	option = { #split with TRS
		name = annex.1023.l
		trigger = {
			80 = { is_valid_annexation_state = yes } #Cernauti
			713 = { is_valid_annexation_state = yes } #Suceava
			TRS = { ROOT_can_grant_land = yes }
			OR = {
				is_russian_tag = yes
				AND = {
					tag = UKR
					owns_state = 89 #Stanislawow
				}
				AND = {
					tag = POL
					owns_state = 89 #Stanislawow
				}
			}
		}
		ai_chance = {
			base = 10
		}
		80 = { add_claim_of_ROOT = yes } #Cernauti
		custom_effect_tooltip = tooltip_white_line

		set_temp_variable = { tag_to_release = TRS }
		713 = { #Suceava
			transfer_state_and_add_claim = yes
			state_given_notification_effect = yes
		}
	}

	option = { #annex Cernauti
		name = annex.1023.m
		trigger = {
			80 = { is_valid_annexation_state = yes } #Cernauti
			713 = { is_valid_annexation_state = yes } #Suceava
			OR = {
				is_russian_tag = yes
				AND = {
					tag = UKR
					owns_state = 89 #Stanislawow
				}
				AND = {
					tag = POL
					owns_state = 89 #Stanislawow
				}
			}
		}
		ai_chance = {
			base = 1000
			modifier = {
				factor = 0
				ROM = { ROOT_can_grant_land = yes }
				NOT = {
					AND = {
						tag = POL
						is_in_faction_with = AUS
						AUS = { is_faction_leader = yes }
					}
				}
			}
		}
		80 = { add_claim_of_ROOT = yes } #Cernauti
	}

	option = { #annex
		name = annex.integration
		trigger = {
			80 = { is_valid_annexation_state = yes } #Cernauti
			713 = { is_valid_annexation_state = no } #Suceava
			OR = {
				is_russian_tag = yes
				AND = {
					tag = UKR
					owns_state = 89 #Stanislawow
				}
				AND = {
					tag = POL
					owns_state = 89 #Stanislawow
				}
			}
		}
		ai_chance = {
			base = 1000
			modifier = {
				factor = 0
				ROM = { ROOT_can_grant_land = yes }
				NOT = {
					AND = {
						tag = POL
						is_in_faction_with = AUS
						AUS = { is_faction_leader = yes }
					}
				}
			}
		}
		80 = { add_claim_of_ROOT = yes } #Cernauti
	}

	option = { #annex
		name = annex.integration
		trigger = {
			tag = ROM
		}
		ai_chance = {
			base = 1000
		}
		80 = { add_claim_of_ROOT = yes }
		713 = { add_claim_of_ROOT = yes }
	}

	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				tag = GAL
				tag = TRS
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		80 = { remove_claim_and_add_core_of_ROOT = yes }
		713 = { remove_claim_and_add_core_of_ROOT = yes }
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = ROM
				tag = TRS
				tag = GAL
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
				AND = {
					80 = { is_valid_annexation_state = yes } #Cernauti
					OR = {
						tag = UKR
						tag = POL
						is_russian_tag = yes
					}
				}
			}
		}
		ai_chance = {
			base = 0
		}
		set_country_flag = BUKOVINA_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Hungary
	id = annex.1024
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1024 FROM = [From.GetName]" }
	title = annexation_HUN_CONQ
	desc = annexation_HUN_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			HUN = { HUN_remove_joseph_august = yes }
			every_state = {
				limit = {
					OR = {
						is_core_of = HUN
						is_claimed_by = HUN
					}
					NOT = {
						state = 43 #Central Hungary
						state = 154 #Alfold
						state = 155 #Transdanubia
						state = 664 #Miskolc
					}
				}
				remove_core_of = HUN
				remove_claim_by = HUN
				clear_variable = ambition_area_HUN
			}
		}
	}

	option = { #Liberate
		name = annex.1024.b
		ai_chance = {
			base = 95
			modifier = {
				add = -70
				AUS = {
					AUS_is_unified = yes
					is_ally_of_ROOT = yes
				}
			}
		}
		set_temp_variable = { tag_to_release = HUN }
		release_targeted_tag = yes
	}

	option = { #Give to Austria
		name = annex.1031.b
		trigger = {
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
			}
		}
		ai_chance = {
			base = 1000
		}
		set_temp_variable = { tag_to_release = AUS }
		HUN = { set_transfer_target_cores = yes }
		transfer_targeted_territory_and_add_cores = yes
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = {
			base = 0
		}
		set_country_flag = HUN_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Slovakia
	id = annex.1025
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1025 FROM = [From.GetName]" }
	title = annexation_SLO_CONQ
	desc = annexation_SLO_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = {
		name = annex.1025.a #Liberate Slovakia
		trigger = {
			NOT = {
				original_tag = HUN
				original_tag = CZE
				AND = {
					original_tag = AUS
					AUS_is_unified = yes
					owns_state = 1090 #Pressburg
				}
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				AUS = {
					AUS_is_unified = yes
					is_ally_of_ROOT = yes
					OR = {
						owns_state = 1090
						1090 = { is_valid_annexation_state = yes } #Pressburg
					}
				}
			}
		}
		set_temp_variable = { tag_to_release = SLO }
		70 = { transfer_state_and_add_core = yes } #Slovakia
		puppet_released_tag = yes
	}

	option = { #Give to Austria
		name = annex.1025.b
		trigger = {
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
				OR = {
					owns_state = 1090
					1090 = { is_valid_annexation_state = yes } #Pressburg
				}
			}
			NOT = { original_tag = HUN }
			NOT = { original_tag = CZE }
		}
		ai_chance = {
			base = 1000
		}
		set_temp_variable = { tag_to_release = AUS }
		70 = { transfer_state_and_add_core = yes } #Slovakia
		1090 = { add_core_of_target_and_transfer_if_owned = yes } #Pressburg
	}

	option = { #Give to Hungary
		name = annex.1025.c
		trigger = {
			HUN = { is_ally_of_ROOT = yes }
			NOT = { original_tag = HUN }
			NOT = { original_tag = CZE }
		}
		ai_chance = {
			base = 30
		}
		set_temp_variable = { tag_to_release = HUN }
		70 = { transfer_state_and_add_claim = yes } #Slovakia
	}

	option = { #Give to Bohemia
		name = annex.1025.d
		trigger = {
			CZE = { is_ally_of_ROOT = yes }
			NOT = { original_tag = HUN }
			NOT = { original_tag = CZE }
		}
		ai_chance = {
			base = 50
		}
		set_temp_variable = { tag_to_release = CZE }
		70 = { transfer_state_and_add_claim = yes } #Slovakia
		CZE = { set_cosmetic_tag = CZE_czechoslavakia }
	}

	option = { #annex
		name = annex.1025.e
		trigger = {
			original_tag = CZE
		}
		ai_chance = {
			base = 1000
		}
		70 = { remove_claim_and_add_core_of_ROOT = yes } #Slovakia
		set_cosmetic_tag = CZE_czechoslavakia
	}

	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				original_tag = HUN
				AND = {
					original_tag = AUS
					AUS_is_unified = yes
					owns_state = 1090 #Pressburg
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		70 = { add_claim_of_ROOT = yes } #Slovakia
		1090 = { add_claim_of_ROOT = yes } #Pressburg
	}

	option = { #Occupy Slovakia
		name = annex.occupation
		trigger = {
			NOT = {
				original_tag = HUN
				original_tag = CZE
				AND = {
					original_tag = AUS
					AUS_is_unified = yes
					owns_state = 1090 #Pressburg
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = SLO_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Transcarpathia
	id = annex.1026
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1026 FROM = [From.GetName]" }
	title = annexation_SLO_TRCARP_CONQ
	desc = annexation_SLO_TRCARP_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		73 = { clear_retain_state = yes }
		hidden_effect = {
			if = {
				limit = {
					OR = {
						original_tag = HUN
						original_tag = SLO
						original_tag = GAL
						AND = {
							original_tag = UKR
							owns_state = 91 #Lwow
						}
						AND = {
							original_tag = CZE
							owns_state = 71 #Eastern Slovakia
						}
						AND = {
							original_tag = AUS
							AUS_is_unified = yes
						}
						AND = {
							RUS_is_expansionist = yes
							owns_state = 91 #Lwow
						}
					}
				}
				save_event_target_as = can_integrate
			}
			if = {
				limit = {
					var:91.owner = {
						OR = {
							original_tag = GAL
							original_tag = UKR
							RUS_is_expansionist = yes
						}
						ROOT_can_grant_land = yes
					}
				}
				var:91.owner = { save_event_target_as = galicia }
			}
			if = {
				limit = { SLO = { ROOT_can_grant_land = yes } }
				SLO = { save_event_target_as = slovakia }
			}
			else_if = {
				limit = {
					CZE = {
						owns_state = 70 #Slovakia
						ROOT_can_grant_land = yes
					}
				}
				CZE = { save_event_target_as = slovakia }
			}
			if = {
				limit = {
					HUN = {
						ROOT_can_grant_land = yes
						OR = {
							owns_state = 70 #Slovakia
							owns_state = 154 #Alfold
						}
					}
				}
				HUN = { save_event_target_as = hungary }
			}
			if = {
				limit = {
					AUS = {
						AUS_is_unified = yes
						ROOT_can_grant_land = yes
						OR = {
							owns_state = 70 #Slovakia
							owns_state = 154 #Alfold
						}
					}
				}
				AUS = { save_event_target_as = austria }
			}
		}
	}

	option = {
		name = annex.1026.a #Give it to GAL/UKR/RUS
		trigger = {
			NOT = { has_event_target = can_integrate }
			has_event_target = galicia
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:galicia }
				OR = {
					is_ally_with = event_target:austria
					is_ally_with = event_target:hungary
					is_ally_with = event_target:slovakia
				}
			}
		}
		set_temp_variable = { tag_to_release = event_target:galicia }
		73 = { transfer_state_and_add_core = yes }
	}
	option = {
		name = annex.1026.b #Give it to CZE/SLO
		trigger = {
			NOT = { has_event_target = can_integrate }
			has_event_target = slovakia
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:slovakia }
				OR = {
					is_ally_with = event_target:austria
					is_ally_with = event_target:hungary
					is_ally_with = event_target:galicia
				}
			}
		}
		set_temp_variable = { tag_to_release = event_target:slovakia }
		73 = { transfer_state_and_add_core = yes }
	}
	option = {
		name = annex.1026.c #Give it to HUN
		trigger = {
			NOT = { has_event_target = can_integrate }
			has_event_target = hungary
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:hungary }
				OR = {
					is_ally_with = event_target:austria
					is_ally_with = event_target:galicia
					is_ally_with = event_target:slovakia
				}
			}
		}
		set_temp_variable = { tag_to_release = event_target:hungary }
		73 = { transfer_state_and_add_claim = yes }
	}
	option = {
		name = annex.1026.d #Give it to AUS
		trigger = {
			NOT = { has_event_target = can_integrate }
			has_event_target = austria
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:austria }
				OR = {
					is_ally_with = event_target:hungary
					is_ally_with = event_target:galicia
					is_ally_with = event_target:slovakia
				}
			}
		}
		set_temp_variable = { tag_to_release = event_target:austria }
		73 = { transfer_state_and_add_core = yes }
	}
	option = { #annex
		name = annex.integration
		trigger = {
			has_event_target = can_integrate
		}
		ai_chance = {
			base = 1000
		}
		if = {
			limit = {
				OR = {
					original_tag = HUN
					original_tag = UKR
					RUS_is_expansionist = yes
				}
			}
			73 = { add_claim_of_ROOT = yes }
		}
		else = {
			73 = { remove_claim_and_add_core_of_ROOT = yes }
		}
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = { base = 0 }
		if = {
			limit = { RUS_is_expansionist = yes }
			add_state_claim = 73
		}
		else = {
			set_country_flag = SLO_TRCARP_CONQ
		}
		occupy_small_country = yes
	}
}

country_event = { #Fate of Transylvania
	id = annex.1027
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1027 FROM = [From.GetName]" }
	title = annexation_TRS_CONQ
	desc = annexation_TRS_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			for_each_scope_loop = {
				array = TRS.core_states
				force_enable_resistance = { occupier = AUS occupied = TRS clear = yes }
				force_enable_resistance = { occupier = HUN occupied = TRS clear = yes }
				force_enable_resistance = { occupier = TRS occupied = TRS clear = yes }
			}
			875 = { retain_state = yes } #West Banat
		}
	}

	option = { #Liberate Transylvania
		name = annex.1027.a
		trigger = {
			NOT = {
				tag = HUN
				tag = ROM
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				AUS = {
					AUS_is_unified = yes
					is_ally_of_ROOT = yes
					owns_state = 154
				}
			}
			modifier = {
				factor = 0
				HUN = { is_ally_of_ROOT = yes }
				84 = { is_core_of = HUN }
			}
			modifier = {
				factor = 0
				ROM = { is_ally_of_ROOT = yes }
			}
			modifier = {
				factor = 0
				OR = {
					tag = SER
					tag = POL
					tag = ITA
				}
				ROM = { ROOT_can_grant_land = yes }
			}
		}
		set_temp_variable = { tag_to_release = TRS }
		release_targeted_tag = yes
	}
	option = { #Give to Austria
		name = annex.1027.b
		trigger = {
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
				owns_state = 154
			}
			NOT = {
				tag = HUN
				tag = ROM
				tag = AUS
			}
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = AUS }
		every_state = {
			limit = { is_core_of = TRS }
			add_core_of_target_and_transfer_if_owned = yes
		}
		recheck_annexations = yes
	}
	option = { #Give to Hungary
		name = annex.1027.c
		trigger = {
			HUN = { is_ally_of_ROOT = yes }
			NOT = {
				tag = HUN
				tag = ROM
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = HUN }
		every_state = {
			limit = { is_core_of = TRS }
			add_claim_of_target_and_transfer_if_owned = yes
		}
		recheck_annexations = yes
	}
	option = { #Give to Romania
		name = annex.1027.e
		trigger = {
			ROM = { ROOT_can_grant_land = yes }
			NOT = {
				tag = HUN
				tag = ROM
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				OR = {
					HUN = { is_ally_of_ROOT = yes }
					AUS = {
						is_ally_with = ROOT
						AUS_is_unified = yes
					}
				}
			}
		}
		set_temp_variable = { tag_to_release = ROM }
		every_state = {
			limit = { is_core_of = TRS }
			add_core_or_claim_of_target_and_transfer_if_owned = yes
		}
	}
	option = { #Split between HUN and ROM
		name = annex.1027.f
		trigger = {
			owns_state = 83
			ROM = { ROOT_can_grant_land = yes }
			HUN = { is_ally_of_ROOT = yes }
			NOT = {
				tag = HUN
				tag = ROM
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				NOT = { is_ally_with = ROM }
			}
		}
		set_temp_variable = { tag_to_release = HUN }
		82 = { add_claim_of_target_and_transfer_if_owned = yes }
		83 = { add_claim_of_target_and_transfer_if_owned = yes }

		set_temp_variable = { tag_to_release = ROM }
		76 = { add_core_or_claim_of_target_and_transfer_if_owned = yes }
		84 = { add_core_or_claim_of_target_and_transfer_if_owned = yes }
		789 = { add_core_or_claim_of_target_and_transfer_if_owned = yes }
	}
	option = { #Split between AUS and ROM
		name = annex.1027.g
		trigger = {
			owns_state = 83
			ROM = { ROOT_can_grant_land = yes }
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
				owns_state = 154
			}
			NOT = {
				tag = HUN
				tag = ROM
				tag = AUS
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				NOT = { is_ally_with = ROM }
			}
		}
		set_temp_variable = { tag_to_release = AUS }
		82 = { add_core_of_target_and_transfer_if_owned = yes }
		83 = { add_core_of_target_and_transfer_if_owned = yes }

		set_temp_variable = { tag_to_release = ROM }
		76 = { add_core_or_claim_of_target_and_transfer_if_owned = yes }
		84 = { add_core_or_claim_of_target_and_transfer_if_owned = yes }
		789 = { add_core_or_claim_of_target_and_transfer_if_owned = yes }
	}
	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				tag = ROM
				tag = HUN
			}
		}
		ai_chance = {
			base = 1000
		}
		every_state = {
			limit = {
				is_core_of = TRS
				is_claim_or_core_of_ROOT = no
			}
			add_claim_by = ROOT
		}
		recheck_annexations = yes
	}
	option = { #annex
		name = annex.integration
		trigger = {
			tag = AUS
			AUS_is_unified = yes
		}
		ai_chance = {
			base = 1000
		}
		every_state = {
			limit = { is_core_of = TRS }
			remove_claim_and_add_core_of_ROOT = yes
		}
	}
	option = { #Occupy Transylvania
		name = annex.occupation
		trigger = {
			NOT = {
				tag = HUN
				tag = ROM
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 0
		}
		set_country_flag = TRS_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of West Banat
	id = annex.1028
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1028 FROM = [From.GetName]" }
	title = annexation_WESTBANAT_CONQ
	desc = annexation_WESTBANAT_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		875 = { clear_retain_state = yes }
	}

	option = { #give to Serbia
		name = annex.1028.a
		trigger = {
			can_annex_west_banat = no
			SER = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					ROM = { is_ally_of_ROOT = yes }
					TRS = { is_ally_of_ROOT = yes }
					CRO = { is_ally_of_ROOT = yes }
					HUN = { is_ally_of_ROOT = yes }
				}
				NOT = { is_ally_with = SER }
			}
		}
		set_temp_variable = { tag_to_release = SER }
		875 = { transfer_state_and_add_claim = yes }
	}

	option = { #give to Croatia
		name = annex.1028.b
		trigger = {
			can_annex_west_banat = no
			CRO = {
				owns_state = 45 #Vojvodina
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					ROM = { is_ally_of_ROOT = yes }
					TRS = { is_ally_of_ROOT = yes }
					SER = { is_ally_of_ROOT = yes }
					HUN = { is_ally_of_ROOT = yes }
				}
				NOT = { is_ally_with = CRO }
			}
		}
		set_temp_variable = { tag_to_release = CRO }
		875 = { transfer_state_and_add_core = yes }
	}

	option = { #give to Romania
		name = annex.1028.c
		trigger = {
			can_annex_west_banat = no
			var:82.owner = { #Banat
				OR = {
					tag = ROM
					tag = TRS
				}
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					SER = { is_ally_of_ROOT = yes }
					CRO = { is_ally_of_ROOT = yes }
					HUN = { is_ally_of_ROOT = yes }
				}
				NOT = { is_ally_with = 82.owner }
			}
		}
		set_temp_variable = { tag_to_release = 82.owner }
		if = {
			limit = {
				var:tag_to_release = { tag = TRS }
			}
			875 = { transfer_state_and_add_core = yes }
		}
		else = {
			875 = { transfer_state_and_add_claim = yes }
		}
	}

	option = { #give to Hungary
		name = annex.1028.d
		trigger = {
			can_annex_west_banat = no
			HUN = {
				owns_state = 45 #Vojvodina
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					UKR = { is_ally_of_ROOT = yes }
					POL = { is_ally_of_ROOT = yes }
				}
				NOT = { is_ally_with = WHR }
			}
		}
		set_temp_variable = { tag_to_release = HUN }
		875 = { transfer_state_and_add_claim = yes }
	}

	option = {
		name = annex.1028.e #Give it to AUS
		trigger = {
			can_annex_vojvodina = no
			AUS = {
				owns_state = 45 #Vojvodina
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
			}
		}
		ai_chance = {
			base = 40
		}
		set_temp_variable = { tag_to_release = AUS }
		875 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			can_annex_west_banat = yes
		}
		ai_chance = {
			base = 1000
		}
		if = {
			limit = {
				OR = {
					tag = SER
					tag = ROM
					tag = TRS
					tag = HUN
				}
			}
			875 = { add_claim_of_ROOT = yes }
		}
		else = {
			875 = { remove_claim_and_add_core_of_ROOT = yes }
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			can_annex_west_banat = no
		}
		ai_chance = { base = 0 }
		set_country_flag = WESTBANAT_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Vojvodina
	id = annex.1029
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1029 FROM = [From.GetName]" }
	title = annexation_VOJVODINA_CONQ
	desc = annexation_VOJVODINA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		45 = { clear_retain_state = yes }
	}

	option = {
		name = annex.1029.a #Give it to HUN
		trigger = {
			can_annex_vojvodina = no
			HUN = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					CRO = { is_ally_of_ROOT = yes }
					SER = { is_ally_of_ROOT = yes }
				}
				NOT = { is_ally_with = HUN }
			}
			modifier = {
				factor = 0
				AUS = {
					owns_state = 43
					AUS_is_unified = yes
					is_ally_of_ROOT = yes
				}
			}
		}
		set_temp_variable = { tag_to_release = HUN }
		45 = { transfer_state_and_add_claim = yes }
	}
	option = {
		name = annex.1029.b #Give it to AUS
		trigger = {
			can_annex_vojvodina = no
			AUS = {
				owns_state = 43 #Central Hungary
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
			}
		}
		ai_chance = {
			base = 40
		}
		set_temp_variable = { tag_to_release = AUS }
		45 = { transfer_state_and_add_core = yes }
	}
	option = {
		name = annex.1029.c #Give it to SER/CRO
		trigger = {
			can_annex_vojvodina = no
			var:794.owner = { #Syrmia
				OR = {
					tag = CRO
					tag = SER
				}
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				HUN = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = 794.owner }
			}
		}
		set_temp_variable = { tag_to_release = 794.owner }
		45 = { transfer_state_and_add_core = yes }
	}
	option = { #annex
		name = annex.integration
		trigger = {
			can_annex_vojvodina = yes
		}
		ai_chance = {
			base = 1000
		}
		if = {
			limit = {
				OR = {
					tag = SER
					tag = HUN
				}
			}
			45 = { add_claim_of_ROOT = yes }
		}
		else = {
			45 = { remove_claim_and_add_core_of_ROOT = yes }
		}
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			can_annex_vojvodina = no
		}
		ai_chance = { base = 0 }
		set_country_flag = VOJVODINA_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Burgenland
	id = annex.1030
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1030 FROM = [From.GetName]" }
	title = annexation_BURGENLAND_CONQ
	desc = annexation_BURGENLAND_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		784 = { clear_retain_state = yes }
	}

	option = {
		name = annex.1030.a #give it to Austria/Germany
		trigger = {
			var:4.owner = {
				OR = {
					tag = AUS
					is_germany_or_splinter_tag = yes
				}
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				HUN = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = 4.owner }
			}
		}
		set_temp_variable = { tag_to_release = 4.owner }
		if = {
			limit = { 4 = { is_core_of = var:tag_to_release } }
			784 = { transfer_state_and_add_core = yes }
		}
		else = {
			784 = { transfer_state_and_add_claim = yes }
		}
	}

	option = {
		name = annex.1030.b #give it to Hungary
		trigger = {
			HUN = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_ally_with = 4.owner
				NOT = { is_ally_with = HUN }
			}
		}
		set_temp_variable = { tag_to_release = HUN }
		784 = { transfer_state_and_add_claim = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = AUS
				tag = HUN
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		if = {
			limit = { 4 = { is_core_of = ROOT } }
			784 = { remove_claim_and_add_core_of_ROOT = yes }
		}
		else = {
			784 = { add_claim_of_ROOT = yes }
		}
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = BURGENLAND_CONQ
	}
}

country_event = { #Fate of Croatia
	id = annex.1031
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1031 FROM = [From.GetName]" }
	title = annexation_CRO_CONQ
	desc = annexation_CRO_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = CRO
						is_claimed_by = CRO
					}
					NOT = {
						state = 45 #Vojvodina
						state = 103 #Rijeka
						state = 109 #Central Croatia
						state = 163 #Dalmatia
						state = 763 #Istria
						state = 794 #Syrmia
					}
				}
				remove_core_of = CRO
				remove_claim_by = CRO
				clear_variable = ambition_area_CRO
			}
			45 = { retain_state = yes } #Vojvodina
			103 = { retain_state = yes } #Rijeka
			163 = { retain_state = yes } #Dalmatia
			763 = { retain_state = yes } #Istria
		}
		if = {
			limit = {
				OR = {
					original_tag = SER
					original_tag = HUN
					AND = {
						original_tag = AUS
						AUS_is_unified = yes
					}
				}
			}
			save_event_target_as = can_integrate_croatia
		}
		else_if = {
			limit = {
				is_in_faction = yes
				is_major = yes
				SER = {
					exists = yes
					is_subject = no
					has_capitulated = no
					both_socialist_or_both_not_socialist = yes
					NOT = {
						is_in_array = { potential_and_current_enemies = ROOT }
						is_in_array = { ROOT.potential_and_current_enemies = THIS }
						has_country_flag = offered_croatia_@ROOT
					}
					OR = {
						owns_state = 104 #Bosnia
						104 = { is_valid_annexation_state = yes } #Bosnia
					}
				}
			}
			save_event_target_as = can_offer_croatia_to_serbia
		}
	}

	option = { #liberate
		name = annex.1031.a
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				has_event_target = can_integrate_croatia
			}
			modifier = {
				factor = 0
				has_event_target = can_offer_croatia_to_serbia
			}
		}
		set_temp_variable = { tag_to_release = CRO }
		release_targeted_tag = yes
	}

	option = { #Give to Austria
		name = annex.1031.b
		trigger = {
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
			}
			NOT = { has_event_target = can_integrate_croatia }
		}
		ai_chance = {
			base = 30
		}
		set_temp_variable = { tag_to_release = AUS }
		every_state = {
			limit = {
				is_core_of = CRO
				is_claim_or_core_of_ROOT = no
			}
			add_core_of_target_and_transfer_if_owned = yes
		}
	}

	option = { #Give it to Serbia
		name = annex.1070.d
		ai_chance = {
			base = 300
			modifier = {
				factor = 0.1
				104 = { #Bosnia
					is_valid_annexation_state = no
					NOT = { is_owned_by = SER }
				}
			}
		}
		trigger = {
			SER = { is_ally_of_ROOT = yes }
			NOT = { has_event_target = can_integrate_croatia }
		}
		set_temp_variable = { tag_to_release = SER }
		every_state = {
			limit = {
				is_core_of = CRO
				is_claim_or_core_of_ROOT = no
			}
			add_claim_of_target_and_transfer_if_owned = yes
		}
	}

	option = { #Give to Hungary
		name = annex.1031.c
		trigger = {
			HUN = { is_ally_of_ROOT = yes }
			NOT = { has_event_target = can_integrate_croatia }
		}
		ai_chance = {
			base = 0
		}
		set_temp_variable = { tag_to_release = HUN }
		every_state = {
			limit = {
				is_core_of = CRO
				is_claim_or_core_of_ROOT = no
			}
			add_claim_of_target_and_transfer_if_owned = yes
		}
	}

	option = {
		name = annex.1031.d #Offer to SER
		trigger = {
			has_event_target = can_offer_croatia_to_serbia
		}
		ai_chance = {
			base = 70
		}
		set_country_flag = { flag = CRO_CONQ value = 1 days = 32 }
		set_country_flag = { flag = CRO_DALMATIA_CONQ value = 1 days = 32 }
		set_country_flag = { flag = KOTOR_CONQ value = 1 days = 32 }
		set_country_flag = { flag = VOJVODINA_CONQ value = 1 days = 32 }
		set_country_flag = { flag = WESTBANAT_CONQ value = 1 days = 32 }
		set_country_flag = { flag = BOS_CONQ value = 1 days = 32 }
		set_country_flag = { flag = MNT_CONQ value = 1 days = 32 }
		SER = {
			set_country_flag = offered_croatia_@ROOT
			country_event = annex.285
		}
		recheck_annexations = yes
	}

	option = { #annex
		name = annex.integration
		trigger = {
			has_event_target = can_integrate_croatia
		}
		ai_chance = {
			base = 1000
		}
		if = {
			limit = {
				OR = {
					tag = SER
					tag = HUN
				}
			}
			every_state = {
				limit = { is_core_of = CRO }
				add_claim_of_ROOT = yes
			}
		}
		else = {
			every_state = {
				limit = { is_core_of = CRO }
				remove_claim_and_add_core_of_target = yes
			}
		}
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = { has_event_target = can_integrate_croatia }
		}
		ai_chance = { base = 0 }
		set_country_flag = CRO_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Dalmatia
	id = annex.1032
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1032 FROM = [From.GetName]" }
	title = annexation_CRO_DALMATIA_CONQ
	desc = annexation_CRO_DALMATIA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		163 = { clear_retain_state = yes }
	}

	option = { #Give to Austria
		name = annex.1032.a
		trigger = {
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
				OR = {
					owns_state = 104 #Bosnia
					owns_state = 109 #Central Croatia
				}
			}
			is_italian_tag = no
			NOT = {
				tag = CRO
				AND = {
					OR = {
						tag = SER
						tag = HUN
						AND = {
							tag = AUS
							AUS_is_unified = yes
						}
					}
					OR = {
						owns_state = 104 #Bosnia
						owns_state = 109 #Central Croatia
					}
				}
			}
		}
		ai_chance = {
			base = 80
		}
		set_temp_variable = { tag_to_release = AUS }
		163 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Croatia
		name = annex.1032.b
		trigger = {
			CRO = { ROOT_can_grant_land = yes }
			is_italian_tag = no
			NOT = {
				tag = CRO
				AND = {
					OR = {
						tag = SER
						tag = HUN
						AND = {
							tag = AUS
							AUS_is_unified = yes
						}
					}
					OR = {
						owns_state = 104 #Bosnia
						owns_state = 109 #Central Croatia
					}
				}
			}
		}
		ai_chance = {
			base = 80
		}
		set_temp_variable = { tag_to_release = CRO }
		163 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Serbia
		name = annex.1032.c
		trigger = {
			SER = {
				is_ally_of_ROOT = yes
				OR = {
					owns_state = 104 #Bosnia
					owns_state = 109 #Central Croatia
				}
			}
			is_italian_tag = no
			NOT = {
				tag = CRO
				AND = {
					OR = {
						tag = SER
						tag = HUN
						AND = {
							tag = AUS
							AUS_is_unified = yes
						}
					}
					OR = {
						owns_state = 104 #Bosnia
						owns_state = 109 #Central Croatia
					}
				}
			}
		}
		ai_chance = {
			base = 40
		}
		set_temp_variable = { tag_to_release = SER }
		163 = { transfer_state_and_add_claim = yes }
	}
	option = { #Give to Hungary
		name = annex.1032.d
		trigger = {
			HUN = {
				is_ally_of_ROOT = yes
				OR = {
					owns_state = 104 #Bosnia
					owns_state = 109 #Central Croatia
				}
			}
			is_italian_tag = no
			NOT = {
				tag = CRO
				AND = {
					OR = {
						tag = SER
						tag = HUN
						AND = {
							tag = AUS
							AUS_is_unified = yes
						}
					}
					OR = {
						owns_state = 104 #Bosnia
						owns_state = 109 #Central Croatia
					}
				}
			}
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = HUN }
		163 = { transfer_state_and_add_claim = yes }
	}

	option = { #Give it to the Italians
		name = annex.1032.e
		trigger = {
			var:160.owner = {
				is_italian_tag = yes
				is_ally_of_ROOT = yes
			}
			is_italian_tag = no
			NOT = {
				tag = CRO
				AND = {
					OR = {
						tag = SER
						tag = HUN
						AND = {
							tag = AUS
							AUS_is_unified = yes
						}
					}
					OR = {
						owns_state = 104 #Bosnia
						owns_state = 109 #Central Croatia
					}
				}
			}
		}
		ai_chance = {
			base = 5
		}
		set_temp_variable = { tag_to_release = 160.owner }
		163 = { transfer_state_and_add_claim = yes }
	}

	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				tag = CRO
				AND = {
					tag = AUS
					AUS_is_unified = yes
					OR = {
						owns_state = 104 #Bosnia
						owns_state = 109 #Central Croatia
					}
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		163 = { remove_claim_and_add_core_of_ROOT = yes }
	}

	option = { #annex
		name = annex.integration
		trigger = {
			is_italian_tag = yes
		}
		ai_chance = {
			base = 1000
		}
		163 = { add_claim_of_ROOT = yes }
	}
	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				tag = HUN
				tag = SER
			}
			OR = {
				owns_state = 104 #Bosnia
				owns_state = 109 #Central Croatia
			}
		}
		ai_chance = {
			base = 1000
		}
		163 = { add_claim_of_ROOT = yes }
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_italian_tag = no
			NOT = {
				tag = CRO
				AND = {
					OR = {
						tag = SER
						tag = HUN
						AND = {
							tag = AUS
							AUS_is_unified = yes
						}
					}
					OR = {
						owns_state = 104 #Bosnia
						owns_state = 109 #Central Croatia
					}
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = CRO_DALMATIA_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Slovenia
	id = annex.1033
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1033 FROM = [From.GetName]" }
	title = annexation_SLV_CONQ
	desc = annexation_SLV_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		102 = { clear_retain_state = yes }
	}

	option = { #liberate
		name = annex.1033.a
		trigger = {
			NOT = {
				original_tag = SER
				original_tag = AUS
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				AUS = {
					is_ally_of_ROOT = yes
					owns_state = 736
				}
			}
		}
		set_temp_variable = { tag_to_release = SLV }
		102 = { transfer_state_and_add_core = yes }
		puppet_released_tag = yes
	}

	option = { #give to Austria
		name = annex.1033.b
		trigger = {
			AUS = { is_ally_of_ROOT = yes }
			NOT = {
				original_tag = SER
				original_tag = AUS
			}
		}
		ai_chance = {
			base = 80
		}
		set_temp_variable = { tag_to_release = AUS }
		102 = { transfer_state_and_add_core = yes }
	}

	option = { #give to Germany
		name = annex.1033.c
		trigger = {
			var:835.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
			is_germany_or_splinter_tag = no
			NOT = {
				original_tag = SER
				original_tag = AUS
			}
		}
		ai_chance = {
			base = 80
		}
		set_temp_variable = { tag_to_release = 835.owner }
		102 = { transfer_state_and_add_claim = yes }
	}

	option = { #give to Serbia
		name = annex.1033.d
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				AUS = {
					is_ally_of_ROOT = yes
					owns_state = 736
				}
			}
			modifier = {
				factor = 0
				is_germany_or_splinter_tag = yes
				owns_state = 4 #Vienna
			}
		}
		trigger = {
			SER = {
				is_ally_with = ROOT
				owns_state = 109 #Central Croatia
			}
			NOT = {
				original_tag = SER
				original_tag = AUS
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
				}
			}
		}
		set_temp_variable = { tag_to_release = SER }
		102 = { transfer_state_and_add_claim = yes }
	}

	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				original_tag = SER
				original_tag = AUS
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
				}
			}
		}
		ai_chance = {
			base = 1000
			modifier = {
				factor = 0.24
				is_germany_or_splinter_tag = yes
			}
		}
		if = {
			limit = {
				OR = {
					original_tag = SER
					is_germany_or_splinter_tag = yes
				}
			}
			102 = { add_claim_of_ROOT = yes }
		}
		else = {
			102 = { remove_claim_and_add_core_of_ROOT = yes }
			occupy_small_country = yes
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				original_tag = SER
				original_tag = AUS
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = SLV_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Istria
	id = annex.1034
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1034 FROM = [From.GetName]" }
	title = annexation_ISTRIA_CONQ
	desc = annexation_ISTRIA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		736 = { clear_retain_state = yes }
		if = {
			limit = {
				OR = {
					is_italian_tag = yes
					original_tag = AUS
					original_tag = SER
					original_tag = CRO
				}
			}
			save_event_target_as = can_integrate
		}
		if = {
			limit = {
				var:160.owner = { #Venetia
					is_italian_tag = yes
					ROOT_can_grant_land = yes
				}
			}
			var:160.owner = { save_event_target_as = italy }
		}
		if = {
			limit = {
				AUS = {
					ROOT_can_grant_land = yes
					owns_state = 102 #Carniola
					OR = {
						owns_state = 103 #Rijeka
						owns_state = 683 #Gorizia
						103 = { is_valid_annexation_state = yes }
						683 = { is_valid_annexation_state = yes }
					}
				}
			}
			AUS = { save_event_target_as = austria }
		}
		if = {
			limit = {
				var:109.owner = {
					OR = {
						original_tag = SER
						original_tag = CRO
					}
					ROOT_can_grant_land = yes
					OR = {
						owns_state = 103 #Rijeka
						103 = { is_valid_annexation_state = yes }
					}
				}
			}
			var:109.owner = { save_event_target_as = croatia }
		}
	}

	option = { #Give to Italy
		name = annex.1034.a
		trigger = {
			has_event_target = italy
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:italy }
				OR = {
					is_ally_with = event_target:austria
					is_ally_with = event_target:croatia
				}
			}
		}
		set_temp_variable = { tag_to_release = event_target:italy }
		736 = { transfer_state_and_add_claim = yes }
		var:tag_to_release = { country_event = annex.18 }
	}

	option = { #Give to Austria
		name = annex.1034.b
		trigger = {
			has_event_target = austria
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:austria }
				OR = {
					is_ally_with = event_target:italy
					is_ally_with = event_target:croatia
				}
			}
		}
		set_temp_variable = { tag_to_release = event_target:austria }
		736 = { transfer_state_and_add_core = yes }
		if = {
			limit = { 683 = { is_valid_annexation_state = yes } }
			683 = { transfer_state_and_add_core = yes }
		}
		else_if = {
			limit = { 103 = { is_valid_annexation_state = yes } }
			103 = { transfer_state_and_add_core = yes }
		}
	}

	option = { #Give to Croatia
		name = annex.1034.c
		trigger = {
			has_event_target = croatia
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:croatia }
				OR = {
					is_ally_with = event_target:italy
					is_ally_with = event_target:austria
				}
			}
		}
		set_temp_variable = { tag_to_release = event_target:croatia }
		if = {
			limit = { event_target:croatia = { original_tag = CRO } }
			736 = { transfer_state_and_add_core = yes }
			103 = { add_core_of_target_and_transfer_if_owned = yes }
		}
		else = {
			736 = { transfer_state_and_add_claim = yes }
			103 = { add_claim_of_target_and_transfer_if_owned = yes }
		}
	}

	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				has_event_target = can_integrate
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
					owns_state = 102 #Carniola
				}
			}
		}
		ai_chance = {
			base = 1000
			modifier = {
				factor = 0
				is_germany_or_splinter_tag = yes
				owns_state = 4 #Vienna
			}
		}
		if = {
			limit = {
				OR = {
					original_tag = SER
					is_germany_or_splinter_tag = yes
				}
			}
			736 = { add_claim_of_ROOT = yes }
			103 = { add_claim_of_ROOT = yes }
		}
		else_if = {
			limit = { is_italian_tag = yes }
			736 = { add_claim_of_ROOT = yes }
		}
		else = {
			736 = { remove_claim_and_add_core_of_ROOT = yes }
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				has_event_target = can_integrate
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
					OR = {
						owns_state = 683 #Gorizia
						683 = { is_valid_annexation_state = yes }
					}
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = ISTRIA_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Trieste
	id = annex.1035
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1035 FROM = [From.GetName]" }
	title = annexation_TRIESTE_CONQ
	desc = annexation_TRIESTE_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		488 = { clear_retain_state = yes }
		if = {
			limit = {
				OR = {
					is_italian_tag = yes
					original_tag = AUS
					original_tag = SLV
				}
			}
			save_event_target_as = can_integrate
		}
		if = {
			limit = {
				var:759.owner = { #Friuli
					is_italian_tag = yes
					ROOT_can_grant_land = yes
				}
			}
			var:759.owner = { save_event_target_as = italy }
		}
		if = {
			limit = {
				var:102.owner = { #Carniola
					OR = {
						original_tag = AUS
						original_tag = SLV
						AND = {
							original_tag = SLV
							SER_has_founded_yugoslavia = yes
						}
					}
					ROOT_can_grant_land = yes
					OR = {
						owns_state = 683 #Gorizia
						683 = { is_valid_annexation_state = yes }
					}
				}
			}
			var:102.owner = { save_event_target_as = slovenia }
		}
	}

	option = { #Give to Italy
		name = annex.1035.a
		trigger = {
			has_event_target = italy
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = {
			base = 90
		}
		set_temp_variable = { tag_to_release = event_target:italy }
		488 = { transfer_state_and_add_core = yes }
		var:tag_to_release = { country_event = annex.18 }
	}

	option = { #Give to AUS/SLV/SER
		name = annex.1035.b
		trigger = {
			has_event_target = slovenia
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:slovenia }
				is_ally_with = event_target:italy
			}
		}
		set_temp_variable = { tag_to_release = event_target:slovenia }
		488 = { transfer_state_and_add_core = yes }
		683 = { add_core_of_target_and_transfer_if_owned = yes }
	}

	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				has_event_target = can_integrate
				AND = {
					tag = SER
					SER_has_founded_yugoslavia = yes
				}
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
				}
			}
		}
		ai_chance = {
			base = 1000
			modifier = {
				factor = 0
				is_germany_or_splinter_tag = yes
			}
		}
		if = {
			limit = {
				OR = {
					original_tag = SER
					is_germany_or_splinter_tag = yes
				}
			}
			488 = { add_claim_of_ROOT = yes }
			683 = { add_claim_of_ROOT = yes }
		}
		else_if = {
			limit = { is_italian_tag = yes }
			488 = { add_claim_of_ROOT = yes }
		}
		else = {
			488 = { remove_claim_and_add_core_of_ROOT = yes }
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				has_event_target = can_integrate
				AND = {
					tag = SER
					SER_has_founded_yugoslavia = yes
				}
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = TRIESTE_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Southern Tirol & the Trentino
	id = annex.1036
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1036 FROM = [From.GetName]" }
	title = annexation_AUS_TRENT_CONQ
	desc = annexation_AUS_TRENT_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		39 = { clear_retain_state = yes }
		783 = { clear_retain_state = yes }
	}

	option = { #Give Italy
		name = annex.1036.a
		trigger = {
			NOT = { tag = AUS }
			is_italian_tag = no
			var:160.owner = {
				is_italian_tag = yes
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.2
				var:153.owner = {
					OR = {
						tag = AUS
						is_germany_or_splinter_tag = yes
					}
					ROOT_can_grant_land = yes
				}
			}
			modifier = {
				factor = 0
				var:153.owner = {
					OR = {
						tag = AUS
						is_germany_or_splinter_tag = yes
					}
					is_ally_of_ROOT = yes
				}
			}
		}
		set_temp_variable = { tag_to_release = 160.owner }
		if = {
			limit = { 39 = { is_valid_annexation_state = yes } }
			39 = { transfer_state_and_add_claim = yes }
		}
		if = {
			limit = { 783 = { is_valid_annexation_state = yes } }
			783 = { transfer_state_and_add_claim = yes }
		}
		var:tag_to_release = { country_event = annex.18 }
	}

	option = { #Give Austria/Germany
		name = annex.1036.b
		trigger = {
			NOT = { tag = AUS }
			is_italian_tag = no
			var:153.owner = {
				OR = {
					tag = AUS
					is_germany_or_splinter_tag = yes
				}
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.2
				var:160.owner = {
					is_italian_tag = yes
					ROOT_can_grant_land = yes
				}
			}
			modifier = {
				factor = 0
				var:160.owner = {
					is_italian_tag = yes
					is_ally_of_ROOT = yes
				}
			}
		}
		set_temp_variable = { tag_to_release = 153.owner }
		if = {
			limit = { 39 = { is_valid_annexation_state = yes } }
			39 = { transfer_state_and_add_claim = yes }
			if = {
				limit = { 4 = { is_core_of = var:tag_to_release } }
				39 = { transfer_state_and_add_core = yes }
			}
			else = {
				39 = { transfer_state_and_add_claim = yes }
			}
		}
		if = {
			limit = { 783 = { is_valid_annexation_state = yes } }
			if = {
				limit = { var:tag_to_release = { tag = AUS } }
				783 = { transfer_state_and_add_core = yes }
			}
			else = {
				783 = { transfer_state_to = var:tag_to_release }
			}
		}
		var:tag_to_release = { country_event = annex.18 }
	}

	option = { #Divide it between our Italian and Austrian/German Allies
		name = annex.1036.c
		trigger = {
			is_italian_tag = no
			NOT = {
				tag = AUS
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
				}
			}
			783 = { is_valid_annexation_state = yes } #Trentino
			39 = { is_valid_annexation_state = yes } #South Tyrol
			var:160.owner = {
				is_italian_tag = yes
				is_ally_with = ROOT
			}
			var:153.owner = {
				OR = {
					tag = AUS
					is_germany_or_splinter_tag = yes
				}
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 100
		}

		# Trentino
		set_temp_variable = { tag_to_release = 160.owner }
		783 = { transfer_state_and_add_claim = yes }
		var:tag_to_release = { country_event = annex.18 }
		custom_effect_tooltip = tooltip_white_line

		# South Tyrol
		set_temp_variable = { tag_to_release = 153.owner }
		if = {
			limit = { 4 = { is_core_of = var:tag_to_release } }
			39 = { transfer_state_and_add_core = yes }
		}
		else = {
			39 = { transfer_state_and_add_claim = yes }
		}
	}

	option = { #Give the Italians their lands, and the rest to Germany/Austria
		name = annex.1036.d
		trigger = {
			is_italian_tag = no
			NOT = {
				tag = AUS
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
				}
			}
			783 = { is_valid_annexation_state = yes } #Trentino
			39 = { is_valid_annexation_state = yes } #South Tyrol
			var:160.owner = {
				is_italian_tag = yes
				ROOT_can_grant_land = yes
				NOT = { is_ally_of_ROOT = yes }
			}
			var:153.owner = {
				OR = {
					tag = AUS
					is_germany_or_splinter_tag = yes
				}
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 80
		}

		# South Tyrol
		set_temp_variable = { tag_to_release = 153.owner }
		if = {
			limit = { 4 = { is_core_of = var:tag_to_release } }
			39 = { transfer_state_and_add_core = yes }
		}
		else = {
			39 = { transfer_state_and_add_claim = yes }
		}
		custom_effect_tooltip = tooltip_white_line

		# Trentino
		set_temp_variable = { tag_to_release = 160.owner }
		783 = { transfer_state_and_add_claim = yes }
		var:tag_to_release = { country_event = annex.18 }
	}

	option = { #Annex the German lands, give the rest to Italy
		name = annex.1036.e
		trigger = {
			OR = {
				tag = AUS
				is_germany_or_splinter_tag = yes
			}
			owns_state = 4 #Vienna
			783 = { is_valid_annexation_state = yes } #Trentino
			39 = { is_valid_annexation_state = yes } #South Tyrol
			var:160.owner = {
				is_italian_tag = yes
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
		}

		# South Tyrol
		add_state_core = 39
		custom_effect_tooltip = tooltip_white_line

		# Trentino
		set_temp_variable = { tag_to_release = 160.owner }
		783 = { transfer_state_and_add_claim = yes }
		var:160.owner = { country_event = annex.18 }
	}

	option = { #Annex the Italian lands, give the rest to Germany/Austria
		name = annex.1036.f
		trigger = {
			is_italian_tag = yes
			783 = { is_valid_annexation_state = yes } #Trentino
			39 = { is_valid_annexation_state = yes } #South Tyrol
			var:153.owner = {
				OR = {
					tag = AUS
					is_germany_or_splinter_tag = yes
				}
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
		}

		# South Tyrol
		set_temp_variable = { tag_to_release = 153.owner }
		if = {
			limit = { 4 = { is_core_of = var:tag_to_release } }
			39 = { transfer_state_and_add_core = yes }
		}
		else = {
			39 = { transfer_state_and_add_claim = yes }
		}
		custom_effect_tooltip = tooltip_white_line

		# Trentino
		add_state_claim = 783
	}

	option = { #annex
		name = annex.integration
		trigger = { is_italian_tag = yes }
		ai_chance = {
			base = 100
			modifier = { #Non-NatPop Italy is hesitant to annex Southern Tyrol
				factor = 0.25
				is_italian_tag = yes
				NOT = { has_government = national_populist }
				var:153.owner = {
					OR = {
						tag = AUS
						is_germany_or_splinter_tag = yes
					}
					ROOT_can_grant_land = yes
				}
			}
		}
		39 = { #Southern Tyrol
			if = {
				limit = { is_valid_annexation_state = yes }
				add_claim_of_ROOT = yes
			}
		}
		783 = { #Trentino
			if = {
				limit = { is_valid_annexation_state = yes }
				add_claim_of_ROOT = yes
			}
		}
	}

	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				tag = AUS
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
				}
			}
		}
		ai_chance = {
			base = 100
			modifier = { #Germany doesn't want Trentino
				factor = 0
				is_germany_or_splinter_tag = yes
				var:160.owner = {
					is_italian_tag = yes
					ROOT_can_grant_land = yes
				}
			}
		}
		39 = { #Southern Tyrol
			if = {
				limit = { is_valid_annexation_state = yes }
				remove_claim_and_add_core_of_ROOT = yes
			}
		}
		783 = { #Trentino
			if = {
				limit = { is_valid_annexation_state = yes }
				if = {
					limit = { ROOT = { tag = AUS } }
					remove_claim_and_add_core_of_ROOT = yes
				}
				else = {
					add_claim_of_ROOT = yes
				}
			}
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_italian_tag = no
			NOT = {
				tag = AUS
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = AUS_TRENT_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Switzerland
	id = annex.1037
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1037 FROM = [From.GetName]" }
	title = annexation_SWI_CONQ
	desc = annexation_SWI_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		# clr SWI rename setting if SWI was NatPop and ROOT is not
		if = {
			limit = { NOT = { has_government = national_populist } }
			clr_global_flag = SWI_germanization
		}
		else = {
			set_global_flag = SWI_germanization
		}
	}

	option = { #liberate
		name = annex.1037.a
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.25
				is_italian_tag = yes
			}
		}
		every_owned_state = {
			limit = {
				is_core_of = SWI
				is_not_claim_or_core_of_ROOT = yes
			}
			transfer_state_to = SWI
		}
		# Haute-Savoie (if ROOT is not French)
		if = {
			limit = {
				owns_state = 943 # Haute-Savoie
				is_french_tag = no
				NOT = {
					owns_state = 16 # Ile de France
					owns_state = 21 # Provence
					943 = { is_claim_or_core_of_ROOT = yes }
					any_allied_country = {
						943 = { is_claim_or_core_of_PREV = yes }
					}
				}
			}
			SWI = { transfer_state = 943 }
		}
		# Restore Erich Bircher if puppeted by NatPop
		if = {
			limit = { has_government = national_populist }
			SWI = {
				SWI_eugen_bircher = {
					set_nationality = PREV
					if = {
						limit = { has_ideology = national_populist_subtype }
						promote_character = national_populist_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = { ideology = national_populist_subtype }
							promote_leader = yes
						}
					}
				}
			}
		}
		set_temp_variable = { tag_to_release = SWI }
		puppet_released_tag = yes
		if = {
			limit = { tag = GER }
			SWI = { complete_national_focus = SWI_german_aid }
		}
		else_if = {
			limit = { tag = AUS }
			SWI = { complete_national_focus = SWI_austrian_assisstance }
		}
		else_if = {
			limit = { has_socialist_government = yes }
			SWI = {
				complete_national_focus = SWI_bend_to_france
				unlock_national_focus = SWI_referendum_syndicalism
			}
		}
	}

	option = { #Take Romandie (French)
		name = annex.1037.b
		trigger = {
			is_french_tag = yes
			owns_state = 760 # Romandie
		}
		ai_chance = {
			base = 20
		}
		add_state_claim = 760
		set_temp_variable = { tag_to_release = SWI }
		release_targeted_tag = yes
		SWI = {
			if = {
				limit = { has_socialist_government = yes }
				complete_national_focus = SWI_bend_to_france
				unlock_national_focus = SWI_referendum_syndicalism
			}
		}
	}

	option = { #Take Ticino (Italian)
		name = annex.1037.c
		trigger = {
			is_italian_tag = yes
			owns_state = 761 # Ticino
		}
		ai_chance = {
			base = 80
		}
		add_state_claim = 761
		set_temp_variable = { tag_to_release = SWI }
		release_targeted_tag = yes
		SWI = {
			if = {
				limit = { has_socialist_government = yes }
				complete_national_focus = SWI_bend_to_france
				unlock_national_focus = SWI_referendum_syndicalism
			}
		}
	}

	option = { #Annex Switzerland (German)
		name = annex.1037.d
		trigger = {
			is_german_tag = yes
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 4
				has_government = national_populist
			}
		}
		add_state_claim = 3
		add_state_claim = 151
		recheck_annexations_immediate = yes
		activate_targeted_decision = { decision = GER_integrate_switzerland target = SWI }
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = {
			base = 0
		}
		set_country_flag = SWI_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Romandie
	id = annex.1039
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1039 FROM = [From.GetName]" }
	title = annexation_ROMANDIE_CONQ
	desc = annexation_ROMANDIE_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		760 = { clear_retain_state = yes }
	}

	option = { #Return to SWI
		name = annex.1039.a
		trigger = {
			SWI = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				var:27.owner = { #Bourgogne
					is_italian_tag = yes
					is_ally_with = ROOT
				}
				NOT = { is_ally_with = SWI }
			}
			modifier = {
				factor = 10
				SWI = { is_ally_of_ROOT = yes }
			}
		}
		SWI = { transfer_state = 760 }
	}

	option = { #Return to our French allies
		name = annex.1041.e
		trigger = {
			is_french_tag = no
			var:27.owner = { #Bourgogne
				is_french_tag = yes
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 5
				is_ally_with = var:27.owner
			}
		}
		var:27.owner = { transfer_state = 760 }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			is_french_tag = yes
		}
		ai_chance = {
			base = 100
		}
		add_state_claim = 760
		occupy_small_country = yes
		recheck_annexations = yes
	}

	option = { #Keep it
		name = annex.4005.d
		trigger = {
			is_french_tag = no
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = ROMANDIE_CONQ
	}
}

country_event = { #Fate of Ticino/Tessin
	id = annex.1040
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1040 FROM = [From.GetName]" }
	title = annexation_TICINO_CONQ
	desc = annexation_TICINO_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		761 = { clear_retain_state = yes }
	}

	option = { #Return to SWI
		name = annex.1039.a
		trigger = {
			SWI = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				var:159.owner = { #Lombardy
					is_italian_tag = yes
					is_ally_with = ROOT
				}
				NOT = { is_ally_with = SWI }
			}
			modifier = {
				factor = 10
				SWI = { is_ally_of_ROOT = yes }
			}
		}
		SWI = { transfer_state = 761 }
	}

	option = { #Return to our Italian allies
		name = annex.1040.c
		trigger = {
			is_italian_tag = no
			var:159.owner = { #Lombardy
				is_italian_tag = yes
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 5
				is_ally_with = var:159.owner
			}
		}
		var:159.owner = { transfer_state = 761 }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			is_italian_tag = yes
		}
		ai_chance = {
			base = 100
		}
		add_political_power = -75
		add_state_claim = 761
		recheck_annexations = yes
	}

	option = { #Keep it
		name = annex.occupation
		trigger = {
			is_italian_tag = no
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = TICINO_CONQ
	}
}

#####################################
##   W E S T E R N   E U R O P E   ##
#####################################

country_event = { #Fate of France
	id = annex.1041
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1041 FROM = [From.GetName]" }
	title = annexation_FRA_CONQ
	desc = annexation_FRA_CONQ_desc
	picture = GFX_report_event_generic_map_france

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = FRA
						is_claimed_by = FRA
					}
					is_european_france = no
					NOT = { state = 1 } #Corsica
				}
				remove_core_of = FRA
				remove_claim_by = FRA
			}
			28 = { retain_state = yes } #Alsace-Lorraine
			817 = { retain_state = yes } #Roussillon
			if = {
				limit = { is_italian_tag = yes }
				1 = { retain_state = yes } #Corsica
				735 = { retain_state = yes } #Savoy
				762 = { retain_state = yes } #Nice
				943 = { retain_state = yes } #Upper Savoy
			}
		}
	}

	option = {
		name = annex.1041.a #Restore the Commune of France!
		ai_chance = {
			base = 100
		}
		trigger = {
			has_socialist_government = yes
			NOT = { country_exists = FRA }
		}
		set_temp_variable = { tag_to_release = FRA }
		release_targeted_tag = yes
	}

	option = {
		name = annex.1041.b #Restore the French Republic!
		ai_chance = {
			base = 100
		}
		trigger = {
			is_ally_with = ENT
			NOT = { country_exists = NFA }
			has_socialist_government = no
		}
		set_temp_variable = { tag_to_release = NFA }
		FRA = { set_transfer_target_cores = yes }
		transfer_targeted_territory_and_add_claims = yes
		puppet_released_tag = yes
		hidden_effect = {
			var:tag_to_release = {
				if = {
					limit = { has_completed_focus = NATFRA_Reconstruction_Commission }
					every_state = {
						limit = { is_european_france = yes }
						PREV = { activate_targeted_decision = { decision = NFA_Integrate_Metropole target = PREV } }
					}
				}
			}
		}
	}

	option = {
		name = annex.1041.c #Set up a French Puppet Government
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				tag = GER
				NFA = { is_ai = no }
			}
		}
		trigger = {
			has_socialist_government = no
			NOT = {
				is_ally_with = ENT
				is_ally_with = NFA
				country_exists = FRP
			}
		}
		set_temp_variable = { tag_to_release = FRP }
		FRA = { set_transfer_target_cores = yes }
		transfer_targeted_territory_and_add_cores = yes
		puppet_released_tag = yes

		if = {
			limit = { country_exists = NFA }
			reverse_add_opinion_modifier = {
				target = NFA
				modifier = occupied_france
			}
		}
	}

	option = {
		name = annex.1041.d #Set up a French Puppet Government and liberate Brittany
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				tag = GER
				NFA = { is_ai = no }
			}
		}
		trigger = {
			has_socialist_government = no
			owns_state = 14
			NOT = {
				is_ally_with = ENT
				is_ally_with = NFA
				country_exists = FRP
			}
		}
		BRI = {
			add_state_core = 14
			add_state_core = 983
		}
		set_temp_variable = { tag_to_release = BRI }
		release_targeted_tag = yes

		set_temp_variable = { tag_to_release = FRP }
		FRA = { set_transfer_target_cores = yes }
		transfer_targeted_territory_and_add_cores = yes
		puppet_released_tag = yes

		if = {
			limit = { country_exists = NFA }
			reverse_add_opinion_modifier = {
				target = NFA
				modifier = occupied_france
			}
		}
	}

	option = {
		name = annex.1041.e #Give it to our French allies
		trigger = {
			is_ally_with = NFA
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = NFA }
		FRA = { set_transfer_target_cores = yes }
		transfer_targeted_territory_and_add_claims = yes
	}

	option = {
		name = annex.1041.f #Meet with the French
		trigger = {
			tag = GER
			NFA = { any_owned_state = { is_european_france = yes } }
		}
		ai_chance = {
			base = 100
		}
		NFA = { country_event = nfa.120 }
	}

	option = {
		name = annex.occupation
		trigger = {
			NOT = { is_ally_with = NFA }
		}
		ai_chance = { base = 0 }
		occupy_large_country = yes
		set_country_flag = FRA_CONQ
		if = {
			limit = { country_exists = NFA }
			reverse_add_opinion_modifier = {
				target = NFA
				modifier = occupied_france
			}
		}
	}
}

country_event = { #Fate of Brittany
	id = annex.1042
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1042 FROM = [From.GetName]" }
	title = annexation_BRI_CONQ
	desc = annexation_BRI_CONQ_desc
	picture = GFX_report_event_generic_map_france

	is_triggered_only = yes

	option = { #Liberate Brittany
		name = annex.1042.a
		trigger = {
			is_french_tag = no
		}
		ai_chance = {
			base = 10
		}
		hidden_effect = {
			BRI = {
				add_state_core = 14 #Upper Brittany
				add_state_core = 983 #Brittany
			}
		}
		set_temp_variable = { tag_to_release = BRI }
		release_targeted_tag = yes
	}

	option = { #give to France
		name = annex.1042.b
		trigger = {
			is_french_tag = no
			var:30.owner = { #Loire
				is_french_tag = yes
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 90
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 14 #Upper Brittany
					state = 983 #Brittany
				}
			}
			var:30.owner = { #Loire
				add_state_core = PREV
				transfer_state = PREV
			}
		}
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			is_french_tag = yes
		}
		ai_chance = {
			base = 1000
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 14 #Upper Brittany
					state = 983 #Brittany
				}
			}
			add_core_of = ROOT
		}
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		occupy_medium_country = yes
		set_country_flag = BRI_CONQ
	}
}

country_event = { #Fate of Pas de Calais
	id = annex.1043
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1043 FROM = [From.GetName]" }
	title = annexation_PASDECALAIS_CONQ
	desc = annexation_PASDECALAIS_CONQ_desc
	picture = GFX_report_event_generic_map_france

	is_triggered_only = yes

	immediate = {
		17 = { clear_retain_state = yes }
		28 = { clear_retain_state = yes }
		980 = { clear_retain_state = yes }
		if = {
			limit = { BEL = { ROOT_can_grant_land = yes } }
			BEL = { save_event_target_as = belgium }
		}
		else_if = {
			limit = { WAL = { ROOT_can_grant_land = yes } }
			WAL = {
				if = {
					limit = {
						OR = {
							has_cosmetic_tag = BEL
							has_cosmetic_tag = BEL_flanders_wallonia
						}
					}
					save_event_target_as = belgium
				}
				else = {
					save_event_target_as = wallonia
				}
			}
		}
		if = {
			limit = { FLA = { ROOT_can_grant_land = yes } }
			FLA = { save_event_target_as = flanders }
		}
		if = {
			limit = {
				var:24.owner = { #Picardy
					is_french_tag = yes
					ROOT_can_grant_land = yes
				}
			}
			var:24.owner = { save_event_target_as = france }
		}
	}

	option = { #give to France
		name = annex.1043.a
		trigger = {
			is_french_tag = no
			has_event_target = france
		}
		ai_chance = {
			base = 90
		}
		set_temp_variable = { tag_to_release = event_target:france }
		every_owned_state = {
			limit = {
				OR = {
					state = 17 #Pas de Calais
					state = 29 #Maritime Flanders
					state = 980 #French Hainaut
				}
			}
			transfer_state_and_add_core = yes
		}
	}

	option = { #give to Belgium
		name = annex.1043.b
		trigger = {
			is_french_tag = no
			has_event_target = belgium
		}
		ai_chance = {
			base = 90
		}
		set_temp_variable = { tag_to_release = event_target:belgium }
		every_owned_state = {
			limit = {
				OR = {
					state = 29 #Maritime Flanders
					state = 17 #Pas de Calais
					state = 980 #French Hainaut
				}
			}
			transfer_state_and_add_claim = yes
		}
	}

	option = { #give to Wallonia
		name = annex.1043.c
		trigger = {
			is_french_tag = no
			has_event_target = wallonia
			OR = {
				event_target:wallonia = { owns_state = 980 } #French Hainaut
				980 = { is_valid_annexation_state = yes }
			}
			OR = {
				29 = { is_valid_annexation_state = no }
				NOT = { has_event_target = flanders }
			}
		}
		ai_chance = {
			base = 90
		}
		set_temp_variable = { tag_to_release = WAL }
		every_owned_state = {
			limit = {
				OR = {
					state = 29 #Maritime Flanders
					state = 17 #Pas de Calais
					state = 980 #French Hainaut
				}
			}
			transfer_state_and_add_claim = yes
		}
	}

	option = { #give to Flanders
		name = annex.1043.d
		trigger = {
			is_french_tag = no
			17 = { is_valid_annexation_state = no }
			980 = { is_valid_annexation_state = no }
			has_event_target = flanders
		}
		ai_chance = {
			base = 90
		}
		set_temp_variable = { tag_to_release = FLA }
		29 = { transfer_state_and_add_core = yes } #Maritime Flanders
	}

	option = { #split between Flanders and Wallonia
		name = annex.1043.e
		trigger = {
			is_french_tag = no
			29 = { is_valid_annexation_state = yes } #Maritime Flanders
			OR = {
				17 = { is_valid_annexation_state = yes } #Pas de Calais
				980 = { is_valid_annexation_state = yes } #French Hainaut
			}
			has_event_target = wallonia
			has_event_target = flanders
		}
		ai_chance = {
			base = 90
		}
		set_temp_variable = { tag_to_release = FLA }
		29 = { transfer_state_and_add_core = yes } #Maritime Flanders
		custom_effect_tooltip = tooltip_white_line

		set_temp_variable = { tag_to_release = WAL }
		every_owned_state = {
			limit = {
				OR = {
					state = 17 #Pas de Calais
					state = 980 #French Hainaut
				}
			}
			transfer_state_and_add_claim = yes
		}
	}

	option = { #split between France and Belgium
		name = annex.1043.f
		trigger = {
			is_french_tag = no
			17 = { is_valid_annexation_state = yes } #Pas de Calais
			OR = {
				29 = { is_valid_annexation_state = yes } #Maritime Flanders
				980 = { is_valid_annexation_state = yes } #French Hainaut
			}
			has_event_target = france
			has_event_target = belgium
		}
		ai_chance = {
			base = 90
		}
		set_temp_variable = { tag_to_release = event_target:france }
		17 = { transfer_state_and_add_core = yes } #Maritime Flanders
		custom_effect_tooltip = tooltip_white_line

		set_temp_variable = { tag_to_release = event_target:belgium }
		if = {
			limit = { 29 = { is_valid_annexation_state = yes } }
			29 = { transfer_state_and_add_core = yes }
		}
		if = {
			limit = { 980 = { is_valid_annexation_state = yes } }
			29 = { transfer_state_and_add_claim = yes }
		}
	}

	option = { #split between France and Wallonia
		name = annex.1043.g
		trigger = {
			is_french_tag = no
			980 = { is_valid_annexation_state = yes } #French Hainaut
			OR = {
				17 = { is_valid_annexation_state = yes } #Pas de Calais
				29 = { is_valid_annexation_state = yes } #Maritime Flanders
			}
			has_event_target = france
			has_event_target = wallonia
		}
		ai_chance = {
			base = 90
		}
		set_temp_variable = { tag_to_release = event_target:france }
		every_owned_state = {
			limit = {
				OR = {
					state = 17 #Pas de Calais
					state = 29 #Maritime Flanders
				}
			}
			transfer_state_and_add_core = yes
		}
		custom_effect_tooltip = tooltip_white_line

		set_temp_variable = { tag_to_release = WAL }
		980 = { transfer_state_and_add_claim = yes } #French Hainaut
	}

	option = { #split between France and Flanders
		name = annex.1043.h
		trigger = {
			is_french_tag = no
			29 = { is_valid_annexation_state = yes } #Maritime Flanders
			OR = {
				17 = { is_valid_annexation_state = yes } #Pas de Calais
				980 = { is_valid_annexation_state = yes } #French Hainaut
			}
			has_event_target = france
			has_event_target = flanders
		}
		ai_chance = {
			base = 90
		}
		set_temp_variable = { tag_to_release = event_target:france }
		every_owned_state = {
			limit = {
				OR = {
					state = 17 #French Hainaut
					state = 980 #French Hainaut
				}
			}
			transfer_state_and_add_core = yes
		}
		custom_effect_tooltip = tooltip_white_line

		set_temp_variable = { tag_to_release = FLA }
		29 = { transfer_state_and_add_core = yes } #Maritime Flanders

	}

	option = { #split between France, Flanders and Wallonia
		name = annex.1043.i
		trigger = {
			is_french_tag = no
			17 = { is_valid_annexation_state = yes } #Pas de Calais
			29 = { is_valid_annexation_state = yes } #Maritime Flanders
			980 = { is_valid_annexation_state = yes } #French Hainaut
			has_event_target = france
			has_event_target = flanders
			has_event_target = wallonia
		}
		ai_chance = {
			base = 90
		}
		set_temp_variable = { tag_to_release = 24.owner }
		17 = { transfer_state_and_add_core = yes } #Pas de Calais
		custom_effect_tooltip = tooltip_white_line

		set_temp_variable = { tag_to_release = FLA }
		29 = { transfer_state_and_add_core = yes } #Maritime Flanders
		custom_effect_tooltip = tooltip_white_line

		set_temp_variable = { tag_to_release = WAL }
		980 = { transfer_state_and_add_claim = yes } #French Hainaut
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			is_french_tag = yes
		}
		ai_chance = {
			base = 1000
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 29 #Maritime Flanders
					state = 17 #Pas de Calais
					state = 980 #French Hainaut
				}
			}
			remove_claim_and_add_core_of_ROOT = yes
		}
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = BEL
				AND = {
					tag = WAL
					OR = {
						has_cosmetic_tag = BEL
						has_cosmetic_tag = BEL_flanders_wallonia
					}
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 29 #Maritime Flanders
					state = 17 #Pas de Calais
					state = 980 #French Hainaut
				}
			}
			add_claim_of_ROOT = yes
		}
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			tag = WAL
			NOT = {
				has_cosmetic_tag = BEL
				has_cosmetic_tag = BEL_flanders_wallonia
			}
		}
		ai_chance = {
			base = 1000
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 17 #Pas de Calais
					state = 980 #French Hainaut
				}
			}
			add_claim_of_ROOT = yes
		}
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		occupy_medium_country = yes
		set_country_flag = PASDECALAIS_CONQ
	}
}

country_event = { #Fate of Britain
	id = annex.1044
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1044 FROM = [From.GetName]" }
	title = annexation_ENG_CONQ
	desc = annexation_ENG_CONQ_desc
	picture = GFX_report_event_generic_map_brit

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = GBP }
			remove_all_cores_and_claims_of_tags = yes
		}
	}

	option = { #united britain
		name = annex.1044.a
		trigger = {
			121 = { is_valid_annexation_state = yes } #Lothian
			NOT = { is_in_faction_with = ENT }
			has_socialist_government = no
		}
		ai_chance = {
			base = 30
		}
		custom_effect_tooltip = GBP_british_collab
		hidden_effect = {
			GBP = {
				add_state_core = 123
				add_state_core = 338
				add_state_core = 127
				add_state_core = 126
				add_state_core = 125
				add_state_core = 129
				add_state_core = 128
				add_state_core = 130
				add_state_core = 132
				add_state_core = 131
				add_state_core = 122
				add_state_core = 121
				add_state_core = 133
				add_state_core = 120
				add_state_core = 136
				add_state_core = 938
				add_state_core = 957
				country_event = gbp.4
			}
			set_temp_variable = { tag_to_release = GBP }
			release_targeted_tag = yes
			if = {
				limit = { has_elected_government = yes }
				GBP = {
					random_list = {
						40 = { create_leftist_democratic_english_government = yes }
						40 = { create_centrist_democratic_english_government = yes }
						20 = { create_right_democratic_english_government = yes }
					}
				}
			}
			else_if = {
				limit = { OR = { has_government = authoritarian_democrat has_government = paternal_autocrat } }
				GBP = {
					create_autocratic_english_government = yes
				}
			}
			else_if = {
				limit = { has_government = national_populist }
				GBP = {
					create_nationalist_english_government = yes
				}
			}
			if = {
				limit = { tag = GER }
				country_event = gbp.1
			}
			else = {
				country_event = gbp.7
			}
			GBP = {
				GBP_transfer_english_commanders = yes
				SCO_transfer_commanders = yes
				WLS_transfer_commanders = yes
			}
		}
	}
	option = { #divide GBP/SCO
		name = annex.1044.b
		trigger = {
			121 = { is_valid_annexation_state = yes } #Lothian
			NOT = { is_in_faction_with = ENT }
			has_socialist_government = no
		}
		ai_chance = {
			base = 40
		}
		custom_effect_tooltip = GBP_two_collabs
		hidden_effect = {
			add_to_temp_array = { core_removal_array = SCO }
			remove_all_cores_and_claims_of_tags = yes
			GBP = {
				add_state_core = 123
				add_state_core = 338
				add_state_core = 127
				add_state_core = 126
				add_state_core = 125
				add_state_core = 129
				add_state_core = 128
				add_state_core = 130
				add_state_core = 132
				add_state_core = 131
				add_state_core = 122
				add_state_core = 957
				country_event = gbp.4
				set_party_name = {
					ideology = paternal_autocrat
					long_name = GBP_paternal_autocrat_party_long_england
					name = GBP_paternal_autocrat_party_england
				}
			}
			SCO = {
				add_state_core = 938
				add_state_core = 120
				add_state_core = 136
				add_state_core = 121
				add_state_core = 133
				country_event = gbp.5
			}
			set_temp_variable = { tag_to_release = GBP }
			release_targeted_tag = yes

			set_temp_variable = { tag_to_release = SCO }
			release_targeted_tag = yes

			if = {
				limit = { has_elected_government = yes }
				GBP = {
					set_cosmetic_tag = GBP_england
					random_list = {
						40 = { create_leftist_democratic_english_government = yes }
						30 = { create_centrist_democratic_english_government = yes }
						30 = { create_right_democratic_english_government = yes }
					}
				}
				SCO = {
					set_country_flag = scotland_democratic
					create_scottish_interim_government = yes
				}
			}
			else_if = {
				limit = { OR = { has_government = authoritarian_democrat has_government = paternal_autocrat } }
				GBP = {
					set_cosmetic_tag = GBP_england
					create_autocratic_english_government = yes
				}
				SCO = {
					set_country_flag = scotland_paternal_autocrat
					create_scottish_interim_government = yes
				}
			}
			else_if = {
				limit = { has_government = national_populist }
				GBP = {
					set_cosmetic_tag = GBP_england
					create_nationalist_english_government = yes
				}
				SCO = {
					set_country_flag = scotland_paternal_autocrat
					create_scottish_interim_government = yes
				}
			}
			country_event = gbp.2
			GBP = {
				GBP_transfer_english_commanders = yes
				WLS_transfer_commanders = yes
			}
			SCO = { SCO_transfer_commanders = yes }
		}
	}
	option = { #divide all
		name = annex.1044.c
		trigger = {
			121 = { is_valid_annexation_state = yes } #Lothian
			121 = { is_valid_annexation_state = yes } #South Wales
			NOT = { is_in_faction_with = ENT }
			has_socialist_government = no
		}
		ai_chance = {
			base = 30
		}
		custom_effect_tooltip = GBP_three_collabs
		hidden_effect = {
			add_to_temp_array = { core_removal_array = SCO }
			remove_all_cores_and_claims_of_tags = yes
			add_to_temp_array = { core_removal_array = WLS }
			remove_all_cores_and_claims_of_tags = yes
			GBP = {
				add_state_core = 123
				add_state_core = 338
				add_state_core = 127
				add_state_core = 126
				add_state_core = 125
				add_state_core = 129
				add_state_core = 128
				add_state_core = 130
				add_state_core = 132
				add_state_core = 131
				country_event = gbp.4
				set_party_name = {
					ideology = paternal_autocrat
					long_name = GBP_paternal_autocrat_party_long_england
					name = GBP_paternal_autocrat_party_england
				}
			}
			SCO = {
				add_state_core = 133
				add_state_core = 121
				add_state_core = 136
				add_state_core = 120
				add_state_core = 938
				country_event = gbp.5
			}
			WLS = {
				add_state_core = 122
				add_state_core = 957
				country_event = gbp.6
			}

			set_temp_variable = { tag_to_release = GBP }
			release_targeted_tag = yes

			set_temp_variable = { tag_to_release = WLS }
			release_targeted_tag = yes

			set_temp_variable = { tag_to_release = SCO }
			release_targeted_tag = yes

			if = {
				limit = { has_elected_government = yes }
				GBP = {
					set_cosmetic_tag = GBP_england
					random_list = {
						40 = { create_leftist_democratic_english_government = yes }
						20 = { create_centrist_democratic_english_government = yes }
						40 = { create_right_democratic_english_government = yes }
					}
				}
				SCO = {
					set_country_flag = scotland_democratic
					create_scottish_interim_government = yes
				}
				WLS = {
					random_list = {
						40 = { set_country_flag = wales_social_liberal }
						60 = { set_country_flag = wales_social_conservative }
					}
					create_welsh_interim_government = yes
				}
			}
			else_if = {
				limit = { OR = { has_government = authoritarian_democrat has_government = paternal_autocrat } }
				GBP = {
					set_cosmetic_tag = GBP_england
					create_autocratic_english_government = yes
				}
				SCO = {
					set_country_flag = scotland_paternal_autocrat
					create_scottish_interim_government = yes
				}
				WLS = {
					set_country_flag = wales_paternal_autocrat
					create_welsh_interim_government = yes
				}
			}
			else_if = {
				limit = { has_government = national_populist }
				GBP = {
					set_cosmetic_tag = GBP_england
					create_nationalist_english_government = yes
				}
				SCO = {
					set_country_flag = scotland_paternal_autocrat
					create_scottish_interim_government = yes
				}
				WLS = {
					set_country_flag = wales_paternal_autocrat
					create_welsh_interim_government = yes
				}
			}
			country_event = gbp.3
			GBP = { GBP_transfer_english_commanders = yes }
			SCO = { SCO_transfer_commanders = yes }
			WLS = { WLS_transfer_commanders = yes }
		}
	}
	option = { #England
		name = annex.1044.g
		trigger = {
			121 = { is_valid_annexation_state = no } #Lothian
			NOT = { is_in_faction_with = ENT }
			has_socialist_government = no
		}
		ai_chance = {
			base = 0
		}
		custom_effect_tooltip = GBP_eng_collab
		hidden_effect = {
			GBP = {
				add_state_core = 123
				add_state_core = 338
				add_state_core = 127
				add_state_core = 126
				add_state_core = 125
				add_state_core = 129
				add_state_core = 128
				add_state_core = 130
				add_state_core = 132
				add_state_core = 131
				country_event = gbp.4
				set_party_name = {
					ideology = paternal_autocrat
					long_name = GBP_paternal_autocrat_party_long_england
					name = GBP_paternal_autocrat_party_england
				}
			}
			set_temp_variable = { tag_to_release = GBP }
			release_targeted_tag = yes
			if = {
				limit = { has_elected_government = yes }
				GBP = {
					set_cosmetic_tag = GBP_england
					random_list = {
						40 = { create_leftist_democratic_english_government = yes }
						20 = { create_centrist_democratic_english_government = yes }
						40 = { create_right_democratic_english_government = yes }
					}
				}
			}
			else_if = {
				limit = { OR = { has_government = authoritarian_democrat has_government = paternal_autocrat } }
				GBP = {
					set_cosmetic_tag = GBP_england
					create_autocratic_english_government = yes
				}
			}
			else_if = {
				limit = { has_government = national_populist }
				GBP = {
					set_cosmetic_tag = GBP_england
					create_nationalist_english_government = yes
				}
			}
			if = {
				limit = { tag = GER }
				country_event = gbp.1
			}
			GBP = { GBP_transfer_english_commanders = yes }
		}
	}
	option = { #restore a free United Kingdom
		name = annex.1044.e
		ai_chance = {
			base = 10
		}
		trigger = {
			is_in_faction_with = ENT
		}
		country_event = uk.1
	}
	option = {
		name = annex.1044.h #Restore the Union of Britain!
		ai_chance = {
			base = 1000
		}
		trigger = {
			has_socialist_government = yes
			NOT = { country_exists = ENG }
		}
		set_temp_variable = { tag_to_release = ENG }
		release_targeted_tag = yes
		hidden_effect = {
			if = {
				limit = { has_government = totalist }
				ENG = { create_totalist_english_government = yes }
			}
			else_if = {
				limit = { OR = { has_government = syndicalist has_government = radical_socialist } }
				ENG = { create_syndicalist_english_government = yes }
			}
		}
	}
	option = {
		name = annex.1044.i #Puppet Socialist England!
		ai_chance = {
			base = 0
		}
		trigger = {
			has_socialist_government = yes
			NOT = { country_exists = ENG }
		}
		hidden_effect = {
			add_to_temp_array = { core_removal_array = ENG }
			remove_all_cores_and_claims_of_tags = yes
			ENG = {
				add_state_core = 123
				add_state_core = 338
				add_state_core = 127
				add_state_core = 126
				add_state_core = 125
				add_state_core = 129
				add_state_core = 128
				add_state_core = 130
				add_state_core = 132
				add_state_core = 131
			}
		}
		set_temp_variable = { tag_to_release = ENG }
		release_targeted_tag = yes
		hidden_effect = {
			if = {
				limit = { has_government = totalist }
				ENG = { create_totalist_english_government = yes }
			}
			else_if = {
				limit = { OR = { has_government = syndicalist has_government = radical_socialist } }
				ENG = { create_syndicalist_english_government = yes }
			}
		}
	}
	option = { #occupy all
		name = annex.1044.j
		ai_chance = {
			base = 0
		}
		set_country_flag = ENG_CONQ
		occupy_large_country = yes
	}
}

country_event = { #Fate of Scotland
	id = annex.1045
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1045 FROM = [From.GetName]" }
	title = annexation_SCO_CONQ
	desc = annexation_SCO_CONQ_desc
	picture = GFX_report_event_generic_map_brit

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = SCO }
			remove_all_cores_and_claims_of_tags = yes
			if = {
				limit = { NOT = { has_global_flag = scotland_released_once } }
				set_global_flag = scotland_released_once
				SCO = {
					add_ideas = {
						SCO_unionist_question
						SCO_economic_breakdown
					}
				}
			}
		}
	}

	option = { #puppet SCO
		name = annex.1045.a
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				owns_state = 131
			}
		}
		hidden_effect = {
			SCO = {
				add_state_core = 133
				add_state_core = 121
				add_state_core = 136
				add_state_core = 120
				add_state_core = 938
				country_event = gbp.5
			}
		}
		set_temp_variable = { tag_to_release = SCO }
		release_targeted_tag = yes
		hidden_effect = {
			if = {
				limit = { has_government = totalist }
				SCO = { create_totalist_scottish_government = yes }
			}
			else_if = {
				limit = {
					OR = {
						has_government = syndicalist
						has_government = radical_socialist
					}
				}
				SCO = {
					random_list = {
						40 = { create_syndicalist_scottish_government = yes }
						60 = { create_radical_socialist_scottish_government = yes }
					}
				}
			}
			else_if = {
				limit = { has_elected_government = yes }
				SCO = {
					set_country_flag = scotland_democratic
					create_scottish_interim_government = yes
				}
			}
			else_if = {
				limit = { has_authoritarian_government = yes }
				SCO = {
					set_country_flag = scotland_paternal_autocrat
					create_scottish_interim_government = yes
				}
			}
			SCO = { SCO_transfer_commanders = yes }
		}
	}
	option = { #puppet larger SCO
		name = annex.1045.b
		trigger = { owns_state = 131 }
		ai_chance = {
			base = 80
		}
		hidden_effect = {
			SCO = {
				add_state_core = 133
				add_state_core = 121
				add_state_core = 136
				add_state_core = 120
				add_state_core = 938
				add_state_core = 131
				country_event = gbp.5
			}
		}
		set_temp_variable = { tag_to_release = SCO }
		release_targeted_tag = yes
		hidden_effect = {
			if = {
				limit = { has_socialist_government = yes }
				SCO = { create_syndicalist_scottish_government = yes }
			}
			else_if = {
				limit = { has_elected_government = yes }
				SCO = {
					set_country_flag = scotland_democratic
					create_scottish_interim_government = yes
				}
			}
			else_if = {
				limit = { has_authoritarian_government = yes }
				SCO = {
					set_country_flag = scotland_paternal_autocrat
					create_scottish_interim_government = yes
				}
			}
			SCO = { SCO_transfer_commanders = yes }
		}
	}
	option = { #give to the British
		name = annex.1046.b
		trigger = {
			GBP = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				GBP = { has_cosmetic_tag = GBP_england }
			}
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 133
					state = 121
					state = 136
					state = 120
					state = 938
				}
			}
			add_core_of = GBP
			transfer_state_to = GBP
		}
		GBP = {
			if = {
				limit = { has_cosmetic_tag = GBP_england }
				drop_cosmetic_tag = yes
			}
		}
	}
	option = { #occupy
		name = annex.occupation
		ai_chance = {
			base = 0
		}
		set_country_flag = SCO_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Wales
	id = annex.1046
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1046 FROM = [From.GetName]" }
	title = annexation_WLS_CONQ
	desc = annexation_WLS_CONQ_desc
	picture = GFX_report_event_generic_map_brit

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = WLS }
			remove_all_cores_and_claims_of_tags = yes
			if = {
				limit = { NOT = { has_global_flag = wales_released_once } }
				set_global_flag = wales_released_once
				WLS = {
					add_ideas = {
						WLS_unionist_tensions
						WLS_economic_breakdown
					}
				}
			}
		}
	}

	option = { #puppet WLS
		name = annex.1046.a
		ai_chance = {
			base = 80
		}
		hidden_effect = {
			WLS = {
				add_state_core = 122
				add_state_core = 957
				country_event = gbp.6
			}
		}
		set_temp_variable = { tag_to_release = WLS }
		release_targeted_tag = yes
		hidden_effect = {
			if = {
				limit = { has_government = totalist }
				WLS = { create_totalist_welsh_government = yes }
			}
			else_if = {
				limit = {
					OR = {
						has_government = syndicalist
						has_government = radical_socialist
					}
				}
				WLS = {
					random_list = {
						40 = { create_syndicalist_welsh_government = yes }
						60 = { create_radical_socialist_welsh_government = yes }
					}
				}
			}
			else_if = {
				limit = { has_elected_government = yes }
				WLS = {
					random_list = {
						40 = { set_country_flag = wales_social_liberal }
						60 = { set_country_flag = wales_social_conservative }
					}
					create_welsh_interim_government = yes
				}
			}
			else_if = {
				limit = { has_authoritarian_government = yes }
				WLS = {
					set_country_flag = wales_paternal_autocrat
					create_welsh_interim_government = yes
				}
			}
			WLS = { WLS_transfer_commanders = yes }
		}
	}
	option = { #give to the British
		name = annex.1046.b
		trigger = {
			GBP = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 80
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 122
					state = 957
				}
			}
			add_core_of = GBP
			transfer_state_to = GBP
		}
		recheck_annexations = yes
	}
	option = { #occupy
		name = annex.occupation
		ai_chance = {
			base = 0
		}
		set_country_flag = WLS_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Ireland
	id = annex.1047
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1047 FROM = [From.GetName]" }
	title = annexation_IRE_CONQ
	desc = annexation_IRE_CONQ_desc
	picture = GFX_report_event_generic_map_brit

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					is_british_tag = yes
					has_socialist_government = no
					119 = {
						is_owned_by = ROOT
						is_claim_or_core_of_ROOT = no
					}
				}
				add_state_claim = 119 #Northern Ireland
			}
		}
	}

	option = { #liberate
		name = annex.1047.a
		trigger = {
			is_british_tag = no
		}
		set_temp_variable = { tag_to_release = IRE }
		release_targeted_tag = yes
		if = {
			limit = {
				OR = {
					tag = NFA
					tag = PAP
					tag = POR
					tag = SIC
					tag = SPA
				}
				has_authoritarian_government = yes
			}
			country_event = annex.184
		}
		else = {
			hidden_effect = {
				var:tag_to_release = {
					if = {
						limit = { has_socialist_government = yes }
						create_syndicalist_irish_government = yes
					}
					else_if = {
						limit = { has_elected_government = yes }
						create_democratic_irish_government = yes
					}
					else = {
						create_autocratic_irish_government = yes
					}
				}
			}
		}
		hidden_effect = {
			IRE = {
				IRE_teardown_foreign_policy_decisions = yes
				IRE_teardown_ENG_decisions = yes
			}
			if = {
				limit = { has_socialist_government = yes }
				IRE = {
					IRE_teardown_USA_decisions = yes
				}
			}
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_british_tag = no
		}
		ai_chance = { base = 0 }
		set_country_flag = IRE_CONQ
		occupy_medium_country = yes
	}

	option = {
		name = annex.1047.c #Puppet the south
		trigger = {
			is_british_tag = yes
			has_socialist_government = no
		}
		ai_chance = {
			base = 90
		}
		add_political_power = -50
		add_stability = -0.05
		set_temp_variable = { tag_to_release = IRE }
		release_targeted_tag = yes
		hidden_effect = {
			var:tag_to_release = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = IRE_gbr
				set_popularities = {
					totalist = 3
					radical_socialist = 5
					syndicalist = 7
					social_democrat = 2
					social_liberal = 6
					market_liberal = 6
					social_conservative = 50
					authoritarian_democrat = 9
					paternal_autocrat = 7
					national_populist = 5
				}
				set_politics = {
					ruling_party = social_conservative
					elections_allowed = no
				}
				clear_sic_slot = yes
				activate_advisor = IRE_james_dillon_sic
				if = {
					limit = { has_character = IRE_frank_macdermot }
					IRE_frank_macdermot = {
						promote_character = social_conservative_subtype
					}
				}
			}
			119 = { #Northern Ireland
				add_state_modifier = {
					modifier = {
						resistance_growth = -0.50
					}
				}
			}
		}
	}

	option = {
		name = annex.1047.d #Ireland independent
		trigger = {
			is_british_tag = yes
			has_socialist_government = no
		}
		ai_chance = {
			base = 10
		}
		every_owned_state = {
			limit = {
				is_core_of = IRE
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = IRE
		}
		if = {
			limit = { is_in_faction = yes }
			faction_leader = { add_to_faction = IRE }
		}
		hidden_effect = {
			IRE = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = IRE_gbr
				set_popularities = {
					totalist = 3
					radical_socialist = 5
					syndicalist = 7
					social_democrat = 2
					social_liberal = 6
					market_liberal = 6
					social_conservative = 50
					authoritarian_democrat = 9
					paternal_autocrat = 7
					national_populist = 5
				}
				set_politics = {
					ruling_party = social_conservative
					elections_allowed = no
				}
				clear_sic_slot = yes
				activate_advisor = IRE_james_dillon_sic
				if = {
					limit = { has_character = IRE_frank_macdermot }
					IRE_frank_macdermot = {
						promote_character = social_conservative_subtype
					}
				}
			}
			IRE = {
				IRE_teardown_foreign_policy_decisions = yes
				IRE_teardown_ENG_decisions = yes
			}
			if = {
				limit = { has_socialist_government = yes }
				IRE = {
					IRE_teardown_USA_decisions = yes
				}
			}
		}
	}

	option = {
		name = annex.1047.e #Direct Rule
		trigger = {
			is_british_tag = yes
			has_socialist_government = no
		}
		ai_chance = { base = 0 }
		set_country_flag = IRE_CONQ
		occupy_medium_country = yes
		set_country_flag = ENG_IRA
		add_ideas = ENG_IRA_only
		irish_republican_army_events = yes
	}

	option = {
		name = annex.1047.f #Puppet
		trigger = {
			is_british_tag = yes
			has_socialist_government = yes
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				OR = {
					has_government = totalist
					has_government = radical_socialist
				}
			}
		}
		add_political_power = -100
		add_stability = -0.05
		set_temp_variable = { tag_to_release = IRE }
		release_targeted_tag = yes
		hidden_effect = {
			var:tag_to_release = { create_syndicalist_irish_government = yes }
		}
	}

	option = {
		name = annex.1047.g #Independent
		trigger = {
			is_british_tag = yes
			has_socialist_government = yes
		}
		ai_chance = {
			base = 30
		}
		every_owned_state = {
			limit = {
				is_core_of = IRE
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = IRE
		}
		if = {
			limit = { is_in_faction = yes }
			faction_leader = { add_to_faction = IRE }
		}
		hidden_effect = {
			IRE = {
				set_popularities = {
					totalist = 12
					radical_socialist = 16
					syndicalist = 40
					social_democrat = 2
					social_liberal = 6
					market_liberal = 6
					social_conservative = 7
					authoritarian_democrat = 9
					paternal_autocrat = 2
					national_populist = 0
				}
				set_politics = {
					ruling_party = syndicalist
					elections_allowed = no
				}
				clear_sic_slot = yes
				activate_advisor = IRE_william_x_obrien_sic
			}
			IRE = {
				IRE_teardown_foreign_policy_decisions = yes
				IRE_teardown_ENG_decisions = yes
			}
			if = {
				limit = { has_socialist_government = yes }
				IRE = {
					IRE_teardown_USA_decisions = yes
				}
			}
		}
	}

	option = {
		name = annex.1047.h #Direct Rule
		trigger = {
			is_british_tag = yes
			has_socialist_government = yes
		}
		ai_chance = { base = 0 }
		set_country_flag = IRE_CONQ
		occupy_medium_country = yes
		set_country_flag = ENG_IRA
		add_ideas = ENG_IRA
		irish_republican_army_events = yes
	}
}

country_event = { #Fate of the Netherlands
	id = annex.1048
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1048 FROM = [From.GetName]" }
	title = annexation_HOL_CONQ
	desc = annexation_HOL_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = HOL }
			remove_all_cores_and_claims_of_tags = yes
			HOL = {
				add_state_core = 7 #Holland
				add_state_core = 35 #North Brabant
				add_state_core = 36 #Frisia
				add_state_core = 866 #Guelders
				add_state_core = 978 #Limburg
				add_state_core = 979 #Zeeuws-Vlaanderen
				if = {				# Removing socialist ideas from non-socialist puppet
					limit = { ROOT = { has_socialist_government = no } }
					remove_ideas = {
						HOL_idea_labour_camps
						HOL_idea_mass_collectivisation
						HOL_syn_rebuilding_idea
						HOL_Rebuild_The_Bureaucracy_idea
						HOL_Proletarian_humanism_idea
						HOL_Proletarian_humanism_idea_final
						HOL_Industrial_Dem_idea
						HOL_Industrial_Dem_idea_final
						HOL_idea_democratic_workplace
						HOL_idea_democratic_workplace_final
						HOL_idea_verzorgingsstaat
						HOL_idea_transition_to_fair_economy
						HOL_idea_market_socialism
						HOL_british_designs_tanks
						HOL_war_communism
						HOL_Red_Sky
						HOL_Red_Sky_1
						HOL_red_navy_0
						HOL_red_navy_1
						HOL_red_navy_2
						HOL_red_advisors
						HOL_rev_vanguard_idea
						HOL_rev_vanguard_idea_final
					}
				}
				else = {				# Removing non-socialist ideas from socialist puppet
					remove_ideas = {
						HOL_idea_ambtenarenverbod
						HOL_idea_ambtenarenverbod_01
						HOL_idea_ambtenarenverbod_02
						HOL_idea_february_strike
						HOL_idea_neutrality
						HOL_idea_strict_weapon_laws
						HOL_idea_orde_van_oranje_nassau
						HOL_idea_secret_police
						HOL_idea_outlawed_unions
						HOL_idea_staatsvakbond
						HOL_idea_nationalist_renaissance
					}
				}
				remove_ideas = {	# Common ideas that should be removed for puppets
					HOL_idea_negotiate_with_extremists
					HOL_idea_agreement_with_left_0
					HOL_idea_agreement_with_left_1
					HOL_idea_agreement_with_left_2
					HOL_idea_agreement_with_right_1
					HOL_idea_agreement_with_right_2
					HOL_idea_crisis
					HOL_idea_economic_recovery
					HOL_idea_batavian_courage
					HOL_idea_batavian_courage_1
					HOL_idea_batavian_courage_2
					HOL_idea_instability
				}
			}
		}
		var:925.owner = {
			if = {
				limit = {
					is_belgian_tag = yes
					ROOT_can_grant_land = yes
				}
				save_event_target_as = belgium
			}
		}
	}

	option = { #liberate
		name = annex.1048.a
		trigger = {
			NOT = { is_in_faction_with = DEI }
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = HOL }
		release_targeted_tag = yes
		HOL_puppet_setup = yes
	}

	option = { #Annex Limburg, liberate the rest
		name = annex.1048.b
		ai_chance = {
			base = 20
			modifier = {
				factor = 4
				NOT = { has_event_target = belgium }
			}
		}
		trigger = {
			NOT = { is_in_faction_with = DEI }
			is_germany_or_splinter_tag = yes
			978 = { is_valid_annexation_state = yes } #Limburg
		}
		add_state_claim = 978 #Limburg
		set_temp_variable = { tag_to_release = HOL }
		release_targeted_tag = yes
		HOL_puppet_setup = yes
	}

	option = { #Annex Limburg, give BEL its claims, liberate the rest
		name = annex.1048.c
		ai_chance = {
			base = 80
		}
		trigger = {
			NOT = { is_in_faction_with = DEI }
			has_event_target = belgium
			is_germany_or_splinter_tag = yes
			978 = { is_valid_annexation_state = yes } #Limburg
			979 = { is_valid_annexation_state = yes } #Zeeuws-Vlaanderen
		}
		add_state_claim = 978 #Limburg
		set_temp_variable = { tag_to_release = event_target:belgium }
		979 = {
			transfer_state_and_add_claim = yes #Zeeuws-Vlaanderen
			state_given_notification_effect = yes
		}
		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = HOL }
		release_targeted_tag = yes
		HOL_puppet_setup = yes
	}

	option = { #Annex Limburg + Zeeuws-Vlaanderen, liberate the rest
		name = annex.1048.d
		ai_chance = {
			base = 80
		}
		trigger = {
			NOT = { is_in_faction_with = DEI }
			is_belgian_tag = yes
			OR = {
				978 = { is_valid_annexation_state = yes } #Limburg
				979 = { is_valid_annexation_state = yes } #Zeeuws-Vlaanderen
			}
		}
		add_state_claim = 978 #Limburg
		add_state_claim = 979 #Zeeuws-Vlaanderen
		set_temp_variable = { tag_to_release = HOL }
		release_targeted_tag = yes
		HOL_puppet_setup = yes
	}

	option = { #Give Limburg + Zeeuws-Vlaanderen to Belgium, liberate the rest
		name = annex.1048.e
		ai_chance = {
			base = 80
		}
		trigger = {
			NOT = { is_in_faction_with = DEI }
			has_event_target = belgium
			OR = {
				978 = { is_valid_annexation_state = yes } #Limburg
				979 = { is_valid_annexation_state = yes } #Zeeuws-Vlaanderen
			}
		}
		set_temp_variable = { tag_to_release = event_target:belgium }
		every_owned_state = {
			limit = {
				OR = {
					state = 978 #Limburg
					state = 979 #Zeeuws-Vlaanderen
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = var:tag_to_release
		}
		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = HOL }
		release_targeted_tag = yes
		HOL_puppet_setup = yes
	}

	option = { #Restore to the government in exile
		name = annex.1048.f
		trigger = {
			is_in_faction_with = DEI
		}
		ai_chance = {
			base = 1000
			modifier = {
				factor = 0
				is_belgian_tag = yes
			}
		}
		every_owned_state = {
			limit = {
				is_core_of = HOL
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = DEI
		}
	}

	option = { #Annex Limburg, restore the government in exile
		name = annex.1048.g
		trigger = {
			is_in_faction_with = DEI
			is_germany_or_splinter_tag = yes
			978 = { is_valid_annexation_state = yes } #Limburg
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 978 #Limburg
		every_owned_state = {
			limit = {
				is_core_of = HOL
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = DEI
		}
	}

	option = { #Annex Limburg, give BEL its claims, restore the government in exile
		name = annex.1048.h
		trigger = {
			is_in_faction_with = DEI
			has_event_target = belgium
			is_germany_or_splinter_tag = yes
			978 = { is_valid_annexation_state = yes } #Limburg
			979 = { is_valid_annexation_state = yes } #Zeeuws-Vlaanderen
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 978 #Limburg
		set_temp_variable = { tag_to_release = event_target:belgium }
		979 = {
			transfer_state_and_add_claim = yes #Zeeuws-Vlaanderen
			state_given_notification_effect = yes
		}
		custom_effect_tooltip = tooltip_white_line
		every_owned_state = {
			limit = {
				is_core_of = HOL
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = DEI
		}
	}

	option = { #Annex Limburg + Zeeuws-Vlaanderen, restore the government in exile
		name = annex.1048.i
		trigger = {
			is_in_faction_with = DEI
			is_belgian_tag = yes
			OR = {
				978 = { is_valid_annexation_state = yes } #Limburg
				979 = { is_valid_annexation_state = yes } #Zeeuws-Vlaanderen
			}
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 978 #Limburg
		add_state_claim = 979 #Zeeuws-Vlaanderen
		every_owned_state = {
			limit = {
				is_core_of = HOL
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = DEI
		}
	}

	option = { #Give Limburg + Zeeuws-Vlaanderen to Belgium, restore the government in exile
		name = annex.1048.j
		trigger = {
			is_in_faction_with = DEI
			has_event_target = belgium
			OR = {
				978 = { is_valid_annexation_state = yes } #Limburg
				979 = { is_valid_annexation_state = yes } #Zeeuws-Vlaanderen
			}
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 978 #Limburg
		add_state_claim = 979 #Zeeuws-Vlaanderen
		every_owned_state = {
			limit = {
				is_core_of = HOL
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = DEI
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = { is_in_faction_with = DEI }
		}
		ai_chance = { base = 0 }
		set_country_flag = HOL_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Belgium
	id = annex.1049
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1049 FROM = [From.GetName]" }
	title = annexation_BEL_CONQ
	desc = annexation_BEL_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = BEL }
			remove_all_cores_and_claims_of_tags = yes
			BEL = {
				add_state_core = 6 #Flanders
				add_state_core = 34 #Hainaut
				add_state_core = 741 #Ardennes
				add_state_core = 925 #Brabant
				add_state_core = 948 #Liège
				drop_cosmetic_tag = yes
				set_party_name = {
					ideology = authoritarian_democrat
					long_name = BEL_interim_government
					name = BEL_interim_government
				}
				BEL_remove_monarchy = yes
				remove_ideas = {
					BEL_anti_german_sentiment1
					BEL_anti_german_sentiment2
					BEL_anti_german_sentiment3
					BEL_anti_german_sentiment4
					BEL_anti_german_sentiment5
				}
			}
		}
	}

	option = { #puppet Belgium
		name = annex.1049.a
		ai_chance = {
			base = 100
			modifier = {
				add = -80
				tag = HOL
			}
			modifier = {
				add = -30
				is_french_tag = yes
			}
		}
		set_temp_variable = { tag_to_release = BEL }
		release_targeted_tag = yes
		hidden_effect = {
			BEL_move_country_leaders = yes
			BEL = {
				WAL_move_unit_leaders = yes
				FLA_move_unit_leaders = yes
				if = {
					limit = { has_country_leader = { character = BEL_belgian_parliament ruling_only = no } }
					promote_character = BEL_charles_daspremont_lynden
				}
			}
		}
		if = {
			limit = { tag = GER }
			BEL = {
				BEL_create_adelbert = yes
				set_party_name = {
					ideology = authoritarian_democrat
					name = BEL_authoritarian_democrat_party
					long_name = BEL_authoritarian_democrat_party_long
				}
				add_ideas = BEL_anti_german_sentiment5
				load_focus_tree = BEL_focus
			}
		}
		else_if = {
			limit = { is_in_faction_with = ENT }
			BEL = {
				BEL_create_albert = yes
				unlock_national_focus = BEL_Elections
				if = {
					limit = { has_completed_focus = BEL_Republic }
					uncomplete_national_focus = {
						focus = BEL_Republic
						uncomplete_children = yes
					}
				}
				unlock_national_focus = BEL_Monarchy
			}
			set_autonomy = {
				target = BEL
				autonomy_state = autonomy_free
			}
		}
		else = {
			unlock_national_focus = BEL_Elections
			if = {
				limit = { has_completed_focus = BEL_Monarchy }
				uncomplete_national_focus = {
					focus = BEL_Monarchy
					uncomplete_children = yes
				}
			}
			unlock_national_focus = BEL_Republic
		}
	}

	option = { #Split it
		name = annex.1049.b
		ai_chance = {
			base = 0
			modifier = {
				add = 80
				tag = HOL
			}
			modifier = {
				add = 30
				is_french_tag = yes
			}
		}
		custom_effect_tooltip = new_annexation_decisions_tt
		set_country_flag = { flag = BEL_CONQ days = 100 value = 1 }
		recheck_annexations_immediate = yes
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		if = {
			limit = { is_french_tag = yes }
			add_state_claim = 34
			add_state_claim = 741
			add_state_claim = 948
		}
		else = {
			set_country_flag = WAL_CONQ
		}
		set_country_flag = FLA_CONQ
		set_country_flag = BEL_CONQ
		occupy_large_country = yes
	}
}

country_event = { #Fate of Flanders
	id = annex.1050
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1050 FROM = [From.GetName]" }
	title = annexation_FLA_CONQ
	desc = annexation_FLA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = FLA }
			remove_all_cores_and_claims_of_tags = yes
			FLA = {
				add_state_core = 6 #Flanders
				add_state_core = 925 #Brabant
				add_state_claim = 29 #Maritime Flanders
			}
		}
	}

	option = { #puppet Flanders
		name = annex.1050.a
		ai_chance = {
			base = 25
		}
		set_temp_variable = { tag_to_release = FLA }
		release_targeted_tag = yes
		hidden_effect = {
			FLA_move_country_leaders = yes
			FLA = { FLA_move_unit_leaders = yes }
		}
		if = {
			limit = { tag = GER }
			var:tag_to_release = {
				set_politics = {
					ruling_party = authoritarian_democrat
					elections_allowed = no
				}
				set_political_party = {
					ideology = authoritarian_democrat
					popularity = 60
				}
				FLA_create_karel = yes
			}
		}
	}

	option = { #Give it to HOL
		name = annex.1050.b
		trigger = {
			HOL = { is_ally_of_ROOT = yes }
			NOT = { tag = HOL }
		}
		ai_chance = {
			base = 50
		}
		FLA = { set_transfer_target_cores = yes }
		set_temp_variable = { tag_to_release = HOL }
		transfer_targeted_territory = yes
	}

	option = { #Give Flanders to Wallonia
		name = annex.1050.c
		trigger = {
			WAL = {
				is_ally_with = ROOT
				is_subject = no
			}
			NOT = { tag = WAL }
		}
		ai_chance = {
			base = 25
		}
		FLA = { set_transfer_target_cores = yes }
		set_temp_variable = { tag_to_release = WAL }
		transfer_targeted_territory = yes
	}

	option = { #reunite Belgium under Wallonia
		name = annex.1050.d
		trigger = {
			has_subject = WAL
		}
		ai_chance = {
			base = 25
		}
		FLA = { set_transfer_target_cores = yes }
		set_temp_variable = { tag_to_release = WAL }
		transfer_targeted_territory = yes
		WAL = {
			add_state_core = 6 #Flanders
			add_state_core = 925 #Brabant
			if = {
				limit = { owns_state = 29 } #Maritime Flanders
				add_state_core = 29
			}
			else_if = {
				limit = { NOT = { is_ally_with = 29.owner } }
				add_state_claim = 29
			}
			FLA_move_unit_leaders = yes
			set_cosmetic_tag = BEL
		}
	}

	option = { #reunite Belgium
		name = annex.1050.e
		trigger = {
			tag = WAL
		}
		ai_chance = {
			base = 100
		}
		add_state_core = 6 #Flanders
		add_state_core = 925 #Brabant
		if = {
			limit = { owns_state = 29 } #Maritime Flanders
			add_state_core = 29
		}
		else_if = {
			limit = { NOT = { is_ally_with = 29.owner } }
			add_state_claim = 29
		}
		FLA_move_unit_leaders = yes
		set_cosmetic_tag = BEL
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		set_country_flag = FLA_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Wallonia
	id = annex.1051
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1051 FROM = [From.GetName]" }
	title = annexation_WAL_CONQ
	desc = annexation_WAL_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = WAL }
			remove_all_cores_and_claims_of_tags = yes
			WAL = {
				add_state_core = 34 #Hainaut
				add_state_core = 741 #Ardennes
				add_state_core = 948 #Liège
				set_party_name = {
					ideology = authoritarian_democrat
					name = BEL_interim_government
					long_name = BEL_interim_government
				}
				if = {
					limit = { has_character = BEL_adelbert_von_hohenzollern }
					retire_character = BEL_adelbert_von_hohenzollern
				}
				if = {				# Removing non-socialist ideas from socialist puppet
					limit = { ROOT = { has_socialist_government = yes }}
					remove_ideas = {
						WAL_Monarchy
						WAL_Monarchy_Army
						WAL_Monarchy_Conscription
						WAL_Monarchy_Disorderly
						WAL_Monarchy_Disorderly2
						WAL_Monarchy_Royal_Councillor
						WAL_Monarchy_Constitution
						WAL_REX
						WAL_REX_SOC
						WAL_REX_ROY
						WAL_REX_BOTH
						WAL_REX_CORP
						WAL_REX_MIL
					}
				}
				if = {				# Removing socialist ideas from non-socialist puppet
					limit = { ROOT = { NOT = { has_socialist_government = yes }}}
					remove_ideas = {
						WAL_SYNDICALIST_LIB_DIS
						WAL_SYNDICALIST_POB_PRES
						WAL_SYNDICALIST_SYN_CHAIR
						WAL_SYNDICALIST_SEIZE_BASIC
						WAL_SYNDICALIST_NATIONAL_COMPANY
						WAL_SYNDICALIST_STATE_EDUCATION
						WAL_SYNDICALIST_CATHOLIC_EDUCATION_BANNED
						WAL_SYNDICALIST_POB_CONTROL
						WAL_SYNDICALIST_SYN_CONTROL
						WAL_TOTALIST_RESISTANCE
						WAL_TOTALIST_RESISTANCE2
						WAL_TOTALIST_RESISTANCE3
						WAL_TOTALIST_RESISTANCE4
						WAL_TOTALIST_RESISTANCE5
						WAL_TOTALIST_CONGRESS
						WAL_TOTALIST_ARMY
						WAL_TOTALIST_ROYAL_ASSETS
					}
				}
				if = {				# Removing GER ideas
					limit = { ROOT = { NOT = { tag = GER }}}
					remove_ideas = {
						WAL_ECONOMIC_TROUBLE_GER
						WAL_ECONOMIC_GERMAN_EXPORT
						WAL_ECONOMIC_CONGOLESE_RESOURCES
						WAL_ARMY_GERMAN
					}
				}
			}
		}
	}

	option = { #puppet Wallonia
		name = annex.1051.a
		ai_chance = {
			base = 25
		}
		set_temp_variable = { tag_to_release = WAL }
		release_targeted_tag = yes
		WAL = {
			WAL_move_country_leaders = yes
			WAL_reset_focus_tree_and_ideas = yes
			WAL_move_unit_leaders = yes
		}
	}

	option = { #Give it to FLA
		name = annex.1051.b
		trigger = {
			FLA = {
				is_ally_with = ROOT
				is_subject = no
			}
			NOT = { tag = FLA }
		}
		ai_chance = {
			base = 50
		}
		every_owned_state = {
			limit = {
				is_core_of = WAL
				is_not_claim_or_core_of_ROOT = yes
			}
			transfer_state_to = FLA
		}
	}

	option = { #Give it to France
		name = annex.1051.c
		trigger = {
			is_french_tag = no
			var:24.owner = {
				is_french_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 25
		}
		WAL = { set_transfer_target_cores = yes }
		set_temp_variable = { tag_to_release = 24.owner }
		transfer_targeted_territory_and_add_claims = yes
	}

	option = { #reunite Belgium under Flanders
		name = annex.1050.d
		trigger = {
			has_subject = FLA
		}
		ai_chance = {
			base = 25
		}
		WAL = { set_transfer_target_cores = yes }
		set_temp_variable = { tag_to_release = FLA }
		transfer_targeted_territory = yes
		FLA = {
			add_state_core = 34 #Hainaut
			add_state_core = 741 #Ardennes
			add_state_core = 948 #Liège
			WAL_move_unit_leaders = yes
			set_cosmetic_tag = BEL
		}
	}

	option = { #reunite Belgium
		name = annex.1050.e
		trigger = {
			tag = FLA
		}
		ai_chance = {
			base = 50
		}
		add_state_core = 34 #Hainaut
		add_state_core = 741 #Ardennes
		add_state_core = 948 #Liège
		WAL_move_unit_leaders = yes
		set_cosmetic_tag = BEL
	}

	option = { #Annex Wallonia
		name = annex.integration
		trigger = {
			is_french_tag = yes
			owns_state = 16 #Paris
		}
		ai_chance = {
			base = 25
		}
		add_state_claim = 34 #Hainaut
		add_state_claim = 741 #Ardennes
		add_state_claim = 948 #Liège
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = FLA
				AND = {
					is_french_tag = yes
					owns_state = 16
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = WAL_CONQ
		occupy_medium_country = yes
	}
}

#####################################
##  N O R T H E R N   E U R O P E  ##
#####################################

country_event = { #Fate of Denmark
	id = annex.1052
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1052 FROM = [From.GetName]" }
	title = annexation_DEN_CONQ
	desc = annexation_DEN_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			DEN = { DEN_remove_monarchy = yes }
			SCA = {
				every_character = {
					limit = { has_character_flag = DEN_leader }
					set_nationality = DEN
					if = {
						limit = { can_be_country_leader = yes }
						promote_character = yes
					}
				}
			}
		}
	}

	option = { #liberate as monarchy
		name = annex.1052.a
		ai_chance = { base = 100 }
		trigger = {
			has_socialist_government = no
			NOT = { has_government = national_populist }
		}
		set_temp_variable = { tag_to_release = DEN }
		release_targeted_tag = yes
		var:tag_to_release = {
			clr_country_flag = den_hybrid
			clr_country_flag = den_danish_republic
			DEN_create_christian = yes
		}
		hidden_effect = {
			DEN = {
				remove_ideas = {
					# Republican/socialist ideas
					DEN_idea_rigsfagforbund
					DEN_idea_danish_republic
					DEN_idea_danish_republic2
					DEN_idea_socialization
					DEN_idea_socialization2
				}
			}
		}
	}

	option = { #liberate as republic
		name = annex.1052.b
		ai_chance = { base = 100 }
		trigger = {
			if = {
				limit = {
					OR = {
						tag = GER
						tag = AUS
					}
				}
				OR = {
					has_socialist_government = yes
					has_government = national_populist
				}
			}
		}
		set_temp_variable = { tag_to_release = DEN }
		release_targeted_tag = yes
		var:tag_to_release = {
			if = {
				limit = { has_socialist_government = yes }
				set_country_flag = den_hybrid
				clr_country_flag = den_danish_republic
			}
			else = {
				clr_country_flag = den_hybrid
				set_country_flag = den_danish_republic
			}
		}
		hidden_effect = {
			DEN = {
				remove_ideas = {
					# Monarchist ideas
					DEN_idea_danish_monarchy
					DEN_idea_danish_monarchy2
				}
			}
		}
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		set_country_flag = DEN_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Iceland
	id = annex.1053
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1053 FROM = [From.GetName]" }
	title = annexation_ICE_CONQ
	desc = annexation_ICE_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SCA = {
				every_character = {
					limit = { has_character_flag = ICE_leader }
					set_nationality = ICE
				}
			}
		}
	}

	option = { #liberate ICE
		name = annex.1053.a
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					is_in_faction_with = DEN
					is_in_faction_with = NOR
				}
				NOT = {
					tag = DEN
					tag = NOR
					tag = CAN
					tag = USA
					has_country_flag = swe_flag_sweden_norway
				}
			}
		}
		set_temp_variable = { tag_to_release = ICE }
		release_targeted_tag = yes
		if = {
			limit = {
				tag = ENG
				has_socialist_government = yes
				CAN = {
					is_faction_leader = yes
					surrender_progress < 0.1
				}
			}
			ICE = { ICE_setup_antisocialist_resistance_decisions = yes }
		}
	}
	option = { #occupy
		name = annex.occupation
		ai_chance = {
			base = 0
		}
		occupy_small_country = yes
		set_country_flag = ICE_CONQ
	}
}

country_event = { #Fate of Greenland
	id = annex.1054
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1054 FROM = [From.GetName]" }
	title = annexation_GRN_CONQ
	desc = annexation_GRN_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		101 = { clear_retain_state = yes }
		926 = { clear_retain_state = yes }
	}

	option = { #Give Greenland to DEN
		name = annex.1054.a
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				is_american_tag = yes
			}
		}
		trigger = {
			DEN = { is_ally_of_ROOT = yes }
		}
		DEN = {
			transfer_state = 101
			transfer_state = 926
		}
		recheck_annexations = yes
	}
	option = { #Give Greenland to NOR
		name = annex.1054.b
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				is_american_tag = yes
			}
			modifier = {
				factor = 0
				OR = {
					DEN = { is_ally_of_ROOT = yes }
					SCA = { is_ally_of_ROOT = yes }
				}
			}
		}
		trigger = {
			NOR = { is_ally_of_ROOT = yes }
		}
		NOR = {
			transfer_state = 101
			transfer_state = 926
		}
		recheck_annexations = yes
	}
	option = { #Give Greenland to SWE-NOR
		name = annex.1054.c
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				is_american_tag = yes
			}
			modifier = {
				factor = 0
				DEN = { is_ally_of_ROOT = yes }
			}
		}
		trigger = {
			SWE = {
				has_country_flag = swe_flag_sweden_norway
				is_ally_of_ROOT = yes
			}
		}
		SWE = {
			transfer_state = 101
			transfer_state = 926
		}
		recheck_annexations = yes
	}
	option = { #Give Greenland to SCA
		name = annex.1054.d
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				is_american_tag = yes
			}
		}
		trigger = {
			SCA = { is_ally_of_ROOT = yes }
		}
		SCA = {
			transfer_state = 101
			transfer_state = 926
		}
		recheck_annexations = yes
	}
	option = { #Give Greenland to CAN
		name = annex.1054.e
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				DEN = { is_ally_of_ROOT = yes }
			}
		}
		trigger = {
			CAN = {
				is_ally_of_ROOT = yes
				NOT = { owns_state = 101 }
				OR = {
					is_faction_leader = yes
					is_subject = yes
					NOT = {
						DEN = { is_ally_of_ROOT = yes }
						SCA = { is_ally_of_ROOT = yes }
					}
				}
			}
		}
		CAN = {
			transfer_state = 101
			transfer_state = 926
		}
		recheck_annexations = yes
	}
	option = { #occupy
		name = annex.occupation
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				is_american_tag = yes
			}
		}
		occupy_small_country = yes
		set_country_flag = GRN_CONQ
	}
}

country_event = { #Fate of Norway
	id = annex.1055
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1055 FROM = [From.GetName]" }
	title = annexation_NOR_CONQ
	desc = annexation_NOR_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { tag = FIN }
				add_state_claim = 937 #Finnmark Plateau
			}
			SCA = {
				every_character = {
					limit = { has_character_flag = NOR_leader }
					set_nationality = NOR
					if = {
						limit = { can_be_country_leader = yes }
						promote_character = yes
					}
				}
			}
			NOR = {
				NOR_remove_monarchy = yes
				if = {
					limit = { has_completed_focus = NOR_NAT_hirden }
					if = {
						limit = { ROOT = { has_dictatorship_government = yes } }
						NOR_create_rikshirden_leaders = yes
						every_unit_leader = {
							limit = { has_character_flag = NOR_leader }
							set_nationality = XXA
						}
					}
					else = {
						NOR_remove_rikshirden_leaders = yes
						XXA = {
							every_unit_leader = {
								limit = { has_character_flag = NOR_leader }
								set_nationality = NOR
							}
						}
					}
				}
				remove_ideas = {
					NOR_progressive_agreement_idea
					NOR_mixed_industry_idea
					NOR_conservative_agreement_idea
					NOR_free_market_idea
					NOR_organisation_xu_idea
					NOR_neutrality_idea_1
					NOR_neutrality_idea_2
					NOR_neutrality_idea_3
					NOR_canadian_mission_idea_1
					NOR_canadian_mission_idea_2
					NOR_canadian_mission_idea_3
				}
				if = {
					limit = { ROOT = { has_dictatorship_government = no } }
					remove_ideas = {
						NOR_rikshird_army
						NOR_statspolitiet_idea
						NOR_ns_arbeidstjeneste_idea
					}
				}
				if = {
					limit = { ROOT = { has_socialist_government = no } }
					remove_ideas = {
						NOR_syndicalist_norway_idea_1
						NOR_syndicalist_norway_idea_2
						NOR_syndicalist_norway_idea_3
						NOR_syndicalist_norway_idea_4
						NOR_syndicalist_norway_idea_5
						NOR_syndicalist_norway_idea_6
						NOR_syndicalist_norway_idea_7
						NOR_syndicalist_norway_idea_8
						NOR_syndicalist_norway_idea_9
						NOR_syndicalist_norway_idea_10
						NOR_syndicalist_norway_idea_11
						NOR_syndicalist_norway_idea_12
						NOR_syndicalist_norway_idea_13
						NOR_syndicalist_norway_idea_14
						NOR_syndicalist_industry_idea
						NOR_secret_police_idea_1
						NOR_secret_police_idea_2
						NOR_defensive_army_idea
						NOR_totalist_economy
						NOR_radicalist_economy
						NOR_syndicalist_economy
						NOR_totalistsociety
						NOR_radicalistsociety
						NOR_syndicalistsociety
						NOR_totalistpeople
						NOR_radicalistpeople
						NOR_syndicalistpeople
						NOR_AoR
					}
				}
			}
			SWE = {
				if = {
					limit = { ROOT = { has_socialist_government = no } }
					remove_ideas = SWE_union_activity
				}
			}
		}
	}

	option = { #liberate as monarchy
		name = annex.1055.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				tag = SWE
				OR = {
					has_completed_focus = SWE_a_new_king
					NOT = { has_completed_focus = SWE_forced_abdication }
				}
			}
		}
		trigger = {
			has_socialist_government = no
		}
		set_temp_variable = { tag_to_release = NOR }
		release_targeted_tag = yes
		var:tag_to_release = { NOR_create_haakon = yes }
	}

	option = { #liberate as republic
		name = annex.1055.c
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				tag = SWE
				OR = {
					has_completed_focus = SWE_a_new_king
					NOT = { has_completed_focus = SWE_forced_abdication }
				}
			}
		}
		set_temp_variable = { tag_to_release = NOR }
		release_targeted_tag = yes
	}

	option = { #Form Sweden-Norway
		name = annex.1055.b
		ai_chance = {
			base = 100
		}
		trigger = {
			tag = SWE
			OR = {
				has_completed_focus = SWE_a_new_king
				NOT = { has_completed_focus = SWE_forced_abdication }
			}
		}
		set_cosmetic_tag = SWENOR
		every_state = {
			limit = {
				is_norway = yes
				is_claim_or_core_of_ROOT = no
			}
			add_claim_by = ROOT
		}
		set_country_flag = NOR_CONQ
		set_country_flag = swe_flag_sweden_norway
		occupy_small_country = yes
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		set_country_flag = NOR_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Sweden
	id = annex.1056
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1056 FROM = [From.GetName]" }
	title = annexation_SWE_CONQ
	desc = annexation_SWE_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { tag = FIN }
				add_state_claim = 909 #Tornedalen
			}
			if = {
				limit = {
					tag = NOR
					OR = {
						has_government = totalist
						has_government = paternal_autocrat
						has_government = national_populist
					}
				}
				add_state_claim = 778
				add_state_claim = 908
			}
			SWE = {
				SWE_remove_monarchy = yes
				remove_ideas = {
					# Socialist ideas
					SWE_union_activity
					SWE_totalistmilitary
					SWE_radicalistmilitary
					SWE_syndicalistmilitary
					SWE_totalisteconomy
					SWE_radicalisteconomy
					SWE_syndicalisteconomy
					SWE_totalistsociety
					SWE_radicalistsociety
					SWE_syndicalistsociety
					SWE_totalistpeople
					SWE_radicalistpeople
					SWE_syndicalistpeople
					SWE_collectivisation
					SWE_idea_true_folkhemmet
					SWE_idea_reactionary_resistance
				}
				if = {
					limit = { ROOT = { has_socialist_government = yes }}
					remove_ideas = {
						SWE_military_work_battalions_idea
						SWE_stapol_idea
						SWE_idea_divine_disapproval
						SWE_idea_divine_approval
						SWE_corporatized_statare_idea
						SWE_idea_aggressive_foreign_policy
						SWE_idea_front_riksledare
						SWE_idea_riksledare_dead
					}
				}
			}
			SCA = {
				every_character = {
					limit = { has_character_flag = SWE_leader }
					set_nationality = SWE
					if = {
						limit = { can_be_country_leader = yes }
						promote_character = yes
					}
				}
			}
		}
	}

	option = { #liberate as monarchy
		name = annex.1056.a
		ai_chance = { base = 100 }
		trigger = { has_socialist_government = no }
		set_temp_variable = { tag_to_release = SWE }
		every_owned_state = {
			limit = {
				is_core_of = SWE
				is_claim_or_core_of_ROOT = no
				if = {
					limit = { state = 145 } #Aland
					NOT = {
						SWE = { ROOT_can_grant_land = yes }
						FIN = { ROOT_can_grant_land = yes }
					}
				}
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag = yes
		var:tag_to_release = {
			SWE_create_gustaf = yes
			SWE_add_reactionary_generals = yes
		}
	}

	option = { #liberate as republic
		name = annex.1056.b
		ai_chance = {
			base = 98
		}
		trigger = {
			if = {
				limit = {
					OR = {
						tag = GER
						tag = AUS
					}
				}
				has_socialist_government = yes
			}
		}
		set_temp_variable = { tag_to_release = SWE }
		every_owned_state = {
			limit = {
				is_core_of = SWE
				is_claim_or_core_of_ROOT = no
				NOT = {
					state = 145 #Aland
				}
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag = yes
		var:tag_to_release = {
			if = {
				limit = { has_socialist_government = yes }
				hidden_effect = { SWE_remove_reactionary_generals = yes }
			}
			else = {
				SWE_add_reactionary_generals = yes
			}
		}
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = {
			base = 0
		}
		set_country_flag = SWE_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of the Aland Islands
	id = annex.1057
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1057 FROM = [From.GetName]" }
	title = annexation_ALAND_CONQ
	desc = annexation_ALAND_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		145 = { clear_retain_state = yes }
	}

	option = { #Give it to Finland
		name = annex.1057.a
		trigger = {
			FIN = { ROOT_can_grant_land = yes }
			OR = {
				RUS_is_expansionist = no
				has_subject = FIN
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.25
				SWE = { is_ally_of_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = FIN }
		145 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to the Swedes
		name = annex.1057.b
		trigger = {
			SWE = { ROOT_can_grant_land = yes }
			OR = {
				RUS_is_expansionist = no
				has_subject = SWE
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.25
				FIN = { is_ally_of_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = SWE }
		145 = { transfer_state_and_add_core = yes }
	}

	option = { #annex
		name = annex.integration
		trigger = {
			RUS_is_expansionist = yes
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.25
				OR = {
					has_subject = SWE
					has_subject = FIN
				}
			}
		}
		add_state_claim = 145
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			RUS_is_expansionist = no
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = ALAND_CONQ
	}
}

country_event = { #Fate of Finland
	id = annex.1058
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1058 FROM = [From.GetName]" }
	title = annexation_FIN_CONQ
	desc = annexation_FIN_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = FIN
						is_claimed_by = FIN
					}
					is_finland = no
				}
				remove_core_of = FIN
				remove_claim_by = FIN
			}
			FIN = {
				drop_cosmetic_tag = yes
				if = {
					limit = {
						OR = {
							has_country_leader = { character = FIN_wolfgang_von_hessen_kassel }
							has_country_leader = { character = FIN_friedrich_karl_von_hessen_kassel }
						}
					}
					promote_character = FIN_juho_kusti_paasikivi
				}
				promote_character = FIN_vilho_annala
				set_party_name = {
					ideology = national_populist
					name = FIN_party_patriotic_peoples_movement
					long_name = FIN_party_patriotic_peoples_movement_long
				}
				if = {				# Removing socialist ideas from non-socialist puppet
					limit = { ROOT = { has_socialist_government = no } }
					remove_ideas = {
						FIN_red_guard_disbanded_idea
						FIN_weakened_red_guard_idea
						FIN_syndicalist_constitution_idea
						FIN_totalist_constitution_idea
						FIN_empower_the_labour_movement_idea
						FIN_second_red_terror_idea
						FIN_seizure_of_assets_idea
						FIN_military_purges_idea
						FIN_irridentism_idea
						FIN_confederation_of_finnish_trade_unions_idea
						FIN_finnish_sovereignty_idea
					}
				}
				else = {				# Removing non-socialist ideas from socialist puppet
					remove_ideas = {
						FIN_providing_raw_materials_idea
						FIN_finnish_ship_payments_idea
						FIN_german_weapon_imports
						FIN_kaiserliche_werft_kiel_idea
						FIN_constitution_of_finland_idea
						FIN_the_white_guard_idea
						FIN_economic_liberalism_idea
						FIN_corporatist_economics_idea
						FIN_irridentism_idea
						FIN_military_purges_idea
						FIN_funding_the_sinimustat_idea
						FIN_finnish_sovereignty_idea
						FIN_labour_strike_idea
						FIN_ukrainian_grain_imports_idea
						FIN_reduced_ukrainian_grain_imports_idea
						FIN_reduced_ukrainian_grain_imports_idea2
					}
				}
			}
			SCA = {
				every_character = {
					limit = { has_character_flag = FIN_leader }
					set_nationality = FIN
					if = {
						limit = { can_be_country_leader = yes }
						promote_character = yes
					}
				}
			}
			if = {
				limit = { is_russian_tag = yes }
				add_state_claim = 146 #Karelia
				if = {
					limit = { RUS_is_expansionist = yes }
					add_state_claim = 145 #Åland
				}
			}
			else_if = {
				limit = {
					tag = SWE
					has_socialist_government = no
				}
				add_state_claim = 145 #Åland
			}
		}
	}

	option = { #liberate
		name = annex.1058.a
		ai_chance = {
			base = 95
			modifier = {
				factor = 0
				OR = {
					AND = {
						RUS_is_empire = yes
						RUS_is_expansionist = yes
					}
					AND = {
						tag = SWE
						has_government = national_populist
					}
				}

			}
		}
		set_temp_variable = { tag_to_release = FIN }
		every_owned_state = {
			limit = {
				is_core_of = FIN
				is_claim_or_core_of_ROOT = no
				NOT = { state = 145 } #Aland
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag = yes
		if = {
			limit = { tag = GER }
			FIN = {
				set_cosmetic_tag = FIN_kingdom
				if = {
					limit = { has_character = FIN_friedrich_karl_von_hessen_kassel }
					promote_character = FIN_friedrich_karl_von_hessen_kassel
				}
				else = {
					promote_character = FIN_wolfgang_von_hessen_kassel
				}
				set_politics = {
					ruling_party = paternal_autocrat
					elections_allowed = no
				}
				set_political_party = {
					ideology = paternal_autocrat
					popularity = 60
				}
			}
		}
	}

	option = { #annex
		name = annex.1058.b
		trigger = {
			OR = {
				RUS_is_expansionist = yes
				AND = {
					tag = SWE
					has_government = national_populist
				}
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				RUS_is_expansionist = yes
				RUS_is_empire = no
			}
		}
		every_state = {
			limit = {
				is_finland = yes
				is_claim_or_core_of_ROOT = no
				NOT = { state = 145 } #Aland
			}
			add_claim_by = ROOT
		}
		set_country_flag = FIN_CONQ
		occupy_medium_country = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			RUS_is_expansionist = no
		}
		ai_chance = { base = 0 }
		set_country_flag = FIN_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Karelia
	id = annex.1059
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1059 FROM = [From.GetName]" }
	title = annexation_KARELIA_CONQ
	desc = annexation_KARELIA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		146 = { clear_retain_state = yes } #Viipuri
		213 = { clear_retain_state = yes } #Murmansk
		215 = { clear_retain_state = yes } #Kem
		216 = { clear_retain_state = yes } #Petrozavodsk
		722 = { clear_retain_state = yes } #Petsamo
	}

	option = { #Give it to Finland
		name = annex.1059.a
		trigger = {
			NOT = {
				tag = FIN
				tag = SCA
			}
			FIN = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = FIN }
		146 = { #Viipuri
			if = {
				limit = {
					is_owned_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
				transfer_state_and_add_core = yes
				custom_effect_tooltip = tooltip_white_line
			}
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 213 #Murmansk
					state = 215 #Kem
					state = 216 #Petrozavodsk
					state = 722 #Petsamo
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_and_add_claim = yes
		}
		recheck_annexations = yes
	}

	option = { #Give it to the Russians
		name = annex.1059.b
		trigger = {
			NOT = {
				tag = FIN
				tag = SCA
			}
			var:219.owner = { #Moscow
				is_russian_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_german_tag = yes
				FIN = { ROOT_can_grant_land = yes }
			}
			modifier = {
				factor = 0.25
				FIN = { is_ally_of_ROOT = yes }
			}
		}
		set_temp_variable = { tag_to_release = var:219.owner }
		146 = { #Viipuri
			if = {
				limit = {
					is_owned_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
				transfer_state_and_add_claim = yes
				custom_effect_tooltip = tooltip_white_line
			}
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 213 #Murmansk
					state = 215 #Kem
					state = 216 #Petrozavodsk
					state = 722 #Petsamo
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_and_add_core = yes
		}
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.1005.c
		trigger = {
			OR = {
				tag = FIN
				tag = SCA
			}
		}
		ai_chance = {
			base = 100
		}
		occupy_small_country = yes
		146 = { #Viipuri
			if = {
				limit = {
					is_owned_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
				add_core_of = ROOT
				custom_effect_tooltip = tooltip_white_line
			}
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 213 #Murmansk
					state = 215 #Kem
					state = 216 #Petrozavodsk
					state = 722 #Petsamo
				}
				is_claim_or_core_of_ROOT = no
			}
			add_claim_by = ROOT
		}
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = FIN
				tag = SCA
			}
		}
		ai_chance = { base = 0 }
		occupy_medium_country = yes
		set_country_flag = KARELIA_CONQ
	}
}

#####################################
##   E A S T E R N   E U R O P E   ##
#####################################

country_event = { #Fate of the Ukraine
	id = annex.1060
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1060 FROM = [From.GetName]" }
	title = annexation_UKR_CONQ
	desc = annexation_UKR_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					NOT = { tag = RUS }
					OR = {
						NOT = { country_exists = RUS }
						has_subject = RUS
					}
				}
				RUS = {
					every_unit_leader = {
						limit = { has_character_flag = UKR_leader }
						set_nationality = UKR
						clr_character_flag = UKR_leader
					}
				}
			}
			UKR = {
				UKR_remove_king = yes
				set_cosmetic_tag = UKR_republic
				clr_country_flag = kingdom_survives
			}
			80 = { retain_state = yes } #Cernauti
			91 = { retain_state = yes } #Lwow
			93 = { retain_state = yes } #Brest
			241 = { retain_state = yes } #Gomel
			997 = { retain_state = yes } #Polesia
			1088 = { retain_state = yes } #Chelm
		}
	}

	option = { #Puppet
		name = annex.1060.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_russian_tag = yes
			}
		}
		set_temp_variable = { tag_to_release = UKR }
		release_targeted_tag_nocosmetic = yes
		if = {
			limit = { tag = GER }
			var:tag_to_release = {
				set_politics = {
					ruling_party = paternal_autocrat
					elections_allowed = no
				}
				set_political_party = {
					ideology = paternal_autocrat
					popularity = 60
				}
			}
		}
		else_if = {
			limit = {
				is_russian_tag = yes
				has_socialist_government = no
			}
			var:tag_to_release = {
				set_politics = {
					ruling_party = social_conservative
					elections_allowed = no
				}
				set_political_party = {
					ideology = social_conservative
					popularity = 60
				}
			}
		}
	}

	option = { #TUR - take Crimea
		name = annex.1060.b
		trigger = {
			tag = TUR
			owns_state = 137
		}
		ai_chance = { base = 50 }
		add_state_claim = 137
		set_temp_variable = { tag_to_release = UKR }
		every_owned_state = {
			limit = {
				is_core_of = UKR
				is_claim_or_core_of_ROOT = no
				if = {
					limit = { state = 93 } #Brest
					NOT = {
						ROOT = { tag = POL }
						ROOT = { tag = WHR }
						POL = { ROOT_can_grant_land = yes }
						WHR = {
							OR = {
								owns_state = 997 #Polesia
								997 = { is_valid_annexation_state = yes }
							}
							ROOT_can_grant_land = yes
						}
						10 = { is_valid_annexation_state = yes } #Warsaw
						206 = { is_valid_annexation_state = yes } #Minsk
					}
				}
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag_nocosmetic = yes
	}

	option = { #Integrate
		name = annex.1060.c
		trigger = {
			is_russian_tag = yes
		}
		ai_chance = {
			base = 100
		}
		every_state = {
			limit = {
				region = 130 #Ukraine
				NOT = {
					AND = {
						is_claim_or_core_of_owner = yes
						owner = { is_ally_of_ROOT = yes }
					}
				}
			}
			add_claim_by = ROOT
		}
		add_political_power = -100
		add_to_array = { RUS_integration_array = UKR }
		recheck_annexations = yes
	}

	option = { #Give to Russia
		name = annex.1060.d
		trigger = {
			is_russian_tag = no
			var:219.owner = {
				is_russian_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				is_german_tag = yes
			}
		}
		UKR = { set_transfer_target_cores = yes }
		set_temp_variable = { tag_to_release = 219.owner }
		transfer_targeted_territory = yes
	}

	option = { #Occupy
		name = annex.occupation
		trigger = {
			is_russian_tag = no
		}
		ai_chance = { base = 0 }
		set_country_flag = UKR_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Brest
	id = annex.1061
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1061 FROM = [From.GetName]" }
	title = annexation_BREST_CONQ
	desc = annexation_BREST_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		93 = { clear_retain_state = yes }
	}

	option = { #give to Poland
		name = annex.1061.a
		trigger = {
			997 = { is_valid_annexation_state = no } #Polesia
			NOT = {
				tag = POL
				tag = WHR
				tag = UKR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
			POL = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				is_russian_tag = yes
				POL = { is_ally_of_ROOT = no }
			}
			modifier = {
				factor = 0
				OR = {
					UKR = { is_ally_of_ROOT = yes }
					WHR = { is_ally_of_ROOT = yes }
					LIT = {
						is_ally_with = ROOT
						owns_state = 206 #Minsk
					}
				}
				NOT = { is_ally_with = POL }
			}
		}
		set_temp_variable = { tag_to_release = POL }
		93 = { transfer_state_and_add_claim = yes }
	}

	option = { #give to Ukraine
		name = annex.1061.b
		trigger = {
			NOT = {
				tag = POL
				tag = WHR
				tag = UKR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
			UKR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				is_russian_tag = yes
				UKR = { is_ally_of_ROOT = no }
			}
			modifier = {
				factor = 0
				OR = {
					POL = { is_ally_of_ROOT = yes }
					WHR = { is_ally_of_ROOT = yes }
					LIT = {
						is_ally_with = ROOT
						owns_state = 206 #Minsk
					}
				}
				NOT = { is_ally_with = POL }
			}
		}
		set_temp_variable = { tag_to_release = UKR }
		93 = { transfer_state_and_add_core = yes }
	}

	option = { #give to Belarus
		name = annex.1061.c
		trigger = {
			NOT = {
				tag = POL
				tag = WHR
				tag = UKR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
			WHR = {
				OR = {
					owns_state = 997 #Polesia
					997 = { is_valid_annexation_state = yes }
				}
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				is_russian_tag = yes
				WHR = { is_ally_of_ROOT = no }
			}
			modifier = {
				factor = 0
				OR = {
					UKR = { is_ally_of_ROOT = yes }
					POL = { is_ally_of_ROOT = yes }
				}
				NOT = { is_ally_with = WHR }
			}
		}
		set_temp_variable = { tag_to_release = WHR }
		93 = { transfer_state_and_add_claim = yes }
		997 = { add_claim_of_target_and_transfer_if_owned = yes }
	}

	option = { #give to LitBel
		name = annex.1061.d
		trigger = {
			NOT = {
				tag = POL
				tag = WHR
				tag = UKR
				tag = LIT
			}
			LIT = {
				OR = {
					owns_state = 997 #Polesia
					997 = { is_valid_annexation_state = yes }
				}
				owns_state = 206 #Minsk
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				is_russian_tag = yes
				LIT = { is_ally_of_ROOT = no }
			}
			modifier = {
				factor = 0
				OR = {
					UKR = { is_ally_of_ROOT = yes }
					POL = { is_ally_of_ROOT = yes }
				}
				NOT = { is_ally_with = LIT }
			}
		}
		set_temp_variable = { tag_to_release = LIT }
		93 = { transfer_state_and_add_claim = yes }
		997 = { add_claim_of_target_and_transfer_if_owned = yes }
	}

	option = { #split between Poland and Ukraine
		name = annex.1061.e
		trigger = {
			997 = { is_valid_annexation_state = yes } #Polesia
			NOT = {
				tag = POL
				tag = WHR
				tag = UKR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
			POL = { ROOT_can_grant_land = yes }
			UKR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				is_russian_tag = yes
				OR = {
					POL = { is_ally_of_ROOT = no }
					UKR = { is_ally_of_ROOT = no }
				}
			}
			modifier = {
				factor = 0
				OR = {
					WHR = { is_ally_of_ROOT = yes }
					POL = { is_ally_of_ROOT = yes }
				}
				NOT = { is_ally_with = UKR }
			}
			modifier = {
				factor = 0.5
				NOT = { is_ally_with = POL }
			}
			modifier = {
				factor = 0.5
				NOT = { is_ally_with = UKR }
			}
		}
		set_temp_variable = { tag_to_release = POL }
		93 = { transfer_state_and_add_claim = yes }
		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = UKR }
		997 = { transfer_state_and_add_core = yes }
	}

	option = { #split between Poland and Belarus
		name = annex.1061.f
		trigger = {
			997 = { is_valid_annexation_state = yes } #Polesia
			NOT = {
				tag = POL
				tag = WHR
				tag = UKR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
			POL = { ROOT_can_grant_land = yes }
			WHR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				is_russian_tag = yes
				OR = {
					POL = { is_ally_of_ROOT = no }
					WHR = { is_ally_of_ROOT = no }
				}
			}
			modifier = {
				factor = 0
				OR = {
					UKR = { is_ally_of_ROOT = yes }
					POL = { is_ally_of_ROOT = yes }
				}
				NOT = { is_ally_with = WHR }
			}
			modifier = {
				factor = 0.5
				NOT = { is_ally_with = POL }
			}
			modifier = {
				factor = 0.5
				NOT = { is_ally_with = WHR }
			}
		}
		set_temp_variable = { tag_to_release = POL }
		93 = { transfer_state_and_add_claim = yes }
		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = WHR }
		997 = { transfer_state_and_add_claim = yes }
	}

	option = { #split between Poland and LitBel
		name = annex.1061.g
		trigger = {
			997 = { is_valid_annexation_state = yes } #Polesia
			NOT = {
				tag = POL
				tag = WHR
				tag = UKR
				tag = LIT
			}
			POL = { ROOT_can_grant_land = yes }
			LIT = {
				owns_state = 206 #Minsk
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				is_russian_tag = yes
				OR = {
					POL = { is_ally_of_ROOT = no }
					LIT = { is_ally_of_ROOT = no }
				}
			}
			modifier = {
				factor = 0
				OR = {
					UKR = { is_ally_of_ROOT = yes }
					POL = { is_ally_of_ROOT = yes }
				}
				NOT = { is_ally_with = LIT }
			}
			modifier = {
				factor = 0.5
				NOT = { is_ally_with = POL }
			}
			modifier = {
				factor = 0.5
				NOT = { is_ally_with = LIT }
			}
		}
		set_temp_variable = { tag_to_release = POL }
		93 = { transfer_state_and_add_claim = yes }
		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = LIT }
		997 = { transfer_state_and_add_claim = yes }
	}

	option = { #split between Poland and Russia
		name = annex.1061.h
		trigger = {
			997 = { is_valid_annexation_state = yes } #Polesia
			NOT = {
				tag = POL
				tag = WHR
				tag = UKR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
			POL = { ROOT_can_grant_land = yes }
			var:204.owner = {
				is_russian_tag = yes
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.5
				NOT = { is_ally_with = POL }
			}
			modifier = {
				factor = 0.5
				NOT = { is_ally_with = 204.owner }
			}
		}
		set_temp_variable = { tag_to_release = POL }
		93 = { transfer_state_and_add_claim = yes }
		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = 204.owner }
		if = {
			limit = { 204 = { is_core_of = owner } }
			997 = { transfer_state_and_add_core = yes }
		}
		else = {
			997 = { transfer_state_and_add_claim = yes }
		}
	}

	option = { #split with POL
		name = annex.1061.i
		trigger = {
			997 = { is_valid_annexation_state = yes } #Polesia
			is_russian_tag = yes
			POL = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				RUS_is_expansionist = yes
			}
		}
		997 = { add_claim_of_ROOT = yes } #Polesia
		custom_effect_tooltip = tooltip_white_line

		set_temp_variable = { tag_to_release = POL }
		93 = { #Brest
			transfer_state_and_add_claim = yes
			state_given_notification_effect = yes
		}
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = POL
				tag = WHR
				tag = UKR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
				is_russian_tag = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_russian_tag = yes
				RUS_is_expansionist = no
				POL = { is_ally_of_ROOT = yes }
			}
		}
		add_state_claim = 93
		if = {
			limit = {
				NOT = { tag = POL }
				997 = { is_valid_annexation_state = yes }
			}
			add_state_claim = 997
		}
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_russian_tag = no
			NOT = {
				tag = POL
				tag = WHR
				tag = UKR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = BREST_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Polesia
	id = annex.1062
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1062 FROM = [From.GetName]" }
	title = annexation_POLESIA_CONQ
	desc = annexation_POLESIA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		997 = { clear_retain_state = yes }
	}

	option = { #give to Ukraine
		name = annex.1061.b
		trigger = {
			NOT = {
				tag = WHR
				tag = UKR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
			UKR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				WHR = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = UKR }
			}
		}
		set_temp_variable = { tag_to_release = UKR }
		997 = { transfer_state_and_add_core = yes }
	}

	option = { #give to Belarus
		name = annex.1061.c
		trigger = {
			NOT = {
				tag = WHR
				tag = UKR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
			WHR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				UKR = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = WHR }
			}
		}
		set_temp_variable = { tag_to_release = WHR }
		997 = { transfer_state_and_add_claim = yes }
	}

	option = { #give to LitBel
		name = annex.1061.d
		trigger = {
			NOT = {
				tag = WHR
				tag = UKR
				tag = LIT
			}
			LIT = {
				owns_state = 206 #Minsk
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				UKR = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = LIT }
			}
		}
		set_temp_variable = { tag_to_release = LIT }
		997 = { transfer_state_and_add_claim = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = WHR
				tag = UKR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 997
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = WHR
				tag = UKR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = POLESIA_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Belarus
	id = annex.1063
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1063 FROM = [From.GetName]" }
	title = annexation_WHR_CONQ
	desc = annexation_WHR_CONQ_desc
	picture = GFX_report_event_generic_conference2

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = WHR
						is_claimed_by = WHR
					}
					NOT = {
						state = 94 #Volkovysk
						state = 95 #Pinsk
						state = 194 #Mozyr
						state = 204 #Novogrudok
						state = 206 #Minsk
						state = 207 #Braslaw
						state = 1087 #Mogilev
					}
				}
				remove_core_of = WHR
				remove_claim_by = WHR
			}
			94 = { retain_state = yes } #Volkovysk
			WHR = {
				WHR_werner_kempf = { retire = yes }
				WHR_kanstancin_jezavitau = { set_nationality = PREV }
				WHR_teardown_buying_germany_equipment_decisions = yes
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = annex.1063.a #Liberate White Ruthenia
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_russian_tag = yes
			}
		}
		set_temp_variable = { tag_to_release = WHR }
		release_targeted_tag = yes
		if = {
			limit = {
				original_tag = GER
				has_socialist_government = no
			}
			WHR = {
				set_politics = {
					ruling_party = paternal_autocrat
					elections_allowed = no
					name = WHR_paternal_autocrat2_party
					long_name = WHR_paternal_autocrat2_party_long
				}
				hidden_effect = { WHR_werner_kempf = { set_nationality = PREV } }
				WHR_werner_kempf = {
					if = {
						limit = { is_unit_leader = no }
						add_field_marshal_role = {
							traits = { career_officer panzer_leader organizer }
							skill = 3
							attack_skill = 3
							defense_skill = 3
							planning_skill = 2
							logistics_skill = 2
						}
					}
					if = {
						limit = { has_ideology = paternal_autocrat_subtype }
						promote_character = paternal_autocrat_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = WHR_werner_kempf_leader_desc
								ideology = paternal_autocrat_subtype
							}
							promote_leader = yes
						}
					}
				}
				hidden_effect = { WHR_kanstancin_jezavitau = { retire = yes } }
			}
		}
	}

	option = { #Integrate
		name = annex.1063.b
		trigger = {
			is_russian_tag = yes
		}
		ai_chance = {
			base = 100
		}
		every_state = {
			limit = {
				is_core_of = WHR
				NOT = {
					state = 94 #Volkovysk
					AND = {
						is_claim_or_core_of_owner = yes
						owner = { is_ally_of_ROOT = yes }
					}
				}
			}
			add_claim_by = ROOT
		}
		add_political_power = -50
		add_to_array = { RUS_integration_array = WHR }
		recheck_annexations = yes
	}

	option = {
		name = annex.1063.c #Give to Russia
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_german_tag = yes
			}
		}
		trigger = {
			is_russian_tag = no
			var:219.owner = {
				is_russian_tag = yes
				is_ally_with = ROOT
			}
		}
		242 = { set_transfer_target_state = yes } #Smolensk
		243 = { set_transfer_target_state = yes } #Krichev
		755 = { set_transfer_target_state = yes } #Vitebsk
		WHR = { set_transfer_target_cores = yes }
		set_temp_variable = { tag_to_release = 219.owner }
		transfer_targeted_territory = yes
	}

	option = { #Occupy White Ruthenia
		name = annex.occupation
		trigger = {
			is_russian_tag = no
		}
		ai_chance = { base = 0 }
		set_country_flag = WHR_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Eastern Belarus
	id = annex.1064
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1064 FROM = [From.GetName]" }
	title = annexation_EASTERN_BELARUS_CONQ
	desc = annexation_EASTERN_BELARUS_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		242 = { clear_retain_state = yes } #Smolensk
		243 = { clear_retain_state = yes } #Krichev
		755 = { clear_retain_state = yes } #Vitebsk
	}

	option = { #Give it to Belarus
		name = annex.1064.a
		trigger = {
			NOT = {
				tag = WHR
				AND = {
					tag = LIT
					207 = { is_claim_or_core_of_ROOT = yes }
				}
			}
			WHR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				NOT = { is_ally_with = WHR }
				var:219.owner = {
					is_russian_tag = yes
					is_ally_with = ROOT
				}
			}
		}
		set_temp_variable = { tag_to_release = WHR }
		every_owned_state = {
			limit = {
				OR = {
					state = 242 #Smolensk
					state = 243 #Krichev
					state = 755 #Vitebsk
				}
			}
			transfer_state_and_add_claim = yes
		}
	}

	option = { #Give it to Russia
		name = annex.1064.b
		trigger = {
			NOT = {
				tag = WHR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
			var:219.owner = {
				is_russian_tag = yes
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				NOT = { is_ally_with = 219.owner }
				OR = {
					WHR = { is_ally_of_ROOT = yes }
					LIT = {
						owns_state = 204 #Minsk
						is_ally_with = ROOT
					}
				}
			}
		}
		set_temp_variable = { tag_to_release = 219.owner }
		every_owned_state = {
			limit = {
				OR = {
					state = 242 #Smolensk
					state = 243 #Krichev
					state = 755 #Vitebsk
				}
			}
			transfer_state_and_add_core = yes
		}
	}

	option = { #Give it to LitBel
		name = annex.1064.c
		trigger = {
			NOT = {
				tag = WHR
				tag = LIT
			}
			LIT = {
				owns_state = 204 #Minsk
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				NOT = { is_ally_with = LIT }
				var:219.owner = {
					is_russian_tag = yes
					is_ally_with = ROOT
				}
			}
		}
		set_temp_variable = { tag_to_release = LIT }
		every_owned_state = {
			limit = {
				OR = {
					state = 242 #Smolensk
					state = 243 #Krichev
					state = 755 #Vitebsk
				}
			}
			transfer_state_and_add_claim = yes
		}
	}

	option = { #Split between Russia and Belarus
		name = annex.1064.d
		trigger = {
			NOT = {
				tag = WHR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
			owns_state = 242 #Smolensk
			owns_state = 243 #Krichev
			owns_state = 755 #Vitebsk
			WHR = { ROOT_can_grant_land = yes }
			var:219.owner = {
				is_russian_tag = yes
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.5
				NOT = { is_ally_with = WHR }
			}
			modifier = {
				factor = 0.5
				NOT = {
					var:219.owner = {
						is_russian_tag = yes
						is_ally_with = ROOT
					}
				}
			}
		}
		set_temp_variable = { tag_to_release = 219.owner }
		242 = { transfer_state_and_add_core = yes } #Smolensk
		set_temp_variable = { tag_to_release = WHR }
		every_owned_state = {
			limit = {
				OR = {
					state = 243 #Krichev
					state = 755 #Vitebsk
				}
			}
			transfer_state_and_add_claim = yes
		}
		recheck_annexations = yes
	}

	option = { #Split between Russia and LitBel
		name = annex.1064.e
		trigger = {
			NOT = {
				tag = WHR
				tag = LIT
			}
			owns_state = 242 #Smolensk
			owns_state = 243 #Krichev
			owns_state = 755 #Vitebsk
			LIT = {
				owns_state = 204 #Minsk
				ROOT_can_grant_land = yes
			}
			var:219.owner = {
				is_russian_tag = yes
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.5
				NOT = { is_ally_with = LIT }
			}
			modifier = {
				factor = 0.5
				NOT = {
					var:219.owner = {
						is_russian_tag = yes
						is_ally_with = ROOT
					}
				}
			}
		}
		set_temp_variable = { tag_to_release = 219.owner }
		242 = { transfer_state_and_add_core = yes } #Smolensk
		set_temp_variable = { tag_to_release = LIT }
		every_owned_state = {
			limit = {
				OR = {
					state = 243 #Krichev
					state = 755 #Vitebsk
				}
			}
			transfer_state_and_add_claim = yes
		}
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = WHR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 242 #Smolensk
		add_state_claim = 243 #Krichev
		add_state_claim = 755 #Vitebsk
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = WHR
				AND = {
					tag = LIT
					206 = { is_claim_or_core_of_ROOT = yes } #Minsk
				}
			}
		}
		ai_chance = { base = 0 }
		occupy_medium_country = yes
		set_country_flag = EASTERN_BELARUS_CONQ
	}
}

country_event = { #Fate of Russia
	id = annex.1065
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1065 FROM = [From.GetName]" }
	title = annexation_RUS_CONQ
	desc = annexation_RUS_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					tag = JAP
					NOT = { country_exists = TRM }
				}
				every_owned_state = {
					limit = {
						OR = {
							state = 408 #Vladivostok
							state = 409 #Khabarovsk
							state = 560 #Nikolayevsk
							state = 562 #Okhotsk
							state = 637 #Kamchatka
						}
					}
					add_claim_by = JAP
				}
			}
			RUS = {
				drop_cosmetic_tag = yes
				RUS_remove_monarchy = yes
				set_party_name = {
					ideology = social_democrat
					name = RUS_social_democrat_party
					long_name = RUS_social_democrat_party_long
				}
				if = {
					limit = { has_character = RUS_boris_savinkov }
					retire_character = RUS_boris_savinkov
				}
				remove_ideas = {
					RUS_constitutional_monarchy_1
					RUS_constitutional_monarchy_2
					RUS_constitutional_monarchy_3
					RUS_constitutional_monarchy_5
					RUS_constitutional_monarchy_6
					RUS_imperial_glory_1
					RUS_imperial_glory_2
					RUS_imperial_glory_3
					RUS_imperial_glory_5
					RUS_imperial_glory_6
					RUS_imperial_glory_7
					RUS_imperial_glory_8
					RUS_imperial_glory_9
					RUS_a_new_russia_1
					RUS_a_new_russia_2
					RUS_a_new_russia_3
					RUS_a_new_russia_4
					RUS_legacy_of_the_whites_1
					RUS_legacy_of_the_whites_2
					RUS_legacy_of_the_whites_3
					RUS_legacy_of_the_whites_4
				}
			}
			213 = { retain_state = yes } #Murmansk
			215 = { retain_state = yes } #Kem
			216 = { retain_state = yes } #Petrozavodsk
			242 = { retain_state = yes } #Smolensk
			243 = { retain_state = yes } #Krichev
			722 = { retain_state = yes } #Petsamo
			755 = { retain_state = yes } #Vitebsk
			880 = { retain_state = yes } #Dvinsk
			every_owned_state = {
				limit = { is_alash = yes } #Kazakh Territories
				retain_state = yes
			}
		}
	}

	option = { #Liberate core Russia
		name = annex.1065.a
		trigger = {
			NOT = { has_country_flag = SIB_CONQ }
		}
		ai_chance = {
			base = 85
			modifier = {
				add = -70
				OR = {
					tag = GER
					tag = JAP
				}
			}
		}
		if = {
			limit = { has_socialist_government = yes }
			set_temp_variable = { tag_to_release = SOV }
		}
		else = {
			set_temp_variable = { tag_to_release = RUS }
		}
		hidden_effect = { remove_all_russian_cores = yes }
		release_targeted_tag = yes
		hidden_effect = { RUS_puppet_setup = yes }
	}

	option = { #liberate core Russia and Siberia
		name = annex.1065.b
		trigger = {
			owns_state = 570 #Novo-Nikolayevsk
		}
		ai_chance = {
			base = 10
			modifier = {
				add = 70
				OR = {
					original_tag = GER
					original_tag = JAP
				}
			}
		}
		set_temp_variable = { tag_to_release = SIB }
		every_state = {
			limit = { is_siberia = yes }
			add_core_of_target_and_transfer_if_owned = yes
		}
		puppet_released_tag = yes
		hidden_effect = {
			every_owned_state = {
				limit = { is_russian_far_east = yes } #retain the far east to decide later
				retain_state = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		if = {
			limit = { has_socialist_government = yes }
			set_temp_variable = { tag_to_release = SOV }
		}
		else = {
			set_temp_variable = { tag_to_release = RUS }
		}
		hidden_effect = { remove_all_russian_cores = yes }
		release_targeted_tag = yes
		hidden_effect = { RUS_puppet_setup = yes }
	}

	option = { #Liberate max Russia
		name = annex.1065.c
		trigger = {
			OR = {
				any_of = {
					array = SOV.core_states
					NOT = {
						is_in_array = { RUS.RUS_starting_states_array = v }
					}
				}
				any_of = {
					array = RUS.core_states
					NOT = {
						is_in_array = { RUS.RUS_starting_states_array = v }
					}
				}
				any_of = {
					array = TRM.core_states
					NOT = {
						is_in_array = { RUS.RUS_starting_states_array = v }
						var:v = { state = 408 } #Vladivostok
						var:v = { state = 409 } #Khabarovsk
					}
				}
			}
		}
		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				OR = {
					tag = GER
					tag = JAP
				}
			}
		}
		RUS = { set_transfer_target_cores = yes }
		SOV = { set_transfer_target_cores = yes }
		TRM = { set_transfer_target_cores = yes }
		if = {
			limit = { has_socialist_government = yes }
			set_temp_variable = { tag_to_release = SOV }
			release_targeted_tag_from_core_regions = yes
		}
		else = {
			set_temp_variable = { tag_to_release = RUS }
			release_targeted_tag_from_core_regions = yes
		}
		hidden_effect = {
			var:tag_to_release = {
				every_owned_state = {
					limit = {
						is_in_array = { RUS.RUS_starting_states_array = THIS }
					}
					add_core_of = PREV
				}
			}
			remove_all_russian_cores = yes
			RUS_puppet_setup = yes
		}
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = {
			base = 0
		}
		occupy_massive_country = yes
		set_country_flag = RUS_CONQ
	}
}

country_event = { #Fate of Dvinsk
	id = annex.1066
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1066 FROM = [From.GetName]" }
	title = annexation_DVINSK_CONQ
	desc = annexation_DVINSK_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		880 = { clear_retain_state = yes }
	}

	option = { #Give it to Latvia
		name = annex.1066.a
		trigger = {
			NOT = {
				tag = LAT
				tag = BAT
			}
			LAT = {
				ROOT_can_grant_land = yes
				OR = {
					owns_state = 12 #Livonia
					owns_state = 190 #Courland
				}
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = LAT }
		880 = { transfer_state_and_add_core = yes }
		recheck_annexations = yes
	}

	option = { #Give it to BAT
		name = annex.1066.b
		trigger = {
			NOT = {
				tag = LAT
				tag = BAT
			}
			BAT = {
				is_ally_with = ROOT
				OR = {
					owns_state = 12 #Livonia
					owns_state = 190 #Courland
				}
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = BAT }
		880 = { transfer_state_and_add_core = yes }
		recheck_annexations = yes
	}

	option = { #Give it to the Russians
		name = annex.1066.d
		trigger = {
			NOT = {
				tag = LAT
				tag = BAT
			}
			var:209.owner = { #Pskov
				is_russian_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_german_tag = yes
				OR = {
					LAT = { ROOT_can_grant_land = yes }
					BAT = {
						is_ally_with = ROOT
						OR = {
							owns_state = 12 #Livonia
							owns_state = 190 #Courland
						}
					}
				}
			}
			modifier = {
				factor = 0.2
				LAT = { is_ally_of_ROOT = yes }
			}
			modifier = {
				factor = 0.2
				BAT = {
					is_ally_with = ROOT
					OR = {
						owns_state = 12 #Livonia
						owns_state = 190 #Courland
					}
				}
			}
		}
		set_temp_variable = { tag_to_release = var:209.owner }
		880 = { transfer_state_and_add_core = yes }
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = LAT
				tag = BAT
			}
		}
		ai_chance = {
			base = 1000
		}
		occupy_small_country = yes
		add_state_core = 880
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = LAT
				tag = BAT
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = DVINSK_CONQ
	}
}

#####################################
##   SOUTH EASTERN   E U R O P E   ##
#####################################

country_event = { #Fate of Albania
	id = annex.1068
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1068 FROM = [From.GetName]" }
	title = annexation_ALB_CONQ
	desc = annexation_ALB_CONQ_desc
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = ALB
						is_claimed_by = ALB
					}
					NOT = { state = 44 } #Albania
					NOT = { state = 765 } #Kosovo
					NOT = { state = 766 } #Northern Epirus
				}
				remove_core_of = ALB
				remove_claim_by = ALB
			}
			765 = { retain_state = yes }
			766 = { retain_state = yes }
			ALB = {
				set_party_name = {
					ideology = authoritarian_democrat
					name = ALB_authoritarian_democrat_party
					long_name = ALB_authoritarian_democrat_party_long
				}
				if = {
					limit = { has_character = ALB_wilhelm_zu_wied }
					ALB_wilhelm_zu_wied = { remove_all_country_leader_roles = yes }
				}
				if = {
					limit = { has_character = BUL_kyril_sakskoburggotski }
					BUL_kyril_sakskoburggotski = {
						set_character_name = BUL_kyril_sakskoburggotski
						remove_all_country_leader_roles = yes
						if = {
							limit = { BUL = { BUL_is_monarchy = yes } }
							set_nationality = BUL
						}
						else = {
							retire = yes
						}
					}
				}
				ALB_elez_isufi = { set_nationality = PREV }
				ALB_azem_galica = { set_nationality = PREV }
			}
		}
	}

	option = { #liberate
		name = annex.1068.a
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = ALB }
		release_targeted_tag = yes
		if = {
			limit = {
				tag = AUS
				ALB = { has_character = ALB_wilhelm_zu_wied }
			}
			ALB = {
				unlock_national_focus = ALB_restoration_of_the_king
				set_politics = {
					ruling_party = authoritarian_democrat
					elections_allowed = no
					name = ALB_wied_puppet_party
					long_name = ALB_wied_puppet_party
				}
				set_political_party = {
					ideology = authoritarian_democrat
					popularity = 60
				}
				ALB_wilhelm_zu_wied = {
					add_country_leader_role = {
						country_leader = {
							desc = ALB_wilhelm_zu_wied_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		else_if = {
			limit = {
				tag = BUL
				BUL_is_monarchy = yes
				BUL_kyril_sakskoburggotski = { is_country_leader = no }
			}
			BUL_kyril_sakskoburggotski = { set_nationality = ALB }
			ALB = {
				set_politics = {
					ruling_party = authoritarian_democrat
					elections_allowed = no
					name = BUL_albanian_military_administration
					long_name = BUL_albanian_military_administration_long
				}
				set_political_party = {
					ideology = authoritarian_democrat
					popularity = 60
				}
				if = {
					limit = { has_character = BUL_kyril_sakskoburggotski }
					BUL_kyril_sakskoburggotski = {
						set_character_name = BUL_kyril_sakskoburggotski_regnal
						if = {
							limit = { has_ideology = authoritarian_democrat_subtype }
							promote_character = authoritarian_democrat_subtype
						}
						else = {
							add_country_leader_role = {
								country_leader = { ideology = authoritarian_democrat_subtype }
								promote_leader = yes
							}
						}
					}
				}
			}
		}
		hidden_effect = {
			ALB = {
				unlock_national_focus = ALB_albanian_elections_of_1936
				if = {
					limit = {
						OR = {
							has_government = social_conservative
							has_authoritarian_government = yes
						}
					}
					unlock_national_focus = ALB_progressive_victory
				}
				else = {
					unlock_national_focus = ALB_bashkimi_victory
				}
			}
		}
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		set_country_flag = ALB_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Montenegro
	id = annex.1069
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1069 FROM = [From.GetName]" }
	title = annexation_MNT_CONQ
	desc = annexation_MNT_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		105 = { clear_retain_state = yes }
		hidden_effect = {
			MNT = {
				drop_cosmetic_tag = yes
				retire_character = MNT_mihailo_petrovic_njegos
				if = {
					limit = { NOT = { has_character = MNT_blazo_jovanovic } }
					SER = { MNT_blazo_jovanovic = { set_nationality = MNT } }
					MNT_blazo_jovanovic = {
						promote_character = totalist_subtype
						promote_character = syndicalist_subtype
						promote_character = radical_socialist_subtype
						promote_character = social_democrat_subtype
					}
				}
			}
		}
	}

	option = { #liberate
		name = annex.1069.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				tag = SER
			}
		}
		set_temp_variable = { tag_to_release = MNT }
		var:tag_to_release = { transfer_state = 105 } #Montenegro
		puppet_released_tag = yes
	}

	option = { # kingdom
		name = annex.1069.b
		trigger = { has_socialist_government = no }
		ai_chance = {
			base = 50
		}
		set_temp_variable = { tag_to_release = MNT }
		release_targeted_tag = yes
		MNT = {
			set_cosmetic_tag = MTN_kingdom
			MNT_create_mihailo = yes
		}
	}

	option = { #Give it to Croatia
		name = annex.1070.c
		ai_chance = {
			base = 100
		}
		trigger = {
			CRO = {
				is_ally_of_ROOT = yes
				owns_state = 163
			}
			NOT = {
				tag = CRO
				tag = SER
			}
		}
		set_temp_variable = { tag_to_release = CRO }
		105 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Serbia
		name = annex.1070.d
		ai_chance = {
			base = 300
			modifier = {
				factor = 0
				OR = {
					tag = AUS
					tag = BUL
				}
			}
		}
		trigger = {
			SER = { is_ally_of_ROOT = yes }
			NOT = {
				tag = CRO
				tag = SER
			}
		}
		set_temp_variable = { tag_to_release = SER }
		105 = { transfer_state_and_add_core = yes }
	}

	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				tag = CRO
				tag = SER
			}
		}
		ai_chance = {
			base = 1000
		}
		105 = { remove_claim_and_add_core_of_ROOT = yes }
		recheck_annexations = yes
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = CRO
				tag = SER
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = MNT_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Bosnia
	id = annex.1070
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1070 FROM = [From.GetName]" }
	title = annexation_BOS_CONQ
	desc = annexation_BOS_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		104 = { clear_retain_state = yes }
		if = {
			limit = {
				OR = {
					original_tag = SER
					original_tag = HUN
					AND = {
						original_tag = AUS
						AUS_is_unified = yes
					}
				}
			}
			save_event_target_as = can_integrate_bosnia
		}
		else_if = {
			limit = {
				is_in_faction = yes
				is_major = yes
				SER = {
					exists = yes
					is_subject = no
					has_capitulated = no
					both_socialist_or_both_not_socialist = yes
					NOT = {
						is_in_array = { potential_and_current_enemies = ROOT }
						is_in_array = { ROOT.potential_and_current_enemies = THIS }
						has_country_flag = offered_croatia_@ROOT
					}
					OR = {
						owns_state = 104 #Bosnia
						104 = { is_valid_annexation_state = yes } #Bosnia
					}
				}
			}
			save_event_target_as = can_offer_bosnia_to_serbia
		}
	}

	option = { #liberate
		name = annex.1070.a
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_event_target = can_integrate_bosnia
			}
			modifier = {
				factor = 0
				has_event_target = can_offer_bosnia_to_serbia
			}
		}
		set_temp_variable = { tag_to_release = BOS }
		release_targeted_tag = yes
	}

	option = { #Give it to Austria
		name = annex.1070.b
		ai_chance = {
			base = 70
		}
		trigger = {
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
				owns_state = 109 #Central Croatia
			}
			NOT = { has_event_target = can_integrate_bosnia }
		}
		set_temp_variable = { tag_to_release = AUS }
		104 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Croatia
		name = annex.1070.c
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				has_event_target = can_offer_bosnia_to_serbia
			}
		}
		trigger = {
			CRO = { is_ally_of_ROOT = yes }
			NOT = { has_event_target = can_integrate_bosnia }
		}
		set_temp_variable = { tag_to_release = CRO }
		104 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Serbia
		name = annex.1070.d
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				has_event_target = can_offer_bosnia_to_serbia
			}
		}
		trigger = {
			SER = { is_ally_of_ROOT = yes }
			NOT = { has_event_target = can_integrate_bosnia }
		}
		set_temp_variable = { tag_to_release = AUS }
		104 = { transfer_state_and_add_claim = yes }
	}

	option = {
		name = annex.1031.d #Offer to SER
		trigger = {
			has_event_target = can_offer_bosnia_to_serbia
		}
		ai_chance = {
			base = 70
		}
		set_country_flag = { flag = CRO_CONQ value = 1 days = 32 }
		set_country_flag = { flag = CRO_DALMATIA_CONQ value = 1 days = 32 }
		set_country_flag = { flag = KOTOR_CONQ value = 1 days = 32 }
		set_country_flag = { flag = VOJVODINA_CONQ value = 1 days = 32 }
		set_country_flag = { flag = WESTBANAT_CONQ value = 1 days = 32 }
		set_country_flag = { flag = BOS_CONQ value = 1 days = 32 }
		set_country_flag = { flag = MNT_CONQ value = 1 days = 32 }
		SER = {
			set_country_flag = offered_croatia_@ROOT
			country_event = annex.285
		}
		recheck_annexations = yes
	}

	option = { #annex
		name = annex.integration
		trigger = {
			has_event_target = can_integrate_bosnia
		}
		ai_chance = {
			base = 100
		}
		if = {
			limit = { tag = SER }
			104 = { add_claim_of_ROOT = yes }
		}
		else = {
			104 = { remove_claim_and_add_core_of_ROOT = yes }
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = { has_event_target = can_integrate_bosnia }
		}
		ai_chance = {
			base = 0
		}
		set_country_flag = BOS_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Kosovo
	id = annex.1071
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1071 FROM = [From.GetName]" }
	title = annexation_SER_KOSOVO_CONQ
	desc = annexation_SER_KOSOVO_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		765 = { clear_retain_state = yes }
	}

	option = {
		name = annex.1071.a #Give it to SER
		trigger = {
			SER = { ROOT_can_grant_land = yes }
			NOT = {
				original_tag = SER
				original_tag = ALB
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				ALB = { is_ally_of_ROOT = yes }
				SER = { is_ally_of_ROOT = no }
			}
		}
		set_temp_variable = { tag_to_release = SER }
		765 = {
			transfer_state_and_add_core = yes
			state_given_notification_effect = yes
		}
	}

	option = {
		name = annex.1071.b #Give it to ALB
		trigger = {
			ALB = { ROOT_can_grant_land = yes }
			NOT = {
				original_tag = SER
				original_tag = ALB
			}
		}
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				SER = { is_ally_of_ROOT = yes }
				ALB = { is_ally_of_ROOT = no }
			}
		}
		set_temp_variable = { tag_to_release = ALB }
		765 = {
			transfer_state_and_add_core = yes
			state_given_notification_effect = yes
		}
	}

	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				original_tag = SER
				original_tag = ALB
			}
		}
		ai_chance = {
			base = 100
		}
		765 = { remove_claim_and_add_core_of_ROOT = yes }
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				original_tag = SER
				original_tag = ALB
			}
		}
		ai_chance = {
			base = 0
		}
		set_country_flag = SER_KOSOVO_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Serbia
	id = annex.1072
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1072 FROM = [From.GetName]" }
	title = annexation_SER_CONQ
	desc = annexation_SER_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = SER
						is_claimed_by = SER
					}
					NOT = {
						state = 107 #Belgrade
						state = 108 #Morava
					}
				}
				remove_core_of = SER
				remove_claim_by = SER
			}
			SER = {
				remove_ideas = {
					SER_treaty_of_wartholz
					SER_secret_rearmament
					SER_open_rearmament
					SER_the_dream_of_yugoslavia
					SER_the_dream_of_yugoslavia_no_AUS
					SER_the_dream_of_yugoslavia_fulfilled
					SER_konspiracija_idea
					SER_konspiracija_conflict
					SER_puppet_show
					SER_Petar_II_regency
					SER_Petar_II_stojadinovic_puppet
				}
				set_party_name = {
					ideology = national_populist
					long_name = SER_national_populist_party_puppet_long
					name = SER_national_populist_party_puppet
				}
				set_party_name = {
					ideology = paternal_autocrat
					long_name = SER_national_populist_party_puppet_long
					name = SER_national_populist_party_puppet
				}
				SER_milan_nedic = {
					set_nationality = PREV
					if = {
						limit = { has_ideology = paternal_autocrat_subtype }
						promote_character = paternal_autocrat_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = { ideology = paternal_autocrat_subtype }
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = national_populist_subtype }
						promote_character = national_populist_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = { ideology = national_populist_subtype }
							promote_leader = yes
						}
					}
				}
				SER_vukasin_markovic = {
					set_nationality = PREV
					promote_character = totalist_subtype
					promote_character = syndicalist_subtype
				}
				every_unit_leader = {
					limit = { has_character_flag = BUL_leader }
					set_nationality = BUL
					clr_character_flag = BUL_leader
				}
			}
		}
	}

	option = { #liberate
		name = annex.1072.a
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = SER }
		release_targeted_tag = yes
		hidden_effect = {
			SER = {
				set_cosmetic_tag = SER_republic
				add_state_core = 765 #Kosovo
				add_state_core = 767 #Nis
			}
		}
		if = {
			limit = {
				OR = {
					tag = GER
					tag = AUS
					tag = HUN
					tag = BUL
				}
				has_socialist_government = no
			}
			SER = {
				set_politics = {
					ruling_party = authoritarian_democrat
					elections_allowed = no
				}
				set_political_party = {
					ideology = authoritarian_democrat
					popularity = 60
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
		else_if = {
			limit = { has_socialist_government = yes } #unlock socialist tree for puppet SER
			SER = {
				unlock_national_focus = SER_Third_Revolution
				hidden_effect = {
					if = {
						limit = { has_character = SER_dusan_simovic }
						retire_character = SER_dusan_simovic
					}
					if = {
						limit = { has_character = SER_milan_nedic }
						retire_character = SER_milan_nedic
					}
					if = {
						limit = { has_character = SER_milutin_nedic }
						retire_character = SER_milutin_nedic
					}
					if = {
						limit = { has_character = SER_bogoljub_ilic }
						retire_character = SER_bogoljub_ilic
					}
					if = {
						limit = { has_character = SER_dragoljub_mihailovic }
						retire_character = SER_dragoljub_mihailovic
					}
				}
			}
		}
		else = {
			hidden_effect = {
				SER = {
					if = {
						limit = { NOT = { has_character = SER_dusan_simovic } }
						SER_dusan_simovic = { set_nationality = PREV }
					}
					if = {
						limit = { NOT = { has_character = SER_milan_nedic } }
						SER_milan_nedic = { set_nationality = PREV }
					}
					if = {
						limit = { NOT = { has_character = SER_milutin_nedic } }
						SER_milutin_nedic = { set_nationality = PREV }
					}
					if = {
						limit = { NOT = { has_character = SER_bogoljub_ilic } }
						SER_bogoljub_ilic = { set_nationality = PREV }
					}
					if = {
						limit = { NOT = { has_character = SER_dragoljub_mihailovic } }
						SER_dragoljub_mihailovic = { set_nationality = PREV }
					}
				}
			}
		}
	}
	option = { #make Yugoslavia
		trigger = {
			109 = {
				is_owned_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
			104 = {
				is_owned_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
			105 = {
				is_owned_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
			NOT = {
				is_south_slav_tag = yes
				tag = AUS
				tag = HUN
			}
		}

		name = annex.1072.b
		ai_chance = {
			base = 40
		}
		set_temp_variable = { tag_to_release = SER }
		every_state = {
			limit = {
				OR = {
					state = 45 #Vojvodina
					state = 102 #Carniola
					state = 103 #Rijeka
					state = 104 #Bosnia
					state = 105 #Montenegro
					state = 106 #Macedonia
					state = 109 #Central Croatia
					state = 163 #Dalmatia
					state = 683 #Gorizia
					state = 736 #Istria
					state = 765 #Kosovo
					state = 767 #Nis
					state = 794 #Syrmia
					state = 841 #Kotor
					state = 875 #West Banat
				}
			}
			add_claim_of_target = yes
		}
		every_state = {
			limit = {
				is_claim_or_core_of_ROOT = no
				OR = {
					is_core_of = SER
					state = 102 #Carniola
					state = 104 #Bosnia
					state = 105 #Montenegro
					state = 109 #Central Croatia
					state = 767 #Nis
					state = 794 #Syrmia
				}
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag = yes
		var:tag_to_release = {
			set_cosmetic_tag = YUG_rep
			if = { #unlock socialist tree for puppet SER
				limit = { has_socialist_government = yes }
				unlock_national_focus = SER_Third_Revolution
			}
		}
	}
	option = { #AUS: Give it to Illyria
		name = annex.1072.c
		trigger = {
			tag = AUS
			has_subject = CRO
			CRO = { has_cosmetic_tag = CRO_illyria }
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = CRO }
		every_owned_state = {
			limit = {
				OR = {
					state = 107 #Belgrade
					state = 108 #Morava
					state = 767 #Nis
				}
			}
			transfer_state_and_add_claim = yes
		}
		hidden_effect = {
			SER = {
				set_cosmetic_tag = SER_republic
				add_state_core = 765 #Kosovo
				add_state_core = 767 #Nis
			}
		}
	}
	option = { #Integrate (Zveno)
		name = annex.1072.e
		trigger = {
			tag = BUL
			has_government = paternal_autocrat
			NOT = {
				has_completed_focus = BUL_balkan_war_defeat
			}
			NOT = {
				has_country_flag = BUL_disabled_bulgoslavia # received volunteers from AUS, GER, or their allies
			}
			NOT = {
				has_completed_focus = BUL_german_diplomacy
			}
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
		}
		ai_chance = {
			base = 10
		}
		add_state_claim = 107
		add_state_claim = 108
		add_state_claim = 765
		add_state_claim = 105
		set_country_flag = BUL_hijacked_yugoslavism
		mark_focus_tree_layout_dirty = yes
		custom_effect_tooltip = SER_new_focuses_unlocked
		country_event = bulgariaflavour.8
		recheck_annexations = yes
		hidden_effect = {
			SER = {
				set_cosmetic_tag = SER_republic
				add_state_core = 765 #Kosovo
				add_state_core = 767 #Nis
			}
		}
	}
	option = { #occupy
		name = annex.occupation
		ai_chance = {
			base = 0
		}
		set_country_flag = SER_CONQ
		occupy_medium_country = yes
		hidden_effect = {
			SER = {
				set_cosmetic_tag = SER_republic
				add_state_core = 765 #Kosovo
				add_state_core = 767 #Nis
			}
		}
	}
}

country_event = { #Fate of Nis
	id = annex.1073
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1073 FROM = [From.GetName]" }
	title = annexation_NIIS_CONQ
	desc = annexation_NIIS_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		767 = { clear_retain_state = yes }
	}

	option = { #Grant to Serbia
		name = annex.1073.a
		trigger = {
			SER = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				BUL = { is_ally_of_ROOT = yes }
				SER = { is_ally_of_ROOT = no }
			}
		}
		set_temp_variable = { tag_to_release = SER }
		767 = {
			transfer_state_and_add_core = yes
			state_given_notification_effect = yes
		}
	}
	option = { #Grant to Bulgaria
		name = annex.1073.b
		trigger = {
			BUL = { ROOT_can_grant_land = yes }
			NOT = { original_tag = SER }
		}
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				SER = { is_ally_of_ROOT = yes }
				BUK = { is_ally_of_ROOT = no }
			}
		}
		set_temp_variable = { tag_to_release = BUL }
		767 = {
			transfer_state_and_add_claim = yes
			state_given_notification_effect = yes
		}
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			original_tag = SER
		}
		ai_chance = {
			base = 100
		}
		767 = { remove_claim_and_add_core_of_ROOT = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			original_tag = BUL
		}
		ai_chance = {
			base = 100
		}
		767 = { add_claim_of_ROOT = yes }
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = { original_tag = SER }
			NOT = { original_tag = BUL }
		}
		ai_chance = { base = 0 }
		set_country_flag = NIS_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Kotor
	id = annex.1074
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1074 FROM = [From.GetName]" }
	title = annexation_KOTOR_CONQ
	desc = annexation_KOTOR_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		841 = { clear_retain_state = yes }
	}

	option = { #Transfer to Montenegro
		name = annex.1074.a
		trigger = {
			MNT = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 95
			modifier = {
				factor = 0
				CRO = {
					owns_state = 163 #Dalmatia
					is_ally_with = ROOT
				}
				NOT = { is_ally_with = MNT }
			}
		}
		set_temp_variable = { tag_to_release = MNT }
		841 = {
			transfer_state_and_add_core = yes
			state_given_notification_effect = yes
		}
	}

	option = { #Transfer to Croatia
		name = annex.1074.b
		trigger = {
			NOT = {
				tag = SER
				AND = {
					tag = BUL
					has_country_flag = BUL_hijacked_yugoslavism
				}
			}
			CRO = {
				owns_state = 163 #Dalmatia
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				OR = {
					MNT = { is_ally_of_ROOT = yes }
					SER = { is_ally_of_ROOT = yes }
				}
				NOT = { is_ally_with = CRO }
			}
		}
		set_temp_variable = { tag_to_release = CRO }
		841 = {
			transfer_state_and_add_core = yes
			state_given_notification_effect = yes
		}
	}

	option = { #Transfer to Serbia
		name = annex.1074.c
		trigger = {
			NOT = {
				tag = CRO
				AND = {
					tag = BUL
					has_country_flag = BUL_hijacked_yugoslavism
				}
			}
			SER = {
				owns_state = 105 #Montenegro
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				CRO = {
					owns_state = 163 #Dalmatia
					is_ally_with = ROOT
				}
				NOT = { is_ally_with = SER }
			}
		}
		set_temp_variable = { tag_to_release = SER }
		841 = {
			transfer_state_and_add_claim = yes
			state_given_notification_effect = yes
		}
	}

	option = { #Transfer to Bulgaria
		name = annex.1074.d
		trigger = {
			BUL = {
				owns_state = 105 #Montenegro
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				CRO = {
					owns_state = 163 #Dalmatia
					is_ally_with = ROOT
				}
				NOT = { is_ally_with = BUL }
			}
		}
		set_temp_variable = { tag_to_release = BUL }
		841 = {
			transfer_state_and_add_claim = yes
			state_given_notification_effect = yes
		}
	}

	option = { #Transfer to Italy
		name = annex.1074.e
		trigger = {
			is_italian_tag = no
			NOT = {
				tag = SER
				tag = CRO
				AND = {
					tag = BUL
					has_country_flag = BUL_hijacked_yugoslavism
				}
			}
			var:163.owner = {
				is_italian_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 5
		}
		set_temp_variable = { tag_to_release = 163.owner }
		841 = {
			transfer_state_and_add_claim = yes
			state_given_notification_effect = yes
		}
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				is_italian_tag = yes
				tag = SER
				tag = CRO
				AND = {
					tag = BUL
					has_country_flag = BUL_hijacked_yugoslavism
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		if = {
			limit = { tag = CRO }
			add_state_core = 841
		}
		else = {
			add_state_claim = 841
		}
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		set_country_flag = KOTOR_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Macedonia
	id = annex.1075
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1075 FROM = [From.GetName]" }
	title = annexation_SER_MACED_CONQ
	desc = annexation_SER_MACED_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		106 = { clear_retain_state = yes }
	}

	option = {
		name = annex.1075.a #Give it to SER
		trigger = {
			SER = {
				ROOT_can_grant_land = yes
				OR = {
					owns_state = 765 #Kosovo
					owns_state = 767 #Nis
					765 = { is_valid_annexation_state = yes }
					767 = { is_valid_annexation_state = yes }
				}
			}
			NOT = {
				original_tag = SER
				original_tag = BUL
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				AUS_can_offer_macedonia_to_bulgaria = yes
			}
			modifier = {
				factor = 5
				SER = {
					is_in_faction_with = ROOT
					is_subject = no
				}
			}
		}
		set_temp_variable = { tag_to_release = SER }
		106 = {
			if = {
				limit = { var:tag_to_release = { has_country_flag = SER_has_integrated_macedonia } }
				transfer_state_and_add_core = yes
			}
			else = {
				transfer_state_and_add_claim = yes
			}
			state_given_notification_effect = yes
		}
		if = {
			limit = { 767 = { is_valid_annexation_state = yes } } #Nis
			767 = {
				transfer_state_and_add_core = yes
				state_given_notification_effect = yes
			}
		}
		else_if = {
			limit = { 765 = { is_valid_annexation_state = yes } } #Kosovo
			765 = {
				transfer_state_and_add_core = yes
				state_given_notification_effect = yes
			}
		}
	}

	option = {
		name = annex.1075.b #Give it to BUL
		trigger = {
			BUL = { ROOT_can_grant_land = yes }
			NOT = {
				original_tag = SER
				original_tag = BUL
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				AUS_can_offer_macedonia_to_bulgaria = yes
			}
			modifier = {
				factor = 5
				BUL = {
					is_in_faction_with = ROOT
					is_subject = no
				}
			}
		}
		set_temp_variable = { tag_to_release = BUL }
		106 = {
			transfer_state_and_add_core = yes
			state_given_notification_effect = yes
		}
	}

	option = { #AUS: Offer BUL an alliance for it
		name = annex.1075.c
		trigger = {
			AUS_can_offer_macedonia_to_bulgaria = yes
		}
		ai_chance = {
			base = 100
		}
		BUL = { country_event = austria.109 }
	}

	option = { #annex
		name = annex.integration
		trigger = {
			original_tag = SER
		}
		ai_chance = {
			base = 100
		}
		if = {
			limit = { has_country_flag = SER_has_integrated_macedonia }
			remove_claim_and_add_core_of_ROOT = yes
		}
		else = {
			add_claim_of_ROOT = yes
		}
	}

	option = { #annex
		name = annex.integration
		trigger = {
			original_tag = BUL
		}
		ai_chance = {
			base = 100
		}
		106 = { remove_claim_and_add_core_of_ROOT = yes }
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				original_tag = SER
				original_tag = BUL
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = SER_MACED_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Romania
	id = annex.1076
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1076 FROM = [From.GetName]" }
	title = annexation_ROM_CONQ
	desc = annexation_ROM_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = ROM
						is_claimed_by = ROM
					}
					NOT = {
						state = 46 #Muntenia
						state = 79 #Moldavia
						state = 78 #Bessarabia
						state = 81 #Oltenia
					}
				}
				if = {
					limit = { is_core_of = ROM }
					set_state_flag = was_core_of_ROM
					remove_core_of = ROM
				}
				remove_claim_by = ROM
			}
		}
	}

	option = { #liberate
		name = annex.1076.a
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					tag = RUS
					tag = TRM
				}
				78 = { is_valid_annexation_state = yes }
			}
		}
		set_temp_variable = { tag_to_release = ROM }
		release_targeted_tag = yes
		var:tag_to_release = { setup_romanian_puppet_leaders = yes }
		hidden_effect = {
			ROM = {
				add_state_core = 772 #Dobrudja
				add_state_claim = 76 #North Transylvania
				add_state_claim = 77 #Silistria
				add_state_claim = 80 #Cernauti
				add_state_claim = 82 #Banat
				add_state_claim = 83 #Partium
				add_state_claim = 84 #Transylvania
				add_state_claim = 713 #Suceava
				add_state_claim = 789 #Szeklerland
			}
			if = {
				limit = { tag = BUL }
				ROM = { country_event = romania.240 }
			}
		}
	}
	option = { #Take Bessarabia
		name = annex.1076.b
		trigger = {
			is_russian_tag = yes
			NOT = { is_ally_with = UKR }
			78 = { is_valid_annexation_state = yes }
		}
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				tag = SOV
			}
		}
		add_state_claim = 78 #Bessarabia
		set_temp_variable = { tag_to_release = ROM }
		release_targeted_tag = yes
		var:tag_to_release = { setup_romanian_puppet_leaders = yes }
		hidden_effect = {
			ROM = {
				add_state_core = 772 #Dobrudja
				add_state_claim = 76 #North Transylvania
				add_state_claim = 77 #Silistria
				add_state_claim = 80 #Cernauti
				add_state_claim = 82 #Banat
				add_state_claim = 83 #Partium
				add_state_claim = 84 #Transylvania
				add_state_claim = 713 #Suceava
				add_state_claim = 789 #Szeklerland
			}
		}
	}
	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		hidden_effect = {
			ROM = {
				add_state_core = 772 #Dobrudja
				add_state_claim = 76 #North Transylvania
				add_state_claim = 77 #Silistria
				add_state_claim = 80 #Cernauti
				add_state_claim = 82 #Banat
				add_state_claim = 83 #Partium
				add_state_claim = 84 #Transylvania
				add_state_claim = 713 #Suceava
				add_state_claim = 789 #Szeklerland
			}
		}
		set_country_flag = ROM_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Bulgaria
	id = annex.1077
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1077 FROM = [From.GetName]" }
	title = annexation_BUL_CONQ
	desc = annexation_BUL_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = BUL
						is_claimed_by = BUL
					}
					NOT = {
						state = 48 #Sofia
						state = 77 #Silistria
						state = 211 #Burgas
						state = 212 #Plovdiv
						state = 770 #Pleven
						state = 771 #Varna
						state = 990 #Vidin
						state = 1089 #Kardzhali
					}
				}
				remove_claim_by = BUL
				remove_core_of = BUL
			}
			77 = { retain_state = yes } #Silistria
			1089 = { retain_state = yes } #Kardzhali
			BUL = {
				remove_ideas = GER_mil_support_idea
				BUL_remove_monarchy = yes
				if = {
					limit = {
						NOT = { has_character = BUL_pencho_zlatev }
						NOT = { BUL_alexander_stamboliyski = { can_be_country_leader = yes } }
					}
					BUL_pencho_zlatev = { set_nationality = PREV }
					promote_character = BUL_pencho_zlatev
				}
			}
		}
	}

	option = { #republic
		name = annex.1077.a
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = BUL }
		release_targeted_tag = yes
		if = {
			limit = { has_socialist_government = yes }
			var:tag_to_release = {
				set_cosmetic_tag = BUL_rep
				mark_focus_tree_layout_dirty = yes
				unlock_national_focus = BUL_front_republic
			}
		}
		else_if = {
			limit = { tag = SER }
			var:tag_to_release = {
				set_politics = {
					ruling_party = authoritarian_democrat
					elections_allowed = no
				}
				set_political_party = {
					ideology = authoritarian_democrat
					popularity = 40
				}
				if = {
					limit = { BUL_alexander_stamboliyski = { has_ideology = authoritarian_democrat_subtype } }
					BUL_alexander_stamboliyski = {
						promote_character = authoritarian_democrat_subtype
					}
				}
				else = {
					add_country_leader_role = {
						character = BUL_alexander_stamboliyski
						country_leader = {
							desc = BUL_alexander_stamboliyski_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
				}
				set_cosmetic_tag = BUL_rep
				mark_focus_tree_layout_dirty = yes
				unlock_national_focus = BUL_front_republic
				set_party_name = {
					ideology = authoritarian_democrat
					long_name = BUL_its_just_bzns_party_long
					name = BUL_its_just_bzns_party
				}
			}
			# Bulgaria transfers some factories
			belgrade_pact_loot_factory_from_bulgaria = yes
		}
		hidden_effect = {
			var:tag_to_release = {
				if = {
					limit = { has_dictatorship_government = no }
					remove_ideas = {
						BUL_royalist_resistance
						BUL_legionary_revolution
						BUL_legionary_revolution_2
						BUL_legionary_revolution_3
						BUL_legionary_economics
						BUL_legionary_economics_2
						BUL_legionary_economics_3
					}
				}
				if = {
					limit = { has_socialist_government = no }
					remove_ideas = {
						BUL_royalist_resistance_worse
						BUL_royalist_resistance_worse_2
						BUL_socialist_offensive_1
						BUL_socialist_offensive_2
						BUL_socialist_offensive_3
						BUL_ds_established
						BUL_communard_revolution_1
						BUL_communard_revolution_2
						BUL_communard_revolution_3
						BUL_spirit_of_solidarity_1
						BUL_spirit_of_solidarity_2
						BUL_bearing_the_torch
						BUL_consolidation_of_power_1
						BUL_consolidation_of_power_2
						BUL_peasant_state_1
						BUL_peasant_state_2
						BUL_peasant_state_3
						BUL_fighting_for_motherland_1
						BUL_fighting_for_motherland_2
					}
				}
			}
		}
	}

	option = { #monarchy
		name = annex.1077.b
		trigger = {
			has_socialist_government = no
			NOT = { has_government = national_populist }
			NOT = { original_tag = SER }
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				OR = {
					tag = GER
					tag = AUS
				}
			}
		}
		set_temp_variable = { tag_to_release = BUL }
		release_targeted_tag = yes
		var:tag_to_release = { BUL_create_monarchy = yes }
		hidden_effect = {
			var:tag_to_release = {
				remove_ideas = {
					BUL_royalist_resistance
					BUL_legionary_revolution
					BUL_legionary_revolution_2
					BUL_legionary_revolution_3
					BUL_legionary_economics
					BUL_legionary_economics_2
					BUL_legionary_economics_3
					BUL_royalist_resistance_worse
					BUL_royalist_resistance_worse_2
					BUL_socialist_offensive_1
					BUL_socialist_offensive_2
					BUL_socialist_offensive_3
					BUL_ds_established
					BUL_communard_revolution_1
					BUL_communard_revolution_2
					BUL_communard_revolution_3
					BUL_spirit_of_solidarity_1
					BUL_spirit_of_solidarity_2
					BUL_bearing_the_torch
					BUL_consolidation_of_power_1
					BUL_consolidation_of_power_2
					BUL_peasant_state_1
					BUL_peasant_state_2
					BUL_peasant_state_3
					BUL_fighting_for_motherland_1
					BUL_fighting_for_motherland_2
				}
			}
		}
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		set_country_flag = BUL_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Constantinople
	id = annex.1078
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1078 FROM = [From.GetName]" }
	title = annexation_CONSTANTINOPLE_CONQ
	desc = annexation_CONSTANTINOPLE_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		773 = { clear_retain_state = yes }
		341 = { clear_retain_state = yes }
	}

	option = { #transfer to TUR
		name = annex.1078.a
		trigger = {
			TUR = { ROOT_can_grant_land = yes }
			NOT = {
				tag = GRE
				tag = TUR
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.1
				NOT = { is_ally_with = TUR }
			}
		}
		set_temp_variable = { tag_to_release = TUR }
		every_owned_state = {
			limit = {
				OR = {
					state = 773 #Constantinople
					state = 341 #Adrianople
				}
				is_claim_or_core_of_ROOT = no
			}
			add_core_of_target_and_transfer_if_owned = yes
		}
	}

	option = { #transfer to GRE
		name = annex.1078.b
		trigger = {
			GRE = { ROOT_can_grant_land = yes }
			NOT = {
				tag = GRE
				tag = TUR
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.1
				NOT = { is_ally_with = GRE }
			}
		}
		set_temp_variable = { tag_to_release = GRE }
		every_owned_state = {
			limit = {
				OR = {
					state = 773 #Constantinople
					state = 341 #Adrianople
				}
				is_claim_or_core_of_ROOT = no
			}
			add_claim_of_target_and_transfer_if_owned = yes
		}
	}

	option = { #annex
		name = annex.integration
		trigger = {
			tag = TUR
		}
		ai_chance = {
			base = 1000
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 773 #Constantinople
					state = 341 #Adrianople
				}
				is_claim_or_core_of_ROOT = no
			}
			remove_claim_and_add_core_of_ROOT = yes
		}
	}

	option = { #annex
		name = annex.integration
		trigger = {
			tag = GRE
		}
		ai_chance = {
			base = 1000
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 773 #Constantinople
					state = 341 #Adrianople
				}
				is_claim_or_core_of_ROOT = no
			}
			add_claim_by = ROOT
		}
	}

	option = { #occupation
		name = annex.occupation
		trigger = {
			NOT = {
				tag = GRE
				tag = TUR
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = CONSTANTINOPLE_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Greece
	id = annex.1079
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1079 FROM = [From.GetName]" }
	title = annexation_GRE_CONQ
	desc = annexation_GRE_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = GRE
						is_claimed_by = GRE
					}
					NOT = {
						state = 47 #Central Greece
						state = 182 #Crete
						state = 185 #Epirus
						state = 186 #Peloponnese
						state = 758 #Ionian Islands
						state = 768 #Thessaly
						state = 1076 #Veria
					}
				}
				remove_core_of = GRE
				remove_claim_by = GRE
			}
			if = {
				limit = {
					OR = {
						NOT = { tag = GER }
						has_socialist_government = yes
					}
				}
				GRE = {
					remove_ideas = {
						GRE_foreign_industry_GER1
						GRE_foreign_industry_GER2
						GRE_foreign_industry_GER3
					}
				}
			}
			if = {
				limit = {
					OR = {
						NOT = { tag = AUS }
						has_socialist_government = yes
					}
				}
				GRE = {
					remove_ideas = {
						GRE_foreign_industry_AUS1
						GRE_foreign_industry_AUS2
						GRE_foreign_industry_AUS3
					}
				}
			}
		}
	}

	option = { #Liberate Greece as republic
		name = annex.1079.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					tag = GER
					tag = AUS
					is_in_faction_with = CAN
					is_in_faction_with = GBR
					AND = {
						has_government = authoritarian_democrat
						is_in_europe = yes
					}
				}
			}
		}
		trigger = {
			has_socialist_government = no
		}
		set_temp_variable = { tag_to_release = GRE }
		release_targeted_tag = yes
		GRE = {
			GRE_stop_being_syndicalist = yes
			GRE_restore_republic = yes
			GRE_uncomplete_focuses = yes
			GRE_uncomplete_expansion_focuses = yes
			if = {
				limit = { has_country_flag = GRE_monarchists_win_referendum }
				clr_country_flag = GRE_monarchists_win_referendum
				set_country_flag = GRE_republicans_win_referendum
			}
			hidden_effect = {
				add_state_core = 164 #Dodecanese
				add_state_core = 183 #Cyprus
				add_state_core = 187 #Aegean Islands
				add_state_core = 731 #Western Salonica
				add_state_claim = 769 #Eastern Salonica
				add_state_core = 989 #Chalcidice
			}
		}
	}
	option = { #Liberate Kingdom of Greece
		name = annex.1079.b
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				NOT = {
					tag = GER
					tag = AUS
					is_in_faction_with = CAN
					is_in_faction_with = GBR
					AND = {
						has_government = authoritarian_democrat
						is_in_europe = yes
					}
				}
			}
		}
		trigger = {
			has_socialist_government = no
		}
		set_temp_variable = { tag_to_release = GRE }
		release_targeted_tag = yes
		GRE = {
			GRE_stop_being_syndicalist = yes
			if = {
				limit = { has_idea = GRE_memories_of_king }
				remove_ideas = GRE_memories_of_king
			}
			if = {
				limit = { NOT = { has_cosmetic_tag = GRE_kingdom } }
				set_cosmetic_tag = GRE_kingdom
			}
			if = {
				limit = { has_completed_focus = GRE_king_alexandros }
				GRE_create_alexander = yes
			}
			else_if = {
				limit = { has_completed_focus = GRE_king_georgios }
				GRE_create_george = yes
			}
			else_if = {
				limit = { has_completed_focus = GRE_restore_monarchy }
				GRE_create_paul = yes
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = GRE_monarchy_referendum }
					ROOT = { has_elected_government = yes }
				}
				set_country_flag = GRE_monarchists_win_referendum
			}
			else_if = {
				limit = {
					ROOT = { has_dictatorship_government = yes }
				}
				GRE_create_paul = yes
			}
			else = {
				GRE_create_alexander = yes
			}
			GRE_uncomplete_focuses = yes
			GRE_uncomplete_expansion_focuses = yes
			hidden_effect = {
				add_state_core = 164 #Dodecanese
				add_state_core = 183 #Cyprus
				add_state_core = 187 #Aegean Islands
				add_state_core = 731 #Western Salonica
				add_state_claim = 769 #Eastern Salonica
				add_state_core = 989 #Chalcidice
			}
		}
	}
	option = { #Liberate Hellenic Commune
		name = annex.1079.c
		ai_chance = {
			base = 100
		}
		trigger = {
			has_socialist_government = yes
		}
		set_temp_variable = { tag_to_release = GRE }
		release_targeted_tag = yes
		GRE = {
			GRE_become_syndicalist = yes
			GRE_restore_republic = yes
			GRE_uncomplete_focuses = yes
			GRE_uncomplete_expansion_focuses = yes
			hidden_effect = {
				add_state_core = 164 #Dodecanese
				add_state_core = 183 #Cyprus
				add_state_core = 187 #Aegean Islands
				add_state_core = 731 #Western Salonica
				add_state_claim = 769 #Eastern Salonica
				add_state_core = 989 #Chalcidice
			}
		}
	}
	option = { #occupy
		name = annex.occupation
		ai_chance = {
			base = 0
		}
		hidden_effect = {
			GRE = {
				add_state_core = 164 #Dodecanese
				add_state_core = 183 #Cyprus
				add_state_core = 187 #Aegean Islands
				add_state_core = 731 #Western Salonica
				add_state_core = 989 #Chalcidice
			}
		}
		set_country_flag = GRE_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Thessaloniki
	id = annex.1080
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1080 FROM = [From.GetName]" }
	title = annexation_THESS_CONQ
	desc = annexation_THESS_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		989 = { clear_retain_state = yes }
	}

	option = { #Transfer to Bulgaria
		name = annex.1080.a
		trigger = {
			NOT = {
				tag = BUL
				tag = GRE
			}
			BUL = {
				owns_state = 769
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 10
				BUL = { is_ally_of_ROOT = yes }
			}
			modifier = {
				factor = 0.5
				BUL = { is_subject = yes }
			}
		}
		set_temp_variable = { tag_to_release = BUL }
		989 = { transfer_state_and_add_claim = yes }
		recheck_annexations = yes
	}

	option = { #Transfer to Greece
		name = annex.1080.b
		trigger = {
			NOT = {
				tag = BUL
				tag = GRE
			}
			GRE = {
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 10
				GRE = { is_ally_of_ROOT = yes }
			}
			modifier = {
				factor = 0.5
				GRE = { is_subject = yes }
			}
		}
		set_temp_variable = { tag_to_release = GRE }
		989 = {
			transfer_state_and_add_core = yes
			state_given_notification_effect = yes
		}
	}
	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				tag = GRE
				AND = {
					tag = BUL
					owns_state = 769
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		if = {
			limit = { tag = BUL }
			989 = { add_claim_of_ROOT = yes }
		}
		else = {
			989 = { remove_claim_and_add_core_of_ROOT = yes }
		}
		recheck_annexations = yes
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = GRE
				tag = BUL
			}
		}
		ai_chance = {
			base = 0
		}
		set_country_flag = THESSA_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Keraferia
	id = annex.1081
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1081 FROM = [From.GetName]" }
	title = annexation_KERAF_CONQ
	desc = annexation_KERAF_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		1076 = { clear_retain_state = yes }
	}

	option = { #Transfer to Greece
		name = annex.1081.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 5
				GRE = { is_ally_of_ROOT = yes }
			}
		}
		trigger = {
			GRE = {
				OR = {
					owns_state = 768
					is_ally_of_ROOT = yes
				}
				ROOT_can_grant_land = yes
			}
		}
		GRE = {
			transfer_state = 1076
			add_state_core = 1076
		}
	}
	option = { #occupy
		name = annex.occupation
		ai_chance = {
			base = 0
		}
		set_country_flag = KRF_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Northern Epirus
	id = annex.1082
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1082 FROM = [From.GetName]" }
	title = annexation_GRE_EPIRUS_CONQ
	desc = annexation_GRE_EPIRUS_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		766 = { clear_retain_state = yes }
	}

	option = {
		name = annex.1082.a #Give it to GRE
		trigger = {
			GRE = { is_ally_of_ROOT = yes }
			NOT = {
				tag = GRE
				tag = ALB
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 5
				GRE = {
					is_in_faction_with = ROOT
					is_subject = no
				}
			}
		}
		766 = {
			if = {
				limit = { is_claimed_by = GRE }
				remove_claim_by = GRE
			}
			if = {
				limit = { NOT = { is_core_of = GRE } }
				add_core_of = GRE
			}
			transfer_state_to = GRE
			hidden_effect = { add_core_of = ALB }
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1082.b #Give it to ALB
		trigger = {
			ALB = { is_ally_of_ROOT = yes }
			NOT = {
				tag = GRE
				tag = ALB
			}
		}
		ai_chance = {
			base = 60
			modifier = {
				factor = 5
				ALB = {
					is_in_faction_with = ROOT
					is_subject = no
				}
			}
		}
		766 = {
			if = {
				limit = { is_claimed_by = ALB }
				remove_claim_by = ALB
			}
			if = {
				limit = { NOT = { is_core_of = ALB } }
				add_core_of = ALB
			}
			transfer_state_to = ALB
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1082.c #Grant it to GRE
		trigger = {
			NOT = {
				GRE = { is_ally_of_ROOT = yes }
				ALB = { is_ally_of_ROOT = yes }
				tag = GRE
				tag = ALB
			}
			GRE = {
				ROOT_can_grant_land = yes
				owns_state = 185 #Epirus
			}
		}
		ai_chance = {
			base = 90
		}
		set_temp_variable = { tag_to_release = GRE }
		766 = {
			transfer_state_and_add_core = yes
			state_given_notification_effect = yes
		}
	}
	option = {
		name = annex.1082.d #Grant it to ALB
		trigger = {
			NOT = {
				GRE = { is_ally_of_ROOT = yes }
				ALB = { is_ally_of_ROOT = yes }
				tag = GRE
				tag = ALB
			}
			ALB = {
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = ALB }
		766 = {
			transfer_state_and_add_core = yes
			state_given_notification_effect = yes
		}
	}
	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				tag = GRE
				tag = ALB
			}
		}
		ai_chance = {
			base = 1000
		}
		766 = {
			if = {
				limit = { is_claimed_by = ROOT }
				remove_claim_by = ROOT
			}
			if = {
				limit = { NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
			}
			hidden_effect = { add_core_of = ALB }
		}
		recheck_annexations = yes
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = GRE
				tag = ALB
			}
		}
		ai_chance = {
			base = 0
		}
		hidden_effect = { 766 = { add_core_of = ALB } }
		set_country_flag = GRE_EPIRUS_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Cyprus
	id = annex.1083
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1083 FROM = [From.GetName]" }
	title = annexation_CYP_CONQ
	desc = annexation_CYP_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		183 = { clear_retain_state = yes }
	}

	option = { #liberate
		name = annex.1083.a
		trigger = {
			NOT = { tag = GRE }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				GRE = { is_ally_of_ROOT = yes }
			}
		}
		CYP = { add_state_core = 183 }
		set_temp_variable = { tag_to_release = CYP }
		release_targeted_tag = yes
	}

	option = { #Give it to the Turks
		name = annex.1083.b
		ai_chance = {
			base = 20
		}
		trigger = {
			NOT = {
				tag = TUR
				tag = GRE
			}
			TUR = { ROOT_can_grant_land = yes }
		}
		set_temp_variable = { tag_to_release = TUR }
		183 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Greece
		name = annex.1083.c
		trigger = {
			NOT = {
				tag = TUR
				tag = GRE
			}
			GRE = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 80
		}
		set_temp_variable = { tag_to_release = GRE }
		183 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = TUR
				tag = GRE
			}
		}
		ai_chance = {
			base = 100
		}
		add_state_claim = 183
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = CYP_CONQ
	}
}

#####################################
##  S O U T H E R N   E U R O P E  ##
#####################################

country_event = { #Fate of Spain
	id = annex.1084
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1084 FROM = [From.GetName]" }
	title = annexation_SPA_CONQ
	desc = annexation_SPA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = SPK
						is_core_of = SPR
						is_core_of = SWF
						is_claimed_by = SPK
						is_claimed_by = SPR
						is_claimed_by = SWF
					}
					is_spain = no
				}
				remove_core_of = SPK
				remove_core_of = SPR
				remove_core_of = SWF
				remove_claim_by = SPK
				remove_claim_by = SPR
				remove_claim_by = SWF
			}
			SPK = {
				SPA_remove_monarchy = yes
				remove_ideas = SPA_memories_of_the_republic
			}
			SPR = { set_cosmetic_tag = SPA_carlists }
			SWF = { set_cosmetic_tag = SPA_socialist }
			if = {
				limit = {
					OR = {
						tag = ENT
						tag = GBR
					}
				}
				add_state_claim = 118 #Gibraltar
			}
		}
	}

	option = { #Socialist
		name = annex.1084.a
		trigger = {
			has_socialist_government = yes
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = SWF }
		release_spain = yes
		var:tag_to_release = {
			if = {
				limit = {
					NOT = {
						has_completed_focus = SWF_election_success
						has_completed_focus = SWF_aftermath_of_civil_war
					}
				}
				unlock_national_focus = SWF_election_success
			}
		}
	}

	option = { #Socialist, balkanised
		name = annex.1084.b
		trigger = {
			has_socialist_government = yes
		}
		ai_chance = {
			base = 0
		}
		set_temp_variable = { will_balkanise_spain = 1 }
		set_temp_variable = { tag_to_release = SWF }
		release_spain = yes
		var:tag_to_release = {
			if = {
				limit = {
					NOT = {
						has_completed_focus = SWF_election_success
						has_completed_focus = SWF_aftermath_of_civil_war
					}
				}
				unlock_national_focus = SWF_election_success
			}
		}
		recheck_annexations_immediate = yes
	}

	option = { #Kingdom
		name = annex.1084.c
		trigger = {
			has_socialist_government = no
		}
		ai_chance = {
			base = 100
		}
		if = {
			limit = {
				OR = {
					original_tag = NFA
					ENT = { is_ally_of_ROOT = yes }
					AND = {
						has_government = national_populist
						OR = {
							original_tag = IRE
							original_tag = SIC
							original_tag = POR
							original_tag = BRA
						}
					}
				}
			}
			set_temp_variable = { tag_to_release = SPR }
		}
		else = {
			set_temp_variable = { tag_to_release = SPA }
		}
		release_spain = yes
		var:tag_to_release = {
			if = {
				limit = { tag = SPK }
				SPA_create_alfonso = yes
				if = {
					limit = {
						NOT = {
							has_completed_focus = SPA_no_civil_war
							has_completed_focus = SPA_victor_civil_war
						}
					}
					unlock_national_focus = SPA_no_civil_war
				}
			}
		}
	}

	option = { #Kingdom, balkanised
		name = annex.1084.d
		trigger = {
			has_socialist_government = no
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { will_balkanise_spain = 1 }
		if = {
			limit = {
				OR = {
					original_tag = NFA
					ENT = { is_ally_of_ROOT = yes }
					AND = {
						has_government = national_populist
						OR = {
							original_tag = IRE
							original_tag = SIC
							original_tag = POR
							original_tag = BRA
						}
					}
				}
			}
			set_temp_variable = { tag_to_release = SPR }
		}
		else = {
			set_temp_variable = { tag_to_release = SPA }
		}
		release_spain = yes
		var:tag_to_release = {
			if = {
				limit = { tag = SPK }
				SPA_create_alfonso = yes
				if = {
					limit = {
						NOT = {
							has_completed_focus = SPA_no_civil_war
							has_completed_focus = SPA_victor_civil_war
						}
					}
					unlock_national_focus = SPA_no_civil_war
				}
			}
		}
		recheck_annexations_immediate = yes
	}

	option = { #Republic
		name = annex.1084.e
		trigger = {
			has_socialist_government = no
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					original_tag = GER
					original_tag = NFA
					ENT = { is_ally_of_ROOT = yes }
					AND = {
						has_government = national_populist
						OR = {
							original_tag = IRE
							original_tag = SIC
							original_tag = POR
							original_tag = BRA
						}
					}
				}
			}
		}
		set_temp_variable = { tag_to_release = SPA }
		release_spain = yes
		var:tag_to_release = {
			if = {
				limit = {
					NOT = {
						has_completed_focus = SPA_no_civil_war
						has_completed_focus = SPA_victor_civil_war
					}
				}
				unlock_national_focus = SPA_no_civil_war
			}
			set_cosmetic_tag = SPA_republic
			SPA_gil_robles = {
				if = {
					limit = { has_ideology = authoritarian_democrat_subtype }
					promote_character = authoritarian_democrat_subtype
				}
				else = {
					add_country_leader_role = {
						country_leader = { ideology = authoritarian_democrat_subtype }
						promote_leader = yes
					}
				}
				if = {
					limit = { has_ideology = paternal_autocrat_subtype }
					promote_character = paternal_autocrat_subtype
				}
				else = {
					add_country_leader_role = {
						country_leader = { ideology = paternal_autocrat_subtype }
						promote_leader = yes
					}
				}
				if = {
					limit = { has_ideology = national_populist_subtype }
					promote_character = national_populist_subtype
				}
				else = {
					add_country_leader_role = {
						country_leader = { ideology = national_populist_subtype }
						promote_leader = yes
					}
				}
			}
		}
	}

	option = { #Republic, balkanised
		name = annex.1084.f
		trigger = {
			has_socialist_government = no
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					original_tag = GER
					original_tag = NFA
					ENT = { is_ally_of_ROOT = yes }
					AND = {
						has_government = national_populist
						OR = {
							original_tag = IRE
							original_tag = SIC
							original_tag = POR
							original_tag = BRA
						}
					}
				}
			}
		}
		set_temp_variable = { will_balkanise_spain = 1 }
		set_temp_variable = { tag_to_release = SPA }
		release_spain = yes
		var:tag_to_release = {
			if = {
				limit = {
					NOT = {
						has_completed_focus = SPA_no_civil_war
						has_completed_focus = SPA_victor_civil_war
					}
				}
				unlock_national_focus = SPA_no_civil_war
			}
			if = {
				limit = { has_idea = SPA_memories_of_the_republic }
				remove_ideas = SPA_memories_of_the_republic
			}
			set_cosmetic_tag = SPA_republic
			SPA_gil_robles = {
				if = {
					limit = { has_ideology = authoritarian_democrat_subtype }
					promote_character = authoritarian_democrat_subtype
				}
				else = {
					add_country_leader_role = {
						country_leader = { ideology = authoritarian_democrat_subtype }
						promote_leader = yes
					}
				}
				if = {
					limit = { has_ideology = paternal_autocrat_subtype }
					promote_character = paternal_autocrat_subtype
				}
				else = {
					add_country_leader_role = {
						country_leader = { ideology = paternal_autocrat_subtype }
						promote_leader = yes
					}
				}
				if = {
					limit = { has_ideology = national_populist_subtype }
					promote_character = national_populist_subtype
				}
				else = {
					add_country_leader_role = {
						country_leader = { ideology = national_populist_subtype }
						promote_leader = yes
					}
				}
			}
		}
		recheck_annexations_immediate = yes
	}

	option = { #occupy
		name = annex.1084.g
		ai_chance = { base = 0 }
		occupy_large_country = yes #guerrilla time
		set_country_flag = SPA_CONQ
	}

	option = { #occupy all
		name = annex.occupation
		ai_chance = { base = 0 }
		occupy_massive_country = yes #guerrilla time
		set_country_flag = SPA_CONQ
		set_country_flag = GLC_CONQ
		set_country_flag = BAS_CONQ
		set_country_flag = CAT_CONQ
	}
}

country_event = { #Fate of Galicia
	id = annex.1085
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1085 FROM = [From.GetName]" }
	title = annexation_GLC_CONQ
	desc = annexation_GLC_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #puppet
		name = annex.1085.a
		ai_chance = {
			base = 99
		}
		set_temp_variable = { tag_to_release = GLC }
		release_targeted_tag = yes
	}

	option = { #give to Spain
		name = annex.1085.b
		trigger = {
			SPA = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
		}
		GLC = { set_transfer_target_cores = yes }
		set_temp_variable = { tag_to_release = 174.owner }
		transfer_targeted_territory_and_add_cores = yes
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		occupy_medium_country = yes
		set_country_flag = GLC_CONQ
	}
}

country_event = { #Fate of Euskadi
	id = annex.1087
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1087 FROM = [From.GetName]" }
	title = annexation_BAS_CONQ
	desc = annexation_BAS_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #puppet greater BAS
		name = annex.1087.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				SPA = { ROOT_can_grant_land = yes }
			}
		}
		set_temp_variable = { tag_to_release = BAS }
		release_targeted_tag = yes
	}

	option = { #split with Spain
		name = annex.1087.b
		trigger = {
			172 = { is_valid_annexation_state = yes } #Navarre
			SPA = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 0
		}
		set_temp_variable = { tag_to_release = 176.owner }
		172 = { transfer_state_and_add_core = yes }
		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = BAS }
		1070 = { transfer_state_to = var:tag_to_release }
		puppet_released_tag = yes
	}

	option = { #give to Spain
		name = annex.1087.c
		trigger = {
			SPA = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
		}
		BAS = { set_transfer_target_cores = yes }
		set_temp_variable = { tag_to_release = 176.owner }
		transfer_targeted_territory_and_add_cores = yes
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		occupy_medium_country = yes
		set_country_flag = BAS_CONQ
	}
}

country_event = { #Fate of Catalonia
	id = annex.1088
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1088 FROM = [From.GetName]" }
	title = annexation_CAT_CONQ
	desc = annexation_CAT_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		817 = { retain_state = yes } #Roussillon
	}

	option = { #puppet
		name = annex.1088.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				SPA = { ROOT_can_grant_land = yes }
			}
		}
		set_temp_variable = { tag_to_release = CAT }
		release_targeted_tag = yes
	}

	option = { #split with Spain
		name = annex.1088.b
		trigger = {
			OR = {
				167 = { is_valid_annexation_state = yes } #Valencia
				177 = { is_valid_annexation_state = yes } #Balearic Islands
			}
			SPA = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 0
		}
		set_temp_variable = { tag_to_release = 166.owner }
		167 = { add_core_of_target_and_transfer_if_owned = yes } #Valencia
		177 = { add_core_of_target_and_transfer_if_owned = yes } #Balearic Islands
		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = CAT }
		165 = { transfer_state_to = var:tag_to_release }
		puppet_released_tag = yes
	}

	option = { #give to Spain
		name = annex.1088.c
		trigger = {
			SPA = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
		}
		CAT = { set_transfer_target_cores = yes }
		set_temp_variable = { tag_to_release = 166.owner }
		transfer_targeted_territory_and_add_cores = yes
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		occupy_medium_country = yes
		set_country_flag = CAT_CONQ
	}
}

country_event = { #Fate of Portugal
	id = annex.1089
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1089 FROM = [From.GetName]" }
	title = annexation_POR_CONQ
	desc = annexation_POR_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #Liberate a republican Portugal
		name = annex.1089.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				tag = SWF
			}
			modifier = {
				factor = 0
				NOT = { country_exists = POR }
				OR = {
					is_german_tag = yes
					tag = CAN
					tag = GBR
					tag = NFA
					tag = SPK
					tag = SPR
				}
			}
		}
		if = {
			limit = { country_exists = POR }
			custom_effect_tooltip = POR_puppet_tooltip
			hidden_effect = {
				create_dynamic_country = {
					original_tag = POR
					create_country_leader = {
						name = POR_jose_carlos_rates
						picture = "gfx/leaders/POR/Portrait_Portugal_Jose_Rates.png"
						ideology = totalist_subtype
					}
					create_country_leader = {
						name = POR_manuel_joaquim_sousa
						picture = "gfx/leaders/Generic/Portrait_Europe_Generic_new_3.png"
						ideology = syndicalist_subtype
					}
					create_country_leader = {
						name = POR_bento_antonio_goncalves
						picture = "gfx/leaders/POR/Portrait_Portugal_Bento_Goncalves.png"
						ideology = radical_socialist_subtype
					}
					create_country_leader = {
						name = POR_jose_domingues_dos_santos
						picture = "gfx/leaders/POR/Portrait_POR_Jose_Domingues_dos_Santos.png"
						ideology = social_democrat_subtype
					}
					create_country_leader = {
						name = POR_liberato_damiao_ribeiro_pinto
						picture = "gfx/leaders/POR/Portrait_POR_Liberato_Pinto.png"
						ideology = social_liberal_subtype
					}
					create_country_leader = {
						name = POR_antonio_joaquim_granjo
						picture = "gfx/leaders/POR/Portrait_Portugal_Antonio_Granjo.png"
						ideology = market_liberal_subtype
					}
					create_country_leader = {
						name = POR_francisco_pinto_da_cunha_leal
						picture = "gfx/leaders/POR/Portrait_POR_Francisco_da_Cunha_Leal.png"
						ideology = social_conservative_subtype
					}
					create_country_leader = {
						name = POR_antonio_de_oliveira_salazar
						picture = "gfx/leaders/POR/Portrait_Portugal_Antonio_Carmona.png"
						ideology = authoritarian_democrat_subtype
					}
					create_country_leader = {
						name = POR_antonio_oscar_de_fragoso_carmona
						picture = "gfx/leaders/POR/Portrait_Portugal_Antonio_Carmona.png"
						ideology = paternal_autocrat_subtype
					}
					create_country_leader = {
						name = POR_francisco_de_barcelos_rolao_preto
						picture = "gfx/leaders/POR/Portrait_POR_Francisco_Rolao_Preto.png"
						ideology = national_populist_subtype
					}
					set_temp_variable = { tag_to_release = THIS }
				}
				POR = { set_transfer_target_cores = yes }
				release_targeted_tag = yes
			}
		}
		else = {
			set_temp_variable = { tag_to_release = POR }
			release_targeted_tag = yes
			hidden_effect = {
				var:tag_to_release = { POR_remove_monarchy = yes }
			}
		}
	}

	option = { #Restore the Portuguese monarchy
		name = annex.1089.b
		trigger = {
			NOT = { country_exists = POR }
			has_socialist_government = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				NOT = {
					is_german_tag = yes
					tag = CAN
					tag = GBR
					tag = NFA
					tag = SPK
					tag = SPR
				}
			}
		}
		set_temp_variable = { tag_to_release = POR }
		release_targeted_tag = yes
		if = {
			limit = { is_germany_or_splinter_tag = yes }
			var:tag_to_release = {
				set_cosmetic_tag = POR_monarchy
				POR_create_maria_ana = yes
				hidden_effect = { country_event = { id = por.302 days = 30 } }
			}
		}
		else = {
			var:tag_to_release = {
				set_cosmetic_tag = POR_monarchy
				POR_create_duarte = yes
				hidden_effect = { country_event = { id = por.303 days = 30 } }
			}
		}
	}

	option = { #give to SWF
		name = annex.1089.c
		trigger = {
			NOT = { tag = SWF }
			SWF = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 50
		}
		every_owned_state = {
			limit = {
				is_core_of = POR
				is_not_claim_or_core_of_ROOT = yes
			}
			SWF = {
				add_state_claim = PREV
				transfer_state = PREV
			}
		}
		recheck_annexations = yes
	}

	option = {
		name = annex.1089.d
		trigger = {
			tag = SWF
		}
		ai_chance = {
			base = 100
		}
		occupy_medium_country = yes
		add_state_claim = 112 #Lisbon
		add_state_claim = 179 #Beja
		add_state_claim = 180 #Porto
		add_state_claim = 181 #Guarda
		add_state_claim = 939 #Santarém
		add_state_claim = 697 #Madeira
		add_state_claim = 698 #Azores
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		set_country_flag = POR_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Southern France
	id = annex.1090
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1090 FROM = [From.GetName]" }
	title = annexation_SOUTHFRANCE_CONQ
	desc = annexation_SOUTHFRANCE_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = FRA
						is_claimed_by = FRA
					}
					is_european_france = no
					NOT = { state = 1 } #Corsica
				}
				remove_core_of = FRA
				remove_claim_by = FRA
			}
			817 = { retain_state = yes } #Roussillon
			if = {
				limit = { is_italian_tag = yes }
				1 = { retain_state = yes } #Corsica
				735 = { retain_state = yes } #Savoy
				762 = { retain_state = yes } #Nice
				943 = { retain_state = yes } #Upper Savoy
			}
		}
	}

	option = {
		name = annex.1090.a #Restore the Commune of France!
		ai_chance = {
			base = 1000
		}
		trigger = {
			has_socialist_government = yes
			NOT = { country_exists = FRA }
		}
		set_temp_variable = { tag_to_release = FRA }
		release_targeted_tag = yes
	}

	option = {
		name = annex.1090.b #Restore the French Republic!
		ai_chance = {
			base = 1000
		}
		trigger = {
			is_ally_with = ENT
			NOT = { country_exists = NFA }
			has_socialist_government = no
		}
		set_temp_variable = { tag_to_release = NFA }
		FRA = { set_transfer_target_cores = yes }
		transfer_targeted_territory_and_add_claims = yes
		puppet_released_tag = yes
		hidden_effect = {
			var:tag_to_release = {
				if = {
					limit = { has_completed_focus = NATFRA_Reconstruction_Commission }
					every_state = {
						limit = { is_european_france = yes }
						PREV = { activate_targeted_decision = { decision = NFA_Integrate_Metropole target = PREV } }
					}
				}
			}
		}
	}

	option = {
		name = annex.1090.c #Set up a French Puppet Government
		ai_chance = {
			base = 90
		}
		trigger = {
			has_socialist_government = no
			NOT = {
				is_ally_with = ENT
				is_ally_with = NFA
				country_exists = FRP
			}
		}
		set_temp_variable = { tag_to_release = FRP }
		FRA = { set_transfer_target_cores = yes }
		transfer_targeted_territory_and_add_cores = yes
		puppet_released_tag = yes

		if = {
			limit = { country_exists = NFA }
			reverse_add_opinion_modifier = {
				target = NFA
				modifier = occupied_france
			}
		}
	}

	option = {
		name = annex.1090.d #Give it to our French allies
		trigger = {
			var:16.owner = { #Paris
				is_french_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 10
		}
		set_temp_variable = { tag_to_release = 16.owner }
		FRA = { set_transfer_target_cores = yes }
		if = {
			limit = { var:tag_to_release = { tag = NFA } }
			transfer_targeted_territory_and_add_claims = yes
		}
		else = {
			transfer_targeted_territory_and_add_cores = yes
		}
	}

	option = { #Occupy
		name = annex.occupation
		trigger = {
			OR = {
				NOT = { is_ally_with = FRA }
				has_subject = FRA
			}
			OR = {
				NOT = { is_ally_with = NFA }
				has_subject = NFA
			}
		}
		ai_chance = { base = 0 }
		occupy_medium_country = yes
		set_country_flag = SOUTHFRANCE_CONQ
		if = {
			limit = { country_exists = NFA }
			reverse_add_opinion_modifier = {
				target = NFA
				modifier = occupied_france
			}
		}
	}
}

country_event = { #Fate of Corsica
	id = annex.1091
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1091 FROM = [From.GetName]" }
	title = annexation_CORSICA_CONQ
	desc = annexation_CORSICA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		1 = { clear_retain_state = yes }
	}

	option = {
		name = annex.1091.a #Give to France
		trigger = {
			OR = {
				FRA = { is_ally_of_ROOT = yes }
				NFA = { is_ally_of_ROOT = yes }
				FRP = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 50
		}
		random_other_country = {
			limit = {
				is_french_tag = yes
				is_ally_with = ROOT
			}
			add_state_core = 1
			transfer_state = 1
		}
		recheck_annexations = yes
	}

	option = {
		name = annex.1091.b #Give to Italian Allies
		trigger = {
			OR = {
				SRD = { is_ally_of_ROOT = yes }
				TUS = { is_ally_of_ROOT = yes }
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
				SIC = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 50
		}
		random_other_country = {
			limit = {
				OR = {
					tag = SRD
					tag = TUS
					tag = ITA
					tag = SRI
					tag = SIC
				}
				is_ally_with = ROOT
			}
			add_state_claim = 1
			transfer_state = 1
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.occupation
		ai_chance = { base = 0 }
		set_country_flag = CORSICA_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Italy
	id = annex.1092
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1092 FROM = [From.GetName]" }
	title = annexation_ITA_CONQ
	desc = annexation_ITA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = ITA_CONQ
			if = {
				limit = { tag = AUS }
				every_state = {
					limit = {
						OR = {
							state = 488 #Trieste
							state = 783 #Trentino
							state = 683 #Gorizia
							state = 736 #Istria
						}
						is_claim_or_core_of_ROOT = no
					}
					add_claim_by = ROOT
				}
			}
		}
	}

	option = {
		name = annex.1092.a #Release as Italy
		trigger = {
			has_socialist_government = no
			NOT = {
				tag = AUS
				has_government = authoritarian_democrat
				country_exists = ITA
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 95
			modifier = {
				factor = 0
				OR = {
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
				}
			}
		}
		clr_country_flag = ITA_CONQ
		set_temp_variable = { tag_to_release = ITA }

		# restore initial cores if they were removed
		hidden_effect = {
			159 = { remove_claim_and_add_core_of_target = yes } #Lombardy
			160 = { remove_claim_and_add_core_of_target = yes } #Venice
			759 = { remove_claim_and_add_core_of_target = yes } #Friuli
			every_state = {
				limit = {
					is_european_italy = yes
					NOT = { is_core_of = var:tag_to_release }
				}
				add_claim_by = var:tag_to_release
			}
		}

		every_owned_state = {
			limit = {
				is_european_italy = yes
				is_not_claim_or_core_of_ROOT = yes
			}
			transfer_state_to = var:tag_to_release
		}
		every_country = {
			limit = {
				is_ai = yes
				is_subject_of = ROOT
				is_italian_tag = yes
			}
			hidden_effect = { every_unit_leader = { set_nationality = var:tag_to_release } }
			var:tag_to_release = {
				annex_country = { target = PREV transfer_troops = yes }
			}
		}

		reverse_add_opinion_modifier = { target = ITA modifier = KR_liberated_us }
		puppet_released_tag = yes

		hidden_effect = {
			var:tag_to_release = {
				if = {
					limit = {
						has_government = national_populist
						NOT = { has_idea = ITA_republic_federation }
						NOT = { has_completed_focus = ITA_destroy_austrian_influence }
					}
					add_ideas = ITA_republic_federation
				}
				if = {
					limit = {
						has_government = national_populist
						NOT = { has_idea = ITA_republic_unitary }
						has_completed_focus = ITA_destroy_austrian_influence
					}
					add_ideas = ITA_republic_unitary
				}
				if = {
					limit = {
						has_government = national_populist
						has_idea = ITA_republic_unitary
						has_completed_focus = ITA_centralized_power
					}
					remove_ideas = ITA_republic_unitary
				}
				if = {
					limit = {
						NOT = { has_government = national_populist }
						NOT = { has_idea = ITA_republic_federation }
						NOT = {
							has_completed_focus = ITA_nationalist_question
							has_completed_focus = ITA_stable_democracy
						}
					}
					add_ideas = ITA_republic_federation
				}
				if = {
					limit = { has_idea = ITA_federation_transition }
					remove_ideas = ITA_federation_transition
				}
				if = {
					limit = { has_idea = ITA_federation_secure }
					remove_ideas = ITA_federation_secure
				}
				if = {
					limit = { owns_state = 2 } #Rome
					set_capital = { state = 2 remember_old_capital = no }
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
	option = {
		name = annex.1092.m #Release as Italian Federation
		trigger = {
			has_socialist_government = no
			OR = {
				tag = AUS
				has_government = authoritarian_democrat
			}
			NOT = {
				country_exists = ITA
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 95
			modifier = {
				factor = 0
				NOT = { tag = AUS }
				OR = {
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
				}
			}
		}
		clr_country_flag = ITA_CONQ
		set_temp_variable = { tag_to_release = ITA }

		# restore initial cores if they were removed
		hidden_effect = {
			159 = { remove_claim_and_add_core_of_target = yes } #Lombardy
			160 = { remove_claim_and_add_core_of_target = yes } #Venice
			759 = { remove_claim_and_add_core_of_target = yes } #Friuli
			every_state = {
				limit = {
					is_european_italy = yes
					NOT = { is_core_of = var:tag_to_release }
				}
				add_claim_by = var:tag_to_release
			}
		}

		every_owned_state = {
			limit = {
				is_european_italy = yes
				is_not_claim_or_core_of_ROOT = yes
			}
			transfer_state_to = var:tag_to_release
		}
		every_country = {
			limit = {
				is_ai = yes
				is_subject_of = ROOT
				is_italian_tag = yes
			}
			hidden_effect = { every_unit_leader = { set_nationality = var:tag_to_release } }
			var:tag_to_release = {
				annex_country = { target = PREV transfer_troops = yes }
			}
		}
		reverse_add_opinion_modifier = { target = ITA modifier = KR_liberated_us }
		puppet_released_tag = yes

		hidden_effect = {
			var:tag_to_release = {
				set_politics = {
					ruling_party = authoritarian_democrat
					elections_allowed = no
				}
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = 0.2
				}
				if = {
					limit = { has_idea = ITA_republic_federation }
					remove_ideas = ITA_republic_federation
				}
				if = {
					limit = {
						NOT = { has_idea = ITA_federation_transition }
						NOT = { has_completed_focus = ITA_stable_institutions }
					}
					add_ideas = ITA_federation_transition
				}
				if = {
					limit = {
						NOT = { has_idea = ITA_federation_secure }
						has_completed_focus = ITA_stable_institutions
					}
					add_ideas = ITA_federation_secure
				}
				if = {
					limit = { owns_state = 2 } #Rome
					set_capital = { state = 2 remember_old_capital = no }
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
	option = {
		name = annex.1092.b #Release as SRI
		trigger = {
			has_socialist_government = yes
			NOT = {
				country_exists = SRI
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 95
			modifier = {
				factor = 0
				OR = {
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
				}
			}
		}
		clr_country_flag = ITA_CONQ
		set_temp_variable = { tag_to_release = SRI }

		# restore initial cores if they were removed
		hidden_effect = {
			157 = { remove_claim_and_add_core_of_target = yes } #Marches
			158 = { remove_claim_and_add_core_of_target = yes } #Piedmont
			161 = { remove_claim_and_add_core_of_target = yes } #Romagna
			162 = { remove_claim_and_add_core_of_target = yes } #Tuscany
			764 = { remove_claim_and_add_core_of_target = yes } #Viterbo
			838 = { remove_claim_and_add_core_of_target = yes } #Liguria
			1003 = { remove_claim_and_add_core_of_target = yes } #Aosta Valley
			1004 = { remove_claim_and_add_core_of_target = yes } #Emilia
			1005 = { remove_claim_and_add_core_of_target = yes } #Umbria
			every_state = {
				limit = {
					is_european_italy = yes
					NOT = { is_core_of = var:tag_to_release }
				}
				add_claim_by = var:tag_to_release
			}
		}
		reverse_add_opinion_modifier = { target = SRI modifier = KR_liberated_us }
		release_targeted_tag = yes
		every_country = {
			limit = {
				is_ai = yes
				is_subject_of = ROOT
				is_italian_tag = yes
			}
			hidden_effect = { every_unit_leader = { set_nationality = SRI } }
			var:tag_to_release = {
				annex_country = { target = PREV transfer_troops = yes }
			}
		}
		var:tag_to_release = {
			if = {
				limit = { owns_state = 2 } #Rome
				set_capital = { state = 2 remember_old_capital = no }
			}
		}

	}
	option = {
		name = annex.1092.c #Give to ITA allies
		trigger = {
			ITA = { is_ally_of_ROOT = yes }
			NOT = { tag = ITA }
		}
		ai_chance = {
			base = 95
		}
		clr_country_flag = ITA_CONQ

		reverse_add_opinion_modifier = { target = ITA modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				is_european_italy = yes
				is_not_claim_or_core_of_ROOT = yes
			}
			transfer_state_to = ITA
		}
	}
	option = {
		name = annex.1092.e #Give to SRI allies
		trigger = {
			SRI = { is_ally_of_ROOT = yes }
			NOT = { tag = SRI }
		}
		ai_chance = {
			base = 95
		}
		clr_country_flag = ITA_CONQ

		reverse_add_opinion_modifier = { target = SRI modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				is_european_italy = yes
				is_not_claim_or_core_of_ROOT = yes
			}
			transfer_state_to = SRI
		}
	}
	option = {
		name = annex.1092.f #Give to SIC allies
		trigger = {
			SIC = { is_ally_of_ROOT = yes }
			NOT = { tag = SIC }
		}
		ai_chance = {
			base = 95
			modifier = {
				factor = 0.5
				is_in_faction_with = SRD
			}
			modifier = {
				factor = 0.1
				OR = {
					is_in_faction_with = ITA
					is_in_faction_with = SRI
				}
			}
		}
		clr_country_flag = ITA_CONQ

		reverse_add_opinion_modifier = { target = SIC modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				is_european_italy = yes
				is_not_claim_or_core_of_ROOT = yes
			}
			transfer_state_to = SIC
		}
	}
	option = {
		name = annex.1092.g #Give to SRD allies
		trigger = {
			NOT = { tag = SRD }
			SRD = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 95
			modifier = {
				factor = 0.1
				OR = {
					is_in_faction_with = ITA
					is_in_faction_with = SRI
				}
			}
		}
		clr_country_flag = ITA_CONQ

		reverse_add_opinion_modifier = { target = SRD modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				is_european_italy = yes
				is_not_claim_or_core_of_ROOT = yes
			}
			transfer_state_to = SRD
		}
	}
	option = {
		name = annex.1092.h #Offer to ITA
		trigger = {
			is_faction_leader = yes
			has_socialist_government = no
			ITA = {
				exists = yes
				is_subject = no
				NOT = { is_faction_leader = yes }
				controls_all_owned_states = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
				NOT = { has_country_flag = offered_italy_@ROOT }
			}
			NOT = {
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
				SRD = { is_ally_of_ROOT = yes }
				SIC = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 50
		}
		ITA = {
			set_country_flag = offered_italy_@ROOT
			set_country_flag = offering_italy
			country_event = annex.281
		}
	}
	option = {
		name = annex.1092.i #Offer to SRD
		trigger = {
			is_faction_leader = yes
			has_socialist_government = no
			158 = {
				OR = {
					is_owned_and_controlled_by = ROOT
					is_owned_and_controlled_by = SRD
				}
			}
			SRD = {
				exists = yes
				is_subject = no
				NOT = { is_faction_leader = yes }
				controls_all_owned_states = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
				NOT = { has_country_flag = offered_italy_@ROOT }
			}
			NOT = {
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
				SRD = { is_ally_of_ROOT = yes }
				SIC = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 50
		}
		SRD = {
			set_country_flag = offered_italy_@ROOT
			set_country_flag = offering_italy
			country_event = annex.281
		}
	}
	option = {
		name = annex.1092.j #Offer to SIC
		trigger = {
			is_faction_leader = yes
			has_socialist_government = no
			SIC = {
				exists = yes
				is_subject = no
				NOT = { is_faction_leader = yes }
				controls_all_owned_states = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
				NOT = { has_country_flag = offered_italy_@ROOT }
			}
			NOT = {
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
				SRD = { is_ally_of_ROOT = yes }
				SIC = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 50
		}
		SIC = {
			set_country_flag = offered_italy_@ROOT
			set_country_flag = offering_italy
			country_event = annex.281
		}
	}
	option = {
		name = annex.1092.k #We'll decide what to do with each region separately
		trigger = {
			has_socialist_government = no
		}
		ai_chance = {
			base = 5
		}
		set_country_flag = { flag = KR_will_balkanize_italy days = 100 value = 1 }
		custom_effect_tooltip = will_balkanize_italy
		recheck_annexations_immediate = yes
	}
	option = {
		name = annex.occupation
		ai_chance = { base = 0 }
		occupy_large_country = yes
	}
}

country_event = { #Fate of the Aosta Valley
	id = annex.1093
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1093 FROM = [From.GetName]" }
	title = annexation_AOSTA_CONQ
	desc = annexation_AOSTA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #Return to SRD
		name = annex.1093.a
		trigger = {
			SRD = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				NOT = { is_ally_with = SRD }
			}
			modifier = {
				factor = 10
				SRD = { is_ally_of_ROOT = yes }
			}
		}
		SRD = { transfer_state = 1003 }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			is_french_tag = yes
		}
		ai_chance = {
			base = 10
		}
		add_political_power = -75
		add_state_claim = 1003
		recheck_annexations = yes
	}
}

country_event = { #Fate of Piedmont
	id = annex.1094
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1094 FROM = [From.GetName]" }
	title = annexation_PIEDMONT_CONQ
	desc = annexation_PIEDMONT_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = {
		name = annex.1092.b #Release as SRI
		trigger = {
			has_socialist_government = yes
			NOT = { country_exists = SRI }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		set_temp_variable = { tag_to_release = SRI }

		# restore initial cores if they were removed
		hidden_effect = {
			157 = { remove_claim_and_add_core_of_target = yes } #Marches
			158 = { remove_claim_and_add_core_of_target = yes } #Piedmont
			161 = { remove_claim_and_add_core_of_target = yes } #Romagna
			162 = { remove_claim_and_add_core_of_target = yes } #Tuscany
			764 = { remove_claim_and_add_core_of_target = yes } #Viterbo
			838 = { remove_claim_and_add_core_of_target = yes } #Liguria
			1003 = { remove_claim_and_add_core_of_target = yes } #Aosta Valley
			1004 = { remove_claim_and_add_core_of_target = yes } #Emilia
			1005 = { remove_claim_and_add_core_of_target = yes } #Umbria
			every_state = {
				limit = {
					is_european_italy = yes
					NOT = { is_core_of = var:tag_to_release }
				}
				add_claim_by = var:tag_to_release
			}
		}
		release_targeted_tag = yes
	}
	option = {
		name = annex.1094.a #Release as SRD
		trigger = {
			has_socialist_government = no
			NOT = { country_exists = SRD }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		# restore initial cores if they were removed
		set_temp_variable = { tag_to_release = SRD }
		hidden_effect = {
			114 = { remove_claim_and_add_core_of_target = yes } #Sardinia
			158 = { remove_claim_and_add_core_of_target = yes } #Piedmont
			735 = { remove_claim_and_add_core_of_target = yes } #Savoy
			762 = { remove_claim_and_add_core_of_target = yes } #Nice
			838 = { remove_claim_and_add_core_of_target = yes } #Liguria
			943 = { remove_claim_and_add_core_of_target = yes } #Upper Savoy
			1003 = { remove_claim_and_add_core_of_target = yes } #Aosta Valley
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 1003 #Aosta Valley
					state = 158 #Piedmont
					state = 838 #Liguria
					state = 114 #Sardinia
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_without_overriding_occupation = yes
		}
		puppet_released_tag = yes
		if = {
			limit = {
				OR = {
					owns_state = 158 #for the tooltip
					SRD = { owns_state = 158 }
				}
				NOT = { SRD = { has_cosmetic_tag = SRD_piedmont } }
			}
			SRD = { set_cosmetic_tag = SRD_piedmont }
		}
		reverse_add_opinion_modifier = { target = SRD modifier = KR_liberated_us }
		hidden_effect = { SRD = { SRD_restore_amedeo = yes } }
	}
	option = {
		name = annex.1092.i #Offer to SRD
		trigger = {
			is_faction_leader = yes
			has_socialist_government = no
			838 = {
				is_owned_and_controlled_by = ROOT
				is_not_claim_or_core_of_ROOT = yes
			}
			SRD = {
				exists = yes
				is_subject = no
				NOT = { is_faction_leader = yes }
				controls_all_owned_states = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
				NOT = { has_country_flag = offered_piedmont_@ROOT }
			}
			NOT = {
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
				SRD = { is_ally_of_ROOT = yes }
				SIC = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 50
		}
		SRD = {
			set_country_flag = offered_piedmont_@ROOT
			set_country_flag = offering_piedmont
			country_event = annex.281
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.c #Give to ITA allies
		trigger = {
			NOT = { tag = ITA }
			NOT = { has_country_flag = SIC_confed }
			ITA = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.5
				SRD = { is_ally_of_ROOT = yes }
			}
		}

		reverse_add_opinion_modifier = { target = ITA modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 1003 #Aosta Valley
					state = 158 #Piedmont
					state = 838 #Liguria
				}
			}
			transfer_state_to = ITA
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.e #Give to SRI allies
		trigger = {
			NOT = { tag = SRI }
			NOT = { has_country_flag = SIC_confed }
			SRI = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 100
		}

		reverse_add_opinion_modifier = { target = SRI modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 1003 #Aosta Valley
					state = 158 #Piedmont
					state = 838 #Liguria
				}
			}
			transfer_state_to = SRI
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.f #Give to SIC allies
		trigger = {
			NOT = { tag = SIC }
			NOT = { has_country_flag = SIC_confed }
			SIC = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 4
				SIC = { has_country_flag = SIC_empire }
			}
			modifier = {
				factor = 0
				SRD = { is_ally_of_ROOT = yes }
			}
		}

		reverse_add_opinion_modifier = { target = SIC modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 1003 #Aosta Valley
					state = 158 #Piedmont
					state = 838 #Liguria
				}
			}
			transfer_state_to = SIC
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.g #Give to SRD allies
		trigger = {
			NOT = { tag = SRD }
			NOT = { has_country_flag = SIC_confed }
			SRD = { is_ally_of_ROOT = yes }
			NOT = {
				AND = {
					tag = SIC
					NOT = { has_country_flag = SIC_empire }
					controls_all_owned_states = yes
					SRD = {
						exists = yes
						is_subject = no
						NOT = {
							has_war_with = ROOT
							has_country_flag = ITA_refuse_join_@ROOT
						}
						controls_all_owned_states = yes
					}
				}
			}
		}
		ai_chance = {
			base = 200
		}

		reverse_add_opinion_modifier = { target = SRD modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				is_not_claim_or_core_of_ROOT = yes
				OR = {
					state = 1003 #Aosta Valley
					state = 158 #Piedmont
					state = 838 #Liguria
					state = 762 #Nice
					state = 735 #Savoy
					state = 943 #Upper Savoy
				}
			}
			if = {
				limit = {
					NOT = {
						is_claimed_by = SRD
						is_core_of = SRD
					}
				}
				add_claim_by = SRD
			}
			transfer_state_to = SRD
		}
		recheck_annexations = yes
	}
	option = {
		name = SIC_offer_piedmont_to_SRD #Make a deal with SRD
		trigger = {
			tag = SIC
			NOT = { has_country_flag = SIC_empire }
			controls_all_owned_states = yes
			SRD = {
				exists = yes
				is_subject = no
				NOT = {
					has_war_with = ROOT
					has_country_flag = ITA_refuse_join_@ROOT
				}
				controls_all_owned_states = yes
			}
		}
		SRD = { country_event = sic.100 }
		recheck_annexations = yes
	}
	option = {
		name = annex.occupation
		trigger = {
			NOT = { has_country_flag = SIC_confed }
		}
		ai_chance = { base = 0 }
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Lombardy
	id = annex.1095
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1095 FROM = [From.GetName]" }
	title = annexation_LOM_CONQ
	desc = annexation_LOM_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			LOM = {
				if = {
					limit = { has_character = ITA_adriano_visconti }
					ITA_adriano_visconti = {
						set_character_name = ITA_adriano_visconti
						remove_all_country_leader_roles = yes
						set_nationality = ITA
					}
				}
			}
		}
	}

	option = {
		name = annex.1092.a #Release as ITA
		trigger = {
			160 = { #Venice
				is_owned_and_controlled_by = ROOT
				is_not_claim_or_core_of_ROOT = yes
			}
			has_socialist_government = no
			NOT = {
				tag = AUS
				has_government = authoritarian_democrat
				country_exists = ITA
				is_italian_tag = yes
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 50
		}
		set_temp_variable = { tag_to_release = ITA }

		# restore initial cores if they were removed
		hidden_effect = {
			159 = { remove_claim_and_add_core_of_target = yes } #Lombardy
			160 = { remove_claim_and_add_core_of_target = yes } #Venice
			759 = { remove_claim_and_add_core_of_target = yes } #Friuli
			every_state = {
				limit = {
					is_european_italy = yes
					NOT = { is_core_of = var:tag_to_release }
				}
				add_claim_by = var:tag_to_release
			}
		}

		every_owned_state = {
			limit = {
				OR = {
					state = 159
					state = 160
					state = 759
				}
				is_not_claim_or_core_of_ROOT = yes
			}
			transfer_state_to = var:tag_to_release
		}
		reverse_add_opinion_modifier = { target = ITA modifier = KR_liberated_us }
		puppet_released_tag = yes
		hidden_effect = {
			ITA = {
				if = {
					limit = {
						has_government = national_populist
						NOT = { has_idea = ITA_republic_federation }
						NOT = { has_completed_focus = ITA_destroy_austrian_influence }
					}
					add_ideas = ITA_republic_federation
				}
				if = {
					limit = {
						has_government = national_populist
						NOT = { has_idea = ITA_republic_unitary }
						has_completed_focus = ITA_destroy_austrian_influence
					}
					add_ideas = ITA_republic_unitary
				}
				if = {
					limit = {
						has_government = national_populist
						has_idea = ITA_republic_unitary
						has_completed_focus = ITA_centralized_power
					}
					remove_ideas = ITA_republic_unitary
				}
				if = {
					limit = {
						NOT = { has_government = national_populist }
						NOT = { has_idea = ITA_republic_federation }
						NOT = {
							has_completed_focus = ITA_nationalist_question
							has_completed_focus = ITA_stable_democracy
						}
					}
					add_ideas = ITA_republic_federation
				}
				if = {
					limit = { has_idea = ITA_federation_transition }
					remove_ideas = ITA_federation_transition
				}
				if = {
					limit = { has_idea = ITA_federation_secure }
					remove_ideas = ITA_federation_secure
				}
			}
		}
	}
	option = {
		name = annex.1092.m #Release as Italian Federation
		trigger = {
			has_socialist_government = no
			OR = {
				tag = AUS
				has_government = authoritarian_democrat
			}
			NOT = {
				country_exists = ITA
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
				is_italian_tag = yes
				AND = {
					tag = AUS
					country_exists = VNC
					VNC = {
						has_country_flag = VNC_accepted_austrian_help
						has_country_flag = VNC_republican_revolt
					}
				}
			}
		}
		ai_chance = {
			base = 95
			modifier = {
				factor = 0
				NOT = { tag = AUS }
				OR = {
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
				}
			}
		}
		set_temp_variable = { tag_to_release = ITA }

		# restore initial cores if they were removed
		hidden_effect = {
			159 = { remove_claim_and_add_core_of_target = yes } #Lombardy
			160 = { remove_claim_and_add_core_of_target = yes } #Venice
			759 = { remove_claim_and_add_core_of_target = yes } #Friuli
			every_state = {
				limit = {
					is_european_italy = yes
					NOT = { is_core_of = var:tag_to_release }
				}
				add_claim_by = var:tag_to_release
			}
		}

		every_owned_state = {
			limit = {
				OR = {
					state = 159
					state = 160
					state = 759
				}
				is_not_claim_or_core_of_ROOT = yes
			}
			transfer_state_to = var:tag_to_release
		}
		every_subject_country = {
			limit = {
				is_ai = yes
				is_italian_tag = yes
			}
			every_unit_leader = { set_nationality = ITA }
			ITA = {
				annex_country = { target = PREV transfer_troops = yes }
			}
		}

		reverse_add_opinion_modifier = { target = ITA modifier = KR_liberated_us }
		puppet_released_tag = yes

		hidden_effect = {
			ITA = {
				set_politics = {
					ruling_party = authoritarian_democrat
					elections_allowed = no
				}
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = 0.2
				}
				if = {
					limit = { has_idea = ITA_republic_federation }
					remove_ideas = ITA_republic_federation
				}
				if = {
					limit = {
						NOT = { has_idea = ITA_federation_transition }
						NOT = { has_completed_focus = ITA_stable_institutions }
					}
					add_ideas = ITA_federation_transition
				}
				if = {
					limit = {
						NOT = { has_idea = ITA_federation_secure }
						has_completed_focus = ITA_stable_institutions
					}
					add_ideas = ITA_federation_secure
				}
				if = {
					limit = {
						ROOT = { tag = AUS }
						NOT = { TUS = { has_character = ITA_pietro_ferdinando } }
					}
					ITA_pietro_ferdinando = { set_nationality = PREV }
					ITA_pietro_ferdinando = {
						set_character_name = ITA_pietro_ferdinando
						if = {
							limit = { has_ideology = authoritarian_democrat_subtype }
							promote_character = authoritarian_democrat_subtype
						}
						else = {
							add_country_leader_role = {
								country_leader = { ideology = authoritarian_democrat_subtype }
								promote_leader = yes
							}
						}
					}
				}
				else_if = {
					limit = { NOT = { LOM = { has_character = ITA_adriano_visconti } } }
					ITA_adriano_visconti = { set_nationality = PREV }
					ITA_adriano_visconti = {
						set_character_name = ITA_adriano_visconti
						if = {
							limit = { has_ideology = authoritarian_democrat_subtype }
							promote_character = authoritarian_democrat_subtype
						}
						else = {
							add_country_leader_role = {
								country_leader = { ideology = authoritarian_democrat_subtype }
								promote_leader = yes
							}
						}
					}
				}
				else_if = {
					limit = { NOT = { country_exists = VNC } }
					VNC = { VNC_giuseppe_volpi = { set_nationality = PREV.PREV } }
					if = {
						limit = { has_character = VNC_giuseppe_volpi }
						VNC_giuseppe_volpi = {
							if = {
								limit = { has_ideology = authoritarian_democrat_subtype }
								promote_character = authoritarian_democrat_subtype
							}
							else = {
								add_country_leader_role = {
									country_leader = { ideology = authoritarian_democrat_subtype }
									promote_leader = yes
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = annex.1092.b #Release as SRI
		trigger = {
			has_socialist_government = yes
			NOT = {
				country_exists = SRI
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 95
			modifier = {
				factor = 0
				OR = {
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
				}
			}
		}
		set_temp_variable = { tag_to_release = SRI }

		# restore initial cores if they were removed
		hidden_effect = {
			157 = { remove_claim_and_add_core_of_target = yes } #Marches
			158 = { remove_claim_and_add_core_of_target = yes } #Piedmont
			161 = { remove_claim_and_add_core_of_target = yes } #Romagna
			162 = { remove_claim_and_add_core_of_target = yes } #Tuscany
			764 = { remove_claim_and_add_core_of_target = yes } #Viterbo
			838 = { remove_claim_and_add_core_of_target = yes } #Liguria
			1003 = { remove_claim_and_add_core_of_target = yes } #Aosta
			1004 = { remove_claim_and_add_core_of_target = yes } #Emilia
			1005 = { remove_claim_and_add_core_of_target = yes } #Umbria
			every_state = {
				limit = {
					is_european_italy = yes
					NOT = { is_core_of = var:tag_to_release }
				}
				add_claim_by = var:tag_to_release
			}
		}
		reverse_add_opinion_modifier = { target = SRI modifier = KR_liberated_us }
		release_targeted_tag = yes
		every_subject_country = {
			limit = {
				is_ai = yes
				is_italian_tag = yes
			}
			hidden_effect = { every_unit_leader = { set_nationality = SRI } }
			var:tag_to_release = {
				annex_country = { target = PREV transfer_troops = yes }
			}
		}

	}
	option = {
		name = annex.1095.a #Release as LOM duchy
		trigger = {
			has_socialist_government = no
			OR = {
				tag = AUS
				tag = GER
				tag = SIC
				tag = SRD
				has_government = authoritarian_democrat
			}
			NOT = {
				AND = {
					tag = AUS
					country_exists = VNC
					VNC = {
						has_country_flag = VNC_accepted_austrian_help
						has_country_flag = VNC_republican_revolt
					}
				}
			}
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				is_italian_tag = no
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		hidden_effect = {
			ITA = {
				ITA_adriano_visconti = { set_nationality = LOM }
				every_character = {
					limit = { has_character_flag = ITA_lombard_leader }
					set_nationality = LOM
				}
			}
			LOM = {
				every_character = {
					limit = { has_character_flag = ITA_lombard_leader }
					promote_character = yes
				}
				if = {
					limit = { has_character = ITA_adriano_visconti }
					ITA_adriano_visconti = {
						if = {
							limit = { has_ideology = authoritarian_democrat_subtype }
							promote_character = authoritarian_democrat_subtype
						}
						else = {
							add_country_leader_role = {
								country_leader = {
									desc = ITA_adriano_visconti_leader_desc
									ideology = authoritarian_democrat_subtype
								}
								promote_leader = yes
							}
						}
					}
				}
			}
		}

		LOM = {
			add_state_core = 159
			transfer_state = 159
		}
		reverse_add_opinion_modifier = { target = LOM modifier = KR_liberated_us }
		set_temp_variable = { tag_to_release = LOM }
		puppet_released_tag = yes

		hidden_effect = {
			LOM = {
				if = {
					limit = {
						NOT = {
							has_government = authoritarian_democrat
							has_country_flag = LOM_constitutional_monarchy
						}
					}
					set_politics = {
						ruling_party = authoritarian_democrat
						elections_allowed = no
					}
					add_popularity = { ideology = authoritarian_democrat popularity = 0.20 }
				}
			}
		}
	}

	option = {
		name = annex.1095.c #Release as LOM republic
		trigger = {
			has_socialist_government = no
			NOT = {
				tag = AUS
				tag = GER
				tag = SIC
				tag = SRD
				has_government = authoritarian_democrat
			}
			NOT = {
				AND = {
					tag = AUS
					country_exists = VNC
					VNC = {
						has_country_flag = VNC_accepted_austrian_help
						has_country_flag = VNC_republican_revolt
					}
				}
			}
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				is_italian_tag = no
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		set_temp_variable = { tag_to_release = LOM }
		LOM = {
			add_state_core = 159
			transfer_state = 159
		}
		reverse_add_opinion_modifier = { target = LOM modifier = KR_liberated_us }
		puppet_released_tag = yes

		hidden_effect = {
			ITA = {
				ITA_adriano_visconti = { set_nationality = var:tag_to_release }
				every_character = {
					limit = { has_character_flag = ITA_lombard_leader }
					set_nationality = LOM
				}
			}
			LOM = {
				every_character = {
					limit = { has_character_flag = ITA_lombard_leader }
					promote_character = yes
				}
				if = {
					limit = { has_character = ITA_adriano_visconti }
					ITA_adriano_visconti = {
						if = {
							limit = { has_ideology = authoritarian_democrat_subtype }
							promote_character = authoritarian_democrat_subtype
						}
						else = {
							add_country_leader_role = {
								country_leader = {
									desc = ITA_adriano_visconti_leader_desc
									ideology = authoritarian_democrat_subtype
								}
								promote_leader = yes
							}
						}
					}
				}
				if = {
					limit = { has_country_flag = LOM_constitutional_monarchy }
					clr_country_flag = LOM_constitutional_monarchy
				}
				if = {
					limit = { has_elected_government = no }
					set_politics = {
						ruling_party = social_liberal
						elections_allowed = no
					}
					add_popularity = { ideology = social_liberal popularity = 0.20 }
				}
			}
			ITA = {
			}
		}
	}
	option = {
		name = annex.1092.c #Give to ITA allies
		trigger = {
			NOT = { tag = ITA }
			NOT = { has_country_flag = SIC_confed }
			ITA = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 200
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		reverse_add_opinion_modifier = { target = ITA modifier = KR_returned_land }
		ITA = { transfer_state = 159 }
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.e #Give to SRI allies
		trigger = {
			NOT = { tag = SRI }
			NOT = { has_country_flag = SIC_confed }
			SRI = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		reverse_add_opinion_modifier = { target = SRI modifier = KR_returned_land }
		SRI = { transfer_state = 159 }
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.f #Give to SIC allies
		trigger = {
			NOT = { tag = SIC }
			NOT = { has_country_flag = SIC_confed }
			SIC = { is_ally_of_ROOT = yes }
			NOT = {
				AND = {
					tag = AUS
					country_exists = VNC
					VNC = {
						has_country_flag = VNC_accepted_austrian_help
						has_country_flag = VNC_republican_revolt
					}
				}
			}
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 4
				SIC = { has_country_flag = SIC_empire }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		reverse_add_opinion_modifier = { target = SIC modifier = KR_returned_land }
		SIC = { transfer_state = 159 }
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.g #Give to SRD allies
		trigger = {
			NOT = { tag = SRD }
			NOT = { has_country_flag = SIC_confed }
			SRD = { is_ally_of_ROOT = yes }
			NOT = {
				AND = {
					tag = AUS
					country_exists = VNC
					VNC = {
						has_country_flag = VNC_accepted_austrian_help
						has_country_flag = VNC_republican_revolt
					}
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				SRD = { has_cosmetic_tag = SRD_ITA }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		reverse_add_opinion_modifier = { target = SRD modifier = KR_returned_land }
		SRD = { transfer_state = 159 }
		recheck_annexations = yes
	}
	option = {
		name = annex.1095.b #Give to VNC
		trigger = {
			tag = AUS
			country_exists = VNC
			VNC = {
				has_country_flag = VNC_accepted_austrian_help
				has_country_flag = VNC_republican_revolt
			}
		}
		VNC = { transfer_state = 159 }
		recheck_annexations = yes
	}
	option = {
		name = annex.occupation
		trigger = {
			NOT = { has_country_flag = SIC_confed }
		}
		set_country_flag = LOM_CONQ
		ai_chance = { base = 0 }
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Venice
	id = annex.1096
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1096 FROM = [From.GetName]" }
	title = annexation_VNC_CONQ
	desc = annexation_VNC_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = VNC_CONQ
		}
	}

	option = {
		name = annex.1096.a #Release as VNC
		trigger = {
			has_socialist_government = no
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				is_italian_tag = no
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		clr_country_flag = VNC_CONQ

		hidden_effect = {
			VNC = {
				add_state_core = 160
				add_state_core = 759
			}
		}

		every_owned_state = {
			limit = {
				is_core_of = VNC
				is_not_claim_or_core_of_ROOT = yes
			}
			transfer_state_to = VNC
		}

		reverse_add_opinion_modifier = { target = VNC modifier = KR_liberated_us }
		set_temp_variable = { tag_to_release = VNC }
		puppet_released_tag = yes

		hidden_effect = {
			if = {
				limit = { ITA = { has_character = VNC_giuseppe_volpi } }

				VNC = {
					VNC_giuseppe_volpi = { set_nationality = PREV }
					if = {
						limit = { has_character = VNC_giuseppe_volpi }
						VNC_giuseppe_volpi = {
							if = {
								limit = { has_ideology = paternal_autocrat_subtype }
								promote_character = paternal_autocrat_subtype
							}
							else = {
								add_country_leader_role = {
									country_leader = { ideology = paternal_autocrat_subtype }
									promote_leader = yes
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = annex.1092.c #Give to ITA allies
		trigger = {
			NOT = { tag = ITA }
			NOT = { has_country_flag = SIC_confed }
			ITA = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 200
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		clr_country_flag = VNC_CONQ

		reverse_add_opinion_modifier = { target = ITA modifier = KR_returned_land }

		ITA = { transfer_state = 160 }

		if = {
			limit = {
				759 = {
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
			}
			ITA = { transfer_state = 759 }
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.e #Give to SRI allies
		trigger = {
			NOT = { tag = SRI }
			NOT = { has_country_flag = SIC_confed }
			SRI = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		clr_country_flag = VNC_CONQ

		reverse_add_opinion_modifier = { target = SRI modifier = KR_returned_land }

		SRI = { transfer_state = 160 }

		if = {
			limit = {
				759 = {
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
			}
			SRI = { transfer_state = 759 }
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.f #Give to SIC allies
		trigger = {
			NOT = { tag = SIC }
			NOT = { has_country_flag = SIC_confed }
			SIC = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 4
				SIC = { has_country_flag = SIC_empire }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		clr_country_flag = VNC_CONQ

		reverse_add_opinion_modifier = { target = SIC modifier = KR_returned_land }

		SIC = { transfer_state = 160 }

		if = {
			limit = {
				759 = {
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
			}
			SIC = { transfer_state = 759 }
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.g #Give to SRD allies
		trigger = {
			NOT = { tag = SRD }
			NOT = { has_country_flag = SIC_confed }
			SRD = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				SRD = { has_cosmetic_tag = SRD_ITA }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		clr_country_flag = VNC_CONQ

		reverse_add_opinion_modifier = { target = SRD modifier = KR_returned_land }

		SRD = { transfer_state = 160 }

		if = {
			limit = {
				759 = {
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
			}
			SRD = { transfer_state = 759 }
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.occupation
		trigger = {
			NOT = { has_country_flag = SIC_confed }
		}
		ai_chance = { base = 0 }
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Emilia
	id = annex.1097
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1097 FROM = [From.GetName]" }
	title = annexation_EMI_CONQ
	desc = annexation_EMI_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = EMI_CONQ
		}
	}

	option = {
		name = annex.1097.a #Release as EMI
		trigger = {
			has_socialist_government = no
			NOT = {
				tag = SPK
				tag = SIC
				AND = {
					tag = NFA
					NFA_has_monarchy = yes
				}
			}
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				is_italian_tag = no
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		clr_country_flag = EMI_CONQ

		hidden_effect = {
			EMI = {
				add_state_core = 1004
			}
		}

		EMI = { transfer_state = 1004 }
		reverse_add_opinion_modifier = { target = EMI modifier = KR_liberated_us }
		set_temp_variable = { tag_to_release = EMI }
		puppet_released_tag = yes

		hidden_effect = {
			ITA = { ITA_carlo_bergamini = { set_nationality = var:tag_to_release } }
			hidden_effect = {
				EMI = { ITA_carlo_bergamini = { promote_character = yes } }
			}
			SRI = { SRI_dardano_fenulli = { set_nationality = var:tag_to_release } }
			if = {
				limit = {
					NOT = { has_government = authoritarian_democrat }
					OR = {
						tag = GER
						tag = AUS
						tag = SRD
					}
				}
				EMI = {
					add_popularity = { ideology = authoritarian_democrat popularity = 0.2 }
					set_politics = {
						ruling_party = authoritarian_democrat
						elections_allowed = no
					}
				}
			}
		}
	}
	option = {
		name = annex.1097.b #Release as Parma
		trigger = {
			has_socialist_government = no
			OR = {
				tag = SPK
				tag = SIC
				AND = {
					tag = NFA
					NFA_has_monarchy = yes
				}
			}
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				is_italian_tag = no
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		clr_country_flag = EMI_CONQ

		EMI = {
			add_state_core = 1004
			transfer_state = 1004
		}
		set_temp_variable = { tag_to_release = EMI }
		puppet_released_tag = yes
		hidden_effect = {
			SRI = { SRI_dardano_fenulli = { set_nationality = var:tag_to_release } }
			if = {
				limit = {
					ITA = {
						exists = yes
						has_character = ITA_carlo_bergamini
					}
				}
				ITA = { country_event = emi.13 }
			}
			else = {
				ITA_carlo_bergamini = { set_nationality = var:tag_to_release }
				hidden_effect = {
					EMI = { ITA_carlo_bergamini = { promote_character = yes } }
				}
			}
			if = {
				limit = {
					SRD = {
						exists = yes
						OR = {
							has_character = SRD_mario_roatta
							has_character = SRD_bruno_malaguti
						}
					}
				}
				SRD = { country_event = emi.15 }
			}
			else = {
				EMI_move_sardinian_characters_to_emilia = yes
			}
			EMI = {
				set_cosmetic_tag = EMI_PAR
				EMI_elia_borbone = {
					if = {
						limit = { has_ideology = social_democrat_subtype }
						promote_character = social_democrat_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = EMI_elia_borbone_leader_desc
								ideology = social_democrat_subtype
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = social_liberal_subtype }
						promote_character = social_liberal_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = EMI_elia_borbone_leader_desc
								ideology = social_liberal_subtype
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = market_liberal_subtype }
						promote_character = market_liberal_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = EMI_elia_borbone_leader_desc
								ideology = market_liberal_subtype
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = social_conservative_subtype }
						promote_character = social_conservative_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = EMI_elia_borbone_leader_desc
								ideology = social_conservative_subtype
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = authoritarian_democrat_subtype }
						promote_character = authoritarian_democrat_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = EMI_elia_borbone_leader_desc
								ideology = authoritarian_democrat_subtype
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = paternal_autocrat_subtype }
						promote_character = paternal_autocrat_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = EMI_elia_borbone_leader_desc
								ideology = paternal_autocrat_subtype
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = national_populist_subtype }
						promote_character = national_populist_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = EMI_elia_borbone_leader_desc
								ideology = national_populist_subtype
							}
							promote_leader = yes
						}
					}
				}
			}
		}
		reverse_add_opinion_modifier = { target = EMI modifier = KR_liberated_us }
	}
	option = {
		name = annex.1092.c #Give to ITA allies
		trigger = {
			NOT = { tag = ITA }
			NOT = { has_country_flag = SIC_confed }
			ITA = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 200
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		clr_country_flag = EMI_CONQ

		reverse_add_opinion_modifier = { target = ITA modifier = KR_returned_land }

		ITA = { transfer_state = 1004 }
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.e #Give to SRI allies
		trigger = {
			NOT = { tag = SRI }
			NOT = { has_country_flag = SIC_confed }
			SRI = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		clr_country_flag = EMI_CONQ

		reverse_add_opinion_modifier = { target = SRI modifier = KR_returned_land }

		SRI = { transfer_state = 1004 }
	}
	option = {
		name = annex.1092.f #Give to SIC allies
		trigger = {
			NOT = { tag = SIC }
			NOT = { has_country_flag = SIC_confed }
			SIC = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 4
				SIC = { has_country_flag = SIC_empire }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		clr_country_flag = EMI_CONQ

		reverse_add_opinion_modifier = { target = SIC modifier = KR_returned_land }

		SIC = { transfer_state = 1004 }
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.g #Give to SRD allies
		trigger = {
			NOT = { tag = SRD }
			NOT = { has_country_flag = SIC_confed }
			SRD = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				SRD = { has_cosmetic_tag = SRD_ITA }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		clr_country_flag = EMI_CONQ

		reverse_add_opinion_modifier = { target = SRD modifier = KR_returned_land }

		SRD = { transfer_state = 1004 }
		recheck_annexations = yes
	}
	option = {
		name = annex.occupation
		trigger = {
			NOT = { has_country_flag = SIC_confed }
		}
		ai_chance = { base = 0 }
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Tuscany
	id = annex.1098
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1098 FROM = [From.GetName]" }
	title = annexation_TUS_CONQ
	desc = annexation_TUS_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			TUS = {
				if = {
					limit = { has_character = ITA_pietro_ferdinando }
					ITA_pietro_ferdinando = {
						set_character_name = ITA_pietro_ferdinando
						remove_all_country_leader_roles = yes
						set_nationality = ITA
					}
				}
			}
		}
	}

	option = {
		name = annex.1098.a #Release as TUS grand duchy
		trigger = {
			has_socialist_government = no
			OR = {
				tag = AUS
				tag = GER
				tag = SRD
				tag = SIC
				has_government = authoritarian_democrat
				has_government = paternal_autocrat
			}
			NOT = { ITA = { has_country_leader = { character = ITA_pietro_ferdinando } } }
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				is_italian_tag = no
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		set_temp_variable = { tag_to_release = TUS }
		TUS = {
			add_state_core = 162
			transfer_state = 162
			add_opinion_modifier = { target = TUS modifier = KR_liberated_us }
		}
		puppet_released_tag = yes

		hidden_effect = {
			if = {
				limit = { NOT = { has_government = paternal_autocrat } }
				TUS = {
					set_political_party = { ideology = authoritarian_democrat popularity = 60 }
					set_politics = {
						ruling_party = authoritarian_democrat
						elections_allowed = no
					}
				}
			}
			ITA = { ITA_pietro_ferdinando = { set_nationality = TUS } }
			TUS = {
				if = {
					limit = { has_character = ITA_pietro_ferdinando }
					ITA_pietro_ferdinando = {
						remove_all_country_leader_roles = yes
						set_character_name = TUS_pietro_ferdinando_regnal
						add_country_leader_role = {
							country_leader = {
								ideology = authoritarian_democrat_subtype
								desc = TUS_pietro_ferdinando_leader_desc
							}
							promote_leader = yes
						}
						add_country_leader_role = {
							country_leader = {
								ideology = paternal_autocrat_subtype
								desc = TUS_pietro_ferdinando_leader_desc
							}
							promote_leader = yes
						}
					}
				}
			}
		}
	}

	option = {
		name = annex.1098.b #Release as TUS republic
		trigger = {
			has_socialist_government = no
			OR = {
				NOT = {
					tag = AUS
					tag = GER
					tag = SRD
					tag = SIC
				}
				ITA = { has_country_leader = { character = ITA_pietro_ferdinando } }
			}
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				is_italian_tag = no
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		set_temp_variable = { tag_to_release = TUS }
		TUS = {
			add_state_core = 162
			transfer_state = 162
			add_opinion_modifier = { target = TUS modifier = KR_liberated_us }
		}
		puppet_released_tag = yes

		hidden_effect = {
			if = {
				limit = {
					TUS = {
						OR = {
							has_government = authoritarian_democrat
							has_government = paternal_autocrat
						}
					}
				}
				TUS = {
					add_popularity = { ideology = social_conservative popularity = 0.2 }
					set_politics = {
						ruling_party = social_conservative
						elections_allowed = no
					}
				}
			}
		}
	}

	option = {
		name = annex.1092.c #Give to ITA allies
		trigger = {
			NOT = { tag = ITA }
			NOT = { has_country_flag = SIC_confed }
			ITA = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 200
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		reverse_add_opinion_modifier = { target = ITA modifier = KR_returned_land }

		ITA = { transfer_state = 162 }
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.e #Give to SRI allies
		trigger = {
			NOT = { tag = SRI }
			NOT = { has_country_flag = SIC_confed }
			SRI = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		reverse_add_opinion_modifier = { target = SRI modifier = KR_returned_land }

		SRI = { transfer_state = 162 }
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.f #Give to SIC allies
		trigger = {
			NOT = { tag = SIC }
			NOT = { has_country_flag = SIC_confed }
			SIC = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 4
				SIC = { has_country_flag = SIC_empire }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		reverse_add_opinion_modifier = { target = SIC modifier = KR_returned_land }

		SIC = { transfer_state = 162 }
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.g #Give to SRD allies
		trigger = {
			NOT = { tag = SRD }
			NOT = { has_country_flag = SIC_confed }
			SRD = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				SRD = { has_cosmetic_tag = SRD_ITA }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		reverse_add_opinion_modifier = { target = SRD modifier = KR_returned_land }

		SRD = { transfer_state = 162 }
		recheck_annexations = yes
	}
	option = {
		name = annex.occupation
		trigger = {
			NOT = { has_country_flag = SIC_confed }
		}
		set_country_flag = TUS_CONQ
		ai_chance = { base = 0 }
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Central Italy
	id = annex.1099
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1099 FROM = [From.GetName]" }
	title = annexation_PAP_STATES_CONQ
	desc = annexation_PAP_STATES_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = PAP_STATES_CONQ
		}
	}

	option = {
		name = annex.1099.a #Give to PAP allies
		trigger = {
			NOT = { tag = PAP }
			PAP = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				SIC = {
					is_ally_of_ROOT = yes
					has_country_flag = SIC_empire
				}
			}
			modifier = {
				factor = 2
				SRD = { has_cosmetic_tag = SRD_ITA }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SRD
				}
			}
		}
		clr_country_flag = PAP_STATES_CONQ

		reverse_add_opinion_modifier = { target = PAP modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 764 #Viterbo
					state = 1005 #Umbria
					state = 157 #Marche
					state = 161 #Romagna
				}
			}
			transfer_state_to = PAP
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1099.b #Offer to PAP
		trigger = {
			is_faction_leader = yes
			has_socialist_government = no
			count_triggers = {
				amount = 3
				764 = { #Viterbo
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
				1005 = { #Umbria
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
				157 = { #Marche
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
				161 = { #Romagna
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
			}
			PAP = {
				exists = yes
				is_subject = no
				NOT = { is_faction_leader = yes }
				controls_all_owned_states = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
				NOT = { has_country_flag = offered_papacy_@ROOT }
			}
			NOT = {
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
				SRD = { is_ally_of_ROOT = yes }
				SIC = { is_ally_of_ROOT = yes }
				PAP = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 50
		}
		PAP = {
			set_country_flag = offered_papacy_@ROOT
			set_country_flag = offering_papacy
			country_event = annex.281
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.j #Offer to SIC
		trigger = {
			is_faction_leader = yes
			has_socialist_government = no
			count_triggers = {
				amount = 3
				764 = { #Viterbo
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
				1005 = { #Umbria
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
				157 = { #Marche
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
				161 = { #Romagna
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
			}
			SIC = {
				exists = yes
				is_subject = no
				NOT = { is_faction_leader = yes }
				controls_all_owned_states = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
				NOT = { has_country_flag = offered_papacy_@ROOT }
			}
			NOT = {
				ITA = { is_ally_of_ROOT = yes }
				SRI = { is_ally_of_ROOT = yes }
				SRD = { is_ally_of_ROOT = yes }
				SIC = { is_ally_of_ROOT = yes }
				PAP = { is_ally_of_ROOT = yes }
			}
		}
		ai_chance = {
			base = 50
		}
		SIC = {
			set_country_flag = offered_papacy_@ROOT
			set_country_flag = offering_papacy
			country_event = annex.281
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.c #Give to ITA allies
		trigger = {
			NOT = { tag = ITA }
			ITA = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 200
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
					tag = PAP
				}
			}
		}
		clr_country_flag = PAP_STATES_CONQ

		reverse_add_opinion_modifier = { target = ITA modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 764 #Viterbo
					state = 1005 #Umbria
					state = 157 #Marche
					state = 161 #Romagna
				}
			}
			transfer_state_to = ITA
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.e #Give to SRI allies
		trigger = {
			NOT = { tag = SRI }
			SRI = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
					tag = PAP
				}
			}
		}
		clr_country_flag = PAP_STATES_CONQ

		reverse_add_opinion_modifier = { target = SRI modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 764 #Viterbo
					state = 1005 #Umbria
					state = 157 #Marche
					state = 161 #Romagna
				}
			}
			transfer_state_to = SRI
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.f #Give to SIC allies
		trigger = {
			NOT = { tag = SIC }
			SIC = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				PAP = { is_ally_of_ROOT = yes }
				SIC = { NOT = { has_country_flag = SIC_empire } }
			}
			modifier = {
				factor = 4
				SIC = { has_country_flag = SIC_empire }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
					tag = PAP
				}
			}
		}
		clr_country_flag = PAP_STATES_CONQ

		reverse_add_opinion_modifier = { target = SIC modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 764 #Viterbo
					state = 1005 #Umbria
					state = 157 #Marche
					state = 161 #Romagna
				}
			}
			transfer_state_to = SIC
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.g #Give to SRD allies
		trigger = {
			NOT = { tag = SRD }
			SRD = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				SRD = { has_cosmetic_tag = SRD_ITA }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
					tag = PAP
				}
			}
		}
		clr_country_flag = PAP_STATES_CONQ

		reverse_add_opinion_modifier = { target = SRD modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 764 #Viterbo
					state = 1005 #Umbria
					state = 157 #Marche
					state = 161 #Romagna
				}
			}
			transfer_state_to = SRD
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.occupation
		ai_chance = { base = 0 }
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Rome
	id = annex.1100
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1100 FROM = [From.GetName]" }
	title = annexation_PAP_CONQ
	desc = annexation_PAP_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = PAP_CONQ
		}
	}

	option = {
		name = annex.1100.a #Release as PAP
		trigger = {
			has_socialist_government = no
			NOT = { country_exists = PAP }
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				is_italian_tag = no
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		clr_country_flag = PAP_CONQ

		hidden_effect = {
			PAP = {
				add_state_core = 2
				add_state_core = 764
			}
		}

		every_owned_state = {
			limit = {
				OR = {
					state = 2 #Rome
					state = 764 #Viterbo
					AND = {
						ROOT = { has_country_flag = SIC_confed }
						OR = {
							state = 764 #Viterbo
							state = 1005 #Umbria
							state = 157 #Marche
							state = 161 #Romagna
						}
					}
				}
			}
			transfer_state_to = PAP
		}

		reverse_add_opinion_modifier = { target = PAP modifier = KR_liberated_us }
		set_temp_variable = { tag_to_release = PAP }
		puppet_released_tag = yes
	}
	option = {
		name = annex.1092.c #Give to ITA allies
		trigger = {
			NOT = { tag = ITA }
			NOT = { has_country_flag = SIC_confed }
			ITA = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 200
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		clr_country_flag = PAP_CONQ

		reverse_add_opinion_modifier = { target = ITA modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 2 #Rome
					state = 764 #Viterbo
				}
			}
			transfer_state_to = ITA
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.e #Give to SRI allies
		trigger = {
			NOT = { tag = SRI }
			NOT = { has_country_flag = SIC_confed }
			SRI = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		clr_country_flag = PAP_CONQ

		reverse_add_opinion_modifier = { target = SRI modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 2 #Rome
					state = 764 #Viterbo
				}
			}
			transfer_state_to = SRI
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.f #Give to SIC allies
		trigger = {
			NOT = { tag = SIC }
			NOT = { has_country_flag = SIC_confed }
			SIC = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 4
				SIC = { has_country_flag = SIC_empire }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		clr_country_flag = PAP_CONQ

		reverse_add_opinion_modifier = { target = SIC modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 2 #Rome
					state = 764 #Viterbo
				}
			}
			transfer_state_to = SIC
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.g #Give to SRD allies
		trigger = {
			NOT = { tag = SRD }
			NOT = { has_country_flag = SIC_confed }
			SRD = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				SRD = { has_cosmetic_tag = SRD_ITA }
			}
			modifier = {
				factor = 0
				OR = {
					tag = ITA
					tag = SRI
					tag = SIC
					tag = SRD
				}
			}
		}
		clr_country_flag = PAP_CONQ

		reverse_add_opinion_modifier = { target = SRD modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 2 #Rome
					state = 764 #Viterbo
				}
			}
			transfer_state_to = SRD
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.occupation
		trigger = {
			NOT = { has_country_flag = SIC_confed }
		}
		ai_chance = { base = 0 }
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Southern Italy
	id = annex.1101
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1101 FROM = [From.GetName]" }
	title = annexation_SIC_CONQ
	desc = annexation_SIC_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = SIC_CONQ
		}
	}

	option = {
		name = annex.1092.b #Release as SRI
		trigger = {
			has_socialist_government = yes
			NOT = { country_exists = SRI }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				is_italian_tag = no
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		clr_country_flag = SIC_CONQ
		set_temp_variable = { tag_to_release = SRI }

		# restore initial cores if they were removed
		hidden_effect = {
			157 = { remove_claim_and_add_core_of_target = yes } #Marches
			158 = { remove_claim_and_add_core_of_target = yes } #Piedmont
			161 = { remove_claim_and_add_core_of_target = yes } #Romagna
			162 = { remove_claim_and_add_core_of_target = yes } #Tuscany
			764 = { remove_claim_and_add_core_of_target = yes } #Viterbo
			838 = { remove_claim_and_add_core_of_target = yes } #Liguria
			1003 = { remove_claim_and_add_core_of_target = yes } #Aosta Valley
			1004 = { remove_claim_and_add_core_of_target = yes } #Emilia
			1005 = { remove_claim_and_add_core_of_target = yes } #Umbria
			every_state = {
				limit = {
					is_european_italy = yes
					NOT = { is_core_of = var:tag_to_release }
				}
				add_claim_by = var:tag_to_release
			}
		}
		reverse_add_opinion_modifier = { target = SRI modifier = KR_liberated_us }
		release_targeted_tag = yes
	}
	option = {
		name = annex.1101.a #Release as SIC
		trigger = {
			has_socialist_government = no
			NOT = { country_exists = SIC }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				is_italian_tag = no
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		clr_country_flag = SIC_CONQ

		# restore initial cores if they were removed
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						state = 117 #Campania
						state = 742 #Abruzzo
						state = 837 #Apulia
						state = 156 #Calabria
						state = 115 #Sicily
					}
				}
				if = {
					limit = { is_claimed_by = SIC }
					remove_claim_by = SIC
				}
				if = {
					limit = { NOT = { is_core_of = SIC } }
					add_core_of = SIC
				}
			}
		}

		every_owned_state = {
			limit = {
				OR = {
					state = 117 #Campania
					state = 742 #Abruzzo
					state = 837 #Apulia
					state = 156 #Calabria
					state = 115 #Sicily
				}
				is_not_claim_or_core_of_ROOT = yes
			}
			transfer_state_to = SIC
		}

		reverse_add_opinion_modifier = { target = SIC modifier = KR_liberated_us }
		set_temp_variable = { tag_to_release = SIC }
		puppet_released_tag = yes
	}
	option = {
		name = annex.1092.c #Give to ITA allies
		trigger = {
			NOT = { tag = ITA }
			NOT = { has_country_flag = SIC_confed }
			ITA = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				tag = SRD
			}
		}
		clr_country_flag = SIC_CONQ

		reverse_add_opinion_modifier = { target = ITA modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 117 #Campania
					state = 742 #Abruzzo
					state = 837 #Apulia
					state = 156 #Calabria
					state = 115 #Sicily
				}
			}
			transfer_state_to = ITA
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.e #Give to SRI allies
		trigger = {
			NOT = { tag = SRI }
			NOT = { has_country_flag = SIC_confed }
			SRI = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				tag = SRD
			}
		}
		clr_country_flag = SIC_CONQ

		reverse_add_opinion_modifier = { target = SRI modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 117 #Campania
					state = 742 #Abruzzo
					state = 837 #Apulia
					state = 156 #Calabria
					state = 115 #Sicily
				}
			}
			transfer_state_to = SRI
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.f #Give to SIC allies
		trigger = {
			NOT = { tag = SIC }
			NOT = { has_country_flag = SIC_confed }
			SIC = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 200
		}
		clr_country_flag = SIC_CONQ

		reverse_add_opinion_modifier = { target = SIC modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 117 #Campania
					state = 742 #Abruzzo
					state = 837 #Apulia
					state = 156 #Calabria
					state = 115 #Sicily
				}
			}
			transfer_state_to = SIC
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.1092.g #Give to SRD allies
		trigger = {
			NOT = { tag = SRD }
			NOT = { has_country_flag = SIC_confed }
			SRD = { is_ally_of_ROOT = yes }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				SRD = { has_cosmetic_tag = SRD_ITA }
			}
		}
		clr_country_flag = SIC_CONQ

		reverse_add_opinion_modifier = { target = SRD modifier = KR_returned_land }

		every_owned_state = {
			limit = {
				OR = {
					state = 117 #Campania
					state = 742 #Abruzzo
					state = 837 #Apulia
					state = 156 #Calabria
					state = 115 #Sicily
				}
			}
			transfer_state_to = SRD
		}
		recheck_annexations = yes
	}
	option = {
		name = annex.occupation
		trigger = {
			NOT = { has_country_flag = SIC_confed }
		}
		ai_chance = { base = 0 }
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Sardinia
	id = annex.1102
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1102 FROM = [From.GetName]" }
	title = annexation_SRD_CONQ
	desc = annexation_SRD_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = {
		name = annex.1102.a #Release as SRD
		trigger = {
			has_socialist_government = no
			NOT = { country_exists = SRD }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				is_italian_tag = no
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
				}
			}
		}
		# restore initial cores if they were removed
		set_temp_variable = { tag_to_release = SRD }
		hidden_effect = {
			114 = { remove_claim_and_add_core_of_target = yes } #Sardinia
			158 = { remove_claim_and_add_core_of_target = yes } #Piedmont
			838 = { remove_claim_and_add_core_of_target = yes } #Liguria
			1003 = { remove_claim_and_add_core_of_target = yes } #Aosta Valley
		}
		114 = { transfer_state_to = var:tag_to_release }
		puppet_released_tag = yes
		if = {
			limit = {
				OR = {
					owns_state = 158 #for the tooltip
					SRD = { owns_state = 158 }
				}
				NOT = { SRD = { has_cosmetic_tag = SRD_piedmont } }
			}
			SRD = { set_cosmetic_tag = SRD_piedmont }
		}
		reverse_add_opinion_modifier = { target = SRD modifier = KR_liberated_us }
		hidden_effect = { SRD = { SRD_restore_amedeo = yes } }
	}
	option = {
		name = annex.1102.b #Give to ITA
		trigger = {
			NOT = { tag = ITA }
			NOT = { has_country_flag = SIC_confed }
			ITA = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				NOT = { is_ally_with = ITA }
			}
		}
		reverse_add_opinion_modifier = { target = ITA modifier = KR_returned_land }

		114 = { transfer_state_to = ITA }
		recheck_annexations = yes
	}
	option = {
		name = annex.1102.c #Give to SRI
		trigger = {
			NOT = { tag = SRI }
			NOT = { has_country_flag = SIC_confed }
			SRI = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				NOT = { is_ally_with = SRI }
			}
		}
		reverse_add_opinion_modifier = { target = SRI modifier = KR_returned_land }

		114 = { transfer_state_to = SRI }
		recheck_annexations = yes
	}
	option = {
		name = annex.1102.d #Give to SIC
		trigger = {
			NOT = { tag = SIC }
			NOT = { has_country_flag = SIC_confed }
			SIC = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				NOT = { is_ally_with = SIC }
			}
			modifier = {
				factor = 4
				SIC = { has_country_flag = SIC_empire }
			}
		}
		reverse_add_opinion_modifier = { target = SIC modifier = KR_returned_land }

		114 = { transfer_state_to = SIC }
		recheck_annexations = yes
	}
	option = {
		name = annex.1102.e #Give to SRD
		trigger = {
			NOT = { tag = SRD }
			NOT = { has_country_flag = SIC_confed }
			SRD = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				NOT = { is_ally_with = SRD }
			}
		}
		reverse_add_opinion_modifier = { target = SRD modifier = KR_returned_land }

		114 = { transfer_state_to = SRD }
		recheck_annexations = yes
	}
	option = {
		name = annex.occupation
		trigger = {
			NOT = { has_country_flag = SIC_confed }
		}
		ai_chance = { base = 0 }
		set_country_flag = SRD_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Malta
	id = annex.1103
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1103 FROM = [From.GetName]" }
	title = annexation_MLT_CONQ
	desc = annexation_MLT_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #puppet Malta
		name = annex.1103.a
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = MLT }
		release_targeted_tag = yes
	}

	option = { #Give it to the British
		name = annex.1103.b
		ai_chance = {
			base = 80
		}
		trigger = {
			OR = {
				is_in_faction_with = GBR
				CAN = {
					is_faction_leader = yes
					is_in_faction_with = ROOT
				}
			}
		}
		if = {
			limit = { is_in_faction_with = GBR }
			116 = {
				transfer_state_to = GBR
				add_compliance = 70
			}
		}
		else = {
			116 = {
				transfer_state_to = CAN
				add_compliance = 70
			}
		}
	}

	option = { #Give it to an Italian ally
		name = annex.1103.c
		ai_chance = {
			base = 80
		}
		trigger = {
			OR = {
				is_in_faction_with = SIC
				is_in_faction_with = ITA
				is_in_faction_with = SRI
				is_in_faction_with = SRD
			}
		}

		if = {
			limit = { is_in_faction_with = ITA }
			116 = { transfer_state_to = ITA }
		}
		else_if = {
			limit = { is_in_faction_with = SRI }
			116 = { transfer_state_to = SRI }
		}
		else_if = {
			limit = { is_in_faction_with = SRD }
			116 = { transfer_state_to = SRD }
		}
		else = {
			116 = { transfer_state_to = SIC }
		}
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = {
			base = 0
		}
		set_country_flag = MLT_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of the Ardennes
	id = annex.1104
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1104 FROM = [From.GetName]" }
	title = annexation_ARDENNES_CONQ
	desc = annexation_ARDENNES_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		741 = { clear_retain_state = yes }
	}

	option = { #Give it to Belgium/Wallonia
		name = annex.1104.a
		trigger = {
			var:948.owner = {
				OR = {
					tag = BEL
					tag = WAL
				}
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				NOT = { is_ally_with = 948.owner }
			}
		}
		set_temp_variable = { tag_to_release = 948.owner }
		741 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to France
		name = annex.1104.c
		trigger = {
			is_french_tag = no
			NOT = {
				tag = BEL
				tag = WAL
			}
			var:8.owner = {
				is_french_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				var:948.owner = { ROOT_can_grant_land = yes }
			}
		}
		set_temp_variable = { tag_to_release = 8.owner }
		741 = { transfer_state_and_add_claim = yes }
	}

	option = { #Give it to Germany
		name = annex.1104.c
		trigger = {
			is_germany_or_splinter_tag = no
			NOT = {
				tag = BEL
				tag = WAL
			}
			var:8.owner = {
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				var:948.owner = { ROOT_can_grant_land = yes }
			}
			modifier = {
				factor = 0
				is_french_tag = yes
				owns_state = 948 #Liege
			}
		}
		set_temp_variable = { tag_to_release = 8.owner }
		741 = { transfer_state_and_add_claim = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = BEL
				tag = WAL
			}
		}
		ai_chance = {
			base = 1000
		}
		add_state_core = 741
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			is_french_tag = yes
			OR = {
				owns_state = 8 #Luxembourg
				owns_state = 948 #Liege
			}
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 741
		occupy_small_country = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			is_germany_or_splinter_tag = yes
			owns_state = 8 #Luxembourg
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 741
		occupy_small_country = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = BEL
				tag = WAL
				AND = {
					is_french_tag = yes
					OR = {
						owns_state = 8 #Luxembourg
						owns_state = 948 #Liege
					}
				}
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 8 #Luxembourg
				}
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = ARDENNES_CONQ
	}
}

country_event = { #Fate of Teschen
	id = annex.1105
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1105 FROM = [From.GetName]" }
	title = annexation_TESCHEN_CONQ
	desc = annexation_TESCHEN_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		924 = { clear_retain_state = yes }
		if = {
			limit = { CZE = { ROOT_can_grant_land = yes } }
			CZE = { save_event_target_as = moravia }
		}
		else_if = {
			limit = {
				var:75.owner = { #Moravia
					OR = {
						original_tag = AUS
						is_germany_or_splinter_tag = yes
					}
					is_ally_with = ROOT
				}
			}
			var:75.owner = { save_event_target_as = moravia }
		}
		if = {
			limit = {
				var:88.owner = { #Krakow
					is_polish_tag = yes
					ROOT_can_grant_land = yes
				}
			}
			var:88.owner = { save_event_target_as = krakow }
		}
		if = {
			limit = {
				OR = {
					original_tag = CZE
					original_tag = GAL
					original_tag = POL
					AND = {
						original_tag = AUS
						AUS_is_unified = yes
					}
					AND = {
						is_germany_or_splinter_tag = yes
						owns_state = 75 #Moravia
					}
				}
			}
			save_event_target_as = can_integrate
		}
	}

	option = { #Give it to owner of Moravia
		name = annex.1105.a
		trigger = {
			has_event_target = moravia
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				is_ally_with = event_target:krakow
				NOT = { is_ally_with = event_target:moravia }
			}
		}
		set_temp_variable = { tag_to_release = event_target:moravia }
		if = {
			limit = { var:tag_to_release = { is_germany_or_splinter_tag = yes } }
			924 = { transfer_state_and_add_claim = yes }
		}
		else = {
			924 = { transfer_state_and_add_core = yes }
		}
	}

	option = { #Give it to owner of Krakow
		name = annex.1105.b
		trigger = {
			has_event_target = krakow
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				is_ally_with = event_target:moravia
				NOT = { is_ally_with = event_target:krakow }
			}
		}
		set_temp_variable = { tag_to_release = event_target:krakow }
		if = {
			limit = { var:tag_to_release = { original_tag = GAL } }
			924 = { transfer_state_and_add_core = yes }
		}
		else = {
			924 = { transfer_state_and_add_claim = yes }
		}
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			has_event_target = can_integrate
		}
		ai_chance = {
			base = 1000
		}
		if = {
			limit = { original_tag = POL }
			924 = { add_claim_of_ROOT = yes }
		}
		else_if = {
			limit = { is_germany_or_splinter_tag = yes }
			924 = { add_claim_of_ROOT = yes }
		}
		else = {
			924 = { remove_claim_and_add_core_of_ROOT = yes }
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = TESCHEN_CONQ
	}
}

country_event = { #Fate of the Danubian Plain
	id = annex.1106
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1106 FROM = [From.GetName]" }
	title = annexation_DANUBIAN_PLAIN_CONQ
	desc = annexation_DANUBIAN_PLAIN_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		71 = { clear_retain_state = yes }
	}

	option = { #Give it to Hungary
		name = annex.1106.a
		trigger = {
			NOT = {
				original_tag = HUN
				original_tag = CZE
				original_tag = SLO
				AND = {
					original_tag = AUS
					AUS_is_unified = yes
				}
			}
			HUN = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				OR = {
					SLO = { is_ally_of_ROOT = yes }
					CZE = {
						owns_state = 70 #Slovakia
						has_cosmetic_tag = CZE_czechoslavakia
					}
				}
				NOT = { HUN = { is_ally_of_ROOT = yes } }
			}
		}
		set_temp_variable = { tag_to_release = HUN }
		71 = { transfer_state_and_add_claim = yes }
	}

	option = { #Give it to Slovakia
		name = annex.1106.b
		trigger = {
			NOT = {
				original_tag = HUN
				original_tag = CZE
				original_tag = SLO
				AND = {
					tag = AUS
					AUS_is_unified = yes
				}
			}
			SLO = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				HUN = { is_ally_of_ROOT = yes }
				NOT = { SLO = { is_ally_of_ROOT = yes } }
			}
		}
		set_temp_variable = { tag_to_release = SLO }
		71 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Czechoslovakia
		name = annex.1106.c
		trigger = {
			NOT = {
				original_tag = HUN
				original_tag = CZE
				original_tag = SLO
				AND = {
					original_tag = AUS
					AUS_is_unified = yes
				}
			}
			CZE = {
				owns_state = 70 #Slovakia
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 30
		}
		set_temp_variable = { tag_to_release = CZE }
		71 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Austria
		name = annex.1106.d
		trigger = {
			NOT = {
				original_tag = HUN
				original_tag = CZE
				original_tag = SLO
				AND = {
					original_tag = AUS
					AUS_is_unified = yes
				}
			}
			AUS = {
				AUS_is_unified = yes
				owns_state = 70 #Slovakia
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 1000
		}
		set_temp_variable = { tag_to_release = AUS }
		71 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				original_tag = HUN
				original_tag = CZE
				original_tag = SLO
				AND = {
					original_tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		if = {
			limit = { original_tag = HUN }
			71 = { add_claim_of_ROOT = yes }
		}
		else = {
			71 = { remove_claim_and_add_core_of_ROOT = yes }
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				original_tag = HUN
				original_tag = CZE
				original_tag = SLO
				AND = {
					original_tag = AUS
					AUS_is_unified = yes
				}
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = DANUBIAN_PLAIN_CONQ
	}
}

country_event = { #Fate of Volkovysk
	id = annex.1107
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1107 FROM = [From.GetName]" }
	title = annexation_VOLKOVYSK_CONQ
	desc = annexation_VOLKOVYSK_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		94 = { clear_retain_state = yes }
	}

	option = { #give to Belarus/Russia
		name = annex.1107.a
		trigger = {
			var:204.owner = {
				OR = {
					AND = {
						tag = WHR
						ROOT_can_grant_land = yes
					}
					AND = {
						is_russian_tag = yes
						is_ally_of_ROOT = yes
					}
				}
			}
			if = {
				limit = { tag = LIT }
				NOT = { owns_state = 96 } #Vilnius
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				POL = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = 204.owner }
			}
			modifier = {
				factor = 0
				tag = POL
				owns_state = 97 #Bialystok
			}
		}
		set_temp_variable = { tag_to_release = 204.owner }
		if = {
			limit = {
				var:204.owner = { is_russian_tag = yes }
				204 = { is_core_of = owner }
			}
			94 = { transfer_state_and_add_core = yes }
		}
		else = {
			94 = { transfer_state_and_add_claim = yes }
		}
	}

	option = { #give to Poland
		name = annex.1107.b
		trigger = {
			NOT = { tag = WHR }
			POL = {
				owns_state = 97 #Bialystok
				ROOT_can_grant_land = yes
			}
			if = {
				limit = { tag = LIT }
				NOT = { owns_state = 96 } #Vilnius
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 4
				POL = { owns_state = 96 } #Vilnius
			}
			modifier = {
				factor = 0
				WHR = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = POL }
			}
		}
		set_temp_variable = { tag_to_release = POL }
		94 = { transfer_state_and_add_claim = yes }
	}

	option = { #give to Lithuania
		name = annex.1107.c
		trigger = {
			NOT = { tag = WHR }
			LIT = {
				owns_state = 96 #Vilnius
				owns_state = 97 #Bialystok
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				WHR = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = LIT }
			}
			modifier = {
				factor = 0
				tag = POL
				owns_state = 97 #Bialystok
			}
		}
		set_temp_variable = { tag_to_release = LIT }
		94 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = WHR
				AND = {
					is_russian_tag = yes
					owns_state = 204 #Novogrudok
					owns_state = 206 #Minsk
				}
				AND = {
					tag = POL
					owns_state = 97 #Bialystok
				}
				AND = {
					tag = LIT
					owns_state = 96 #Vilnius
				}
			}
		}
		ai_chance = {
			base = 1000
			modifier = {
				factor = 0
				tag = POL
				NOT = { owns_state = 96 } #Vilnius
				var:204.owner = {
					OR = {
						tag = WHR
						is_russian_tag = yes
					}
					ROOT_can_grant_land = yes
				}
			}
		}
		add_state_claim = 94
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = WHR
				AND = {
					is_russian_tag = yes
					owns_state = 204 #Novogrudok
					owns_state = 206 #Minsk
				}
				AND = {
					tag = POL
					owns_state = 97 #Bialystok
				}
				AND = {
					tag = LIT
					owns_state = 96 #Vilnius
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = VOLKOVYSK_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Gomel
	id = annex.1108
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1108 FROM = [From.GetName]" }
	title = annexation_GOMEL_CONQ
	desc = annexation_GOMEL_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		241 = { clear_retain_state = yes }
	}

	option = { #give to UKR
		name = annex.1108.a
		trigger = {
			UKR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				WHR = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = UKR }
			}
		}
		set_temp_variable = { tag_to_release = UKR }
		241 = { transfer_state_and_add_core = yes }
	}

	option = { #give to WHR
		name = annex.1108.b
		trigger = {
			WHR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				UKR = { is_ally_of_ROOT = yes }
				NOT = { is_ally_with = WHR }
			}
		}
		set_temp_variable = { tag_to_release = WHR }
		241 = { transfer_state_and_add_claim = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				is_russian_tag = yes
				original_tag = UKR
				original_tag = WHR
			}
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 241
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				is_russian_tag = yes
				original_tag = UKR
				original_tag = WHR
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = GOMEL_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Gorizia
	id = annex.1109
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1109 FROM = [From.GetName]" }
	title = annexation_GORIZIA_CONQ
	desc = annexation_GORIZIA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		683 = { clear_retain_state = yes }
		if = {
			limit = {
				OR = {
					is_italian_tag = yes
					original_tag = AUS
					original_tag = SLV
					original_tag = SER
				}
			}
			save_event_target_as = can_integrate
		}
		if = {
			limit = {
				var:488.owner = { #Trieste
					is_italian_tag = yes
					ROOT_can_grant_land = yes
				}
			}
			var:488.owner = { save_event_target_as = italy }
		}
		if = {
			limit = {
				var:102.owner = { #Carniola
					OR = {
						original_tag = AUS
						original_tag = SLV
						original_tag = SER
					}
					ROOT_can_grant_land = yes
				}
			}
			var:102.owner = { save_event_target_as = slovenia }
		}
	}

	option = { #Give Italy
		name = annex.1109.a
		trigger = {
			has_event_target = italy
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:italy }
				is_ally_with = event_target:slovenia
			}
		}
		set_temp_variable = { tag_to_release = event_target:italy }
		683 = { transfer_state_and_add_claim = yes }
		var:tag_to_release = { country_event = annex.18 }
	}

	option = { #Give AUS/SLV/SER
		name = annex.1109.b
		trigger = {
			has_event_target = slovenia
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:slovenia }
				is_ally_with = event_target:italy
			}
		}
		set_temp_variable = { tag_to_release = event_target:slovenia }
		683 = { transfer_state_and_add_core = yes }
	}

	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				has_event_target = can_integrate
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
					owns_state = 102 #Carniola
				}
			}
		}
		ai_chance = {
			base = 1000
			modifier = {
				factor = 0
				is_germany_or_splinter_tag = yes
			}
		}
		if = {
			limit = {
				OR = {
					is_italian_tag = yes
					original_tag = SER
					is_germany_or_splinter_tag = yes
				}
			}
			683 = { add_claim_of_ROOT = yes }
		}
		else = {
			736 = { remove_claim_and_add_core_of_ROOT = yes }
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				has_event_target = can_integrate
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
					owns_state = 102 #Carniola
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = GORIZIA_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Fiume
	id = annex.1110
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1110 FROM = [From.GetName]" }
	title = annexation_FIUME_CONQ
	desc = annexation_FIUME_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		103 = { clear_retain_state = yes }
		if = {
			limit = {
				OR = {
					is_italian_tag = yes
					original_tag = AUS
					original_tag = CRO
					original_tag = SER
				}
			}
			save_event_target_as = can_integrate
		}
		if = {
			limit = {
				var:736.owner = { #Istria
					is_italian_tag = yes
					ROOT_can_grant_land = yes
				}
			}
			var:736.owner = { save_event_target_as = italy }
		}
		if = {
			limit = {
				AUS = {
					ROOT_can_grant_land = yes
					OR = {
						owns_state = 102 #Carniola
						owns_state = 736 #Istria
					}
				}
			}
			AUS = { save_event_target_as = austria }
		}
		if = {
			limit = {
				var:109.owner = { #Central Croatia
					OR = {
						original_tag = SER
						original_tag = CRO
					}
					ROOT_can_grant_land = yes
				}
			}
			var:109.owner = { save_event_target_as = croatia }
		}
	}

	option = { #Give Italy
		name = annex.1110.a
		trigger = {
			has_event_target = italy
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:italy }
				OR = {
					is_ally_with = event_target:austria
					is_ally_with = event_target:croatia
				}
			}
		}
		set_temp_variable = { tag_to_release = event_target:italy }
		103 = { transfer_state_and_add_claim = yes }
		var:tag_to_release = { country_event = annex.18 }
	}

	option = { #Give to Austria
		name = annex.1110.b
		trigger = {
			has_event_target = austria
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:austria }
				OR = {
					is_ally_with = event_target:italy
					is_ally_with = event_target:croatia
				}
			}
		}
		set_temp_variable = { tag_to_release = event_target:austria }
		103 = { transfer_state_and_add_core = yes }
	}

	option = { #Give to SER/CRO
		name = annex.1110.c
		trigger = {
			has_event_target = croatia
			NOT = { has_event_target = can_integrate }
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				NOT = { is_ally_with = event_target:croatia }
				OR = {
					is_ally_with = event_target:italy
					is_ally_with = event_target:austria
				}
			}
		}
		set_temp_variable = { tag_to_release = event_target:croatia }
		if = {
			limit = { event_target:croatia = { original_tag = CRO } }
			103 = { transfer_state_and_add_core = yes }
		}
		else = {
			103 = { transfer_state_and_add_claim = yes }
		}
	}

	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				has_event_target = can_integrate
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
					OR = {
						owns_state = 102 #Carniola
						owns_state = 736 #Istria
					}
				}
			}
		}
		ai_chance = {
			base = 1000
			modifier = {
				factor = 0
				is_germany_or_splinter_tag = yes
			}
		}
		if = {
			limit = {
				OR = {
					is_italian_tag = yes
					original_tag = SER
					is_germany_or_splinter_tag = yes
				}
			}
			103 = { add_claim_of_ROOT = yes }
		}
		else = {
			103 = { remove_claim_and_add_core_of_ROOT = yes }
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				has_event_target = can_integrate
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
					OR = {
						owns_state = 102 #Carniola
						owns_state = 736 #Istria
					}
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = FIUME_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Pressburg
	id = annex.1111
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1111 FROM = [From.GetName]" }
	title = annexation_PRESSBURG_CONQ
	desc = annexation_PRESSBURG_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		1090 = { clear_retain_state = yes }
		if = {
			limit = {
				OR = {
					original_tag = CZE
					original_tag = SLO
					original_tag = AUS
					original_tag = HUN
				}
			}
			save_event_target_as = can_integrate
		}
	}

	option = { #Give it to Slovakia
		name = annex.1111.a
		trigger = {
			NOT = { has_event_target = can_integrate }
			SLO = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				AUS = { is_ally_of_ROOT = yes }
				NOT = { SLO = { is_ally_of_ROOT = yes } }
			}
		}
		set_temp_variable = { tag_to_release = SLO }
		1090 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Austria
		name = annex.1111.b
		trigger = {
			NOT = { has_event_target = can_integrate }
			var:4.owner = {
				OR = {
					original_tag = AUS
					is_germany_or_splinter_tag = yes
				}
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					HUN = { is_ally_of_ROOT = yes }
					SLO = { is_ally_of_ROOT = yes }
					CZE = {
						owns_state = 70 #Slovakia
						is_ally_with = ROOT
					}
				}
				NOT = { AUS = { is_ally_of_ROOT = yes } }
			}
		}
		set_temp_variable = { tag_to_release = 4.owner }
		1090 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Czechoslovakia
		name = annex.1111.c
		trigger = {
			NOT = { has_event_target = can_integrate }
			CZE = {
				owns_state = 70 #Slovakia
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				AUS = { is_ally_of_ROOT = yes }
				NOT = { CZE = { is_ally_of_ROOT = yes } }
			}
		}
		set_temp_variable = { tag_to_release = CZE }
		1090 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Hungary
		name = annex.1111.d
		trigger = {
			NOT = { has_event_target = can_integrate }
			HUN = {
				ROOT_can_grant_land = yes
				OR = {
					owns_state = 71 #Danubian Plain
					71 = { is_valid_annexation_state = yes }
				}
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					AUS = { is_ally_of_ROOT = yes }
					SLO = { is_ally_of_ROOT = yes }
					CZE = {
						owns_state = 70 #Slovakia
						is_ally_with = ROOT
					}
				}
				NOT = { HUN = { is_ally_of_ROOT = yes } }
			}
		}
		set_temp_variable = { tag_to_release = HUN }
		1090 = { transfer_state_and_add_claim = yes }
		71 = { add_claim_of_target_and_transfer_if_owned = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				has_event_target = can_integrate
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		if = {
			limit = { original_tag = HUN }
			1090 = { add_claim_of_ROOT = yes }
		}
		else = {
			1090 = { remove_claim_and_add_core_of_ROOT = yes }
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				has_event_target = can_integrate
				AND = {
					is_germany_or_splinter_tag = yes
					owns_state = 4 #Vienna
				}
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = PRESSBURG_CONQ
	}
}

country_event = { #Fate of Roussillon
	id = annex.1112
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1112 FROM = [From.GetName]" }
	title = annexation_ROUSSILLON_CONQ
	desc = annexation_ROUSSILLON_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		817 = { clear_retain_state = yes }
		hidden_effect = {
			if = {
				limit = {
					var:22.owner = {
						is_french_tag = yes
						ROOT_can_grant_land = yes
					}
				}
				var:22.owner = { save_event_target_as = france }
			}
			else_if = {
				limit = {
					var:984.owner = {
						is_french_tag = yes
						ROOT_can_grant_land = yes
					}
				}
				var:984.owner = { save_event_target_as = france }
			}
			if = {
				limit = {
					var:165.owner = {
						OR = {
							original_tag = SPR
							original_tag = CAT
						}
						ROOT_can_grant_land = yes
					}
				}
				var:165.owner = { save_event_target_as = spain }
			}
		}
	}

	option = { #Give it to Catalonia/Spain
		name = annex.1112.a
		trigger = {
			has_event_target = spain
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 4
				event_target:spain = { original_tag = CAT }
			}
			modifier = {
				factor = 0
				is_ally_with = event_target:france
				NOT = { is_ally_with = event_target:spain }
			}
		}
		set_temp_variable = { tag_to_release = event_target:spain }
		817 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to France
		name = annex.1112.b
		trigger = {
			has_event_target = france
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				is_ally_with = event_target:spain
				NOT = { is_ally_with = event_target:france }
			}
		}
		set_temp_variable = { tag_to_release = event_target:france }
		817 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				original_tag = CAT
				original_tag = SPR
				is_french_tag = yes
			}
		}
		ai_chance = {
			base = 1000
		}
		817 = { remove_claim_and_add_core_of_ROOT = yes }
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				original_tag = CAT
				original_tag = SPR
				is_french_tag = yes
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = ROUSSILLON_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Chelm
	id = annex.1113
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.1113 FROM = [From.GetName]" }
	title = annexation_CHELM_CONQ
	desc = annexation_CHELM_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		1088 = { clear_retain_state = yes }
	}

	option = { #Give it to Poland
		name = annex.1113.a
		trigger = {
			POL = { ROOT_can_grant_land = yes }
			NOT = { original_tag = UKR }
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				is_ally_with = UKR
				NOT = { is_ally_with = POL }
			}
		}
		set_temp_variable = { tag_to_release = POL }
		1088 = { transfer_state_and_add_core = yes }
	}

	option = { #Give it to Ukraine
		name = annex.1113.b
		trigger = {
			UKR = { ROOT_can_grant_land = yes }
			NOT = { original_tag = POL }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				is_ally_with = UKR
				NOT = { is_ally_with = POL }
			}
		}
		set_temp_variable = { tag_to_release = UKR }
		1088 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				original_tag = POL
				original_tag = UKR
				AND = {
					is_russian_tag = yes
					owns_state = 792 #Volhynia
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		1088 = { remove_claim_and_add_core_of_ROOT = yes }
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				original_tag = POL
				original_tag = UKR
				AND = {
					is_russian_tag = yes
					owns_state = 792 #Volhynia
				}
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = CHELM_CONQ
		occupy_small_country = yes
	}
}
