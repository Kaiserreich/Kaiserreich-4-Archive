###########################
# Annexation Events concerning the Middle East
###########################
# By lots of folks
# Converted from on_actions to decisions by Rylock and Dr_Njitram
# Any new post-annexation events need to have their triggers in the KR_on_actions file
###########################

# Table of Contents
#	This might sound arcane to you, but we are folliwng a center-west-north-east-south route. You'll get the hang of it
#
# The Levant
#	Lebanon
#	Anatolia
#		Aegean Coast
#	Egypt
#		Suez Canal
#		Sinai
#	Cyrenaica
#	Tripolitania
#
# Transcaucasia
#	Georgia
#		Batumi
#	Azerbaijan
#		Karabakh
#	Armenia
#		Kars
#		Lazistan
#
# Gulf States
#	Arabia
#	Hejaz
#	Iraq
#	Kurdistan
#	Persia
#	Trucial States
#	Oman
#	Yemen
#		Azir

add_namespace = annex

#####################################
##       T H E   L E V A N T       ##
#####################################

country_event = { #Fate of the Levant
	id = annex.4000
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4000 FROM = [From.GetName]" }
	title = annexation_SYR_CONQ
	desc = annexation_SYR_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = SYR
						is_claimed_by = SYR
					}
					OR = {
						state = 453 #Sinai
						state = 753 #Suez
						NOT = { region = 28 } #Syria
					}
				}
				remove_core_of = SYR
				remove_claim_by = SYR
			}
			if = {
				limit = { owns_state = 344 }
				SYR = { add_state_core = 344 } #Adana
			}
		}
	}

	option = { #release Syria
		name = annex.4000.a
		trigger = {
			NOT = {tag = EGY}
		}
		ai_chance = {
			base = 80
		}
		set_temp_variable = { tag_to_release = SYR }
		release_targeted_tag_with_claims = yes
		transfer_sinai_if_annexation_unavailable = yes

		### Apply League of Arab States modifiers if SYR/IRQ
		if = {
			limit = {
				tag = IRQ
				has_dynamic_modifier = {
					modifier = League_of_Arab_States_dynamic_modifier
					scope = IRQ
				}
			}
			var:tag_to_release = { LOA_join_iraqi_sphere = yes }
		}
	}

	option = { #give to OTT ally
		name = annex.4000.b
		trigger = {
			NOT = { tag = EGY }
			is_ally_with = OTT
		}
		ai_chance = {
			base = 20
		}
		every_owned_state = {
			limit = {
				OR = {
					is_core_of = SYR
					is_claimed_by = SYR
				}
			}
			OTT = {
				add_state_core = PREV
				transfer_state = PREV
			}
		}
		transfer_sinai_if_annexation_unavailable = yes
		recheck_annexations = yes
	}

	option = { #give to EGY ally
		name = annex.4000.c
		trigger = {
			454 = { is_valid_annexation_state = yes }
			NOT = { tag = EGY }
			is_ally_with = EGY
		}
		ai_chance = {
			base = 20
		}
		every_owned_state = {
			limit = {
				OR = {
					is_core_of = SYR
					is_claimed_by = SYR
				}
			}
			EGY = {
				add_state_claim = PREV
				transfer_state = PREV
			}
		}
		transfer_sinai_if_annexation_unavailable = yes
		recheck_annexations = yes
	}

	option = { #Release the Sultanate
		name = annex.4000.d
		trigger = {
			tag = EGY
		}
		ai_chance = {
			base = 80
		}
		set_temp_variable = { tag_to_release = SYR }
		release_targeted_tag_with_claims = yes
		transfer_sinai_if_annexation_unavailable = yes
		SYR = { #Set up the Sultanate of Syria
			set_cosmetic_tag = SYR_sultanate
			event_target:EGY_abdel_moneim_i_target = {
				set_nationality = SYR
			}
			if = {
				limit = { has_character = EGY_abdel_moneim_i }
				EGY_abdel_moneim_i = {
					if = {
						limit = { has_ideology = authoritarian_democrat_subtype }
						promote_character = { ideology = authoritarian_democrat_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = { ideology = authoritarian_democrat_subtype }
							promote_leader = yes
						}
					}
				}
			}
			set_politics = {
				ruling_party = authoritarian_democrat
				#last_election = "1935.6.15"
				#election_frequency = 48
				elections_allowed = no
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = SYR_authoritarian_democrat_party_long_sultanate
				name = SYR_authoritarian_democrat_party_sultanate
			}
			hidden_effect = {
				set_popularities = {
					totalist = 0
					syndicalist = 5
					radical_socialist = 2
					social_democrat = 5
					social_liberal = 16
					market_liberal = 20
					social_conservative = 36
					authoritarian_democrat = 8
					paternal_autocrat = 0
					national_populist = 8
				}
				uncomplete_national_focus = {
					focus = SYR_republic_of_equals
					uncomplete_children = yes }
			}
		}


	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			tag = EGY
		}
		ai_chance = {
			base = 100
		}
		every_owned_state = {
			limit = { region = 28 } #Syria
			if = {
				limit = { is_claim_or_core_of_ROOT = no }
				add_claim_by = ROOT
			}
		}
		recheck_annexations = yes
	}

	option = { #occupation
		name = annex.occupation
		trigger = { is_ai = no }
		set_country_flag = SYR_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Lebanon
	id = annex.4001
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4001 FROM = [From.GetName]" }
	title = annexation_LEB_CONQ
	desc = annexation_LEB_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #liberate
		name = annex.4001.a
		ai_chance = {
			base = 0
			modifier = {
				factor = 80
				OR = {
					is_in_faction_with = ENT
					tag = NFA
					tag = RUS
					tag = AUS
				}
			}
		}
		set_temp_variable = { tag_to_release = LEB }
		release_targeted_tag = yes
		hidden_effect = {
			LEB = {
				remove_targeted_decision = { target = ENT decision = LEB_join_the_entente_decision }
				remove_targeted_decision = { target = EGY decision = LEB_join_the_cairo_pact }
				remove_targeted_decision = { target = IRQ decision = LEB_join_the_arab_league }
			}
		}
	}

	option = { #give to OTT ally
		name = annex.4001.b
		trigger = {
			is_ally_with = OTT
			OTT = { owns_state = 554 } #Syria
		}
		ai_chance = {
			base = 20
		}
		OTT = {
			add_state_core = 553 #Beirut
			transfer_state = 553
		}
		recheck_annexations = yes
	}

	option = { #give to SYR ally
		name = annex.4001.c
		trigger = {
			NOT = {
				tag = SYR
			}
			is_ally_with = SYR
		}
		ai_chance = {
			base = 20
		}
		SYR = {
			add_state_claim = 553 #Beirut
			transfer_state = 553
		}
		recheck_annexations = yes
	}

	option = { #give to EGY ally
		name = annex.4001.d
		trigger = {
			NOT = {
				tag = EGY
				tag = SYR
			}
			is_ally_with = EGY
			EGY = { owns_state = 992 } #Haifa
		}
		ai_chance = {
			base = 20
		}
		EGY = {
			add_state_claim = 553 #Beirut
			transfer_state = 553
		}
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = EGY
				tag = SYR
				tag = IRQ
			}
			owns_state = 554 #Damascus
		}
		ai_chance = {
			base = 100
		}
		add_state_claim = 553 #Beirut
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = { is_ai = no }
		occupy_small_country = yes
		set_country_flag = LEB_CONQ
	}
}

country_event = { #Fate of Anatolia
	id = annex.4002
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4002 FROM = [From.GetName]" }
	title = annexation_TUR_CONQ
	desc = annexation_TUR_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			TUR = { OTT_changes_into_turkey = yes }
		}
	}

	option = { #Turkey
		name = annex.4002.a
		ai_chance = {
			base = 100
			#modifier = {
			#	factor = 0.2
			#	OR = {
			#		tag = GER
			#		tag = GEX
			#		tag = AUS
			#		tag = HUN
			#		tag = BUL
			#	}
			#	has_socialist_government = no
			#}
		}
		set_temp_variable = { tag_to_release = TUR }
		every_owned_state = {
			limit = {
				should_transfer_anatolian_state = yes
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag = yes
	}

	#option = { #Ottomans - disabled for now
	#	name = annex.4002.b
	#	trigger = {
	#		OR = {
	#			tag = GER
	#			tag = GEX
	#			tag = AUS
	#			tag = HUN
	#			tag = BUL
	#		}
	#		has_socialist_government = no
	#	}
	#	ai_chance = {
	#		base = 80
	#	}
	#	set_temp_variable = { tag_to_release = TUR }
	#	every_owned_state = {
	#		limit = { should_transfer_anatolian_state = yes }
	#		transfer_state_to = var:tag_to_release
	#	}
	#	puppet_released_tag = yes
	#}

	option = { #occupation
		name = annex.occupation
		ai_chance = { base = 0 }
		set_country_flag = TUR_CONQ
		occupy_large_country = yes
	}
}

country_event = { #Fate of the Aegean Coast
	id = annex.4003
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4003 FROM = [From.GetName]" }
	title = annexation_AEGEAN_CONQ
	desc = annexation_AEGEAN_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = {
		name = annex.4003.a #give to Turkey
		trigger = {
			TUR = { ROOT_can_grant_land = yes }
			NOT = {
				tag = TUR
				tag = GRE
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				is_ally_with = GRE
				NOT = { is_ally_with = TUR }
			}
		}
		set_temp_variable = { tag_to_release = TUR }
		every_owned_state = {
			limit = {
				OR = {
					state = 164 #Dodecanese
					state = 187 #Aegean Islands
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_and_add_claim = yes
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 339 #Smyrna
					state = 340 #Bursa
					state = 342 #Mugla
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_and_add_core = yes
		}
	}

	option = {
		name = annex.4003.b #give to Greece
		trigger = {
			GRE = { ROOT_can_grant_land = yes }
			NOT = {
				tag = TUR
				tag = GRE
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				is_ally_with = TUR
				NOT = { is_ally_with = GRE }
			}
		}
		set_temp_variable = { tag_to_release = GRE }
		every_owned_state = {
			limit = {
				OR = {
					state = 164 #Dodecanese
					state = 187 #Aegean Islands
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_and_add_core = yes
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 339 #Smyrna
					state = 340 #Bursa
					state = 342 #Mugla
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_and_add_claim = yes
		}
	}

	option = {
		name = annex.4003.c #split TUR/GRE
		trigger = {
			OR = {
				339 = { is_valid_annexation_state = yes } #Smyrna
				340 = { is_valid_annexation_state = yes } #Bursa
				342 = { is_valid_annexation_state = yes } #Mugla
			}
			OR = {
				164 = { is_valid_annexation_state = yes } #Dodecanese
				187 = { is_valid_annexation_state = yes } #Aegean Islands
			}
			TUR = { ROOT_can_grant_land = yes }
			GRE = { ROOT_can_grant_land = yes }
			NOT = {
				tag = TUR
				tag = GRE
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.5
				is_ally_with = GRE
				NOT = { is_ally_with = 343.owner }
			}
			modifier = {
				factor = 0.5
				is_ally_with = 343.owner
				NOT = { is_ally_with = GRE }
			}
		}
		set_temp_variable = { tag_to_release = 343.owner }
		every_owned_state = {
			limit = {
				OR = {
					state = 339 #Smyrna
					state = 340 #Bursa
					state = 342 #Mugla
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_and_add_core = yes
		}
		set_temp_variable = { tag_to_release = GRE }
		every_owned_state = {
			limit = {
				OR = {
					state = 164 #Dodecanese
					state = 187 #Aegean Islands
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_and_add_core = yes
		}
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = TUR
				tag = GRE
			}
		}
		ai_chance = {
			base = 100
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 164 #Dodecanese
					state = 187 #Aegean Islands
					state = 339 #Smyrna
					state = 340 #Bursa
					state = 342 #Mugla
				}
			}
			add_claim_by = ROOT
		}
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = TUR
				tag = GRE
			}
		}
		ai_chance = { base = 0 }
		occupy_medium_country = yes
		set_country_flag = AEGEAN_CONQ
	}
}

country_event = { #Fate of Egypt
	id = annex.4004
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4004 FROM = [From.GetName]" }
	title = annexation_EGY_CONQ
	desc = annexation_EGY_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #puppet Egypt
		name = annex.4004.a
		ai_chance = {
			base = 50
		}
		set_temp_variable = { tag_to_release = EGY }
		every_owned_state = {
			limit = {
				is_core_of = EGY
				is_claim_or_core_of_ROOT = no
				NOT = {
					state = 453 #Sinai
					state = 753 #Suez
				}
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag = yes
	}

	option = { #puppet Sudan too
		name = annex.4004.b
		ai_chance = {
			base = 50
		}
		trigger = {
			owns_state = 551
			NOT = { country_exists = SUD }
		}
		set_temp_variable = { tag_to_release = SUD }
		release_targeted_tag = yes

		set_temp_variable = { tag_to_release = EGY }
		every_owned_state = {
			limit = {
				is_core_of = EGY
				is_claim_or_core_of_ROOT = no
				NOT = {
					state = 453 #Sinai
					state = 753 #Suez
				}
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_ai = no
		}
		occupy_medium_country = yes
		set_country_flag = EGY_CONQ
	}
}

country_event = { #Fate of the Suez Canal
	id = annex.4005
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4005 FROM = [From.GetName]" }
	title = annexation_SUEZ_CONQ
	desc = annexation_SUEZ_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #Set up an international zone
		name = annex.4005.a
		trigger = {
			NOT = { country_exists = PAL }
			has_socialist_government = no
		}
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				OR = {
					tag = GBR
					tag = NFA
					tag = GER
					tag = RUS
					has_authoritarian_government = yes
				}
			}
		}
		OTT_set_up_suez_canal_zone = yes
		recheck_annexations = yes
	}

	option = { #Return it to EGY
		name = annex.4005.b
		trigger = {
			EGY = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					tag = GBR
					tag = NFA
					tag = GER
					tag = RUS
					has_authoritarian_government = yes
				}
			}
			modifier = {
				factor = 0
				is_actual_major = yes
				has_socialist_government = no
			}
		}
		EGY = { transfer_state = 753 }
		recheck_annexations = yes
	}

	option = { #Return it to TUR
		name = annex.4005.c
		trigger = {
			OTT = {
				owns_state = 453 #Sinai
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					tag = GBR
					tag = NFA
					tag = GER
					tag = RUS
					has_authoritarian_government = yes
				}
			}
			modifier = {
				factor = 0
				is_actual_major = yes
				has_socialist_government = no
			}
		}
		OTT = {
			add_state_core = 753
			transfer_state = 753
		}
		recheck_annexations = yes
	}

	option = { #Keep it
		name = annex.4005.d
		ai_chance = {
			base = 40
		}
		add_political_power = -50
		set_country_flag = SUEZ_CONQ
	}
}

country_event = { #Fate of Sinai
	id = annex.4006
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4006 FROM = [From.GetName]" }
	title = annexation_SINAI_CONQ
	desc = annexation_SINAI_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #Give to Egypt
		name = annex.4006.a
		trigger = {
			NOT = {
				tag = OTT
				tag = SYR
				tag = PAL
			}
			EGY = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.5
				var:454.owner = {
					OR = {
						tag = SYR
						tag = PAL
					}
					is_ally_with = ROOT
				}
			}
		}
		EGY = {
			add_state_claim = 453
			transfer_state = 453
		}
		recheck_annexations = yes
	}

	option = { #Give to owner of Jerusalem
		name = annex.4006.b
		trigger = {
			NOT = {
				tag = OTT
				tag = SYR
				tag = PAL
			}
			var:454.owner = {
				OR = {
					tag = OTT
					tag = SYR
					tag = PAL
				}
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 2
				is_ally_with = var:454.owner
			}
		}
		var:454.owner = {
			add_state_claim = 453
			transfer_state = 453
		}
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = OTT
				tag = SYR
				tag = PAL
			}
		}
		ai_chance = {
			base = 100
		}
		add_state_claim = 453 #Sinai
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = SINAI_CONQ
	}
}

country_event = { #Fate of Cyrenaica
	id = annex.4007
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4007 FROM = [From.GetName]" }
	title = annexation_LBA_CONQ
	desc = annexation_LBA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = LBA }
			remove_all_cores_and_claims_of_tags = yes #this was added to solve issue of LBA keeping cores it got from ifriqiya decision, which allowed them to be released with Tunisian states
			LBA = {
				add_state_core = 1009 #Kufra
				add_state_core = 663 #Jaghbub
				add_state_core = 451 #Ajdabiya
				add_state_core = 450 #Benghazi
				LBA_set_up_parties = yes
			}
		}
	}

	option = { #liberate CYR
		name = annex.4007.a
		trigger = {
			NOT = { tag = OTT }
			448 = { is_valid_annexation_state = no } #Tripoli
		}
		ai_chance = {
			base = 100
		}

		set_temp_variable = { tag_to_release = LBA }
		release_targeted_tag = yes
		LBA = {
			clr_country_flag = LBA_idris_btfo
		}
	}

	option = { #liberate LBA
		name = annex.4007.b
		trigger = {
			NOT = { tag = OTT }
			448 = { is_valid_annexation_state = yes } #Tripoli
		}
		ai_chance = {
			base = 100
		}
		LBA = {
			add_state_core = 448
			add_state_core = 273
		}
		set_temp_variable = { tag_to_release = LBA }
		release_targeted_tag = yes
		LBA = {
			set_cosmetic_tag = LBA_libya
			clr_country_flag = LBA_idris_btfo
		}
	}

	option = { #liberate LBA and TRP
		name = annex.4007.c
		trigger = {
			NOT = { tag = OTT }
			448 = { is_valid_annexation_state = yes } #Tripoli
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = TRP }
		release_targeted_tag = yes

		set_temp_variable = { tag_to_release = LBA }
		release_targeted_tag = yes
		LBA = {
			clr_country_flag = LBA_idris_btfo
		}
	}

	option = { #Reintegrate them into the Empire (OTT only)
		name = annex.4007.d
		trigger = {
			tag = OTT
		}
		ai_chance = {
			base = 100
		}
		occupy_small_country = yes
		set_country_flag = LBA_CONQ
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = { tag = OTT }
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = LBA_CONQ
	}
}

country_event = { #Fate of Tripolitania
	id = annex.4008
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4008 FROM = [From.GetName]" }
	title = annexation_TRP_CONQ
	desc = annexation_TRP_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #liberate
		name = annex.4008.a
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.5
				is_ally_with = LBA
			}
			modifier = {
				factor = 0.5
				any_allied_country = {
					is_italian_tag = yes
					448 = { is_claimed_by = PREV } #Tripoli
				}
			}
		}
		set_temp_variable = { tag_to_release = TRP }
		release_targeted_tag = yes
	}

	option = { #give to LBA ally
		name = annex.4008.b
		trigger = {
			is_ally_with = LBA
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = LBA }
		add_to_temp_array = { target_cores_to_release = TRP }
		transfer_territory_from_core_regions_and_add_claims = yes
	}

	option = { #give to Italian ally
		name = annex.4001.c
		trigger = {
			OR = {
				any_allied_country = {
					is_italian_tag = yes
					448 = { is_claimed_by = PREV } #Tripoli
				}
				any_subject_country = {
					is_italian_tag = yes
					448 = { is_claimed_by = PREV } #Tripoli
				}
			}
		}
		ai_chance = {
			base = 10
		}
		hidden_effect = {
			random_other_country = {
				limit = {
					is_ally_with = ROOT
					is_italian_tag = yes
					448 = { is_claimed_by = PREV } #Tripoli
				}
			}
			set_temp_variable = { tag_to_release = THIS }
		}
		add_to_temp_array = { target_cores_to_release = TRP }
		transfer_territory_from_core_regions = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = { is_ai = no }
		occupy_small_country = yes
		set_country_flag = TRP_CONQ
	}
}

#####################################
##    T R A N S C A U C A S I A    ##
#####################################

country_event = { #Fate of Georgia
	id = annex.4009
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4009 FROM = [From.GetName]" }
	title = annexation_GEO_CONQ
	desc = annexation_GEO_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = GEO }
			remove_all_cores_and_claims_of_tags = yes
			GEO = {
				add_state_core = 231 #Sakartvelo
				add_state_core = 585 #Batumi
				add_state_core = 1080 #Abkhazia
				remove_ideas = {
					GEO_treaty_of_poti_idea
					GEO_treaty_of_poti_idea2
				}
				GEO_remove_monarchy = yes
			}
		}
	}

	option = { #Transcaucasia
		name = annex.4009.a
		trigger = {
			has_socialist_government = yes
			is_russian_tag = no
			NOT = {
				tag = ARM
				tag = AZR
			}
			230 = { #Yerevan
				is_owned_by_ROOT_or_subject = yes
				is_controlled_by = owner
				is_claim_or_core_of_ROOT = no
			}
			229 = { #Azerbaijan
				is_owned_by_ROOT_or_subject = yes
				is_controlled_by = owner
				is_claim_or_core_of_ROOT = no
			}
		}
		ai_chance = {
			base = 0
		}
		hidden_effect = {
			GEO = {
				add_state_core = 229
				add_state_core = 230
				add_state_core = 585
				add_state_core = 998
				add_state_core = 1000
				add_state_core = 1001
				add_state_core = 1080
			}
		}
		if = {
			limit = { has_subject = ARM }
			GEO = {
				annex_country = {
					target = ARM
					transfer_troops = no
				}
			}
		}
		if = {
			limit = { has_subject = AZR }
			GEO = {
				annex_country = {
					target = AZR
					transfer_troops = no
				}
			}
		}
		set_temp_variable = { tag_to_release = GEO }
		release_targeted_tag = yes
		GEO = { set_cosmetic_tag = GEO_TCU }
	}

	option = { #Kingdom
		name = annex.4009.b
		trigger = {
			has_authoritarian_government = yes
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_completed_focus = RUS_Expansionism
			}
			modifier = {
				factor = 0
				has_country_flag = RUS_will_annex_caucasus
			}
		}
		if = {
			limit = { tag = RUS }
			set_country_flag = RUS_will_liberate_caucasus
		}
		set_temp_variable = { tag_to_release = GEO }
		release_targeted_tag = yes
		hidden_effect = {
			if = {
				limit = { tag = GER }
				var:tag_to_release = { GEO_create_ioachim = yes }
			}
			else = {
				var:tag_to_release = { GEO_create_giorgi = yes }
			}
		}
	}

	option = { #republic
		name = annex.4009.c
		trigger = {
			has_authoritarian_government = no
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_completed_focus = RUS_Expansionism
			}
			modifier = {
				factor = 0
				has_country_flag = RUS_will_annex_caucasus
			}
		}
		if = {
			limit = { tag = RUS }
			set_country_flag = RUS_will_liberate_caucasus
		}
		set_temp_variable = { tag_to_release = GEO }
		release_targeted_tag = yes
	}

	option = { #Integrate
		name = annex.4009.d
		trigger = {
			is_russian_tag = yes
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_country_flag = RUS_will_liberate_caucasus
			}
		}
		every_state = {
			limit = {
				region = 134 #Caucasus
				is_core_of = GEO
				is_claim_or_core_of_ROOT = no
				NOT = {
					is_claim_or_core_of_owner = yes
					owner = {
						NOT = { tag = ROOT }
						is_ally_with = ROOT
					}
				}
			}
			add_claim_by = ROOT
		}
		set_country_flag = RUS_will_annex_caucasus
		add_political_power = -25
		add_to_array = { RUS_integration_array = GEO }
		recheck_annexations = yes
	}

	option = { #Give to Russia
		name = annex.4009.e
		trigger = {
			is_russian_tag = no
			var:234.owner = {
				is_russian_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_german_tag = yes
			}
		}
		add_to_temp_array = { target_cores_to_release = GEO }
		set_temp_variable = { tag_to_release = var:234.owner }
		transfer_territory_from_core_regions = yes
	}

	option = { #occupation
		name = annex.occupation
		trigger = {
			is_russian_tag = no
		}
		ai_chance = { base = 0 }
		set_country_flag = GEO_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Azerbaijan
	id = annex.4010
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4010 FROM = [From.GetName]" }
	title = annexation_AZR_CONQ
	desc = annexation_AZR_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #puppet
		name = annex.4010.a
		trigger = {
			NOT = { tag = PER }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_completed_focus = RUS_Expansionism
			}
			modifier = {
				factor = 0
				has_country_flag = RUS_will_annex_caucasus
			}
		}
		if = {
			limit = { tag = RUS }
			set_country_flag = RUS_will_liberate_caucasus
		}
		set_temp_variable = { tag_to_release = AZR }
		every_owned_state = {
			limit = {
				is_core_of = var:tag_to_release
				is_claim_or_core_of_ROOT = no
				if = {
					limit = { state = 998 } #Highland Karabakh
					230 = { is_valid_annexation_state = no } #Yerevan
				}
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag = yes
	}

	option = { #Integrate
		name = annex.4010.b
		trigger = {
			is_russian_tag = yes
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_country_flag = RUS_will_liberate_caucasus
			}
		}
		every_state = {
			limit = {
				region = 134 #Caucasus
				is_core_of = AZR
				is_claim_or_core_of_ROOT = no
				NOT = {
					is_claim_or_core_of_owner = yes
					owner = {
						NOT = { tag = ROOT }
						is_ally_with = ROOT
					}
				}
			}
			add_claim_by = ROOT
		}
		set_country_flag = RUS_will_annex_caucasus
		add_political_power = -20
		add_to_array = { RUS_integration_array = AZR }
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = OTT
				tag = PER
			}
		}
		ai_chance = {
			base = 1000
		}
		set_country_flag = AZR_CONQ
		add_state_claim = 229
		if = {
			limit = {
				tag = PER
				is_in_faction_with = ARM
			}
			if = {
				limit = { owns_state = 998 }
				998 = { transfer_state_to = ARM }
			}
			if = {
				limit = { ARM = { owns_state = 229 } }
				229 = { transfer_state_to = ROOT }
			}
		}
		else = {
			add_state_claim = 998
		}
	}

	option = { #Give to Russia
		name = annex.4010.c
		trigger = {
			NOT = { tag = PER }
			is_russian_tag = no
			var:234.owner = {
				is_russian_tag = yes
				is_ally_with = ROOT
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_german_tag = yes
			}
		}
		add_to_temp_array = { target_cores_to_release = AZR }
		set_temp_variable = { tag_to_release = var:234.owner }
		transfer_territory_from_core_regions = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_russian_tag = no
			NOT = {
				tag = OTT
				tag = PER
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = AZR_CONQ
	}
}

country_event = { #Fate of Karabakh
	id = annex.4011
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4011 FROM = [From.GetName]" }
	title = annexation_KARABAKH_CONQ
	desc = annexation_KARABAKH_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = {
		name = annex.4011.a #give it to Armenia
		trigger = {
			NOT = {
				tag = ARM
				tag = AZR
			}
			ARM = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				is_ally_with = AZR
				NOT = { is_ally_with = ARM }
			}
		}
		set_temp_variable = { tag_to_release = ARM }
		998 = { transfer_state_and_add_core = yes }
	}
	option = {
		name = annex.4011.b #give it to Azerbaijan
		trigger = {
			NOT = {
				tag = ARM
				tag = AZR
			}
			AZR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				is_ally_with = ARM
				NOT = { is_ally_with = AZR }
			}
		}
		set_temp_variable = { tag_to_release = AZR }
		998 = { transfer_state_and_add_core = yes }
	}
	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = ARM
				tag = AZR
			}
		}
		ai_chance = {
			base = 100
		}
		add_state_claim = 998
		recheck_annexations = yes
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = ARM
				tag = AZR
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = KARABAKH_CONQ
	}
}

country_event = { #Fate of Armenia
	id = annex.4012
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4012 FROM = [From.GetName]" }
	title = annexation_ARM_CONQ
	desc = annexation_ARM_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #puppet
		name = annex.4012.a
		trigger = {
			NOT = { tag = OTT }
		}
		ai_chance = {
			base = 50
			modifier = {
				add = 0
				tag = PER
			}
			modifier = {
				factor = 0
				has_completed_focus = RUS_Expansionism
			}
			modifier = {
				factor = 0
				has_country_flag = RUS_will_annex_caucasus
			}
		}
		if = {
			limit = { tag = RUS }
			set_country_flag = RUS_will_liberate_caucasus
		}
		set_temp_variable = { tag_to_release = ARM }
		every_owned_state = {
			limit = {
				is_core_of = var:tag_to_release
				is_claim_or_core_of_ROOT = no
				if = {
					limit = { state = 998 } #Highland Karabakh
					229 = { is_valid_annexation_state = no } #Azerbaijan
					AZR = { ROOT_can_grant_land = no }
				}
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag = yes
	}

	option = { #Integrate
		name = annex.4012.b
		trigger = {
			is_russian_tag = yes
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_country_flag = RUS_will_liberate_caucasus
			}
		}
		every_state = {
			limit = {
				region = 134 #Caucasus
				is_core_of = ARM
				is_claim_or_core_of_ROOT = no
				NOT = {
					is_claim_or_core_of_owner = yes
					owner = {
						NOT = { tag = ROOT }
						is_ally_with = ROOT
					}
				}
			}
			add_claim_by = ROOT
		}
		set_country_flag = RUS_will_annex_caucasus
		add_political_power = -20
		add_to_array = { RUS_integration_array = ARM }
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			tag = PER
		}
		ai_chance = {
			base = 1000
		}
		occupy_small_country = yes
		set_country_flag = ARM_CONQ
		add_state_claim = 230
		add_state_claim = 998
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			tag = OTT
		}
		ai_chance = {
			base = 1000
		}
		230 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
	}

	option = { #Give to Russia
		name = annex.4012.c
		trigger = {
			is_russian_tag = no
			NOT = {
				tag = PER
				tag = OTT
			}
			OR = {
				var:231.owner = {
					is_russian_tag = yes
					is_ally_with = ROOT
				}
				var:229.owner = {
					is_russian_tag = yes
					is_ally_with = ROOT
				}
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				is_german_tag = yes
			}
		}
		if = {
			limit = {
				var:231.owner = {
					is_russian_tag = yes
					is_ally_with = ROOT
				}
			}
			set_temp_variable = { tag_to_release = var:231.owner }
		}
		else = {
			set_temp_variable = { tag_to_release = var:229.owner }
		}
		add_to_temp_array = { target_cores_to_release = ARM }
		transfer_territory_from_core_regions = yes
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_russian_tag = no
			NOT = { tag = PER }
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = ARM_CONQ
	}
}

country_event = { #Fate of Kars
	id = annex.4014
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4014 FROM = [From.GetName]" }
	title = annexation_KARS_CONQ
	desc = annexation_KARS_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = {
		name = annex.4014.a #give it to Armenia
		trigger = {
			NOT = {
				tag = ARM
				tag = TUR
			}
			ARM = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_russian_tag = no
				is_ally_with = TUR
				NOT = { is_ally_with = ARM }
			}
		}
		set_temp_variable = { tag_to_release = ARM }
		1000 = { transfer_state_and_add_claim = yes }
	}

	option = {
		name = annex.4014.b #give it to Turkey
		trigger = {
			NOT = {
				tag = ARM
				tag = TUR
			}
			TUR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_ally_with = ARM
				NOT = { is_ally_with = TUR }
			}
			modifier = {
				factor = 0
				is_russian_tag = yes
				OR = {
					ARM = { ROOT_can_grant_land = yes }
					owns_state = 230 #Yerevan
				}
			}
		}
		set_temp_variable = { tag_to_release = TUR }
		1000 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = ARM
				tag = TUR
				AND = {
					is_russian_tag = yes
					owns_state = 230 #Yerevan
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 1000
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = ARM
				tag = TUR
				AND = {
					is_russian_tag = yes
					owns_state = 230 #Yerevan
				}
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = KARS_CONQ
	}
}

country_event = { #Fate of Lazistan
	id = annex.4015
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4015 FROM = [From.GetName]" }
	title = annexation_LAZISTAN_CONQ
	desc = annexation_LAZISTAN_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes


	option = {
		name = annex.4015.a #give it to Georgia
		trigger = {
			NOT = {
				tag = GEO
				tag = TUR
			}
			GEO = {
				owns_state = 585 #Batumi
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				if = {
					limit = { is_russian_tag = yes }
				}
				else = {
					OR = {
						is_ally_with = TUR
					}
				}
				NOT = { is_ally_with = GEO }
			}
		}
		set_temp_variable = { tag_to_release = GEO }
		1001 = { transfer_state_and_add_claim = yes }
	}

	option = {
		name = annex.4015.b #give it to Turkey
		trigger = {
			NOT = {
				tag = ARM
				tag = GEO
				tag = TUR
			}
			TUR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					is_ally_with = GEO
				}
				NOT = { is_ally_with = TUR }
			}
			modifier = {
				factor = 0
				is_russian_tag = yes
				OR = {
					GEO = { ROOT_can_grant_land = yes }
				}
			}
		}
		set_temp_variable = { tag_to_release = TUR }
		1001 = { transfer_state_and_add_core = yes }
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = TUR
				AND = {
					owns_state = 585 #Batumi
					OR = {
						tag = GEO
					}
				}
			}
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 1001
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = TUR
				AND = {
					owns_state = 585 #Batumi
					OR = {
						tag = ARM
						tag = GEO
					}
				}
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = LAZISTAN_CONQ
	}
}

#####################################
##      G U L F   S T A T E S      ##
#####################################

country_event = { #Fate of Arabia
	id = annex.4016
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4016 FROM = [From.GetName]" }
	title = annexation_ARA_CONQ
	desc = annexation_ARA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_to_temp_array = { core_removal_array = JBS }
			add_to_temp_array = { core_removal_array = SAU }
			if = {
				limit = {
					NOT = { country_exists = HEJ }
				}
				add_to_temp_array = { core_removal_array = HEJ }
				remove_all_cores_and_claims_of_tags = yes
				679 = { add_core_of = HEJ } #Hejaz
				754 = { add_core_of = HEJ } #Medina
				HEJ = {
					promote_character = {
						character = HEJ_abdullah_bin_al_hussein
						ideology = authoritarian_democrat_subtype
					}
					promote_character = {
						character = HEJ_abdullah_bin_al_hussein
						ideology = paternal_autocrat_subtype
					}
				}
			}
			else = {
				remove_all_cores_and_claims_of_tags = yes
			}
			every_state = {
				limit = { is_arabia = yes }
				add_core_of = JBS
			}
		}
	}

	option = { #release Arabia
		name = annex.4016.a
		ai_chance = {
			base = 100
		}
		if = {
			limit = {
				NOT = {
					tag = OTT
					country_exists = HEJ
				}
				OR = {
					679 = { is_valid_annexation_state = yes } #Hejaz
					754 = { is_valid_annexation_state = yes } #Medina
				}
			}
			set_temp_variable = { tag_to_release = HEJ }
		}
		else = {
			set_temp_variable = { tag_to_release = JBS }
			if = {
				limit = { tag = OTT }
				JBS = { JBS_restore_rashids = yes }
			}
			else = {
				JBS = { JBS_remove_rashids = yes }
			}
		}
		every_state = {
			limit = {
				is_claim_or_core_of_ROOT = no
				OR = {
					is_arabia = yes
					AND = {
						OR = {
							state = 679 #Hejaz
							state = 754 #Medina
						}
						check_variable = { tag_to_release = HEJ }
					}
				}
			}
			add_core_of = var:tag_to_release
		}
		release_targeted_tag = yes
		var:tag_to_release = {
			if = {
				limit = { tag = HEJ }
				set_cosmetic_tag = HEJ_ARA
			}
			else_if = {
				limit = {
					tag = JBS
					is_subject_of = OTT
				}
				hidden_effect = {
					set_politics = {
						ruling_party = authoritarian_democrat
						elections_allowed = no
					}
					set_popularities = {
						authoritarian_democrat = 46
						paternal_autocrat = 39
						national_populist = 15
					}
				}
			}
		}

		### Apply League of Arab States modifiers if SYR/IRQ
		if = {
			limit = {
				tag = IRQ
				has_dynamic_modifier = {
					modifier = League_of_Arab_States_dynamic_modifier
					scope = IRQ
				}
			}
			var:tag_to_release = { LOA_join_iraqi_sphere = yes }
		}
		if = {
			limit = {
				tag = SYR
				has_dynamic_modifier = {
					modifier = League_of_Arab_States_dynamic_modifier
					scope = SYR
				}
			}
			var:tag_to_release = { LOA_join_syrian_sphere = yes }
		}
	}

	option = { #Give to HEJ
		name = annex.4016.b
		trigger = {
			is_ally_with = HEJ
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = { tag_to_release = HEJ }
		every_owned_state = {
			limit = { is_arabia = yes }
			transfer_state_and_add_core = yes
		}
		var:tag_to_release = { set_cosmetic_tag = HEJ_ARA }
	}

	option = { #occupy
		name = annex.occupation
		trigger = { is_ai = no }
		occupy_medium_country = yes
		set_country_flag = ARA_CONQ
	}
}

country_event = { #Fate of the Trucial States
	id = annex.4017
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4017 FROM = [From.GetName]" }
	title = annexation_TRU_CONQ
	desc = annexation_TRU_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			TRU = {
				if = {
					limit = { NOT = { has_character = TRU_shakhbut_bin_sultan_al_nahyan } }
					event_target:TRU_shakhbut_bin_sultan_al_nahyan_target = {
						promote_leader = yes
						set_nationality = TRU
					}
					if = {
						limit = { has_character = TRU_shakhbut_bin_sultan_al_nahyan }
						TRU_shakhbut_bin_sultan_al_nahyan = {
							if = {
								limit = { has_ideology = social_conservative_subtype }
								promote_character = { ideology = social_conservative_subtype }
							}
							else = {
								add_country_leader_role = {
									country_leader = { ideology = social_conservative_subtype }
									promote_leader = yes
								}
							}
							if = {
								limit = { has_ideology = authoritarian_democrat_subtype }
								promote_character = { ideology = authoritarian_democrat_subtype }
							}
							else = {
								add_country_leader_role = {
									country_leader = { ideology = authoritarian_democrat_subtype }
									promote_leader = yes
								}
							}
						}
					}
				}
			}
		}
	}

	option = { #liberate
		name = annex.4017.a
		trigger = {
			NOT = {
				tag = JBS
				tag = HEJ
				tag = SAU
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.25
				is_ally_with = ROOT
			}
			modifier = {
				factor = 0.5
				var:656.owner = {
					OR = {
						tag = JBS
						tag = HEJ
						tag = SAU
					}
					is_ally_with = ROOT
				}
			}
		}
		set_temp_variable = { tag_to_release = TRU }
		release_targeted_tag = yes
		hidden_effect = {
			if = {
				limit = { has_socialist_government = no }
				var:tag_to_release = {
					set_popularities = {
						totalist = 0
						radical_socialist = 0
						syndicalist = 0
						social_democrat = 0
						social_liberal = 0
						market_liberal = 10
						social_conservative = 10
						authoritarian_democrat = 16
						paternal_autocrat = 59
						national_populist = 5
					}
					set_politics = {
						ruling_party = paternal_autocrat
						elections_allowed = no
					}
				}
			}
		}
	}

	option = { #Bahrain to PER, release TRU
		name = annex.4017.b
		trigger = {
			NOT = {
				tag = JBS
				tag = HEJ
				tag = SAU
				tag = PER
			}
			907 = { #Bahrain
				is_valid_annexation_state = yes
				is_claimed_by = PER
			}
			PER = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 20
		}
		PER = { transfer_state = 907 } #Bahrain
		set_temp_variable = { tag_to_release = TRU }
		release_targeted_tag = yes
		hidden_effect = {
			if = {
				limit = { has_socialist_government = no }
				var:tag_to_release = {
					set_popularities = {
						totalist = 0
						radical_socialist = 0
						syndicalist = 0
						social_democrat = 0
						social_liberal = 0
						market_liberal = 10
						social_conservative = 10
						authoritarian_democrat = 16
						paternal_autocrat = 59
						national_populist = 5
					}
					set_politics = {
						ruling_party = paternal_autocrat
						elections_allowed = no
					}
				}
			}
		}
	}

	option = { #give to ARA ally
		name = annex.4017.c
		trigger = {
			NOT = {
				tag = JBS
				tag = HEJ
				tag = SAU
			}
			var:656.owner = {
				OR = {
					tag = JBS
					tag = HEJ
					tag = SAU
				}
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.5
				NOT = { is_ally_with = 656.owner }
			}
		}
		set_temp_variable = { tag_to_release = 656.owner }
		every_owned_state = {
			limit = {
				is_claim_or_core_of_ROOT = no
				OR = {
					state = 907 #Bahrain
					state = 993 #Qatar
					state = 658 #Abu Dhabi
				}
			}
			transfer_state_and_add_core = yes
		}
	}

	option = { #split ARA/PER
		name = annex.4017.d
		trigger = {
			NOT = {
				tag = JBS
				tag = HEJ
				tag = SAU
				tag = PER
			}
			var:656.owner = {
				OR = {
					tag = JBS
					tag = HEJ
					tag = SAU
				}
				ROOT_can_grant_land = yes
			}
			907 = { #Bahrain
				is_valid_annexation_state = yes
				is_claimed_by = PER
			}
			PER = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.5
				NOT = { is_ally_with = PER }
			}
		}
		PER = { transfer_state = 907 } #Bahrain

		set_temp_variable = { tag_to_release = 656.owner }
		every_owned_state = {
			limit = {
				is_claim_or_core_of_ROOT = no
				OR = {
					state = 993 #Qatar
					state = 658 #Abu Dhabi
				}
			}
			transfer_state_and_add_core = yes
		}
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = JBS
				tag = HEJ
				tag = SAU
			}
		}
		ai_chance = {
			base = 1000
		}
		every_owned_state = {
			limit = {
				is_claim_or_core_of_ROOT = no
				OR = {
					state = 907 #Bahrain
					state = 993 #Qatar
					state = 658 #Abu Dhabi
				}
			}
			add_claim_by = ROOT
		}
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_ai = no
			NOT = {
				tag = JBS
				tag = HEJ
				tag = SAU
			}
		}
		occupy_small_country = yes
		set_country_flag = TRU_CONQ
	}
}

country_event = { #Fate of Hejaz
	id = annex.4018
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4018 FROM = [From.GetName]" }
	title = annexation_HEJ_CONQ
	desc = annexation_HEJ_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			HEJ = {
				promote_character = {
					character = HEJ_abdullah_bin_al_hussein
					ideology = authoritarian_democrat_subtype
				}
				promote_character = {
					character = HEJ_abdullah_bin_al_hussein
					ideology = paternal_autocrat_subtype
				}
			}
		}
	}

	option = { #Release Hejaz
		name = annex.4018.a
		trigger = {
			NOT = {
				tag = JBS
				tag = SAU
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.5
				var:675.owner = { #Qassim
					OR = {
						tag = JBS
						tag = SAU
					}
					is_ally_with = ROOT
				}
			}
			modifier = {
				factor = 0.5
				OTT = {
					is_ally_with = ROOT
					owns_state = 455 #Ma'an
					is_subject = no
				}
			}
		}
		set_temp_variable = { tag_to_release = HEJ }
		release_targeted_tag = yes

		### Apply League of Arab States modifiers if SYR/IRQ
		if = {
			limit = {
				tag = IRQ
				has_dynamic_modifier = {
					modifier = League_of_Arab_States_dynamic_modifier
					scope = IRQ
				}
			}
			var:tag_to_release = { LOA_join_iraqi_sphere = yes }
		}
		if = {
			limit = {
				tag = SYR
				has_dynamic_modifier = {
					modifier = League_of_Arab_States_dynamic_modifier
					scope = SYR
				}
			}
			var:tag_to_release = { LOA_join_syrian_sphere = yes }
		}
	}

	option = { #Give to ARA
		name = annex.4018.b
		trigger = {
			NOT = {
				tag = JBS
				tag = SAU
			}
			var:675.owner = { #Qassim
				OR = {
					tag = JBS
					tag = SAU
				}
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = 675.owner } #Qassim
		every_owned_state = {
			limit = {
				OR = {
					state = 679 #Hejaz
					state = 754 #Medina
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_and_add_claim = yes
		}
	}

	option = { #Give to Ottomans
		name = annex.4018.c
		trigger = {
			NOT = {
				tag = JBS
				tag = SAU
				tag = OTT
			}
			OTT = {
				is_ally_with = ROOT
				owns_state = 455 #Ma'an
				is_subject = no
			}
		}
		ai_chance = {
			base = 20
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 679 #Hejaz
					state = 754 #Medina
				}
				is_claim_or_core_of_ROOT = no
			}
			OTT = {
				add_state_core = PREV
				transfer_state = PREV
			}
		}
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = JBS
				tag = SAU
			}
		}
		ai_chance = {
			base = 1000
		}
		if = {
			limit = { tag = SAU }
			add_state_core = 679 #Hejaz
			add_state_core = 754 #Medina
			set_cosmetic_tag = SAU_ARA
		}
		else = {
			every_owned_state = {
				limit = {
					is_claim_or_core_of_ROOT = no
					OR = {
						state = 679 #Hejaz
						state = 754 #Medina
					}
				}
				add_claim_by = ROOT
			}
		}
		recheck_annexations = yes
	}

	option = { #Occupy
		name = annex.occupation
		trigger = {
			is_ai = no
			NOT = {
				tag = JBS
				tag = SAU
			}
		}
		set_country_flag = HEJ_CONQ
		occupy_small_country = yes
	}
}

country_event = { #Fate of Iraq
	id = annex.4019
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4019 FROM = [From.GetName]" }
	title = annexation_IRQ_CONQ
	desc = annexation_IRQ_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			TUR = {
				if = {
					limit = { has_character = IRQ_yasin_al_hashimi }
					event_target:IRQ_yasin_al_hashimi_target = { set_nationality = IRQ }
				}
			}
			IRQ = { #removing IRQ's Saadun monarchy
				if = {
					limit = { has_character = IRQ_ajami_al_saadun }
					set_party_name = {
						ideology = paternal_autocrat
						name = IRQ_paternal_autocrat_party
						long_name = IRQ_paternal_autocrat_party_long
					}
				}
				if = {
					limit = { has_character = IRQ_yasin_al_hashimi }
					IRQ_yasin_al_hashimi = {
						promote_character = yes
						promote_leader = yes
						remove_trait = { trait = recently_promoted }
					}
				}
			}
		}
	}

	option = { #release Iraq
		name = annex.4019.a
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				tag = PER
			}
		}
		set_temp_variable = { tag_to_release = IRQ }
		transfer_iraq = yes
		puppet_released_tag = yes

		### Apply League of Arab States modifiers if SYR/IRQ
		if = {
			limit = {
				tag = SYR
				has_dynamic_modifier = {
					modifier = League_of_Arab_States_dynamic_modifier
					scope = SYR
				}
			}
			var:tag_to_release = { LOA_join_syrian_sphere = yes }
		}
	}

	option = { #give to OTT ally
		name = annex.4019.b
		trigger = {
			NOT = { tag = PER }
			is_ally_with = OTT
			OTT = {
				OR = {
					owns_state = 350 #Diyarbakir
					owns_state = 677 #Aleppo
				}
			}
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = OTT }
		transfer_iraq = yes
	}

	option = { #give to PER ally
		name = annex.4019.c
		trigger = {
			NOT = { tag = PER }
			is_ally_with = PER
			PER = {
				owns_state = 421 #Kurdistan
				owns_state = 413 #Khuzestan
			}
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = PER }
		transfer_iraq = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			tag = PER
		}
		ai_chance = {
			base = 1000
		}
		every_owned_state = {
			limit = {
				region = 239 #Mesopotamia
				if = {
					limit = { state = 819 } #Sulaymaniyah
					350 = { is_valid_annexation_state = no } #Diyarbakir
					352 = { is_valid_annexation_state = no } #Van
					417 = { is_valid_annexation_state = no } #Urmia
					421 = { is_valid_annexation_state = no } #Kurdistan
				}
			}
			add_claim_by = ROOT
		}
		recheck_annexations = yes
	}

	option = { #occupation
		name = annex.occupation
		trigger = {
			NOT = { tag = PER }
		}
		ai_chance = { base = 0 }
		set_country_flag = IRQ_CONQ
		occupy_medium_country = yes
	}
}

country_event = { #Fate of Kurdistan
	id = annex.4020
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4020 FROM = [From.GetName]" }
	title = annexation_KUR_CONQ
	desc = annexation_KUR_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #Puppet Kurdistan
		name = annex.4020.a
		trigger = {
			NOT = {
				tag = TUR
				country_exists = KUR
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.5
				OR = {
					is_ally_with = IRQ
					is_ally_with = TUR
					is_ally_with = PER
				}
			}
			modifier = {
				factor = 0.5
				OR = {
					tag = IRQ
					tag = PER
				}
			}
		}
		set_temp_variable = { tag_to_release = KUR }
		release_targeted_tag = yes
	}

	option = { #Give them to KUR
		name = annex.4020.b
		trigger = {
			country_exists = KUR
			NOT = {
				tag = IRQ
				tag = TUR
				tag = PER
			}
			KUR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				OR = {
					is_ally_with = IRQ
					is_ally_with = TUR
					is_ally_with = PER
				}
			}
		}
		every_owned_state = {
			limit = { is_core_of = KUR }
			transfer_state_to = KUR
		}
		recheck_annexations = yes
	}

	option = { #give to IRQ ally
		name = annex.4020.c
		trigger = {
			NOT = {
				tag = IRQ
				tag = TUR
				tag = PER
			}
			IRQ = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					is_ally_with = TUR
					is_ally_with = PER
				}
				NOT = { is_ally_with = IRQ }
			}
		}
		set_temp_variable = { tag_to_release = IRQ }
		add_to_temp_array = { target_cores_to_release = KUR }
		transfer_territory_from_core_regions_and_add_claims = yes
	}

	option = { #give to TUR ally
		name = annex.4020.d
		trigger = {
			NOT = {
				tag = IRQ
				tag = TUR
				tag = PER
				is_ally_with = PER
			}
			TUR = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					is_ally_with = IRQ
					is_ally_with = PER
				}
				NOT = { is_ally_with = TUR }
			}
		}
		set_temp_variable = { tag_to_release = TUR }
		add_to_temp_array = { target_cores_to_release = KUR }
		transfer_territory_from_core_regions_and_add_claims = yes
	}

	option = { #give to PER ally
		name = annex.4020.e
		trigger = {
			NOT = {
				tag = IRQ
				tag = TUR
				tag = PER
			}
			PER = { ROOT_can_grant_land = yes }
			OR = {
				owns_state = 417 #Urmia
				owns_state = 421 #Kurdistan
				PER = { owns_state = 417 } #Urmia
				PER = { owns_state = 421 } #Kurdistan
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					is_ally_with = TUR
					is_ally_with = IRQ
				}
				NOT = { is_ally_with = PER }
			}
		}
		set_temp_variable = { tag_to_release = PER }
		add_to_temp_array = { target_cores_to_release = KUR }
		transfer_territory_from_core_regions_and_add_claims = yes
	}

	option = { #split TUR/PER
		name = annex.4020.f
		trigger = {
			NOT = {
				tag = IRQ
				tag = TUR
				tag = PER
			}
			OR = {
				owns_state = 350 #Diyarbakir
				owns_state = 352 #Van
			}
			OR = {
				owns_state = 417 #Urmia
				owns_state = 421 #Kurdistan
				owns_state = 819 #Sulaymaniyah
			}
			TUR = { ROOT_can_grant_land = yes }
			PER = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.5
				is_ally_with = IRQ
				NOT = { is_ally_with = TUR }
			}
			modifier = {
				factor = 0.5
				is_ally_with = TUR
				NOT = { is_ally_with = PER }
			}
		}
		set_temp_variable = { tag_to_release = TUR }
		every_owned_state = {
			limit = {
				OR = {
					state = 350 #Diyarbakir
					state = 352 #Van
				}
			}
			transfer_state_and_add_claim = yes
		}
		set_temp_variable = { tag_to_release = PER }
		every_owned_state = {
			limit = {
				OR = {
					state = 417 #Urmia
					state = 421 #Kurdistan
					state = 819 #Sulaymaniyah
				}
			}
			transfer_state_and_add_claim = yes
		}
	}

	option = { #split TUR/IRQ
		name = annex.4020.g
		trigger = {
			NOT = {
				tag = IRQ
				tag = TUR
				tag = PER
			}
			OR = {
				owns_state = 350 #Diyarbakir
				owns_state = 352 #Van
				AND = {
					owns_state = 417 #Urmia
					NOT = { is_ally_with = PER }
				}
			}
			OR = {
				owns_state = 819 #Sulaymaniyah
				AND = {
					owns_state = 421 #Kurdistan
					NOT = { is_ally_with = PER }
				}
			}
			TUR = { ROOT_can_grant_land = yes }
			IRQ = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.5
				is_ally_with = IRQ
				NOT = { is_ally_with = TUR }
			}
			modifier = {
				factor = 0.5
				is_ally_with = TUR
				NOT = { is_ally_with = IRQ }
			}
		}
		set_temp_variable = { tag_to_release = TUR }
		every_owned_state = {
			limit = {
				OR = {
					state = 350 #Diyarbakir
					state = 352 #Van
					state = 417 #Urmia
				}
			}
			transfer_state_and_add_claim = yes
		}
		set_temp_variable = { tag_to_release = IRQ }
		every_owned_state = {
			limit = {
				OR = {
					state = 421 #Kurdistan
					state = 819 #Sulaymaniyah
				}
			}
			transfer_state_and_add_claim = yes
		}
	}

	option = { #split TUR/IRQ/PER
		name = annex.4020.h
		trigger = {
			NOT = {
				tag = IRQ
				tag = TUR
				tag = PER
			}
			OR = {
				owns_state = 350 #Diyarbakir
				owns_state = 352 #Van
			}
			OR = {
				owns_state = 417 #Urmia
				owns_state = 421 #Kurdistan
			}
			OR = {
				owns_state = 421 #Kurdistan
				owns_state = 819 #Sulaymaniyah
			}
			TUR = { ROOT_can_grant_land = yes }
			IRQ = { ROOT_can_grant_land = yes }
			PER = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0.5
				is_ally_with = IRQ
				NOT = { is_ally_with = TUR }
			}
			modifier = {
				factor = 0.5
				is_ally_with = TUR
				NOT = { is_ally_with = IRQ }
			}
		}
		set_temp_variable = { tag_to_release = 354.owner }
		every_owned_state = {
			limit = {
				OR = {
					state = 350 #Diyarbakir
					state = 352 #Van
				}
			}
			transfer_state_and_add_claim = yes
		}
		set_temp_variable = { tag_to_release = PER }
		every_owned_state = {
			limit = {
				OR = {
					state = 417 #Urmia
					state = 421 #Kurdistan
				}
			}
			transfer_state_and_add_claim = yes
		}
		set_temp_variable = { tag_to_release = IRQ }
		819 = { transfer_state_and_add_claim = yes } #Sulaymaniyah
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = TUR
				tag = IRQ
				tag = PER
			}
		}
		ai_chance = {
			base = 100
		}
		every_owned_state = {
			limit = {
				is_not_claim_or_core_of_ROOT = yes
				is_core_of = KUR
			}
			add_claim_by = ROOT
		}
		recheck_annexations = yes
	}

	option = { #Occupy it
		name = annex.occupation
		trigger = {
			NOT = {
				tag = TUR
				tag = IRQ
				tag = PER
			}
		}
		ai_chance = { base = 0 }
		occupy_medium_country = yes
		set_country_flag = KUR_CONQ
	}
}

country_event = { #Fate of Persia
	id = annex.4021
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4021 FROM = [From.GetName]" }
	title = annexation_PER_CONQ
	desc = annexation_PER_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = PER
						is_claimed_by = PER
					}
					NOT = { region = 116 } #Persia
				}
				remove_core_of = PER
				remove_claim_by = PER
			}
			if = {
				limit = { tag = IRQ }
				add_state_claim = 413 #Khuzestan
			}
		}
	}

	option = { #puppet
		name = annex.4021.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				tag = IRQ
				413 = { is_valid_annexation_state = yes } #Khuzestan
			}
			modifier = {
				factor = 0
				tag = OTT
				OR = {
					413 = { is_valid_annexation_state = yes } #Khuzestan
					417 = { is_valid_annexation_state = yes } #Urmia
					419 = { is_valid_annexation_state = yes } #Tabriz
					421 = { is_valid_annexation_state = yes } #Kurdistan
				}
			}
		}
		set_temp_variable = { tag_to_release = PER }
		every_owned_state = {
			limit = {
				is_core_of = var:tag_to_release
				is_claim_or_core_of_ROOT = no
				NOT = { is_core_of = KUR }
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag_nocosmetic = yes
		hidden_effect = {
			var:tag_to_release = {
				if = {
					limit = { has_socialist_government = no }
					remove_ideas = {
						PER_beacon_mideast_socialism
						PER_evolution_idea
					}
				}
				if = {
					limit = { has_elected_government = no }
					remove_ideas = PER_shining_democracy
				}
				if = {
					limit = { has_authoritarian_government = no }
					remove_ideas = PER_legacy_of_agha_khan
				}
			}
		}
	}

	option = { #take Western Persia
		name = annex.4021.b
		trigger = {
			tag = OTT
			OR = {
				413 = { is_valid_annexation_state = yes } #Khuzestan
				417 = { is_valid_annexation_state = yes } #Urmia
				419 = { is_valid_annexation_state = yes } #Tabriz
				421 = { is_valid_annexation_state = yes } #Kurdistan
			}
		}
		ai_chance = { base = 100 }
		add_state_claim = 413 #Khuzestan
		add_state_claim = 417 #Urmia
		add_state_claim = 419 #Tabriz
		add_state_claim = 421 #Kurdistan
		set_temp_variable = { tag_to_release = PER }
		every_owned_state = {
			limit = {
				is_core_of = var:tag_to_release
				is_claim_or_core_of_ROOT = no
				NOT = { is_core_of = KUR }
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag_nocosmetic = yes
		hidden_effect = {
			var:tag_to_release = {
				if = {
					limit = { has_socialist_government = no }
					remove_ideas = {
						PER_beacon_mideast_socialism
						PER_evolution_idea
					}
				}
				if = {
					limit = { has_elected_government = no }
					remove_ideas = PER_shining_democracy
				}
				if = {
					limit = { has_authoritarian_government = no }
					remove_ideas = PER_legacy_of_agha_khan
				}
			}
		}
	}

	option = { #take Khuzestan
		name = annex.4021.c
		trigger = {
			tag = IRQ
			413 = { is_valid_annexation_state = yes } #Khuzestan
		}
		ai_chance = { base = 100 }
		add_state_claim = 413 #Khuzestan
		set_temp_variable = { tag_to_release = PER }
		every_owned_state = {
			limit = {
				is_core_of = var:tag_to_release
				is_claim_or_core_of_ROOT = no
				NOT = { is_core_of = KUR }
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag_nocosmetic = yes
		hidden_effect = {
			var:tag_to_release = {
				if = {
					limit = { has_socialist_government = no }
					remove_ideas = {
						PER_beacon_mideast_socialism
						PER_evolution_idea
					}
				}
				if = {
					limit = { has_elected_government = no }
					remove_ideas = PER_shining_democracy
				}
				if = {
					limit = { has_authoritarian_government = no }
					remove_ideas = PER_legacy_of_agha_khan
				}
			}
		}
	}

	option = { #occupy
		name = annex.occupation
		ai_chance = { base = 0 }
		occupy_medium_country = yes
		set_country_flag = PER_CONQ
	}
}

country_event = { #Fate of Oman
	id = annex.4022
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4022 FROM = [From.GetName]" }
	title = annexation_OMA_CONQ
	desc = annexation_OMA_CONQ_desc

	immediate = {
		hidden_effect = {
			if = {
				limit = { tag = YEM }
				add_state_claim = 1024 #Dhofar
			}
		}
	}
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #puppet
		name = annex.4022.a
		set_temp_variable = { tag_to_release = OMA }
		release_targeted_tag = yes

		### Apply League of Arab States modifiers if SYR/IRQ
		if = {
			limit = {
				tag = IRQ
				has_dynamic_modifier = {
					modifier = League_of_Arab_States_dynamic_modifier
					scope = IRQ
				}
			}
			var:tag_to_release = { LOA_join_iraqi_sphere = yes }
		}
		if = {
			limit = {
				tag = SYR
				has_dynamic_modifier = {
					modifier = League_of_Arab_States_dynamic_modifier
					scope = SYR
				}
			}
			var:tag_to_release = { LOA_join_syrian_sphere = yes }
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = { is_ai = no }
		occupy_small_country = yes
		set_country_flag = OMA_CONQ
	}
}

country_event = { #Fate of Yemen
	id = annex.4023
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4023 FROM = [From.GetName]" }
	title = annexation_YEM_CONQ
	desc = annexation_YEM_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { tag = OTT }
				add_state_claim = 659 #Aden
				add_state_claim = 752 #Hadhramaut
			}
		}
	}

	option = { #puppet
		name = annex.4023.a
		set_temp_variable = { tag_to_release = YEM }
		every_owned_state = {
			limit = {
				is_core_of = YEM
				is_claim_or_core_of_ROOT = no
				NOT = {
					state = 981 #Najran
					state = 982 #Asir
				}
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag = yes

		### Apply League of Arab States modifiers if SYR/IRQ
		if = {
			limit = {
				tag = IRQ
				has_dynamic_modifier = {
					modifier = League_of_Arab_States_dynamic_modifier
					scope = IRQ
				}
			}
			var:tag_to_release = { LOA_join_iraqi_sphere = yes }
		}
		if = {
			limit = {
				tag = SYR
				has_dynamic_modifier = {
					modifier = League_of_Arab_States_dynamic_modifier
					scope = SYR
				}
			}
			var:tag_to_release = { LOA_join_syrian_sphere = yes }
		}
	}

	option = { #occupy
		name = annex.occupation
		trigger = { is_ai = no }
		occupy_medium_country = yes
		set_country_flag = YEM_CONQ
	}
}

country_event = { #Fate of Asir
	id = annex.4024
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4024 FROM = [From.GetName]" }
	title = annexation_ASIR_CONQ
	desc = annexation_ASIR_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #Give it to Yemen
		name = annex.4024.a
		trigger = {
			is_arabian_tag = no
			NOT = { tag = OTT }
			YEM = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				NOT = { is_ally_with = YEM }
				var:292.owner = {
					is_arabian_tag = yes
					is_ally_with = ROOT
				}
			}
		}
		set_temp_variable = { tag_to_release = YEM }
		every_owned_state = {
			limit = {
				OR = {
					state = 981 #Najran
					state = 982 #Asir
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_and_add_core = yes
		}
	}

	option = { #Give it to Arabia
		name = annex.4024.b
		trigger = {
			is_arabian_tag = no
			NOT = { tag = OTT }
			var:292.owner = {
				is_arabian_tag = yes
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_ally_with = YEM
				NOT = { is_ally_with = 292.owner }
			}
		}
		set_temp_variable = { tag_to_release = var:292.owner }
		every_owned_state = {
			limit = {
				OR = {
					state = 981 #Najran
					state = 982 #Asir
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_and_add_claim = yes
		}
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = OTT
				is_arabian_tag = yes
			}
		}
		ai_chance = {
			base = 1000
		}
		add_state_claim = 982
		if = {
			limit = { owns_state = 981 }
			if = {
				limit = { tag = OTT }
				var:678.owner = { transfer_state = 981 } #Rub al Khali
			}
			else = {
				add_state_claim = 981
			}
		}
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			is_arabian_tag = no
			NOT = { tag = OTT }
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = ASIR_CONQ
	}
}

country_event = { #Fate of Batumi
	id = annex.4025
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4025 FROM = [From.GetName]" }
	title = annexation_BATUMI_CONQ
	desc = annexation_BATUMI_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = {
		name = annex.4025.a #give it to Georgia
		trigger = {
			NOT = { tag = GEO }
			GEO = { ROOT_can_grant_land = yes }
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				if = {
					limit = { is_russian_tag = yes }
					ARM = {
						owns_state = 1001 #Lazistan
						is_ally_with = ROOT
					}
				}
				else = {
					var:1001.owner = {
						OR = {
							tag = ARM
							tag = TUR
						}
						is_ally_with = ROOT
					}
				}
				NOT = { is_ally_with = GEO }
			}
		}
		set_temp_variable = { tag_to_release = GEO }
		585 = { transfer_state_and_add_claim = yes }
	}
	option = {
		name = annex.4025.b #give it to Armenia
		trigger = {
			NOT = {
				tag = ARM
				tag = GEO
			}
			ARM = {
				owns_state = 1000 #Kars
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				GEO = { ROOT_can_grant_land = yes }
			}
			modifier = {
				factor = 0
				is_ally_with = GEO
				NOT = { is_ally_with = ARM }
			}
			modifier = {
				factor = 0
				has_completed_focus = RUS_Expansionism
				owns_state = 231 #Georgia
			}
		}
		set_temp_variable = { tag_to_release = ARM }
		585 = { transfer_state_and_add_claim = yes }
	}
	option = {
		name = annex.4025.c #give it to Turkey
		trigger = {
			NOT = {
				tag = ARM
				tag = GEO
				tag = TUR
			}
			TUR = {
				ROOT_can_grant_land = yes
				OR = {
					owns_state = 1001 #Lazistan
					1001 = { is_valid_annexation_state = yes }
				}
			}
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					is_ally_with = ARM
					is_ally_with = GEO
				}
				NOT = { is_ally_with = TUR }
			}
			modifier = {
				factor = 0
				is_russian_tag = yes
				OR = {
					ARM = { ROOT_can_grant_land = yes }
					GEO = { ROOT_can_grant_land = yes }
					owns_state = 231 #Georgia
				}
			}
		}
		set_temp_variable = { tag_to_release = TUR }
		585 = { transfer_state_and_add_core = yes }
		if = {
			limit = { 1001 = { is_valid_annexation_state = yes } }
			1001 = { transfer_state_and_add_core = yes }
		}
	}
	option = { #Integrate
		name = annex.integration
		trigger = {
			OR = {
				tag = GEO
				AND = {
					tag = ARM
					owns_state = 1000 #Kars
				}
				AND = {
					tag = TUR
					owns_state = 1001 #Lazistan
				}
				AND = {
					is_russian_tag = yes
					owns_state = 231 #Georgia
				}
			}
		}
		ai_chance = {
			base = 1000
			modifier = {
				factor = 0
				tag = ARM
				GEO = { ROOT_can_grant_land = yes }
			}
		}
		add_state_claim = 585
		recheck_annexations = yes
	}

	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = GEO
				AND = {
					tag = ARM
					owns_state = 1000 #Kars
				}
				AND = {
					tag = TUR
					owns_state = 1001 #Lazistan
				}
				AND = {
					is_russian_tag = yes
					owns_state = 231 #Georgia
				}
			}
		}
		ai_chance = { base = 0 }
		occupy_small_country = yes
		set_country_flag = BATUMI_CONQ
	}
}

country_event = { #Fate of Basra
	id = annex.4026
	immediate = { log = "[GetDateText]: [Root.GetName]: event annex.4026 FROM = [From.GetName]" }
	title = annexation_BASRA_CONQ
	desc = annexation_BASRA_CONQ_desc
	picture = GFX_report_event_generic_conference2

	is_triggered_only = yes

	option = { #hand it over to Iraq
		name = annex.4026.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				tag = PER
			}
		}
		812 = { save_event_target_as = granted_land } #Basra
		var:291.owner = {
			transfer_state = 812
			country_event = annex.38
		}
		recheck_annexations = yes
	}

	option = { #Integrate
		name = annex.integration
		trigger = {
			tag = PER
		}
		ai_chance = {
			base = 1
		}
		add_state_claim = 812
		recheck_annexations = yes
	}

	option = { #occupation
		name = annex.occupation
		ai_chance = { base = 0 }
		set_country_flag = BASRA_CONQ
		occupy_small_country = yes
	}
}

