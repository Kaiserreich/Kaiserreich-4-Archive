### Najd by Herkles ###

add_namespace = saudi_arabia_events

### Starting Events 2 - 3 ###

country_event = { # House of Saud Victorious over Rashid - form Sultanate of Nejd
	id = saudi_arabia_events.2
	immediate = {
		log = "KR_Event_Logging;SAUDIS UNIFY ARABIA"
	}
	title = saudi_arabia_events.2.t
	desc = saudi_arabia_events.2.d
	picture = GFX_report_event_fascist_militia

	fire_only_once = yes

	trigger = {
		tag = SAU
		NOT = {
			country_exists = JBS
		}
		owns_state = 915
		owns_state = 292
	}

	immediate = {
		hidden_effect = {
			delete_unit_template_and_units = { division_template = "Ruwala" }
			delete_unit_template_and_units = { division_template = "Anizzah" }
			delete_unit_template_and_units = { division_template = "Wuld Sulaiman" }
			delete_unit_template_and_units = { division_template = "Dhafir" }
			delete_unit_template_and_units = { division_template = "Mutair" }
			delete_unit_template_and_units = { division_template = "Utaibah" }
			delete_unit_template_and_units = { division_template = "Utaibah Militia" }
			delete_unit_template_and_units = { division_template = "Duwasir" }
		}
	}

	option = { #
		log = "[GetLogInfo]: event saudi_arabia_events.2 option saudi_arabia_events.2.a"
		name = saudi_arabia_events.2.a
		set_cosmetic_tag = SAU_JBS
		add_stability = 0.05
		hidden_effect = {
			country_event = { id = saudi_arabia_events.151 days = 1 }
		}
	}
}

### Saudi Hegemon Events 4 - 14 ###

### Responses to declaration of Caliphate ###
country_event = { # Rashidi Caliphate
	id = saudi_arabia_events.3
	title = saudi_arabia_events.3.t
	desc = saudi_arabia_events.3.d
	picture = GFX_report_event_fascist_speech

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.3 option saudi_arabia_events.3.a"
		name = saudi_arabia_events.3.a
		every_other_country = {
			limit = {
				OR = {
					tag = EGY
					tag = PER
					tag = YEM
					tag = PRF
					tag = RAJ
					tag = DEI
					tag = INS
					tag = MOR
					tag = SOM
					tag = ALB
					tag = RUS
					tag = AZR
					tag = OTT
				}
			}
			country_event = { id = saudi_arabia_events.31 days = 18 random_days = 24 }
		}
	}
}

country_event = { # The Sultan of Arabia declares himself Caliph
	id = saudi_arabia_events.31

	title = {
		text = saudi_arabia_events.31.t.india
		trigger = {
			OR = {
				tag = PRF
				tag = RAJ
			}
		}
	}
	title = {
		text = saudi_arabia_events.31.t.indonesia
		trigger = {
			OR = {
				tag = DEI
				tag = INS
			}
		}
	}
	title = {
		text = saudi_arabia_events.31.t.other
		trigger = {
			NOT = {
				tag = PRF
				tag = RAJ
				tag = DEI
				tag = INS
			}
		}
	}

	desc = {
		text = saudi_arabia_events.31.d.EGY
		trigger = { tag = EGY }
	}
	desc = {
		text = saudi_arabia_events.31.d.PER
		trigger = { tag = PER }
	}
	desc = {
		text = saudi_arabia_events.31.d.india
		trigger = {
			OR = {
				tag = PRF
				tag = RAJ
			}
		}
	}
	desc = {
		text = saudi_arabia_events.31.d.indonesia
		trigger = {
			OR = {
				tag = DEI
				tag = INS
			}
		}
	}
	desc = {
		text = saudi_arabia_events.31.d.OTT
		trigger = { tag = OTT }
	}
	desc = {
		text = saudi_arabia_events.31.d.other
		trigger = {
			NOT = {
				tag = EGY
				tag = PER
				tag = PRF
				tag = RAJ
				tag = DEI
				tag = INS
				tag = OTT
			}
		}
	}

	picture = GFX_report_event_fascist_speech

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			FROM = {
				country_event = { id = saudi_arabia_events.32 days = 1 }
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.31 option saudi_arabia_events.31.a.PER"
		name = saudi_arabia_events.31.a.PER
		trigger = { tag = PER }
	}

	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.31 option saudi_arabia_events.31.a.india"
		name = saudi_arabia_events.31.a.india
		trigger = {
			OR = {
				tag = PRF
				tag = RAJ
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.31 option saudi_arabia_events.31.a.OTT"
		name = saudi_arabia_events.31.a.OTT
		trigger = { tag = OTT }
	}

	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.31 option saudi_arabia_events.31.a.other"
		name = saudi_arabia_events.31.a.other
		trigger = {
			NOT = {
				tag = PER
				tag = PRF
				tag = RAJ
				tag = OTT
			}
		}
	}
}
country_event = { # FROM response to the Caliph
	id = saudi_arabia_events.32

	title = {
		text = saudi_arabia_events.32.t.india
		trigger = {
			FROM = {
				OR = {
					tag = PRF
					tag = RAJ
				}
			}
		}
	}
	title = {
		text = saudi_arabia_events.32.t.indonesia
		trigger = {
			FROM = {
				OR = {
					tag = DEI
					tag = INS
				}
			}
		}
	}
	title = {
		text = saudi_arabia_events.32.t.other
		trigger = {
			FROM = {
				NOT = {
					tag = PRF
					tag = RAJ
					tag = DEI
					tag = INS
				}
			}
		}
	}

	desc = {
		text = saudi_arabia_events.32.d.india
		trigger = {
			FROM = {
				OR = {
					tag = PRF
					tag = RAJ
				}
			}
		}
	}
	desc = {
		text = saudi_arabia_events.32.d.indonesia
		trigger = {
			FROM = {
				OR = {
					tag = DEI
					tag = INS
				}
			}
		}
	}
	desc = {
		text = saudi_arabia_events.32.d.other
		trigger = {
			FROM = {
				NOT = {
					tag = PRF
					tag = RAJ
					tag = DEI
					tag = INS
				}
			}
		}
	}

	picture = GFX_report_event_fascist_speech

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.32 option saudi_arabia_events.32.a.india"
		name = saudi_arabia_events.32.a.india
		trigger = {
			FROM = {
				OR = {
					tag = PRF
					tag = RAJ
				}
			}
		}
		reverse_add_opinion_modifier = {
			target = FROM
			modifier = KR_approves_of_govt
		}
	}

	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.32 option saudi_arabia_events.32.a.other"
		name = saudi_arabia_events.32.a.other
		trigger = {
			FROM = {
				NOT = {
					tag = PRF
					tag = RAJ
				}
			}
		}
		reverse_add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

### Ikhwan revolt ###

country_event = { # Ikhwans revolt
	id = saudi_arabia_events.150
	title = saudi_arabia_events.150.t
	desc = saudi_arabia_events.150.d
	picture = GFX_report_event_fascist_militia

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		is_subject = no
		owns_state = 991
		owns_state = 675
		controls_all_owned_states = yes
	}

	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.150 option saudi_arabia_events.150.a"
		name = saudi_arabia_events.150.a
		complete_national_focus = SAU_purge_ikhwan
		remove_ideas = SAU_ikh_aftermatch
		hidden_effect = {
			IKH_start_rebellion = yes
			set_province_controller = 10923
			set_province_controller = 7995
		}
	}
}

### Cultural Flavor Events ###
country_event = {# Emirs swear loyalty to the Saudi state
	id = saudi_arabia_events.151
	title = saudi_arabia_events.151.t
	desc = saudi_arabia_events.151.d
	picture = GFX_report_event_generic_diplomacy4

	fire_only_once = yes

	is_triggered_only = yes

	option = {# Sufficient is Allah as our ally
		log = "[GetLogInfo]: event saudi_arabia_events.151 option saudi_arabia_events.151.a"
		name = saudi_arabia_events.151.a
		add_political_power = 30
	}
}

country_event = { #Oman has collapsed
	id = saudi_arabia_events.152
	title = saudi_arabia_events.152.t
	desc = saudi_arabia_events.152.d
	picture = GFX_report_event_generic_diplomacy4

	trigger = {
		NOT = {
			is_neighbor_of = FROM
			any_allied_country = { is_neighbor_of = FROM }
		}
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.152 option saudi_arabia_events.152.a"
		name = saudi_arabia_events.152.a
		ai_chance = { base = 10 }
		FROM = {
			country_event = { id = saudi_arabia_events.153 days = 2 }
		}
	}
	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.152 option saudi_arabia_events.152.b"
		name = saudi_arabia_events.152.b
		ai_chance = { base = 0 }
		add_political_power = -50
		add_war_support = -0.05
		FROM = {
			country_event = { id = saudi_arabia_events.154 days = 2 }
		}
	}
}
country_event = { #Entente/Persia offers peace
	id = saudi_arabia_events.153
	title = saudi_arabia_events.153.t
	desc = saudi_arabia_events.153.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.153 option saudi_arabia_events.153.a"
		name = saudi_arabia_events.153.a
		FROM = {
			if = {
				limit = { has_subject = OMA }
				set_autonomy = {
					target = OMA
					autonomy_state = autonomy_free
				}
			}
			if = {
				limit = { is_in_faction_with = OMA }
				remove_from_faction = OMA
			}
			white_peace_with_ROOT = yes
		}
	}
	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.153 option saudi_arabia_events.153.b"
		name = saudi_arabia_events.153.b
		ai_chance = { base = 0 }
		add_political_power = -200
		add_stability = -0.2
		add_war_support = -0.2
		FROM = {
			country_event = { id = saudi_arabia_events.155 days = 3 }
		}
	}
}
country_event = { #Entente/Persia refuses peace
	id = saudi_arabia_events.154
	title = saudi_arabia_events.154.t
	desc = saudi_arabia_events.154.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.154 option saudi_arabia_events.154.a"
		name = saudi_arabia_events.154.a
		add_war_support = 0.1
		navy_experience = 50
	}
}

country_event = { #Arabians refuse peace
	id = saudi_arabia_events.155
	title = saudi_arabia_events.155.t
	desc = saudi_arabia_events.155.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event saudi_arabia_events.155 option saudi_arabia_events.155.a"
		name = saudi_arabia_events.155.a
		add_war_support = 0.1
		add_political_power = 100
		add_stability = 0.1
	}
}

# The Saudi-Omani War
news_event = {
	id = saudi_arabia_events.156
	immediate = { log = "[GetLogInfo]: event saudi_arabia_events.156" }
	title = saudi_arabia_events.156.t
	desc = saudi_arabia_events.156.d
	picture = GFX_news_event_OTT_buraimi

	major = yes

	is_triggered_only = yes

	trigger = { wants_world_news = yes }

	show_major = {
		regional_middle_east_news = yes
		NOT = { tag = SAU }
		NOT = { tag = OMA }
	}

	option = {
		name = saudi_arabia_events.156.a
	}
}

