####################
# El Salvador Events
# Done by Drozdovite and Beelzebub
####################

add_namespace = els

country_event = { #Intro event
	id = els.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.1 FROM = [From.GetName]" }
	title = els.1.t
	desc = els.1.d
	picture = GFX_report_event_ELS_meeting
	immediate = {
		hidden_effect = {
			country_event = { id = els.2 days = 46 }
		}
	}

	is_triggered_only = yes

	option = { #Summary: Maximiliano is a nerd
		name = els.1.a
	}
}

country_event = { #Depression hits
	id = els.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.2 FROM = [From.GetName]" }
	title = els.2.t
	desc = els.2.d
	immediate = {
		hidden_effect = {
			country_event = { id = els.18 days = 46 }
		}
	}
	is_triggered_only = yes

	option = {
		name = els.2.a
		add_stability = -0.05
		add_war_support = -0.07
		swap_ideas = {
			remove_idea = ELS_depression_leftovers
			add_idea = ELS_depression_revamped
		}
	}
}

country_event = { #Commies are back from Mexico
	id = els.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.3 FROM = [From.GetName]" }
	title = els.3.t
	desc = els.3.d

	is_triggered_only = yes

	option = {
		name = els.3.a
		hidden_effect = {
			country_event = { id = els.108 days = 20 }
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
	}
}
##This whole stuff below is for the democratic tree, maybe I should renumber it afterwards, I made them on the fly
country_event = { #Military rebels!
	id = els.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.4 FROM = [From.GetName]" }
	title = els.4.t
	desc = els.4.d
	is_triggered_only = yes

	option = {
		name = els.4.a
		add_political_power = -100
		add_stability = -0.10
		add_ideas = ELS_unruly_military
	}
}

country_event = { #Military crackdown
	id = els.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.5 FROM = [From.GetName]" }
	title = els.5.t
	desc = els.5.d

	is_triggered_only = yes

	option = {
		name = els.5.a
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = ELS_path option = ELS_PATH_SOCDEM }
					has_game_rule = { rule = ELS_path option = ELS_PATH_SOCLIB }
				}
			}
		}
		add_political_power = -100
		add_stability = -0.10
		set_country_flag = military_is_free
	}
	option = {
		name = els.5.b
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				has_game_rule = { rule = ELS_path option = ELS_PATH_AUTDEM }
			}
		}
		add_manpower = -5000
		swap_ideas = {
			remove_idea = ELS_unruly_military
			add_idea = ELS_unruly_military2
		}
	}
}

#Flavour for Nat. Pops.
country_event = { #General Unrest! Who would've thought!
	id = els.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.17 FROM = [From.GetName]" }
	title = els.17.t
	desc = els.17.d

	is_triggered_only = yes

	option = { #We're fucked
		name = els.17.a
		add_stability = -0.05
	}
}
country_event = { #The Economy Spirals downwards!
	id = els.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.18 FROM = [From.GetName]" }
	title = els.18.t
	desc = els.18.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #We're fucked
		name = els.18.a
		add_stability = -0.05
	}
}

country_event = { #A Strike!
	id = els.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.19 FROM = [From.GetName]" }
	title = els.19.t
	desc = els.19.d
	picture = GFX_report_event_ELS_rally

	is_triggered_only = yes

	option = { #We're fucked
		name = els.19.a
		add_stability = -0.05
		hidden_effect = {
			country_event = { id = els.20 days = 7 }
		}
	}
}

country_event = { #Martinez Suppresses the Strike VIOLENTLY
	id = els.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.20 FROM = [From.GetName]" }
	title = els.20.t
	desc = els.20.d
	picture = GFX_report_event_ELS_strike_suppressed

	fire_only_once = yes
	is_triggered_only = yes

	option = { #We're fucked
		name = els.20.a
		add_political_power = -50
		add_stability = -0.05
	}
}

country_event = { #Rumors of a coup reach the press!
	id = els.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.21 FROM = [From.GetName]" }
	title = els.21.t
	desc = els.21.d

	is_triggered_only = yes

	option = { #We're fucked
		name = els.21.a
		add_stability = -0.15
	}
}
country_event = { #Martinez reduces state's salaries to help cope with the depression
	id = els.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.22 FROM = [From.GetName]" }
	title = els.22.t
	desc = els.22.d
	picture = GFX_report_event_ELS_speech

	is_triggered_only = yes

	option = { #A token move, but it's appreciated
		name = els.22.a
		add_political_power = 75
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
	}
}

country_event = { #Close the Banco Central?
	id = els.23
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.23 FROM = [From.GetName]" }
	title = els.23.t
	desc = els.23.d

	is_triggered_only = yes

	option = { #Keep it open
		name = els.23.a

		add_stability = -0.10
	}
	option = { #Close it
		name = els.23.b

		add_political_power = -75
		add_stability = -0.05
	}
}

country_event = { #Construction of affordable houses for the working class
	id = els.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.24 FROM = [From.GetName]" }
	title = els.24.t
	desc = els.24.d

	is_triggered_only = yes

	option = { #Viva Martinez!
		name = els.24.a
		add_political_power = -25
		add_stability = 0.05
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
	}
}

country_event = { #Subsidies for the rural workers
	id = els.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.25 FROM = [From.GetName]" }
	title = els.25.t
	desc = els.25.d

	is_triggered_only = yes

	option = { #Viva Martinez!
		name = els.25.a
		add_political_power = -25
		add_stability = 0.05
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
	}
}

country_event = { #Finishing the El Salvadorian Panamerican Road
	id = els.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.26 FROM = [From.GetName]" }
	title = els.26.t
	desc = els.26.d
	picture = GFX_report_event_ELS_speech

	is_triggered_only = yes

	option = { #Viva Martinez!
		name = els.26.a
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = infrastructure
					size > 0
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = infrastructure
									size > 0
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}

country_event = { #Final Ratification of the Guatemalan-Salvadoran-Honduran Border treaty
	id = els.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.27 FROM = [From.GetName]" }
	title = els.27.t
	desc = els.27.d

	is_triggered_only = yes

	option = { #I see no reason not to try it
		name = els.27.a
		ai_chance = {
			base = 90
		}
		custom_effect_tooltip = els_ratification_treaty
		hidden_effect = {
			HON = {
				country_event = { id = els.100 days = 2 }
			}
			GUA = {
				country_event = { id = els.101 days = 2 }
			}
		}
	}
	option = { #I'm an Asshole
		name = els.27.b
		ai_chance = {
			base = 10
		}
		add_political_power = -50
	}
}

country_event = { #Sugar exports fall, but our oil exports rise so we lose some and gain some
	id = els.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.28 FROM = [From.GetName]" }
	title = els.28.t
	desc = els.28.d

	is_triggered_only = yes

	option = { #Yaay?
		name = els.28.a
	}
}

##Stuff for the military takeover after the revolution

country_event = { #Military arranges elections forever
	id = els.30
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.30 FROM = [From.GetName]" }
	title = els.30.t
	desc = els.30.d
	is_triggered_only = yes

	option = {
		name = els.30.a
		add_political_power = -200
		add_stability = 0.30
	}
}

country_event = { #Rigged Election number 1
	id = els.31
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.31 FROM = [From.GetName]" }
	title = els.31.t
	desc = els.31.d
	picture = GFX_report_event_AST_election

	fire_only_once = yes

	trigger = {
		tag = ELS
		has_government = authoritarian_democrat
		has_country_leader = { character = ELS_salvador_castaneda_castro }
		date > 1939.03.30
		date < 1943.03.31
	}

	option = {
		name = els.31.a #Salvador Castaneda Castro and his junta
		add_political_power = 50
		effect_tooltip = {
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
		}
	}
	option = {
		name = els.31.b #Hmm, this ballot looks odd...
		add_political_power = 50
		effect_tooltip = {
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
		}
	}
}

country_event = { #Rigged Election number 2 Electric Boogaloo
	id = els.32
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.32 FROM = [From.GetName]" }
	title = els.32.t
	desc = els.32.d
	picture = GFX_report_event_AST_election

	fire_only_once = yes

	trigger = {
		tag = ELS
		has_government = authoritarian_democrat
		has_country_leader = { character = ELS_salvador_castaneda_castro }
		date > 1943.03.30
		date < 1947.03.31
	}

	option = {
		name = els.32.a #Salvador Castaneda Castro and his junta
		add_political_power = 50
		effect_tooltip = {
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
		}
	}
	option = {
		name = els.32.b #Hmm, this ballot looks odd...
		add_political_power = 50
		effect_tooltip = {
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
		}
	}
}
country_event = { #Rigged Election number 3 Return to Africa
	id = els.33
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.33 FROM = [From.GetName]" }
	title = els.33.t
	desc = els.33.d
	picture = GFX_report_event_AST_election

	fire_only_once = yes

	trigger = {
		tag = ELS
		has_government = authoritarian_democrat
		has_country_leader = { character = ELS_salvador_castaneda_castro }
		date > 1947.03.30
		date < 1951.03.31
	}

	option = {
		name = els.33.a #Salvador Castaneda Castro and his junta
		add_political_power = 50
		effect_tooltip = {
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
		}
	}
	option = {
		name = els.33.b #Hmm, this ballot looks odd...
		add_political_power = 50
		effect_tooltip = {
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
		}
	}
}
country_event = { #Castro defects!
	id = els.60
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.60 FROM = [From.GetName]" }
	title = els.60.t
	desc = els.60.d

	is_triggered_only = yes

	option = { #Damn it!
		name = els.60.a
		add_manpower = -2500
		retire_character = ELS_salvador_castaneda_castro
	}
}

country_event = { #Martínez Begins a purge after his victory
	id = els.61
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.61 FROM = [From.GetName]" }
	title = els.61.t
	desc = els.61.d
	picture = GFX_report_event_ELS_speech

	is_triggered_only = yes

	option = { #Natives flee
		name = els.61.a
		add_stability = 0.10
		add_war_support = -0.05
		add_manpower = -1500
		hidden_effect = {
			HON = {
				country_event = { id = els.62 days = 7 }
			}
		}
	}
}

country_event = { #Refugees arrive at Honduras
	id = els.62
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.62 FROM = [From.GetName]" }
	title = els.62.t
	desc = els.62.d

	is_triggered_only = yes

	option = { #Damn it!
		name = els.62.a
		312 = {
			add_manpower = 1500
		}
	}
}

country_event = { #Salinas consolidates power
	id = els.63
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.63 FROM = [From.GetName]" }
	title = els.63.t
	desc = els.63.d
	picture = GFX_report_event_ELS_parade

	is_triggered_only = yes

	option = { #It's necesary
		name = els.63.a
		add_stability = 0.10
		314 = {
			add_manpower = -500
		}
	}
}

country_event = { #Status of Foreign assets
	id = els.64
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.64 FROM = [From.GetName]" }
	title = els.64.t
	desc = els.64.d

	is_triggered_only = yes

	option = { #Let them Operate
		name = els.64.a
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		add_political_power = 100
	}
}

country_event = { #Status of Foreign assets
	id = els.65
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.65 FROM = [From.GetName]" }
	title = els.65.t
	desc = els.65.d

	is_triggered_only = yes

	option = { #Seize them!
		name = els.65.a
		add_stability = 0.10
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

country_event = { #Strengthening a Union
	id = els.66
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.66 FROM = [From.GetName]" }
	title = els.66.t
	desc = els.66.d

	is_triggered_only = yes

	option = { #Militarized Unions
		name = els.66.a
		ai_chance = {
			base = 50
		}
		add_ideas = ELS_military_union
	}
	option = { #Civilian Unions
		name = els.66.b
		ai_chance = {
			base = 50
		}
		add_ideas = ELS_civillian_union
	}
}

country_event = { #Final Ratification of the Guatemala-El Salvador-Honduran Border for Honduras
	id = els.100
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.100 FROM = [From.GetName]" }
	title = els.100.t
	desc = els.100.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #I see no reason not to try it
		name = els.100.a
		ai_chance = {
			base = 75
		}
		add_political_power = 25
		add_opinion_modifier = {
			target = ELS
			modifier = ELS_border_treaty_accepted
		}
		hidden_effect = {
			reverse_add_opinion_modifier = {
				target = ELS
				modifier = ELS_border_treaty_accepted
			}
			ELS = {
				country_event = { id = els.102 days = 2 }
			}
		}
	}
	option = { #I'm an Asshole
		name = els.100.b
		ai_chance = {
			base = 25
		}
		add_political_power = -50
		add_opinion_modifier = {
			target = ELS
			modifier = ELS_border_treaty_refused
		}
		hidden_effect = {
			reverse_add_opinion_modifier = {
				target = ELS
				modifier = ELS_border_treaty_accepted
			}
			ELS = {
				country_event = { id = els.104 days = 2 }
			}
		}
	}
}

country_event = { #Final Ratification of the Guatemala-El Salvador-Honduran Border for Guatemala
	id = els.101
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.101 FROM = [From.GetName]" }
	title = els.101.t
	desc = els.101.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Accept
		name = els.101.a
		ai_chance = {
			base = 75
		}
		add_political_power = 25
		add_opinion_modifier = {
			target = ELS
			modifier = ELS_border_treaty_accepted
		}
		hidden_effect = {
			reverse_add_opinion_modifier = {
				target = ELS
				modifier = ELS_border_treaty_accepted
			}
			ELS = {
				country_event = { id = els.103 days = 2 }
			}
		}
	}
	option = { #I'm an Asshole and I refuse to help my neighbours
		name = els.101.b
		ai_chance = {
			base = 25
		}
		add_political_power = -50
		add_opinion_modifier = {
			target = ELS
			modifier = ELS_border_treaty_refused
		}
		hidden_effect = {
			reverse_add_opinion_modifier = {
				target = ELS
				modifier = ELS_border_treaty_refused
			}
			ELS = {
				country_event = { id = els.105 days = 2 }
			}
		}
	}
}

country_event = { #Hondurans accept
	id = els.102
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.102 FROM = [From.GetName]" }
	title = els.102.t
	desc = els.102.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Yaay
		name = els.102.a
		add_political_power = 25
	}
}

country_event = { #Guatemalans accept
	id = els.103
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.103 FROM = [From.GetName]" }
	title = els.103.t
	desc = els.103.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Yaay
		name = els.103.a
		add_political_power = 25
	}
}

country_event = { #Hondurans refuse!
	id = els.104
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.104 FROM = [From.GetName]" }
	title = els.104.t
	desc = els.104.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Fuck
		name = els.104.a
		add_political_power = -10
	}
}

country_event = { #Guatemalans refuse!
	id = els.105
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.105 FROM = [From.GetName]" }
	title = els.105.t
	desc = els.105.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Fuck
		name = els.105.a
		add_political_power = -10
	}
}

country_event = { #Start of the ACW
	id = els.106
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.106 FROM = [From.GetName]" }
	title = els.106.t
	desc = els.106.d

	fire_only_once = yes

	trigger = {
		tag = ELS
		USA = {
			OR = {
				has_war_with = TEX
				has_war_with = CSA
			}
		}
	}

	option = { #Por Dios...
		name = els.106.a
		add_stability = -0.20
		remove_ideas = CEN_monroe_doctrine
		hidden_effect = {
			if = {
				limit = {
					MEX = {
						has_socialist_government = yes
					}
				}
				country_event = { id = els.3 days = 12 }
				else = {
					country_event = { id = els.107 days = 12 }
				}
			}
		}
	}
}

country_event = { #Commies are back from Nicaragua
	id = els.107
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.107 FROM = [From.GetName]" }
	title = els.107.t
	desc = els.107.d

	is_triggered_only = yes

	option = { #REEEEEEEEEEE
		name = els.107.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
		hidden_effect = {
			country_event = { id = els.108 days = 20 }
		}
	}
}

country_event = { #The Second Western Rebellion
	id = els.108
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.108 FROM = [From.GetName]" }
	title = els.108.t
	desc = els.108.d

	is_triggered_only = yes

	option = { #Time for Another Bloodbath
		name = els.108.a
		hidden_effect = {
			country_event = { id = els.109 days = 7 }
			complete_national_focus = ELS_37_revolution
		}
		add_political_power = -50
		random_owned_controlled_state = {
			damage_building = {
				type = infrastructure
				damage = 0.5
			}
		}
	}
}

country_event = { #The government reacts to the commies
	id = els.109
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.109 FROM = [From.GetName]" }
	title = els.109.t
	desc = els.109.d
	picture = GFX_report_event_ELS_army_mobilization

	is_triggered_only = yes

	option = { #Try to kill them in one blow
		name = els.109.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = ELS_path option = ELS_PATH_NATPOP }
					has_game_rule = { rule = ELS_path option = ELS_PATH_SOCDEM }
					has_game_rule = { rule = ELS_path option = ELS_PATH_SOCLIB }
					has_game_rule = { rule = ELS_path option = ELS_PATH_AUTDEM }
				}
			}
		}
		add_political_power = -50
		add_popularity = {
			ideology = national_populist
			popularity = 0.10
		}
		hidden_effect = {
			country_event = { id = els.110 days = 7 }
		}
	}
	option = { #War of Attrition for some reason
		name = els.109.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = ELS_path option = ELS_PATH_PATAUT }
					has_game_rule = { rule = ELS_path option = ELS_PATH_SYNDIE }
				}
			}
		}
		add_political_power = 50
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.10
		}
		hidden_effect = {
			country_event = { id = els.112 days = 21 }
		}
	}
}

country_event = { #Army mutinies, we got wrecked in battle
	id = els.110
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.110 FROM = [From.GetName]" }
	title = els.110.t
	desc = els.110.d

	is_triggered_only = yes

	option = { #Well then...
		name = els.110.a
		add_political_power = -100
		add_manpower = -2986
		add_popularity = {
			ideology = national_populist
			popularity = -0.05
		}
		hidden_effect = {
			country_event = { id = els.111 days = 7 }
		}
	}
}
country_event = { #The End of Martinez
	id = els.111
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.111 FROM = [From.GetName]" }
	title = els.111.t
	desc = els.111.d

	is_triggered_only = yes

	option = { #It's a new age!
		name = els.111.a
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = national_populist
			popularity = -0.30
		}
		retire_character = ELS_maximiliano_hernandez_martinez
		hidden_effect = {
			ELS_salvador_castaneda_castro = { set_nationality = ROOT }
			country_event = { id = els.112 days = 7 }
		}
	}
}

country_event = { #Socialist secure the east!
	id = els.112
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.112 FROM = [From.GetName]" }
	title = els.112.t
	desc = els.112.d

	is_triggered_only = yes

	option = { #Our Fate lies in the balance
		name = els.112.a
		hidden_effect = {
			country_event = { id = els.113 days = 7 }
			country_event = { id = els.60 days = 3 }
		}
	}
}

country_event = { #Arturo Araujo supports the revolution!
	id = els.113
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.113 FROM = [From.GetName]" }
	title = els.113.t
	desc = els.113.d

	is_triggered_only = yes

	option = { #Damn crypto-syndie!
		name = els.113.a
		add_popularity = {
			ideology = social_democrat
			popularity = 0.10
		}
		hidden_effect = {
			if = {
				limit = {
					ELS = {
						has_government = national_populist
					}
				}
				country_event = { id = els.114 days = 7 } #Brawling in the Streets
			}
			else = {
				country_event = { id = els.117 days = 7 } #The Confrontation
			}
		}
	}
}

country_event = { #Brawling in the Streets
	id = els.114
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.114 FROM = [From.GetName]" }
	title = els.114.t
	desc = els.114.d
	picture = GFX_report_event_ELS_army_movement

	is_triggered_only = yes

	option = { #Secure the Capital
		name = els.114.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = ELS_path option = ELS_PATH_SOCDEM }
					has_game_rule = { rule = ELS_path option = ELS_PATH_SOCLIB }
					has_game_rule = { rule = ELS_path option = ELS_PATH_AUTDEM }
				}
			}
		}
		hidden_effect = {
			country_event = { id = els.115 days = 7 } #Victory
		}
	}
	option = { #Hold the front
		name = els.114.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = ELS_path option = ELS_PATH_NATPOP }
			}
		}
		hidden_effect = {
			country_event = { id = els.116 days = 7 } #Syndies 1, Martinez 0
		}
	}
}

country_event = { #The Front Holds
	id = els.115
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.115 FROM = [From.GetName]" }
	title = els.115.t
	desc = els.115.d

	is_triggered_only = yes

	option = { #Yaay
		name = els.115.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.10
		}
		add_stability = 0.10
		add_war_support = -0.15
		add_political_power = 100
		complete_national_focus = ELS_vanguard_stands
		complete_national_focus = ELS_pro_patria_stands
		set_country_flag = ELS_pro_patria_stands_flag
		add_ideas = ELS_revolution_scars
	}
}

country_event = { #Partisans take over the capital
	id = els.116
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.116 FROM = [From.GetName]" }
	title = els.116.t
	desc = els.116.d
	picture = GFX_report_event_ELS_santa_ana

	is_triggered_only = yes

	option = { #An end to a terrible era
		name = els.116.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.10
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.20
		}
		set_politics = {
			ruling_party = syndicalist
			elections_allowed = no
		}
		add_stability = -0.15
		hidden_effect = {
			country_event = { id = els.122 days = 7 }
		}
		add_manpower = 2500
		complete_national_focus = ELS_revolutionary_ideals
		add_ideas = ELS_revolution_scars
	}
}

country_event = { #The Confrontation
	id = els.117
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.117 FROM = [From.GetName]" }
	title = els.117.t
	desc = els.117.d
	picture = GFX_report_event_ELS_army_movement

	is_triggered_only = yes

	option = { #We Cannot fight without our leader
		name = els.117.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = ELS_path option = ELS_PATH_SYNDIE }
			}
		}
		hidden_effect = {
			random_list = {
				90 = {
					country_event = { id = els.118 days = 7 } #Salina's Victory
				}
				10 = {
					country_event = { id = els.119 days = 7 } #Salinas Injured
					modifier = {
						factor = 0
						has_game_rule = { rule = ELS_path option = ELS_PATH_PATAUT }
					}
				}
			}
		}
	}
	option = { #Salinas needs to stay safe for the country's sake
		name = els.117.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = ELS_path option = ELS_PATH_PATAUT }
			}
		}
		hidden_effect = {
			country_event = { id = els.120 days = 7 } #His reign was short lived anyways
		}
	}
}

country_event = { #Salinas is victorious!
	id = els.118
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.118 FROM = [From.GetName]" }
	title = els.118.t
	desc = els.118.d

	is_triggered_only = yes

	option = { #For the New El Salvador!
		name = els.118.a
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.20
		}
		add_political_power = 200
		complete_national_focus = ELS_vanguard_stands
		complete_national_focus = ELS_new_guard
		set_country_flag = ELS_pro_patria_destroyed_flag
		add_ideas = ELS_revolution_scars

		# hidden_effect = {
		# country_event = { id = els.116 days = 7 } #Syndies 1, Martinez 0
		#}
	}
}

country_event = { #Salinas was Injured!
	id = els.119
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.119 FROM = [From.GetName]" }
	title = els.119.t
	desc = els.119.d

	is_triggered_only = yes

	option = { #For the Revolution!
		name = els.119.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.10
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.20
		}
		set_politics = {
			ruling_party = syndicalist
			elections_allowed = no
		}
		add_political_power = 100
		hidden_effect = {
			country_event = { id = els.121 days = 7 } #Syndies 1, Salinas 0
		}
		add_manpower = 2500
		complete_national_focus = ELS_revolutionary_ideals
		add_ideas = ELS_revolution_scars
	}
}

country_event = { #Menendez's failure
	id = els.120
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.120 FROM = [From.GetName]" }
	title = els.120.t
	desc = els.120.d

	is_triggered_only = yes

	option = { #For the Revolution!
		name = els.120.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.10
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.20
		}
		set_politics = {
			ruling_party = syndicalist
			elections_allowed = no
		}
		add_political_power = 100
		hidden_effect = {
			country_event = { id = els.121 days = 7 } #Syndies 1, Salinas 0
		}
		add_manpower = 2500
		complete_national_focus = ELS_revolutionary_ideals
		add_ideas = ELS_revolution_scars
	}
}

country_event = { #The New El Salvador
	id = els.121
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.121 FROM = [From.GetName]" }
	title = els.121.t
	desc = els.121.d
	picture = GFX_report_event_ELS_government_house

	is_triggered_only = yes

	option = { #Syndies are here to stay
		name = els.121.a
		ai_chance = {
			base = 70
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.20
		}
		add_stability = 0.20
		add_war_support = 0.20
		complete_national_focus = ELS_social_ideal
		set_country_flag = ELS_syndicalist_country_flag
	}
	option = { #Presidency is the optimal path for el Salvador
		name = els.121.b
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_game_rule = { rule = ELS_path option = ELS_PATH_SYNDIE }
			}
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.05
		}
		add_stability = -0.05
		add_war_support = -0.05
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = no
		}
		complete_national_focus = ELS_presidency_restoration
	}
}

country_event = { #The New El Salvador 2
	id = els.122
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.122 FROM = [From.GetName]" }
	title = els.122.t
	desc = els.122.d
	picture = GFX_report_event_ELS_government_house

	is_triggered_only = yes

	option = { #Syndies are here to stay
		name = els.122.a
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = ELS_path option = ELS_PATH_SOCDEM }
					has_game_rule = { rule = ELS_path option = ELS_PATH_SOCLIB }
					has_game_rule = { rule = ELS_path option = ELS_PATH_AUTDEM }
				}
			}
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		add_stability = -0.05
		add_war_support = -0.05
		complete_national_focus = ELS_social_ideal
		set_country_flag = ELS_syndicalist_country_flag
	}
	option = { #Presidency is the optimal path for el Salvador
		name = els.122.b
		ai_chance = {
			base = 70
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.20
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.25
		}
		add_stability = 0.20
		add_war_support = 0.20
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = no
		}
		complete_national_focus = ELS_presidency_restoration
	}
}

country_event = { #The snap election
	id = els.123
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.123 FROM = [From.GetName]" }
	title = els.123.t
	desc = els.123.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	option = { #Soc. Dems. win
		name = els.123.a
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				has_game_rule = { rule = ELS_path option = ELS_PATH_SOCLIB }
			}
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.10
		}
		complete_national_focus = ELS_labour_secured
		set_country_flag = ELS_labour_victory_flag
	}
	option = { #Soc. Libs win
		name = els.123.b
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				has_game_rule = { rule = ELS_path option = ELS_PATH_SOCDEM }
			}
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.15
		}
		set_politics = {
			ruling_party = social_liberal
			elections_allowed = no
		}
		complete_national_focus = ELS_national_liberal_comeback
		set_country_flag = ELS_national_democratic_victory_flag
	}
	option = { #Syndies win
		name = els.123.c
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = ELS_path option = ELS_PATH_SOCDEM }
					has_game_rule = { rule = ELS_path option = ELS_PATH_SOCLIB }
				}
			}
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.15
		}
		complete_national_focus = ELS_social_ideal
		set_politics = {
			ruling_party = syndicalist
			elections_allowed = no
		}
		set_country_flag = ELS_syndicalist_country_flag
	}
}

country_event = { #Salvador Castaneda Castro's takeover!
	id = els.124
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.124 FROM = [From.GetName]" }
	title = els.124.t
	desc = els.124.d

	is_triggered_only = yes

	option = { #Betrayal!
		name = els.124.a
		add_popularity = {
			ideology = syndicalist
			popularity = -0.10
		}
		add_popularity = {
			ideology = social_democrat
			popularity = -0.20
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.20
		}
		if = {
			limit = { has_character = ELS_agustin_farabundo_marti }
			retire_character = ELS_agustin_farabundo_marti
		}
		if = {
			limit = { has_character = ELS_feliciano_ama }
			retire_character = ELS_feliciano_ama
		}
		if = {
			limit = { NOT = { has_character = ELS_andres_ignacio_menendez } }
			ELS_andres_ignacio_menendez = { set_nationality = ROOT }
		}
		set_country_flag = ELS_military_takeover_flag
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = no
		}
		add_political_power = -100
		add_stability = -0.30
		complete_national_focus = ELS_military_back
	}
}

country_event = { #Restoration of democratic liberties
	id = els.125
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.125 FROM = [From.GetName]" }
	title = els.125.t
	desc = els.125.d

	is_triggered_only = yes

	option = { #A day for the people
		name = els.125.a
		add_stability = 0.20
		add_political_power = 100
		hidden_effect = {
			country_event = { id = els.126 days = 7 }
		}
	}
}

country_event = { #Rebirthing of the Partido Nacional Democrático
	id = els.126
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.126 FROM = [From.GetName]" }
	title = els.126.t
	desc = els.126.d
	picture = GFX_report_event_ELS_molina

	is_triggered_only = yes

	option = { #The future looks bright
		name = els.126.a
		add_popularity = {
			ideology = social_liberal
			popularity = 0.10
		}
	}
}

country_event = { #Ask Canada
	id = els.130
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.130 FROM = [From.GetName]" }
	title = els.130.t
	desc = els.130.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Let's see what they think of this deal
		name = els.130.a
		hidden_effect = {
			CAN = {
				country_event = { id = els.131 days = 2 }
			}
		}
	}
}

country_event = { #El Salvador Requests help
	id = els.131
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.131 FROM = [From.GetName]" }
	title = els.131.t
	desc = els.131.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Pleasure doing bussiness
		name = els.131.a
		ai_chance = {
			base = 75
		}
		add_ideas = ELS_coffee_exportation_to_our_friends
		add_opinion_modifier = {
			target = ELS
			modifier = ELS_accepted_trade_deal
		}
		hidden_effect = {
			reverse_add_opinion_modifier = {
				target = ELS
				modifier = ELS_accepted_trade_deal
			}
			ELS = {
				country_event = { id = els.132 days = 2 }
			}
		}
	}

	option = { #I'm a bad Canada player who enjoys the suffering of minors
		name = els.131.b
		ai_chance = {
			base = 25
		}
		add_political_power = -50
		add_opinion_modifier = {
			target = ELS
			modifier = ELS_refused_trade_deal
		}
		hidden_effect = {
			reverse_add_opinion_modifier = {
				target = ELS
				modifier = ELS_refused_trade_deal
			}
			ELS = {
				country_event = { id = els.133 days = 2 }
			}
		}
	}
}

country_event = { #Canadians accept
	id = els.132
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.132 FROM = [From.GetName]" }
	title = els.132.t
	desc = els.132.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Yaay
		name = els.132.a
		add_political_power = 25
		random_owned_controlled_state = {
			limit = { is_core_of = ROOT }
			add_extra_state_shared_building_slots = 2
		}
	}
}

country_event = { #Canadians Refuse
	id = els.133
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.133 FROM = [From.GetName]" }
	title = els.133.t
	desc = els.133.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Yaay
		name = els.133.a
		add_political_power = -25
	}
}

country_event = { #Ask the UoB for help
	id = els.134
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.134 FROM = [From.GetName]" }
	title = els.134.t
	desc = els.134.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { ##Let's see what they think of this deal
		name = els.135.a
		hidden_effect = {
			ENG = {
				country_event = { id = els.135 days = 2 }
			}
		}
	}
}

country_event = { #El Salvador Requests help
	id = els.135
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.135 FROM = [From.GetName]" }
	title = els.135.t
	desc = els.135.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Pleasure doing bussiness
		name = els.135.a
		ai_chance = {
			base = 75
		}
		add_ideas = ELS_coffee_exportation_to_our_friends
		add_opinion_modifier = {
			target = ELS
			modifier = ELS_accepted_trade_deal
		}
		hidden_effect = {
			reverse_add_opinion_modifier = {
				target = ELS
				modifier = ELS_accepted_trade_deal
			}
			ELS = {
				country_event = { id = els.136 days = 2 }
			}
		}
	}

	option = { #I'm a bad UoB player who enjoys the suffering of minors
		name = els.135.b
		ai_chance = {
			base = 25
		}
		add_political_power = -50
		add_opinion_modifier = {
			target = ELS
			modifier = ELS_refused_trade_deal
		}
		hidden_effect = {
			reverse_add_opinion_modifier = {
				target = ELS
				modifier = ELS_refused_trade_deal
			}
			ELS = {
				country_event = { id = els.137 days = 2 }
			}
		}
	}
}

country_event = { #UoB accept!
	id = els.136
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.136 FROM = [From.GetName]" }
	title = els.136.t
	desc = els.136.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Yaay
		name = els.136.a
		add_political_power = 25
		random_owned_controlled_state = {
			limit = { is_core_of = ROOT }
			add_extra_state_shared_building_slots = 2
		}
	}
}

country_event = { #UoB Refuses
	id = els.137
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.137 FROM = [From.GetName]" }
	title = els.137.t
	desc = els.137.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Yaay
		name = els.137.a
		add_political_power = -25
	}
}

country_event = { #Death of Prudencia Ayala
	id = els.200
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.200 FROM = [From.GetName]" }
	title = els.200.t
	desc = els.200.d

	is_triggered_only = yes

	option = {
		name = els.200.a
	}
}

country_event = { #Feliciano Ama proposes to create a native council
	id = els.201
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.201 FROM = [From.GetName]" }
	title = els.201.t
	desc = els.201.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Give him a greenlight
		name = els.201.a
		add_political_power = 50
	}
}

country_event = { #Flooding at Valle Dolores and Apulo
	id = els.202
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.202 FROM = [From.GetName]" }
	title = els.202.t
	desc = els.202.d

	is_triggered_only = yes

	option = { #Damn it
		name = els.202.a
		hidden_effect = {
			country_event = { id = els.203 days = 7 }
		}
		random_owned_controlled_state = {
			damage_building = {
				type = infrastructure
				damage = 0.1
			}
		}
	}
}

country_event = { #Supply airlift for flood victims
	id = els.203
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.203 FROM = [From.GetName]" }
	title = els.203.t
	desc = els.203.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Thank the air force
		name = els.203.a
		add_political_power = 25
		add_stability = 0.05
		air_experience = 10
	}
}

country_event = { #Menendez asks to be reintegrated into the staff
	id = els.209
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.209 FROM = [From.GetName]" }
	title = els.209.t
	desc = els.209.d

	fire_only_once = yes

	trigger = {
		tag = ELS
		has_country_flag = ELS_national_democratic_victory_flag
		has_country_flag = ELS_labour_victory_flag
		date > 1938.01.01
	}

	option = { #Welcome him in
		name = els.209.a
		add_political_power = -50
		ELS_andres_ignacio_menendez = { set_nationality = ROOT }
	}
	option = { #Bye reactionary
		name = els.209.b
		add_political_power = 50
	}
}

country_event = { #Smallpox epidemic
	id = els.210
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.210 FROM = [From.GetName]" }
	title = els.210.t
	desc = els.210.d

	is_triggered_only = yes

	option = { #Damn it
		name = els.210.a
		hidden_effect = {
			country_event = { id = els.211 days = 30 }
		}
		add_manpower = -246
	}
}

country_event = { #Martinez does dumb shit
	id = els.211
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.211 FROM = [From.GetName]" }
	title = els.211.t
	desc = els.211.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #I don't think this is helping
		name = els.211.a
		add_popularity = {
			ideology = national_populist
			popularity = -0.05
		}
	}
}

country_event = { #Martinez does dumb shit
	id = els.212
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.212 FROM = [From.GetName]" }
	title = els.212.t
	desc = els.212.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #I don't think this is helping
		name = els.212.a
		add_stability = 0.05
	}
}

country_event = { #Fiestas Agostinas
	id = els.213
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.213 FROM = [From.GetName]" }
	immediate = {
		hidden_effect = {
			country_event = { id = els.214 days = 365 }
		}
	}
	title = els.213.t
	desc = els.213.d
	picture = GFX_report_event_ELS_rally

	is_triggered_only = yes

	option = { #Cheers!
		name = els.213.a
		add_political_power = 10
	}
}

country_event = { #Fiestas Agostinas after 1936
	id = els.214
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.214 FROM = [From.GetName]" }
	immediate = {
		hidden_effect = {
			country_event = { id = els.214 days = 365 }
		}
	}
	title = els.214.t
	desc = els.214.d
	picture = GFX_report_event_ELS_rally

	is_triggered_only = yes

	option = { #cheers!
		name = els.214.a
		add_political_power = 10
	}
}

country_event = { #San Miguel Carnival
	id = els.215
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.215 FROM = [From.GetName]" }
	immediate = {
		hidden_effect = {
			country_event = { id = els.217 days = 365 }
		}
	}
	title = els.215.t
	desc = els.215.d

	is_triggered_only = yes

	option = { #Cheers!
		name = els.215.a
		add_political_power = 10
	}
}

country_event = { #San Miguel Carnival Switch
	id = els.216
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.216 FROM = [From.GetName]" }
	title = els.216.t
	desc = els.216.d

	fire_only_once = yes

	trigger = {
		date > 1939.04.15
		tag = ELS
	}

	option = { #Dew It
		name = els.216.a
		add_political_power = 10
		hidden_effect = {
			set_country_flag = ELS_Carnival_switch
			country_event = { id = els.218 days = 220 }
		}
	}
	option = { #Nope
		name = els.216.b
		add_political_power = 10
	}
}

country_event = { #San Miguel Carnival after 1936 without switch
	id = els.217
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.217 FROM = [From.GetName]" }
	immediate = {
		hidden_effect = {
			country_event = { id = els.217 days = 365 }
		}
	}
	title = els.217.t
	desc = els.217.d

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_country_flag = ELS_Carnival_switch
		}
	}

	option = { #Cheers!
		name = els.217.a
		add_political_power = 10
	}
}

country_event = { #San Miguel Carnival after switching
	id = els.218
	immediate = { log = "[GetDateText]: [Root.GetName]: event els.218 FROM = [From.GetName]" }
	immediate = {
		hidden_effect = {
			country_event = { id = els.218 days = 365 }
		}
	}
	title = els.218.t
	desc = els.218.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Cheers!
		name = els.218.a
		add_political_power = 20
	}
}

