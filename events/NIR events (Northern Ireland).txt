############################
# Northern Ireland Events  #
# By Cazadorian            #
############################

add_namespace = northern_ireland_events

country_event = { # The Future of Northern Ireland
	id = northern_ireland_events.1
	title = northern_ireland_events.1.t
	desc = northern_ireland_events.1.d
	picture = GFX_report_event_IRE_brooke_speech
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event northern_ireland_events.1 option northern_ireland_events.1.a"
		name = northern_ireland_events.1.a
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				has_game_rule = { rule = NIR_revolt option = NIR_REVOLT_PUPPET }
			}
		}
		NIR = { set_country_flag = NIR_integration_path }
		custom_effect_tooltip = NIR_integration_tt
	}

	option = {
		log = "[GetLogInfo]: event northern_ireland_events.1 option northern_ireland_events.1.b"
		name = northern_ireland_events.1.b
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_game_rule = { rule = NIR_revolt option = NIR_REVOLT_ANNEX }
			}
		}
		NIR = { set_country_flag = NIR_devolution_path }
		custom_effect_tooltip = NIR_devolution_tt
		NIR = { get_current_government_type = yes }
		set_autonomy = {
			target = NIR
			autonomy_state = autonomous_territory
			freedom_level = 0.3
			end_wars = no
		}
		NIR = { restore_previous_government_type = yes }
	}

}

country_event = { # Choosing a Secretary for Northern Ireland
	id = northern_ireland_events.2
	title = northern_ireland_events.2.t
	desc = northern_ireland_events.2.d
	picture = GFX_report_event_IRE_brooke
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event northern_ireland_events.2 option northern_ireland_events.2.a"
		name = northern_ireland_events.2.a
	}
	option = {
		log = "[GetLogInfo]: event northern_ireland_events.2 option northern_ireland_events.2.b"
		name = northern_ireland_events.2.b
	}
	option = {
		log = "[GetLogInfo]: event northern_ireland_events.2 option northern_ireland_events.2.c"
		name = northern_ireland_events.2.c
	}
}

country_event = { # Northern Ireland Constitution Act
	id = northern_ireland_events.3
	title = northern_ireland_events.3.t
	desc = northern_ireland_events.3.d
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event northern_ireland_events.3 option northern_ireland_events.3.a"
		name = northern_ireland_events.3.a
		add_political_power = 25
		effect_tooltip = {
			FROM = { every_core_state = { add_core_of = ROOT } }
		}
		annex_country = {
			target = FROM
			transfer_troops = yes
		}
	}
}

country_event = {
	id = northern_ireland_events.4
	title = northern_ireland_events.4.t
	desc = northern_ireland_events.4.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event northern_ireland_events.4 option northern_ireland_events.4.a"
		name = northern_ireland_events.4.a

		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1000
		}
	}
}

country_event = {
	id = northern_ireland_events.5
	title = northern_ireland_events.5.t
	desc = northern_ireland_events.5.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event northern_ireland_events.5 option northern_ireland_events.5.a"
		name = northern_ireland_events.5.a
		add_ideas = NIR_canadian_advisors
	}
}

# NIR revolt
news_event = {
	id = northern_ireland_events.1690
	immediate = { log = "[GetLogInfo]: event northern_ireland_events.1690" }
	title = northern_ireland_events.1690.t

	desc = {
		trigger = { IRE = { IRE_has_reactionary_govt = yes } }
		text = northern_ireland_events.1690.d1
	}
	desc = {
		trigger = { IRE = { IRE_has_socialist_govt = yes } }
		text = northern_ireland_events.1690.d2
	}

	picture = GFX_news_event_NIR_revolt

	major = yes
	fire_for_sender = no
	is_triggered_only = yes

	trigger = { wants_world_news = yes }

	show_major = {
		OR = {
			regional_europe_news = yes
			is_american_tag = yes
			is_ally_with = ENT
			is_ally_with = GER
			is_ally_with = INT
		}
	}

	option = {
		name = northern_ireland_events.1690.a
		trigger = {
			IRE = { IRE_has_reactionary_govt = yes }
			is_in_faction_with = GER
		}
	}
	option = {
		name = northern_ireland_events.1690.b
		trigger = {
			IRE = { IRE_has_socialist_govt = yes }
			is_in_faction_with = GER
		}
	}
	option = {
		name = northern_ireland_events.1690.c
		trigger = { has_socialist_government = yes }
	}
	option = {
		name = northern_ireland_events.1690.e
		trigger = { tag = IMP }
	}
	option = {
		name = northern_ireland_events.1690.f
		trigger = {
			NOT = { is_in_faction_with = GER }
			has_socialist_government = no
			NOT = { tag = IMP }
		}
	}

}
