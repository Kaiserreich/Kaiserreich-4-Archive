####################
### Cuban Events ###
####################
###By Pietrus    ###
####################

add_namespace = cuba_events

### Elections and Havana Strike ###
country_event = { #1936 election
	id = cuba_events.1
	title = cuba_events.1.t
	desc = cuba_events.1.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	option = { # Trejo
		log = "[GetLogInfo]: event cuba_events.1 option cuba_events.1.a"
		name = cuba_events.1.a
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_PATAUT }
					has_game_rule = { rule = CUB_path option = CUB_PATH_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCLIB }
				}
			}
		}

		set_country_flag = trejo_elected
		add_popularity = {
			ideology = social_democrat
			popularity = 0.1
		}
		set_politics = {
			ruling_party = social_democrat
			last_election = "1936.1.28"
			elections_allowed = no
		}
	}

	option = { # Coalition
		log = "[GetLogInfo]: event cuba_events.1 option cuba_events.1.b"
		name = cuba_events.1.b
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_SOCDEM }
			}
		}

		set_country_flag = barnet_elected
		add_popularity = {
			ideology = social_liberal
			popularity = 0.07
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.03
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.03
		}
		set_politics = {
			ruling_party = social_liberal
			last_election = "1936.1.28"
			elections_allowed = no
		}
		set_temp_variable = { coalition_partner_var = token:social_conservative }
		add_to_coalition = yes
		set_temp_variable = { coalition_partner_var = token:market_liberal }
		add_to_coalition = yes
	}

	option = { # Bello
		log = "[GetLogInfo]: event cuba_events.1 option cuba_events.1.c"
		name = cuba_events.1.c
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCDEM }
					AND = {
						has_game_rule = { rule = CUB_path option = DEFAULT }
						has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_CEN }
					}
				}
			}
		}

		set_country_flag = mendieta_elected
		add_political_power = -60
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.12
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			last_election = "1936.1.28"
			elections_allowed = no
		}
	}
	after = {
		hidden_effect = {
			country_event = { id = cuba_events.2 days = 1 }
		}
	}
}

country_event = { #selecting cabinet
	id = cuba_events.2
	title = cuba_events.2.t
	desc = cuba_events.2.d
	picture = GFX_report_event_CUB_cabinet
	is_triggered_only = yes

	option = { # Unity Cabinet
		log = "[GetLogInfo]: event cuba_events.2 option cuba_events.2.a"
		name = cuba_events.2.a
		trigger = {
			NOT = { has_government = authoritarian_democrat }
		}
		if = {
			limit = { has_country_flag = trejo_elected }
			add_political_power = -20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.05
			}
		}
		if = {
			limit = { has_country_flag = barnet_elected }
			add_political_power = -20
			add_popularity = {
				ideology = social_liberal
				popularity = 0.03
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.01
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.01
			}
		}
	}

	option = { #Mixed Cabinet
		log = "[GetLogInfo]: event cuba_events.2 option cuba_events.2.b"
		name = cuba_events.2.b
		trigger = {
			NOT = { has_government = authoritarian_democrat }
		}
		if = {
			limit = { has_country_flag = trejo_elected }
			add_political_power = 20
			add_popularity = {
				ideology = social_liberal
				popularity = 0.03
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.01
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.01
			}
		}
		if = {
			limit = { has_country_flag = barnet_elected }
			add_political_power = 20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.05
			}
		}
		set_country_flag = CUB_elec_post
	}

	option = { # American-appointed Cabinet
		log = "[GetLogInfo]: event cuba_events.2 option cuba_events.2.c"
		name = cuba_events.2.c
		trigger = {
			has_government = authoritarian_democrat
		}
		add_political_power = 20
	}
}

country_event = {
	id = cuba_events.3
	title = cuba_events.3.t
	desc = cuba_events.3.d
	picture = GFX_report_event_GER_Blackweekover

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			swap_ideas = {
				remove_idea = CUB_partial_great_depression
				add_idea = CUB_double_dip
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.3 option cuba_events.3.a"
		name = cuba_events.3.a
		add_stability = -0.05
		effect_tooltip = {
			swap_ideas = {
				remove_idea = CUB_partial_great_depression
				add_idea = CUB_double_dip
			}
		}
		hidden_effect = {
			country_event = { id = cuba_events.4 days = 7 }
		}
	}
}

country_event = {
	id = cuba_events.4
	title = cuba_events.4.t
	desc = cuba_events.4.d
	picture = GFX_report_event_CUB_strike
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.4 option cuba_events.4.a"
		name = cuba_events.4.a

		set_country_flag = CUB_start_havana_revolt
		add_ideas = CUB_havana_general_strike
		hidden_effect = {
			country_event = { id = cuba_events.5 days = 1 }
		}
	}
}

country_event = {
	id = cuba_events.5
	title = cuba_events.5.t
	desc = {
		text = cuba_events.5.d_1
		trigger = {
			NOT = { has_country_flag = mendieta_elected }
		}
	}
	desc = {
		text = cuba_events.5.d_2
		trigger = {
			has_country_flag = mendieta_elected
		}
	}
	picture = GFX_report_event_CUB_strike
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.5 option cuba_events.5.a"
		name = cuba_events.5.a
		trigger = {
			NOT = { has_country_flag = mendieta_elected }
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCCON }
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_PATAUT }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}

		set_country_flag = CUB_crushed_general_strike
		hidden_effect = {
			swap_ideas = {
				remove_idea = CUB_havana_general_strike
				add_idea = CUB_strike_destroyed
			}
			country_event = { id = cuba_events.6 days = 2 }
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.5 option cuba_events.5.b"
		name = cuba_events.5.b
		trigger = {
			NOT = { has_country_flag = mendieta_elected }
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCDEM }
					AND = {
						has_game_rule = { rule = CUB_path option = DEFAULT }
						has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_CEN }
					}
				}
			}
		}

		set_country_flag = CUB_general_chaos
		hidden_effect = {
			swap_ideas = {
				remove_idea = CUB_havana_general_strike
				add_idea = CUB_complete_chaos
			}
			country_event = { id = cuba_events.7 days = 2 }
		}
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.5 option cuba_events.5.c"
		name = cuba_events.5.c
		trigger = {
			has_country_flag = mendieta_elected
		}
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCCON }
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_PATAUT }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}

		set_country_flag = CUB_crushed_general_strike
		hidden_effect = {
			swap_ideas = {
				remove_idea = CUB_havana_general_strike
				add_idea = CUB_strike_destroyed
			}
			country_event = { id = cuba_events.6 days = 2 }
		}
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.5 option cuba_events.5.d"
		name = cuba_events.5.d
		trigger = {
			has_country_flag = mendieta_elected
		}
		ai_chance = { base = 25 }

		set_country_flag = CUB_general_chaos
		hidden_effect = {
			swap_ideas = {
				remove_idea = CUB_havana_general_strike
				add_idea = CUB_complete_chaos
			}
			country_event = { id = cuba_events.7 days = 2 }
		}
	}
}

country_event = {
	id = cuba_events.6
	title = cuba_events.6.t
	desc = {
		text = cuba_events.6.d_1
		trigger = {
			has_country_flag = mendieta_elected
		}
	}
	desc = {
		text = cuba_events.6.d_2
		trigger = {
			has_country_flag = barnet_elected
		}
	}
	desc = {
		text = cuba_events.6.d_3
		trigger = {
			has_country_flag = trejo_elected
		}
	}
	picture = GFX_report_event_generic_workers
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.6 option cuba_events.6.a"
		name = cuba_events.6.a
		trigger = {
			has_soclib_or_socdem_government = yes
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_PATAUT }
			}
		}

		set_country_flag = CUB_no_emergency_powers
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.6 option cuba_events.6.b"
		name = cuba_events.6.b
		trigger = {
			OR = {
				has_government = authoritarian_democrat
				has_government = social_liberal
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCDEM }
					AND = {
						has_game_rule = { rule = CUB_path option = DEFAULT }
						has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_CEN }
					}
				}
			}
		}

		set_country_flag = CUB_enacted_emergency_powers
	}
}

country_event = {
	id = cuba_events.7
	title = cuba_events.7.t
	desc = cuba_events.7.d
	picture = GFX_report_event_CUB_riot
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.7 option cuba_events.7.a"
		name = cuba_events.7.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCCON }
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_PATAUT }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}

		set_country_flag = CUB_crushed_general_strike_mil
		hidden_effect = {
			swap_ideas = {
				remove_idea = CUB_complete_chaos
				add_idea = CUB_strike_destroyed
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.7 option cuba_events.7.b"
		name = cuba_events.7.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_PATAUT }
			}
		}

		set_country_flag = CUB_strike_success
		hidden_effect = {
			country_event = { id = cuba_events.8 days = 4 }
		}
	}
}

country_event = {
	id = cuba_events.8
	title = cuba_events.8.t
	desc = cuba_events.8.d
	picture = GFX_report_event_CUB_riot
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.8 option cuba_events.8.a"
		name = cuba_events.8.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCCON }
				}
			}
		}

		set_country_flag = CUB_socialists_consolidate
		complete_national_focus = CUB_leftists
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.8 option cuba_events.8.b"
		name = cuba_events.8.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_PATAUT }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}

		set_country_flag = CUB_natpop_march
		complete_national_focus = CUB_march_on_havana
	}
}

### Socialist Chain ###
country_event = { #soc rev
	id = cuba_events.9
	title = cuba_events.9.t
	desc = cuba_events.9.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.9 option cuba_events.9.a"
		name = cuba_events.9.a

		add_political_power = -20
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.10
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.07
		}
		set_politics = {
			ruling_party = syndicalist
			elections_allowed = no
		}
		set_temp_variable = { coalition_partner_var = token:totalist }
		add_to_coalition = yes
		set_temp_variable = { coalition_partner_var = token:radical_socialist }
		add_to_coalition = yes
		custom_effect_tooltip = cubansocrev_tooltip
		add_ideas = CUB_militia_idea
		remove_ideas = CUB_complete_chaos
		remove_ideas = CUB_american_influence
		remove_ideas = CUB_mixed_regime
		hidden_effect = {
			set_party_name = {
				ideology = totalist
				name = CUB_totalist_party_socrev
				long_name = CUB_totalist_party_socrev_long
			}
			set_party_name = {
				ideology = syndicalist
				name = CUB_syndicalist_party_socrev
				long_name = CUB_syndicalist_party_socrev_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = CUB_radical_socialist_party_socrev
				long_name = CUB_radical_socialist_party_socrev_long
			}
			country_event = { id = cuba_events.13 days = 7 }
			USA = {
				country_event = { id = cuba_events.14 days = 1 }
			}
			CUB_create_socialist_generals = yes
			CUB_remove_reactionary_generals = yes
		}
	}
}

country_event = { # start of chain for socialist internal struggle/calling congress
	id = cuba_events.10
	title = cuba_events.10.t
	desc = cuba_events.10.d
	picture = GFX_report_event_generic_cabinet_meeting
	is_triggered_only = yes

	option = { #agree to congress
		log = "[GetLogInfo]: event cuba_events.10 option cuba_events.10.a"
		name = cuba_events.10.a

		set_country_flag = { flag = cubantotalistscore value = 0 }
		set_country_flag = { flag = cubansyndiescore value = 0 }
		set_country_flag = { flag = cubanradsocscore value = 0 }
		add_stability = 0.1
		country_event = { id = cuba_events.30 days = 3 }
	}

	option = { #no congress
		log = "[GetLogInfo]: event cuba_events.10 option cuba_events.10.b"
		name = cuba_events.10.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
				}
			}
		}

		country_event = { id = cuba_events.43 days = 3 }
	}
}

country_event = { #agrarianism type
	id = cuba_events.11
	title = cuba_events.11.t
	desc = {
		text = cuba_events.11.d_1
		trigger = {
			has_government = totalist
		}
	}
	desc = {
		text = cuba_events.11.d_2
		trigger = {
			has_government = radical_socialist
			has_country_flag = mellaradsocdeal
		}
	}
	desc = {
		text = cuba_events.11.d_3
		trigger = {
			has_government = radical_socialist
			NOT = { has_country_flag = mellaradsocdeal }
		}
	}
	picture = GFX_report_event_USA_generic4
	is_triggered_only = yes

	option = { # moderate
		log = "[GetLogInfo]: event cuba_events.11 option cuba_events.11.a"
		name = cuba_events.11.a

		trigger = {
			has_government = radical_socialist
			NOT = { has_country_flag = mellaradsocdeal }
		}
		add_stability = 0.05
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.1
		}
		add_ideas = CUB_modsyndagr
	}

	option = { #extreme
		log = "[GetLogInfo]: event cuba_events.11 option cuba_events.11.b"
		name = cuba_events.11.b

		trigger = {
			OR = {
				AND = {
					has_government = radical_socialist
					has_country_flag = mellaradsocdeal
				}
				has_government = totalist
			}
		}

		add_stability = 0.05
		if = {
			limit = { has_government = radical_socialist }
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.05
			}
			add_popularity = {
				ideology = totalist
				popularity = 0.05
			}
		}
		if = {
			limit = { has_government = totalist }
			add_popularity = {
				ideology = totalist
				popularity = 0.1
			}
		}
		add_ideas = CUB_extsyndagr
	}
}

country_event = { #socialist industrialism type
	id = cuba_events.12
	title = cuba_events.12.t
	desc = {
		text = cuba_events.12.d_1
		trigger = {
			has_government = totalist
		}
	}
	desc = {
		text = cuba_events.12.d_2
		trigger = {
			has_government = syndicalist
			NOT = { has_country_leader = { character = CUB_raul_roa_garcia } }
		}
	}
	desc = {
		text = cuba_events.12.d_3
		trigger = {
			has_government = syndicalist
			has_country_leader = { character = CUB_raul_roa_garcia }
		}
	}
	picture = GFX_report_event_generic_economic_policy
	is_triggered_only = yes

	option = { #syndie
		log = "[GetLogInfo]: event cuba_events.12 option cuba_events.12.a"
		name = cuba_events.12.a

		trigger = {
			has_government = syndicalist
		}

		add_popularity = {
			ideology = syndicalist
			popularity = 0.1
		}
		add_stability = 0.05
		add_ideas = CUB_modsyndindust
	}

	option = { #totalist
		log = "[GetLogInfo]: event cuba_events.12 option cuba_events.12.b"
		name = cuba_events.12.b

		trigger = {
			has_government = totalist
		}

		add_stability = 0.05
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.1
		}
		add_ideas = CUB_extsyndindust
	}
}

country_event = { #return of totalistified Mella
	id = cuba_events.13
	title = cuba_events.13.t
	desc = cuba_events.13.d
	picture = GFX_report_event_CUB_mella
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.13 option cuba_events.13.a"
		name = cuba_events.13.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
			}
		}
		add_country_leader_role = {
			character = CUB_julio_mella_mcpartland
			country_leader = {
				desc = CUB_julio_mella_mcpartland_leader_desc
				ideology = totalist_subtype
			}
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.13 option cuba_events.13.b"
		name = cuba_events.13.b
		add_political_power = -10
	}
}

country_event = { #the US reacts to Cuban socrev
	id = cuba_events.14
	title = cuba_events.14.t
	desc = cuba_events.14.d
	picture = GFX_report_event_CUB_rebel_sailors
	is_triggered_only = yes

	option = { #intervene
		log = "[GetLogInfo]: event cuba_events.14 option cuba_events.14.a"
		name = cuba_events.14.a
		ai_chance = { base = 50 }

		hidden_effect = {
			if = {
				limit = { country_exists = CUB }
				diplomatic_relation = {
					country = CUB
					relation = guarantee
					active = no
				}
				diplomatic_relation = {
					country = CUB
					relation = non_aggression_pact
					active = no
				}
				diplomatic_relation = {
					country = CUB
					relation = military_access
					active = no
				}
			}
		}
		add_opinion_modifier = {
			target = CUB
			modifier = KR_hates_govt
		}
		reverse_add_opinion_modifier = {
			target = CUB
			modifier = KR_hates_govt
		}
		country_event = { id = cuba_events.15 days = 1 }
	}

	option = { # diplomacy
		log = "[GetLogInfo]: event cuba_events.14 option cuba_events.14.b"
		name = cuba_events.14.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_PATAUT }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}

		hidden_effect = {
			if = {
				limit = { country_exists = CUB }
				diplomatic_relation = {
					country = CUB
					relation = guarantee
					active = no
				}
				diplomatic_relation = {
					country = CUB
					relation = non_aggression_pact
					active = no
				}
				diplomatic_relation = {
					country = CUB
					relation = military_access
					active = no
				}
			}
		}
		reverse_add_opinion_modifier = {
			target = CUB
			modifier = KR_disapproves_of_govt
		}
		add_opinion_modifier = {
			target = CUB
			modifier = KR_disapproves_of_govt
		}
		add_political_power = -20
		hidden_effect = {
			CUB = {
				activate_targeted_decision = { target = THIS decision = CUB_fate_milleaders_decision }
			}
		}
	}
}

country_event = { # US decides how to intervene in Cuba
	id = cuba_events.15
	title = cuba_events.15.t
	desc = cuba_events.15.d
	picture = GFX_report_event_CUB_soldiers
	is_triggered_only = yes

	option = { #embargo & support dissidents
		log = "[GetLogInfo]: event cuba_events.15 option cuba_events.15.a"
		name = cuba_events.15.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_PATAUT }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}

		add_political_power = -25
		FROM.FROM = { embargo_ROOT = yes }
		CUB = {
			country_event = cuba_events.16
		}
	}

	option = { # embargo & immediate coup
		log = "[GetLogInfo]: event cuba_events.15 option cuba_events.15.b"
		name = cuba_events.15.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
				}
			}
		}

		add_political_power = -50
		FROM.FROM = { embargo_ROOT = yes }
		CUB = {
			country_event = cuba_events.17
		}
	}
}

country_event = { # US dissidents in cuba
	id = cuba_events.16
	title = cuba_events.16.t
	desc = cuba_events.16.d
	picture = GFX_report_event_CUB_soldiers
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.16 option cuba_events.16.a"
		name = cuba_events.16.a
		add_ideas = CUB_americabackdis
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_fate_milleaders_decision }
		}
	}
}

country_event = { # US coup in cuba
	id = cuba_events.17
	title = cuba_events.17.t
	desc = cuba_events.17.d
	picture = GFX_report_event_CUB_soldiers
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.17 option cuba_events.17.a"
		name = cuba_events.17.a

		hidden_effect = {
			country_event = { id = cuba_events.18 days = 12 }
		}
		add_ideas = CUB_americabackdis2
	}
}

country_event = { # US coup attempt
	id = cuba_events.18
	title = cuba_events.18.t
	desc = cuba_events.18.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { #coup fails
		log = "[GetLogInfo]: event cuba_events.18 option cuba_events.18.a"
		name = cuba_events.18.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_PATAUT }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}

		country_event = { id = cuba_events.19 days = 1 }
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_fate_milleaders_decision }
		}
		add_political_power = -20
		USA = {
			country_event = cuba_events.20
		}
	}

	option = { #coup succeeds
		log = "[GetLogInfo]: event cuba_events.18 option cuba_events.18.b"
		name = cuba_events.18.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
				}
			}
		}

		set_country_flag = CUB_mildirectrule
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.2
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.15
		}
		set_politics = {
			ruling_party = paternal_autocrat
		}
		add_ideas = CUB_american_influence_2
		remove_ideas = CUB_militia_idea
		hidden_effect = {
			if = {
				limit = { has_idea = CUB_americabackdis2 }
				remove_ideas = CUB_americabackdis2
			}
			CUB_remove_socialist_generals = yes
			CUB_create_reactionary_generals = yes
			USA = {
				country_event = cuba_events.21
			}
			remove_targeted_decision = { target = THIS decision = CUB_socialist_flag_decision }
			remove_targeted_decision = { target = THIS decision = CUB_socialist_military_decision }
			remove_targeted_decision = { target = THIS decision = CUB_socialist_removedis }
			remove_targeted_decision = { target = GER decision = CUB_stoptrade_decision }
			remove_targeted_decision = { target = CAN decision = CUB_stoptrade_decision }
			remove_targeted_decision = { target = THIS decision = CUB_radsoceconreplace_decision }
		}
		set_country_flag = CUB_milcoup_flag
	}
}

country_event = { # Cuban Response to Coup Attempt
	id = cuba_events.19
	title = cuba_events.19.t
	desc = cuba_events.19.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { #Denounce them and appeal to people
		log = "[GetLogInfo]: event cuba_events.19 option cuba_events.19.a"
		name = cuba_events.19.a

		add_stability = 0.05
		add_manpower = -2000
		if = {
			limit = { has_idea = CUB_americabackdis2 }
			remove_ideas = CUB_americabackdis2
		}
	}
}

country_event = { # US event for failed coup
	id = cuba_events.20
	title = cuba_events.20.t
	desc = cuba_events.20.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { #fuuuuggggg
		log = "[GetLogInfo]: event cuba_events.20 option cuba_events.20.a"
		name = cuba_events.20.a

		add_political_power = -25
	}
}

country_event = { # US event for victorious coup
	id = cuba_events.21
	title = cuba_events.21.t
	desc = cuba_events.21.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # restore relations
		log = "[GetLogInfo]: event cuba_events.21 option cuba_events.21.a"
		name = cuba_events.21.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}

		clear_embargo_ROOT = yes
		remove_opinion_modifier = {
			target = CUB
			modifier = KR_hates_govt
		}
		remove_opinion_modifier = {
			target = CUB
			modifier = KR_disapproves_of_govt
		}
		CUB = {
			remove_opinion_modifier = {
				target = USA
				modifier = KR_hates_govt
			}
			remove_opinion_modifier = {
				target = USA
				modifier = KR_disapproves_of_govt
			}
		}
	}

	option = { # pressure for greater control
		log = "[GetLogInfo]: event cuba_events.21 option cuba_events.21.b"
		name = cuba_events.21.b
		ai_chance = { base = 50 }

		remove_opinion_modifier = {
			target = CUB
			modifier = KR_hates_govt
		}
		remove_opinion_modifier = {
			target = CUB
			modifier = KR_disapproves_of_govt
		}
		CUB = {
			remove_opinion_modifier = {
				target = USA
				modifier = KR_hates_govt
			}
			remove_opinion_modifier = {
				target = USA
				modifier = KR_disapproves_of_govt
			}
		}
		CUB = {
			country_event = { id = cuba_events.23 days = 1 }
		}
	}
}

country_event = { # American notice of success of Havana intervention
	id = cuba_events.22
	title = cuba_events.22.t
	desc = cuba_events.22.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # yay!
		log = "[GetLogInfo]: event cuba_events.22 option cuba_events.22.a"
		name = cuba_events.22.a
		clear_embargo_ROOT = yes
	}
}

country_event = { # Cuba responds to america demanding concessions
	id = cuba_events.23
	title = cuba_events.23.t
	desc = cuba_events.23.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # accept
		log = "[GetLogInfo]: event cuba_events.23 option cuba_events.23.a"
		name = cuba_events.23.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}
		USA = {
			country_event = { id = cuba_events.24 days = 1 }
		}
	}

	option = { # refuse
		log = "[GetLogInfo]: event cuba_events.23 option cuba_events.23.b"
		name = cuba_events.23.b
		ai_chance = { base = 50 }

		USA = {
			country_event = { id = cuba_events.25 days = 1 }
		}
	}
}

country_event = { # US - Cuba accepts concessions
	id = cuba_events.24
	title = cuba_events.24.t
	desc = cuba_events.24.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.24 option cuba_events.24.a"
		name = cuba_events.24.a
		clear_embargo_ROOT = yes
	}
}

country_event = { # US - Cuba refuses concessions
	id = cuba_events.25
	title = cuba_events.25.t
	desc = cuba_events.25.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # Backdown
		log = "[GetLogInfo]: event cuba_events.25 option cuba_events.25.a"
		name = cuba_events.25.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}

		CUB = {
			country_event = { id = cuba_events.26 days = 1 }
		}
		clear_embargo_ROOT = yes
	}

	option = { # threaten
		log = "[GetLogInfo]: event cuba_events.25 option cuba_events.25.b"
		name = cuba_events.25.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}

		CUB = {
			country_event = { id = cuba_events.27 days = 1 }
		}
	}

	option = { # immediate intervention
		log = "[GetLogInfo]: event cuba_events.25 option cuba_events.25.c"
		name = cuba_events.25.c
		ai_chance = { base = 50 }

		CUB = {
			country_event = { id = cuba_events.29 days = 7 }
		}
	}
}

country_event = { # US backs down
	id = cuba_events.26
	title = cuba_events.26.t
	desc = cuba_events.26.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.26 option cuba_events.26.a"
		name = cuba_events.26.a

		set_country_flag = CUB_mildirectrule
	}
}

country_event = { # US threatens concessions or further intervention
	id = cuba_events.27
	title = cuba_events.27.t
	desc = cuba_events.27.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # accept
		log = "[GetLogInfo]: event cuba_events.27 option cuba_events.27.a"
		name = cuba_events.27.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}

		USA = {
			country_event = { id = cuba_events.24 days = 1 }
		}
	}

	option = { # refuse
		log = "[GetLogInfo]: event cuba_events.27 option cuba_events.27.b"
		name = cuba_events.27.b
		ai_chance = { base = 50 }

		USA = {
			country_event = { id = cuba_events.28 days = 1 }
		}
	}
}

country_event = { # Last chance for us to back down
	id = cuba_events.28
	title = cuba_events.28.t
	desc = cuba_events.28.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # back down
		log = "[GetLogInfo]: event cuba_events.28 option cuba_events.28.a"
		name = cuba_events.28.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}

		CUB = {
			country_event = { id = cuba_events.26 days = 7 }
		}
	}

	option = { # direct intervention
		log = "[GetLogInfo]: event cuba_events.28 option cuba_events.28.b"
		name = cuba_events.28.b
		ai_chance = { base = 50 }

		CUB = {
			country_event = { id = cuba_events.29 days = 7 }
		}
	}
}

country_event = { # America Directly Established Puppet Govt.
	id = cuba_events.29
	title = cuba_events.29.t
	desc = cuba_events.29.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # rip
		log = "[GetLogInfo]: event cuba_events.29 option cuba_events.29.a"
		name = cuba_events.29.a

		USA = {
			country_event = { id = cuba_events.22 days = 1 }
		}
		set_politics = {
			ruling_party = authoritarian_democrat
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.15
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.15
		}
		remove_ideas = CUB_mixed_regime
		if = {
			limit = { has_idea = CUB_american_influence }
			swap_ideas = {
				remove_idea = CUB_american_influence
				add_idea = CUB_american_puppet_idea
			}
		}
		if = {
			limit = { has_idea = CUB_american_influence_2 }
			swap_ideas = {
				remove_idea = CUB_american_influence_2
				add_idea = CUB_american_puppet_idea
			}
		}
		if = {
			limit = { is_embargoed_by = FROM }
			FROM = { clear_embargo_ROOT = yes }
		}
		CUB_remove_reactionary_generals = yes
		activate_targeted_decision = { target = THIS decision = CUB_fate_milleaders_decision }
		set_country_flag = CUB_USpuppet
	}
}

country_event = { # Start of revolutionary congress
	id = cuba_events.30
	title = cuba_events.30.t
	desc = {
		text = cuba_events.30.d
		trigger = {
			NOT = { can_be_country_leader = CUB_julio_mella_mcpartland }
		}
	}
	desc = {
		text = cuba_events.30.d_mella
		trigger = {
			can_be_country_leader = CUB_julio_mella_mcpartland
		}
	}
	picture = GFX_report_event_generic_diplomacy2
	is_triggered_only = yes

	option = { #Syndie
		log = "[GetLogInfo]: event cuba_events.30 option cuba_events.30.a"
		name = cuba_events.30.a
		ai_chance = {
			base = 34
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
				}
			}
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		modify_country_flag = { flag = cubansyndiescore value = 1 }
	}
	option = { #Radsoc
		log = "[GetLogInfo]: event cuba_events.30 option cuba_events.30.b"
		name = cuba_events.30.b
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
				}
			}
			modifier = {
				factor = 0
				can_be_country_leader = CUB_julio_mella_mcpartland
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		modify_country_flag = { flag = cubanradsocscore value = 1 }
	}
	option = { #Totalist
		log = "[GetLogInfo]: event cuba_events.30 option cuba_events.30.c"
		name = cuba_events.30.c
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
				}
			}
			modifier = {
				factor = 2
				can_be_country_leader = CUB_julio_mella_mcpartland
			}
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		modify_country_flag = { flag = cubantotalistscore value = 1 }
	}
	after = {
		hidden_effect = {
			country_event = { id = cuba_events.31 days = 3 }
		}
	}
}

country_event = { # congress issue 2
	id = cuba_events.31
	title = cuba_events.31.t
	desc = {
		text = cuba_events.31.d
		trigger = {
			NOT = { can_be_country_leader = CUB_julio_mella_mcpartland }
		}
	}
	desc = {
		text = cuba_events.31.d_mella
		trigger = {
			can_be_country_leader = CUB_julio_mella_mcpartland
		}
	}
	picture = GFX_report_event_generic_diplomacy2
	is_triggered_only = yes

	option = { #Syndie
		log = "[GetLogInfo]: event cuba_events.31 option cuba_events.31.a"
		name = cuba_events.31.a
		ai_chance = {
			base = 34
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
				}
			}
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		modify_country_flag = { flag = cubansyndiescore value = 1 }
	}

	option = { #Radsoc
		log = "[GetLogInfo]: event cuba_events.31 option cuba_events.31.b"
		name = cuba_events.31.b
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
				}
			}
			modifier = {
				factor = 0
				can_be_country_leader = CUB_julio_mella_mcpartland
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		modify_country_flag = { flag = cubanradsocscore value = 1 }
	}
	option = { #Totalist
		log = "[GetLogInfo]: event cuba_events.31 option cuba_events.31.c"
		name = cuba_events.31.c
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
				}
			}
			modifier = {
				factor = 2
				can_be_country_leader = CUB_julio_mella_mcpartland
			}
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		modify_country_flag = { flag = cubantotalistscore value = 1 }
	}
	after = {
		hidden_effect = {
			country_event = { id = cuba_events.32 days = 3 }
		}
	}
}

country_event = { # congress issue 3
	id = cuba_events.32
	title = cuba_events.32.t
	desc = {
		text = cuba_events.32.d
		trigger = {
			NOT = { can_be_country_leader = CUB_julio_mella_mcpartland }
		}
	}
	desc = {
		text = cuba_events.32.d_mella
		trigger = {
			can_be_country_leader = CUB_julio_mella_mcpartland
		}
	}
	picture = GFX_report_event_generic_diplomacy2
	is_triggered_only = yes

	option = { #Syndie
		log = "[GetLogInfo]: event cuba_events.32 option cuba_events.32.a"
		name = cuba_events.32.a
		ai_chance = {
			base = 34
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
				}
			}
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		modify_country_flag = { flag = cubansyndiescore value = 1 }
	}

	option = { #Radsoc
		log = "[GetLogInfo]: event cuba_events.32 option cuba_events.32.b"
		name = cuba_events.32.b
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
					has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST }
				}
			}
			modifier = {
				factor = 0
				can_be_country_leader = CUB_julio_mella_mcpartland
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		modify_country_flag = { flag = cubanradsocscore value = 1 }
	}
	option = { #Totalist
		log = "[GetLogInfo]: event cuba_events.32 option cuba_events.32.c"
		name = cuba_events.32.c
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
				}
			}
			modifier = {
				factor = 2
				can_be_country_leader = CUB_julio_mella_mcpartland
			}
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		modify_country_flag = { flag = cubantotalistscore value = 1 }
	}
	after = {
		CUB_calculate_congress_result = yes
	}
}

country_event = { # syndie victory with mella - mella coup attempt
	id = cuba_events.33
	title = cuba_events.33.t
	desc = cuba_events.33.d
	picture = GFX_report_event_CUB_mella
	is_triggered_only = yes

	option = { #coup fails
		log = "[GetLogInfo]: event cuba_events.33 option cuba_events.33.a"
		name = cuba_events.33.a
		set_politics = {
			ruling_party = syndicalist
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.07
		}
		set_temp_variable = { coalition_partner_var = token:totalist }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:radical_socialist }
		remove_from_coalition = yes
		hidden_effect = {
			country_event = { id = cuba_events.40 days = 1 }
		}
		set_country_flag = syndiecongvic
	}

	option = { #coup succeeds
		log = "[GetLogInfo]: event cuba_events.33 option cuba_events.33.b"
		name = cuba_events.33.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE }
			}
		}
		promote_character = CUB_julio_mella_mcpartland
		set_politics = {
			ruling_party = totalist
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		set_country_flag = totalistcongvic
		hidden_effect = {
			country_event = { id = cuba_events.41 days = 1 }
		}
	}
}

country_event = { # syndie victory without mella
	id = cuba_events.34
	title = cuba_events.34.t
	desc = cuba_events.34.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.34 option cuba_events.34.a"
		name = cuba_events.34.a
		set_politics = {
			ruling_party = syndicalist
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		set_temp_variable = { coalition_partner_var = token:totalist }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:radical_socialist }
		remove_from_coalition = yes
		hidden_effect = {
			country_event = { id = cuba_events.232 days = 800 }
		}
		set_country_flag = syndiecongvic
	}
}

country_event = { # radsoc victory with mella - mella demands HoG and non-bourg govt structure
	id = cuba_events.35
	title = cuba_events.35.t
	desc = cuba_events.35.d
	picture = GFX_report_event_CUB_mella
	is_triggered_only = yes

	option = { #yes
		log = "[GetLogInfo]: event cuba_events.35 option cuba_events.35.a"
		name = cuba_events.35.a
		set_politics = {
			ruling_party = radical_socialist
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
		set_country_flag = radsoccongvic
		set_country_flag = mellaradsocdeal
		set_temp_variable = { coalition_partner_var = token:totalist }
		add_to_coalition = yes
		promote_character = CUB_julio_mella_mcpartland
	}

	option = { #no
		log = "[GetLogInfo]: event cuba_events.35 option cuba_events.35.b"
		name = cuba_events.35.b
		set_politics = {
			ruling_party = radical_socialist
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.04
		}
		set_country_flag = radsoccongvic
		promote_character = CUB_julio_mella_mcpartland
		hidden_effect = {
			country_event = { id = cuba_events.42 days = 1 }
		}
	}
}

country_event = { # radsoc victory without mella
	id = cuba_events.36
	title = cuba_events.36.t
	desc = cuba_events.36.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.36 option cuba_events.36.a"
		name = cuba_events.36.a
		set_politics = {
			ruling_party = radical_socialist
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		set_country_flag = radsoccongvic
		hidden_effect = {
			country_event = { id = cuba_events.232 days = 800 }
		}
	}
}

country_event = { # totalist victory with mella
	id = cuba_events.37
	title = cuba_events.37.t
	desc = cuba_events.37.d
	picture = GFX_report_event_CUB_mella
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.37 option cuba_events.37.a"
		name = cuba_events.37.a
		set_politics = {
			ruling_party = totalist
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		set_country_flag = totalistcongvic
		promote_character = CUB_julio_mella_mcpartland
	}
}

country_event = { # totalist victory without mella
	id = cuba_events.38
	title = cuba_events.38.t
	desc = cuba_events.38.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.38 option cuba_events.38.a"
		name = cuba_events.38.a
		set_politics = {
			ruling_party = totalist
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		set_country_flag = totalistcongvic
		hidden_effect = {
			country_event = { id = cuba_events.232 days = 800 }
		}
	}
}

country_event = { # no majority - will be modified if have mella
	id = cuba_events.39
	title = cuba_events.39.t
	desc = cuba_events.39.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.39 option cuba_events.39.a"
		name = cuba_events.39.a
		set_country_flag = syndiecongvic
		add_stability = -0.05
		add_political_power = -20
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.02
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.02
		}
		set_temp_variable = { coalition_partner_var = token:totalist }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:radical_socialist }
		add_to_coalition = yes
		if = {
			limit = { can_be_country_leader = CUB_julio_mella_mcpartland }
			promote_character = CUB_julio_mella_mcpartland
		}
		promote_character = CUB_raul_roa_garcia
		hidden_effect = {
			if = {
				limit = { NOT = { can_be_country_leader = CUB_julio_mella_mcpartland } }
				country_event = { id = cuba_events.232 days = 800 }
			}
		}
	}
}

country_event = { # Guiteras Dealing with Mella & Supporters
	id = cuba_events.40
	title = cuba_events.40.t
	desc = cuba_events.40.d
	picture = GFX_report_event_CUB_execute
	is_triggered_only = yes

	option = { #execute
		log = "[GetLogInfo]: event cuba_events.40 option cuba_events.40.a"
		name = cuba_events.40.a
		add_political_power = 20
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
		retire_character = CUB_julio_mella_mcpartland
	}

	option = { #imprison
		log = "[GetLogInfo]: event cuba_events.40 option cuba_events.40.b"
		name = cuba_events.40.b
		add_political_power = -20
	}
}

country_event = { # Mella Dealing with guiteras & Supporters
	id = cuba_events.41
	title = cuba_events.41.t
	desc = cuba_events.41.d
	picture = GFX_report_event_CUB_execute
	is_triggered_only = yes

	option = { #execute
		log = "[GetLogInfo]: event cuba_events.41 option cuba_events.41.a"
		name = cuba_events.41.a
		add_political_power = 20
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
		retire_character = CUB_antonio_guiteras_holmes
	}

	option = { #imprison
		log = "[GetLogInfo]: event cuba_events.41 option cuba_events.41.b"
		name = cuba_events.41.b
		add_political_power = -20
	}

	after = {
		promote_character = CUB_raul_roa_garcia
	}
}

country_event = { # Radsoc refuses Mella
	id = cuba_events.42
	title = cuba_events.42.t
	desc = cuba_events.42.d
	picture = GFX_report_event_CUB_mella
	is_triggered_only = yes

	option = { #arrest mella
		log = "[GetLogInfo]: event cuba_events.42 option cuba_events.42.a"
		name = cuba_events.42.a
		add_political_power = 30
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
	}

	option = { #leave him be
		log = "[GetLogInfo]: event cuba_events.42 option cuba_events.42.b"
		name = cuba_events.42.b
		add_political_power = -10
		add_stability = -0.02
	}
}

country_event = { # The Congress is Refused
	id = cuba_events.43
	title = cuba_events.43.t
	desc = {
		text = cuba_events.43.d
		trigger = {
			NOT = { can_be_country_leader = CUB_julio_mella_mcpartland }
		}
	}
	desc = {
		text = cuba_events.43.d_mella
		trigger = {
			can_be_country_leader = CUB_julio_mella_mcpartland
		}
	}
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.43 option cuba_events.43.a"
		name = cuba_events.43.a
		trigger = {
			NOT = { can_be_country_leader = CUB_julio_mella_mcpartland }
		}
		add_stability = -0.2
		add_political_power = -200
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.1
		}
		hidden_effect = {
			country_event = { id = cuba_events.232 days = 800 }
		}
		CUB_remove_juan_blas_as_general = yes
		set_country_flag = no_congress
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.43 option cuba_events.43.b"
		name = cuba_events.43.b
		trigger = {
			can_be_country_leader = CUB_julio_mella_mcpartland
		}
		add_stability = -0.2
		add_political_power = -200
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.1
		}
		hidden_effect = {
			random_list = {
				50 = { country_event = { id = cuba_events.45 days = 13 } } # coup fails
				50 = { country_event = { id = cuba_events.46 days = 13 } } # coup succeeds
			}
		}
	}
}

#cuba_events.44 removed

country_event = { # Coup Fails
	id = cuba_events.45
	title = cuba_events.45.t
	desc = cuba_events.45.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.45 option cuba_events.45.a"
		name = cuba_events.45.a
		add_manpower = -1000
		add_stability = 0.1
		add_political_power = 100
		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		CUB_remove_juan_blas_as_general = yes
		retire_character = CUB_julio_mella_mcpartland
		hidden_effect = {
			country_event = { id = cuba_events.232 days = 800 }
		}
		set_country_flag = no_congress
	}
}

country_event = { # Coup Succeeds
	id = cuba_events.46
	title = cuba_events.46.t
	desc = cuba_events.46.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.46 option cuba_events.46.a"
		name = cuba_events.46.a
		set_politics = {
			ruling_party = totalist
		}
		add_manpower = -1000
		add_stability = 0.1
		add_political_power = 100
		add_popularity = {
			ideology = totalist
			popularity = 0.15
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.15
		}
		promote_character = CUB_julio_mella_mcpartland
		retire_character = CUB_antonio_guiteras_holmes
		hidden_effect = {
			country_event = { id = cuba_events.48 days = 30 }
		}
		set_country_flag = no_congress_mellacoup
	}
}

country_event = { #protect revolution
	id = cuba_events.47
	title = cuba_events.47.t
	desc = {
		text = cuba_events.47.d_1
		trigger = {
			has_government = radical_socialist
			NOT = { has_country_flag = mellaradsocdeal }
		}
	}
	desc = {
		text = cuba_events.47.d_2
		trigger = {
			has_government = radical_socialist
			has_country_flag = mellaradsocdeal
		}
	}
	desc = {
		text = cuba_events.47.d_3
		trigger = {
			has_government = syndicalist
			NOT = { has_country_leader = { character = CUB_raul_roa_garcia } }
		}
	}
	desc = {
		text = cuba_events.47.d_4
		trigger = {
			has_government = totalist
			NOT = { can_be_country_leader = CUB_julio_mella_mcpartland }
		}
	}
	desc = {
		text = cuba_events.47.d_5
		trigger = {
			has_government = totalist
			can_be_country_leader = CUB_julio_mella_mcpartland
		}
	}
	desc = {
		text = cuba_events.47.d_6
		trigger = {
			has_government = syndicalist
			has_country_leader = { character = CUB_raul_roa_garcia }
		}
	}
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.47 option cuba_events.47.a"
		name = cuba_events.47.a
		trigger = {
			has_government = radical_socialist
			NOT = { has_country_flag = mellaradsocdeal }
		}

		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		add_ideas = CUB_rs_guard_guer
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.47 option cuba_events.47.b"
		name = cuba_events.47.b
		trigger = {
			has_government = radical_socialist
			NOT = { has_country_flag = mellaradsocdeal }
		}

		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		add_ideas = CUB_rs_guard_pol
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.47 option cuba_events.47.c"
		name = cuba_events.47.c
		trigger = {
			has_government = syndicalist
		}

		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		add_ideas = CUB_syn_guard_sep
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.47 option cuba_events.47.d"
		name = cuba_events.47.d
		trigger = {
			has_government = syndicalist
		}

		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		add_ideas = CUB_syn_guard_int
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.47 option cuba_events.47.e"
		name = cuba_events.47.e

		trigger = {
			OR = {
				AND = {
					has_government = totalist
					can_be_country_leader = CUB_julio_mella_mcpartland
				}
				AND = {
					has_government = radical_socialist
					has_country_flag = mellaradsocdeal
				}
			}
		}

		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		add_ideas = CUB_tot_guard_ref
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.47 option cuba_events.47.f"
		name = cuba_events.47.f

		trigger = {
			OR = {
				AND = {
					has_government = totalist
					can_be_country_leader = CUB_julio_mella_mcpartland
				}
				AND = {
					has_government = radical_socialist
					has_country_flag = mellaradsocdeal
				}
			}
		}

		if = {
			limit = { has_government = radical_socialist }
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.03
			}
			add_popularity = {
				ideology = totalist
				popularity = 0.02
			}
		}
		if = {
			limit = { has_government = totalist }
			add_popularity = {
				ideology = totalist
				popularity = 0.05
			}
		}
		add_ideas = CUB_tot_guard_rip
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.47 option cuba_events.47.g"
		name = cuba_events.47.g

		trigger = {
			has_government = totalist
			NOT = { can_be_country_leader = CUB_julio_mella_mcpartland }
		}

		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		add_ideas = CUB_tot_guard2_int
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.47 option cuba_events.47.h"
		name = cuba_events.47.h

		trigger = {
			has_government = totalist
			NOT = { can_be_country_leader = CUB_julio_mella_mcpartland }
		}

		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		add_ideas = CUB_tot_guard2_sep
	}
}

country_event = { #Radsoc attempt to overthrow old friends
	id = cuba_events.48
	title = cuba_events.48.t
	desc = cuba_events.48.d
	picture = GFX_report_event_CUB_blasrevolution
	is_triggered_only = yes

	option = { #success
		log = "[GetLogInfo]: event cuba_events.48 option cuba_events.48.a"
		name = cuba_events.48.a
		add_political_power = 50
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.15
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.1
		}
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = no
		}
		country_event = { id = cuba_events.49 days = 1 }
		set_country_flag = CUB_radsoccoup
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_radsoceconreplace_decision }
		}
	}

	option = { #failure
		log = "[GetLogInfo]: event cuba_events.48 option cuba_events.48.b"
		name = cuba_events.48.b
		add_stability = 0.05
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.1
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.15
		}
		country_event = { id = cuba_events.50 days = 1 }
		retire_character = CUB_juan_blas_hernandez
	}
}

country_event = { #Radsoc event for info
	id = cuba_events.49
	title = cuba_events.49.t
	desc = cuba_events.49.d
	is_triggered_only = yes

	option = { #
		log = "[GetLogInfo]: event cuba_events.49 option cuba_events.49.a"
		name = cuba_events.49.a
		retire_character = CUB_julio_mella_mcpartland
		promote_character = CUB_sandalio_junco_camellon
		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
	}
}

country_event = { #Totalist event for info
	id = cuba_events.50
	title = cuba_events.50.t
	desc = cuba_events.50.d
	is_triggered_only = yes

	option = { #
		log = "[GetLogInfo]: event cuba_events.50 option cuba_events.50.a"
		name = cuba_events.50.a
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
	}
}

country_event = { #taking bourg's stuff
	id = cuba_events.51
	title = cuba_events.51.t
	desc = cuba_events.51.d
	picture = GFX_report_event_HAI_sugar_workers
	is_triggered_only = yes

	option = { #seize from evil bourg
		log = "[GetLogInfo]: event cuba_events.51 option cuba_events.51.a"
		name = cuba_events.51.a
		country_event = cuba_events.52
	}

	option = { #dont seize
		log = "[GetLogInfo]: event cuba_events.51 option cuba_events.51.b"
		name = cuba_events.51.b
		add_political_power = -50
		add_stability = -0.05
	}
}

country_event = { # Syndie bourg seizing
	id = cuba_events.52
	title = cuba_events.52.t
	desc = cuba_events.52.d
	picture = GFX_report_event_HAI_sugar_workers
	is_triggered_only = yes

	option = { #moderate
		log = "[GetLogInfo]: event cuba_events.52 option cuba_events.52.a"
		name = cuba_events.52.a
		add_timed_idea = {
			idea = CUB_syn_seize_mod
			days = 90
		}
	}

	option = { #full
		log = "[GetLogInfo]: event cuba_events.52 option cuba_events.52.b"
		name = cuba_events.52.b
		add_timed_idea = {
			idea = CUB_syn_seize_rad
			days = 120
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}

	after = {
		315 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

### Natpop Chain ###
country_event = { #march on Havana
	id = cuba_events.53
	title = cuba_events.53.t
	desc = cuba_events.53.d
	picture = GFX_report_event_CUB_rebel_sailors

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.53 option cuba_events.53.a"
		name = cuba_events.53.a
		effect_tooltip = { promote_character = CUB_ramon_grau_san_martin }
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = no
			name = CUB_authoritarian_democrat_party_nat
			long_name = CUB_authoritarian_democrat_party_nat_long
		}
		if = {
			limit = { has_country_flag = mendieta_elected }
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.13
			}
		}
		else = {
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.2
			}
		}
		remove_ideas = CUB_mixed_regime
		remove_ideas = CUB_complete_chaos
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_fate_milleaders_decision }
			CUB_remove_reactionary_generals = yes
			CUB_remove_socialist_generals = yes
			CUB_create_autentico_generals = yes
			country_event = { id = cuba_events.55 days = 7 }
			USA = {
				country_event = { id = cuba_events.56 days = 1 }
			}
		}
	}
}

country_event = { #natpops seize or ask americans to make concessions for plantations
	id = cuba_events.54
	title = cuba_events.54.t
	desc = {
		text = cuba_events.54.d_1
		trigger = {
			has_country_flag = CUB_summitfail
			NOT = {
				AND = {
					has_global_flag = USA_civil_war_begun_flag
					NOT = { has_global_flag = USA_civil_war_over_flag }
				}
			}
		}
	}
	desc = {
		text = cuba_events.54.d_2
		trigger = {
			NOT = {
				has_country_flag = CUB_summitfail
				AND = {
					has_global_flag = USA_civil_war_begun_flag
					NOT = { has_global_flag = USA_civil_war_over_flag }
				}
			}
		}
	}
	desc = {
		text = cuba_events.54.d_3
		trigger = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
		}
	}
	picture = GFX_report_event_CUB_american_deal
	is_triggered_only = yes

	option = { #seize
		log = "[GetLogInfo]: event cuba_events.54 option cuba_events.54.a"
		name = cuba_events.54.a

		315 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		set_country_flag = CUB_natsseizedstuff
		remove_ideas = CUB_american_influence
		add_timed_idea = {
			idea = CUB_nat_seize
			days = 90
		}
		reverse_add_opinion_modifier = {
			target = USA
			modifier = CUB_natseize
		}
		add_opinion_modifier = {
			target = USA
			modifier = CUB_natseize
		}
		USA = {
			country_event = { id = cuba_events.57 days = 1 }
		}
	}

	option = { #negotiate
		log = "[GetLogInfo]: event cuba_events.54 option cuba_events.54.b"
		name = cuba_events.54.b

		trigger = {
			NOT = { has_country_flag = CUB_summitfail }
		}

		USA = {
			country_event = { id = cuba_events.58 days = 1 }
		}
	}
}

country_event = { #natpop dealing with socialists
	id = cuba_events.55
	title = cuba_events.55.t
	desc = cuba_events.55.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.55 option cuba_events.55.a"
		name = cuba_events.55.a

		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
		promote_character = CUB_raul_roa_garcia
		promote_character = CUB_sandalio_junco_camellon
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
	}
}

country_event = { #the US reacts to Cuban natrev
	id = cuba_events.56
	title = cuba_events.56.t
	desc = cuba_events.56.d
	picture = GFX_report_event_CUB_rebel_sailors

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.56 option cuba_events.56.a"
		name = cuba_events.56.a
		diplomatic_relation = {
			country = CUB
			relation = guarantee
			active = no
		}
		diplomatic_relation = {
			country = CUB
			relation = non_aggression_pact
			active = no
		}
		diplomatic_relation = {
			country = CUB
			relation = military_access
			active = no
		}
	}
}
country_event = { #the US reacts to Cuban nat seizing plantations
	id = cuba_events.57
	title = cuba_events.57.t
	desc = cuba_events.57.d
	picture = GFX_report_event_HAI_sugar_workers
	is_triggered_only = yes

	option = { #Do Nothing
		log = "[GetLogInfo]: event cuba_events.57 option cuba_events.57.a"
		name = cuba_events.57.a

		add_political_power = -25
	}

	option = { #Embargo and support dissidents
		log = "[GetLogInfo]: event cuba_events.57 option cuba_events.57.b"
		name = cuba_events.57.b

		embargo_FROM = yes
		CUB = {
			country_event = cuba_events.16
		}
	}
}

country_event = { #the US reacts to Cuban nat calls for plantation summit
	id = cuba_events.58
	title = cuba_events.58.t
	desc = cuba_events.58.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = { #yes
		log = "[GetLogInfo]: event cuba_events.58 option cuba_events.58.a"
		name = cuba_events.58.a

		CUB = {
			country_event = { id = cuba_events.59 days = 1 }
		}
	}

	option = { #no
		log = "[GetLogInfo]: event cuba_events.58 option cuba_events.58.b"
		name = cuba_events.58.b

		CUB = {
			country_event = { id = cuba_events.60 days = 1 }
		}
	}
}

country_event = { #US accepts Summit
	id = cuba_events.59
	title = cuba_events.59.t
	desc = cuba_events.59.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = {
		log = "[GetLogInfo]: event cuba_events.59 option cuba_events.59.a"
		name = cuba_events.59.a
		USA = {
			country_event = { id = cuba_events.62 days = 6 }
		}
	}
}

country_event = { #US refuses Summit
	id = cuba_events.60
	title = cuba_events.60.t
	desc = cuba_events.60.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = {
		log = "[GetLogInfo]: event cuba_events.60 option cuba_events.60.a"
		name = cuba_events.60.a

		add_political_power = -50
		set_country_flag = CUB_summitfail
		country_event = { id = cuba_events.54 days = 1 }
	}
}

country_event = { #dealing with captured socialists
	id = cuba_events.61
	title = cuba_events.61.t
	desc = cuba_events.61.d
	is_triggered_only = yes

	option = { #kill
		log = "[GetLogInfo]: event cuba_events.61 option cuba_events.61.a"
		name = cuba_events.61.a

		add_stability = 0.01
		add_political_power = -10
	}

	option = { #prison
		log = "[GetLogInfo]: event cuba_events.61 option cuba_events.61.b"
		name = cuba_events.61.b

		add_stability = -0.01
		add_political_power = 10
	}
}

country_event = { #Negotiations USA
	id = cuba_events.62
	title = cuba_events.62.t
	desc = cuba_events.62.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = { #work with Cuba
		log = "[GetLogInfo]: event cuba_events.62 option cuba_events.62.a"
		name = cuba_events.62.a

		add_political_power = 5
		hidden_effect = {
			CUB = {
				country_event = { id = cuba_events.63 days = 1 }
			}
		}
	}

	option = { #play hardball
		log = "[GetLogInfo]: event cuba_events.62 option cuba_events.62.b"
		name = cuba_events.62.b

		add_political_power = -25
		hidden_effect = {
			CUB = {
				country_event = { id = cuba_events.64 days = 1 }
			}
		}
	}
}

country_event = { #negotiations succeed
	id = cuba_events.63
	title = cuba_events.63.t
	desc = cuba_events.63.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = { #yay
		log = "[GetLogInfo]: event cuba_events.63 option cuba_events.63.a"
		name = cuba_events.63.a

		add_ideas = CUB_natplantdeal
		swap_ideas = {
			remove_idea = CUB_american_influence
			add_idea = CUB_american_influence_2
		}
		USA = {
			country_event = { id = cuba_events.67 days = 1 }
		}
	}
}

country_event = { #US plays hardball
	id = cuba_events.64
	title = cuba_events.64.t
	desc = cuba_events.64.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = { #give up
		log = "[GetLogInfo]: event cuba_events.64 option cuba_events.64.a"
		name = cuba_events.64.a

		add_political_power = -50
		set_country_flag = CUB_summitfail
		country_event = { id = cuba_events.54 days = 1 }
	}

	option = { #pushback
		log = "[GetLogInfo]: event cuba_events.64 option cuba_events.64.b"
		name = cuba_events.64.b

		hidden_effect = {
			random_list = {
				50 = { # fail
					CUB = {
						country_event = { id = cuba_events.66 days = 1 }
					}
				}
				50 = { # succeed
					CUB = {
						country_event = { id = cuba_events.63 days = 1 }
					}
				}
			}
		}
	}
}

#cuba_events.65 removed

country_event = { #Negotiations fail
	id = cuba_events.66
	title = cuba_events.66.t
	desc = cuba_events.66.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = { #give up
		log = "[GetLogInfo]: event cuba_events.66 option cuba_events.66.a"
		name = cuba_events.66.a

		add_political_power = -100
		set_country_flag = CUB_summitfail
		country_event = { id = cuba_events.54 days = 1 }
	}
}

country_event = { #negotiations succeed - USA
	id = cuba_events.67
	title = cuba_events.67.t
	desc = cuba_events.67.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = { #yay
		log = "[GetLogInfo]: event cuba_events.67 option cuba_events.67.a"
		name = cuba_events.67.a

		add_political_power = 50
	}
}

country_event = { #the siege - eliminating foreign-owned traitors
	id = cuba_events.68
	title = cuba_events.68.t
	desc = cuba_events.68.d
	is_triggered_only = yes

	option = { #attack comfra consulate
		log = "[GetLogInfo]: event cuba_events.68 option cuba_events.68.a"
		name = cuba_events.68.a
		promote_character = CUB_raul_roa_garcia
		add_opinion_modifier = {
			target = CUB
			modifier = CUB_embassystormopinion
		}
		reverse_add_opinion_modifier = {
			target = CUB
			modifier = CUB_embassystormopinion
		}
		country_event = { id = cuba_events.61 days = 1 }
		FRA = {
			country_event = cuba_events.69
		}
		SRI = {
			country_event = cuba_events.69
		}
		ENG = {
			country_event = cuba_events.69
		}
		set_country_flag = CUB_stormed_embassy
	}

	option = { #leave them be
		log = "[GetLogInfo]: event cuba_events.68 option cuba_events.68.b"
		name = cuba_events.68.b

		set_country_flag = CUB_nostorm
		add_political_power = -25
	}
}

country_event = { #Syndie notice of Cuban attack
	id = cuba_events.69
	title = {
		text = cuba_events.69.t_1
		trigger = {
			tag = FRA
		}
	}
	title = {
		text = cuba_events.69.t_2
		trigger = {
			OR = {
				tag = ENG
				tag = SRI
			}
		}
	}
	desc = {
		text = cuba_events.69.d_1
		trigger = {
			tag = FRA
		}
	}
	desc = {
		text = cuba_events.69.d_2
		trigger = {
			OR = {
				tag = ENG
				tag = SRI
			}
		}
	}
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.69 option cuba_events.69.a"
		name = cuba_events.69.a

		add_political_power = -5
	}
}

country_event = { #effect of Cuba Por la Cubanos variable with success of past two focuses
	id = cuba_events.70
	title = cuba_events.70.t
	desc = {
		text = cuba_events.70.d_1
		trigger = {
			has_country_flag = CUB_stormed_embassy
			has_idea = CUB_natplantdeal
		}
	}
	desc = {
		text = cuba_events.70.d_2
		trigger = {
			has_country_flag = CUB_nostorm
			has_idea = CUB_natplantdeal
		}
	}
	desc = {
		text = cuba_events.70.d_3
		trigger = {
			has_country_flag = CUB_nostorm
			NOT = { has_idea = CUB_natplantdeal }
		}
	}
	desc = {
		text = cuba_events.70.d_4
		trigger = {
			has_country_flag = CUB_stormed_embassy
			NOT = { has_idea = CUB_natplantdeal }
		}
	}
	picture = GFX_report_event_CUB_parade
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.70 option cuba_events.70.a"
		name = cuba_events.70.a

		if = {
			limit = {
				has_country_flag = CUB_stormed_embassy
				has_idea = CUB_natplantdeal
			}
			add_political_power = 100
			add_stability = 0.1
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.1
			}
		}
		if = {
			limit = {
				has_country_flag = CUB_nostorm
				has_idea = CUB_natplantdeal
			}
			add_political_power = 75
			add_stability = 0.05
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.05
			}
		}
		if = {
			limit = {
				has_country_flag = CUB_nostorm
				NOT = { has_idea = CUB_natplantdeal }
			}
			add_political_power = 25
			add_stability = 0.02
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.02
			}
		}
		if = {
			limit = {
				has_country_flag = CUB_stormed_embassy
				NOT = { has_idea = CUB_natplantdeal }
			}
			add_political_power = 35
			add_stability = 0.03
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.03
			}
		}
	}
}

### Democratic Chain ###
country_event = { # Negotiating Tariffs
	id = cuba_events.71
	title = cuba_events.71.t
	desc = cuba_events.71.d
	picture = GFX_report_event_CUB_american_deal
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.71 option cuba_events.71.a"
		name = cuba_events.71.a

		CUB = {
			country_event = cuba_events.72
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.71 option cuba_events.71.b"
		name = cuba_events.71.b

		CUB = {
			country_event = cuba_events.73
		}
	}
}

country_event = { # Morton's fork with neg opinion of the below
	id = cuba_events.72
	title = cuba_events.72.t
	desc = cuba_events.72.d
	picture = GFX_report_event_CUB_american_deal
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.72 option cuba_events.72.a"
		name = cuba_events.72.a

		swap_ideas = {
			remove_idea = CUB_american_influence
			add_idea = CUB_american_influence_2
		}
		if = {
			limit = { has_idea = CUB_recovering }
			remove_ideas = CUB_recovering
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		if = {
			limit = { has_idea = CUB_double_dip }
			swap_ideas = {
				remove_idea = CUB_double_dip
				add_idea = CUB_recovering
			}
		}
		add_opinion_modifier = {
			target = USA
			modifier = KR_displeased
		}
		reverse_add_opinion_modifier = {
			target = USA
			modifier = KR_displeased
		}
	}
}

country_event = { # Negotiating Tariffs 2
	id = cuba_events.73
	title = cuba_events.73.t
	desc = cuba_events.73.d
	picture = GFX_report_event_CUB_american_deal
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.73 option cuba_events.73.a"
		name = cuba_events.73.a

		swap_ideas = {
			remove_idea = CUB_american_influence
			add_idea = CUB_american_influence_2
		}
		if = {
			limit = { has_idea = CUB_recovering }
			remove_ideas = CUB_recovering
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		if = {
			limit = { has_idea = CUB_double_dip }
			swap_ideas = {
				remove_idea = CUB_double_dip
				add_idea = CUB_recovering
			}
		}
		add_opinion_modifier = {
			target = USA
			modifier = CUB_UStariffapprove
		}
		reverse_add_opinion_modifier = {
			target = USA
			modifier = CUB_UStariffapprove
		}
	}
}

country_event = { # Guard Coup
	id = cuba_events.74
	title = cuba_events.74.t
	desc = cuba_events.74.d
	picture = GFX_report_event_CUB_rebel_sailors_fight
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.74 option cuba_events.74.a"
		name = cuba_events.74.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCDEM }
					AND = {
						has_game_rule = { rule = CUB_path option = DEFAULT }
						has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_CEN }
					}
				}
			}
		}

		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.1
		}
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		set_country_flag = CUB_presgcoup
		remove_ideas = CUB_mixed_regime
		remove_ideas = CUB_presiguard
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.74 option cuba_events.74.b"
		name = cuba_events.74.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_PATAUT }
			}
		}
		remove_ideas = CUB_mixed_regime
		remove_ideas = CUB_presiguard
		hidden_effect = {
			CUB_remove_reactionary_generals = yes
			country_event = { id = cuba_events.246 days = 4 }
		}
		set_country_flag = CUB_failpresgcoup
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_fate_milleaders_decision }
		}
	}
}

country_event = { # New Elections Called
	id = cuba_events.75
	title = cuba_events.75.t
	desc = {
		text = cuba_events.75.d_1
		trigger = {
			has_government = social_democrat
		}
	}
	desc = {
		text = cuba_events.75.d_2
		trigger = {
			NOT = { has_government = social_democrat }
		}
	}
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.75 option cuba_events.75.a"
		name = cuba_events.75.a

		country_event = { id = cuba_events.76 days = 14 }
		if = {
			limit = { NOT = { has_government = social_democrat } }
			set_country_flag = CUB_trejostepsdown
			promote_character = CUB_manuel_bisbe_alberni
			add_popularity = {
				ideology = social_democrat
				popularity = -0.05
			}
		}
	}
}

country_event = { # New Elections
	id = cuba_events.76
	title = cuba_events.76.t
	desc = {
		text = cuba_events.76.d_1
		trigger = {
			has_government = social_democrat
		}
	}
	desc = {
		text = cuba_events.76.d_2
		trigger = {
			NOT = { has_government = social_democrat }
		}
	}
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.76 option cuba_events.76.a"
		name = cuba_events.76.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCDEM }
					AND = {
						has_game_rule = { rule = CUB_path option = DEFAULT }
						has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_CEN }
					}
				}
			}
		}
		set_country_flag = republicanovicelectwo
		add_popularity = {
			ideology = market_liberal
			popularity = 0.1
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = market_liberal
						last_election = "[ELECTION_DATE_TAG]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				ELECTION_DATE_TAG = "[GetYear].1.28"
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.76 option cuba_events.76.b"
		name = cuba_events.76.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCDEM }
					AND = {
						has_game_rule = { rule = CUB_path option = DEFAULT }
						has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_CEN }
					}
				}
			}
		}
		set_country_flag = liberalvicelectwo
		add_popularity = {
			ideology = social_liberal
			popularity = 0.1
		}
		set_temp_variable = { coalition_partner_var = token:social_conservative }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:market_liberal }
		remove_from_coalition = yes
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = social_liberal
						last_election = "[ELECTION_DATE_TAG]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				ELECTION_DATE_TAG = "[GetYear].1.28"
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.76 option cuba_events.76.c"
		name = cuba_events.76.c
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_MARLIB }
					has_game_rule = { rule = CUB_path option = CUB_PATH_SOCLIB }
				}
			}
		}
		set_country_flag = unionistavicelectwo
		add_popularity = {
			ideology = social_democrat
			popularity = 0.1
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = social_democrat
						last_election = "[ELECTION_DATE_TAG]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				ELECTION_DATE_TAG = "[GetYear].1.28"
			}
		}
	}

	after = {
		set_country_flag = CUB_electionman_flag
		custom_effect_tooltip = CUBelectionsallowed
		if = {
			limit = { NOT = { has_country_flag = CUB_trejostepsdown } }
			set_country_flag = CUB_trejostepsdown
			promote_character = CUB_manuel_bisbe_alberni
		}
		if = {
			limit = { has_country_flag = CUB_elec_post }
			country_event = { id = cuba_events.77 days = 1 }
		}
		hidden_effect = {
			country_event = { id = cuba_events.232 days = 800 }
		}
	}
}

country_event = { # Cabinet Decision for second election
	id = cuba_events.77
	title = cuba_events.77.t
	desc = cuba_events.77.d
	is_triggered_only = yes

	option = { # Unity Cabinet
		log = "[GetLogInfo]: event cuba_events.77 option cuba_events.77.a"
		name = cuba_events.77.a

		if = {
			limit = { has_government = social_democrat }
			add_political_power = -20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.05
			}
		}
		else_if = {
			limit = { has_government = social_liberal }
			add_political_power = -20
			add_popularity = {
				ideology = social_liberal
				popularity = 0.05
			}
		}
		else_if = {
			limit = { has_government = market_liberal }
			add_political_power = -20
			add_popularity = {
				ideology = market_liberal
				popularity = 0.05
			}
		}
		clr_country_flag = CUB_elec_post
	}

	option = { #Mixed Cabinet
		log = "[GetLogInfo]: event cuba_events.77 option cuba_events.77.b"
		name = cuba_events.77.b
		if = {
			limit = { has_government = social_democrat }
			add_political_power = 20
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		else_if = {
			limit = { has_government = social_liberal }
			add_political_power = 20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		else_if = {
			limit = { has_government = market_liberal }
			add_political_power = 20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
		}
	}

	option = { # Mixed Cabinet Forever
		log = "[GetLogInfo]: event cuba_events.77 option cuba_events.77.c"
		name = cuba_events.77.c

		if = {
			limit = { has_government = social_democrat }
			add_political_power = 40
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		else_if = {
			limit = { has_government = social_liberal }
			add_political_power = 40
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		else_if = {
			limit = { has_government = market_liberal }
			add_political_power = 40
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
		}
		clr_country_flag = CUB_elec_post
	}
}

### Junta Tree ###
country_event = {
	id = cuba_events.78
	title = cuba_events.78.t
	desc = {
		text = cuba_events.78.d_1
		trigger = {
			OR = {
				has_government = authoritarian_democrat
				has_government = social_liberal
			}
			NOT = { has_country_flag = CUB_USpuppet }
		}
	}
	desc = {
		text = cuba_events.78.d_2
		trigger = {
			has_government = authoritarian_democrat
			has_country_flag = CUB_USpuppet
			has_country_flag = CUB_brokefreefromUS
		}
	}
	desc = {
		text = cuba_events.78.d_3
		trigger = {
			has_government = authoritarian_democrat
			has_country_flag = CUB_USpuppet
			NOT = { has_country_flag = CUB_brokefreefromUS }
		}
	}
	desc = {
		text = cuba_events.78.d_4
		trigger = {
			has_government = paternal_autocrat
		}
	}
	is_triggered_only = yes

	option = { #appoint Diaz as HoS
		log = "[GetLogInfo]: event cuba_events.78 option cuba_events.78.a"
		name = cuba_events.78.a

		trigger = {
			OR = {
				has_government = authoritarian_democrat
				has_government = social_liberal
			}
			NOT = { has_country_flag = CUB_USpuppet }
		}

		set_party_name = {
			ideology = paternal_autocrat
			name = CUB_paternal_autocrat_party_diazgov
			long_name = CUB_paternal_autocrat_party_diazgov_long
		}
		if = {
			limit = {
				NOT = { has_government = authoritarian_democrat }
			}
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		set_temp_variable = { coalition_partner_var = token:paternal_autocrat }
		add_to_coalition = yes
		add_stability = 0.1
		add_country_leader_role = {
			character = CUB_martin_diaz_tamayo
			country_leader = {
				desc = CUB_martin_diaz_tamayo_leader_desc
				ideology = authoritarian_democrat_subtype
			}
			promote_leader = yes
		}
		CUB_martin_diaz_tamayo = { promote_to_field_marshal = yes }
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.78 option cuba_events.78.b"
		name = cuba_events.78.b

		trigger = {
			has_government = authoritarian_democrat
			has_country_flag = CUB_USpuppet
		}

		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		add_stability = 0.1
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.78 option cuba_events.78.c"
		name = cuba_events.78.c
		trigger = {
			has_government = paternal_autocrat
		}

		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.05
		}
		add_stability = 0.1
		set_party_name = {
			ideology = paternal_autocrat
			name = CUB_paternal_autocrat_party_diazgov
			long_name = CUB_paternal_autocrat_party_diazgov_long
		}
		set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
		add_to_coalition = yes
		CUB_martin_diaz_tamayo = { promote_to_field_marshal = yes }
	}

	after = {
		CUB_remove_herrera_as_general = yes
		if = {
			limit = { has_idea = CUB_strike_destroyed }
			remove_ideas = CUB_strike_destroyed
		}
		if = {
			limit = { has_idea = CUB_mixed_regime }
			remove_ideas = CUB_mixed_regime
		}
		if = {
			limit = { has_idea = CUB_emergency_powersidea }
			remove_ideas = CUB_emergency_powersidea
		}
	}
}

country_event = { # Deal with American organised crime
	id = cuba_events.79
	title = cuba_events.79.t
	desc = {
		text = cuba_events.79.d_1
		trigger = {
			NOT = {
				has_global_flag = USA_civil_war_begun_flag
				has_global_flag = USA_civil_war_over_flag
			}
		}
	}
	desc = {
		text = cuba_events.79.d_2
		trigger = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
		}
	}
	desc = {
		text = cuba_events.79.d_3
		trigger = {
			has_global_flag = USA_civil_war_over_flag
		}
	}
	is_triggered_only = yes
	picture = GFX_report_event_CUB_gambling

	option = {
		log = "[GetLogInfo]: event cuba_events.79 option cuba_events.79.a"
		name = cuba_events.79.a
		add_ideas = CUB_americancrime_idea
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_criminal_advisors_decision }
		}
		add_political_power = 50
	}
}

country_event = { #Appointing Diaz
	id = cuba_events.80
	title = cuba_events.80.t
	desc = cuba_events.80.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.80 option cuba_events.80.a"
		name = cuba_events.80.a

		hidden_effect = {
			country_event = { id = cuba_events.81 days = 20 }
		}
	}
}

country_event = { #Diaz Makes His Move
	id = cuba_events.81
	title = cuba_events.81.t
	desc = cuba_events.81.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.81 option cuba_events.81.a"
		name = cuba_events.81.a

		add_political_power = 30
		add_stability = 0.03
		set_country_flag = CUB_diazauthdem
	}
}

### New Cuba Event ###
country_event = {
	id = cuba_events.82
	title = cuba_events.82.t
	desc = cuba_events.82.d
	picture = GFX_report_event_CUB_flag
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.82 option cuba_events.82.a"
		name = cuba_events.82.a

		custom_effect_tooltip = CUB_decisiontooltip
		if = {
			limit = { has_elected_government = yes }
			load_focus_tree = CUB_democratic_focuses
			hidden_effect = {
				country_event = { id = cuba_events.200 days = 30 }
			}
		}
		else_if = {
			limit = {
				has_authdem_or_pataut_government = yes
				NOT = {
					has_country_flag = CUB_USpuppet
					has_country_leader = { character = CUB_ramon_grau_san_martin }
				}
			}
			load_focus_tree = CUB_authoritarian_focuses
			hidden_effect = {
				country_event = { id = cuba_events.204 days = 30 }
			}
		}
		else_if = {
			limit = { has_country_flag = CUB_USpuppet }
			load_focus_tree = CUB_uspuppet_focuses
			hidden_effect = {
				country_event = { id = cuba_events.205 days = 30 }
			}
		}
		else_if = {
			limit = {
				OR = {
					AND = {
						has_government = radical_socialist
						NOT = {
							has_country_flag = CUB_radsoccoup
							has_country_flag = mellaradsocdeal
						}
					}
					has_government = syndicalist
					AND = {
						has_government = totalist
						NOT = { can_be_country_leader = CUB_julio_mella_mcpartland }
					}
				}
			}
			load_focus_tree = CUB_leftist_focuses
			hidden_effect = {
				country_event = { id = cuba_events.211 days = 30 }
			}
		}
		else_if = {
			limit = {
				OR = {
					AND = {
						has_government = radical_socialist
						has_country_flag = mellaradsocdeal
					}
					AND = {
						has_government = totalist
						can_be_country_leader = CUB_julio_mella_mcpartland
					}
				}
			}
			load_focus_tree = CUB_mella_focuses
			hidden_effect = {
				country_event = { id = cuba_events.213 days = 30 }
			}
		}
		else_if = {
			limit = {
				has_government = radical_socialist
				has_country_flag = CUB_radsoccoup
			}
			load_focus_tree = CUB_revdem_focuses
			hidden_effect = {
				country_event = { id = cuba_events.217 days = 30 }
			}
		}
		else_if = {
			limit = {
				has_government = authoritarian_democrat
				has_country_leader = { character = CUB_ramon_grau_san_martin }
			}
			load_focus_tree = CUB_natpop_focuses
			hidden_effect = {
				country_event = { id = cuba_events.218 days = 30 }
			}
		}
		if = {
			limit = { has_socialist_government = yes }
			activate_targeted_decision = { target = THIS decision = CUB_socialist_flag_decision }
			activate_targeted_decision = { target = THIS decision = CUB_socialist_military_decision }
			activate_targeted_decision = { target = THIS decision = CUB_socialist_removedis }
			activate_targeted_decision = { target = GER decision = CUB_stoptrade_decision }
			activate_targeted_decision = { target = CAN decision = CUB_stoptrade_decision }
		}
	}
}

### Economic Tree ###
country_event = { # Oil
	id = cuba_events.83
	title = cuba_events.83.t
	desc = cuba_events.83.d
	picture = GFX_report_event_CUB_derrick
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.83 option cuba_events.83.a"
		name = cuba_events.83.a

		add_political_power = -25
		hidden_effect = {
			random_list = {
				50 = { # fail
					CUB = {
						country_event = { id = cuba_events.85 days = 10 }
					}
				}
				50 = { # success
					CUB = {
						country_event = { id = cuba_events.86 days = 10 }
					}
				}
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.83 option cuba_events.83.b"
		name = cuba_events.83.b
		ai_chance = { base = 0 }

		add_political_power = -10
	}
}

#cuba_events.84 removed

country_event = { # Oil exploration fails
	id = cuba_events.85
	title = cuba_events.85.t
	desc = cuba_events.85.d
	picture = GFX_report_event_CUB_derrick
	is_triggered_only = yes

	option = { #keep trying
		log = "[GetLogInfo]: event cuba_events.85 option cuba_events.85.a"
		name = cuba_events.85.a

		add_political_power = -40
		hidden_effect = {
			country_event = { id = cuba_events.86 days = 10 }
		}
	}

	option = { #give up
		log = "[GetLogInfo]: event cuba_events.85 option cuba_events.85.b"
		name = cuba_events.85.b
		ai_chance = { base = 0 }

		add_political_power = -10
	}
}

country_event = { # Oil exploration succeeds
	id = cuba_events.86
	title = cuba_events.86.t
	desc = cuba_events.86.d
	picture = GFX_report_event_CUB_derrick
	is_triggered_only = yes

	option = { #yay
		log = "[GetLogInfo]: event cuba_events.86 option cuba_events.86.a"
		name = cuba_events.86.a

		315 = {
			add_resource = {
				type = oil
				amount = 4
			}
		}
	}
}

country_event = { # Chromium
	id = cuba_events.87
	title = cuba_events.87.t
	desc = cuba_events.87.d
	picture = GFX_report_event_CUB_mine
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.87 option cuba_events.87.a"
		name = cuba_events.87.a

		add_political_power = -25
		820 = {
			add_resource = {
				type = chromium
				amount = 50
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.87 option cuba_events.87.b"
		name = cuba_events.87.b
		ai_chance = { base = 0 }
	}
}

country_event = { # Steel
	id = cuba_events.88
	title = cuba_events.88.t
	desc = cuba_events.88.d
	picture = GFX_report_event_generic_steelfactory
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.88 option cuba_events.88.a"
		name = cuba_events.88.a

		add_political_power = -25
		315 = {
			add_resource = {
				type = steel
				amount = 2
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.88 option cuba_events.88.b"
		name = cuba_events.88.b
		ai_chance = { base = 0 }
	}
}

country_event = { # Rubber
	id = cuba_events.89
	title = cuba_events.89.t
	desc = cuba_events.89.d
	picture = GFX_report_event_CUB_rubberplant
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.89 option cuba_events.89.a"
		name = cuba_events.89.a

		add_political_power = -50
		country_event = { id = cuba_events.90 days = 40 }
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.89 option cuba_events.89.b"
		name = cuba_events.89.b
		ai_chance = { base = 0 }

		add_political_power = 25
	}
}

country_event = { # Rubber #2
	id = cuba_events.90
	title = cuba_events.90.t
	desc = cuba_events.90.d
	picture = GFX_report_event_CUB_rubberplant
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.90 option cuba_events.90.a"
		name = cuba_events.90.a
		add_political_power = 25
		activate_targeted_decision = { target = THIS decision = CUB_rubber_importation_havana_decision }
	}
}

country_event = { # Rubber #3
	id = cuba_events.91
	title = cuba_events.91.t
	desc = cuba_events.91.d
	picture = GFX_report_event_CUB_rubberplant
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.91 option cuba_events.91.a"
		name = cuba_events.91.a
		activate_targeted_decision = { target = THIS decision = CUB_rubber_importation_exp_decision }
		add_political_power = 25
		315 = {
			add_resource = {
				type = rubber
				amount = 2
			}
		}
	}
}

country_event = { # Rubber #4
	id = cuba_events.92
	title = cuba_events.92.t
	desc = cuba_events.92.d
	picture = GFX_report_event_CUB_rubberplant
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.92 option cuba_events.92.a"
		name = cuba_events.92.a
		activate_targeted_decision = { target = THIS decision = CUB_rubber_importation_exp2_decision }
		315 = {
			add_resource = {
				type = rubber
				amount = 2
			}
		}
		820 = {
			add_resource = {
				type = rubber
				amount = 1
			}
		}
	}
}

country_event = { # Rubber #5
	id = cuba_events.93
	title = cuba_events.92.t
	desc = cuba_events.93.d
	picture = GFX_report_event_CUB_rubberplant
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.93 option cuba_events.92.a"
		name = cuba_events.92.a
		activate_targeted_decision = { target = THIS decision = CUB_rubber_importation_exp3_decision }
		315 = {
			add_resource = {
				type = rubber
				amount = 3
			}
		}
		820 = {
			add_resource = {
				type = rubber
				amount = 1
			}
		}
	}
}

country_event = { # Rubber #6
	id = cuba_events.94
	title = cuba_events.92.t
	desc = cuba_events.94.d
	picture = GFX_report_event_CUB_rubberplant
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.94 option cuba_events.94.a"
		name = cuba_events.94.a

		315 = {
			add_resource = {
				type = rubber
				amount = 3
			}
		}
		820 = {
			add_resource = {
				type = rubber
				amount = 2
			}
		}
	}
}

#cuba_events.95 removed

#cuba_events.96 Removed

### Military Chains ###
country_event = {
	id = cuba_events.97
	title = cuba_events.97.t
	desc = cuba_events.97.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.97 option cuba_events.97.a"
		name = cuba_events.97.a

		navy_experience = 50
		set_country_flag = CUB_chose_navy
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.97 option cuba_events.97.b"
		name = cuba_events.97.b

		air_experience = 50
		set_country_flag = CUB_chose_airforce
	}
}

country_event = {
	id = cuba_events.98
	title = cuba_events.98.t
	desc = {
		text = cuba_events.98.d_1
		trigger = {
			has_socialist_government = yes
		}
	}
	desc = {
		text = cuba_events.98.d_2
		trigger = {
			has_government = authoritarian_democrat
		}
	}
	desc = {
		text = cuba_events.98.d_3
		trigger = {
			has_elected_government = yes
		}
	}
	desc = {
		text = cuba_events.98.d_4
		trigger = {
			has_government = authoritarian_democrat
		}
	}
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.98 option cuba_events.98.a"
		name = cuba_events.98.a
		ai_chance = { base = 50 }

		set_country_flag = CUB_officersimprisoned
		add_stability = -0.02
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.98 option cuba_events.98.b"
		name = cuba_events.98.b
		ai_chance = { base = 40 }

		set_country_flag = CUB_officerskilled
		add_political_power = -20
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.98 option cuba_events.98.c"
		name = cuba_events.98.c
		ai_chance = { base = 10 }

		set_country_flag = CUB_officerspardon
		add_stability = -0.05
		add_political_power = -50
	}
}

country_event = {
	id = cuba_events.99
	title = cuba_events.99.t
	desc = {
		text = cuba_events.99.d_1
		trigger = {
			OR = {
				has_country_flag = CUB_officersimprisoned
				has_country_flag = CUB_officerskilled
			}
		}
	}
	desc = {
		text = cuba_events.99.d_2
		trigger = {
			has_country_flag = CUB_officerspardon
		}
	}
	desc = {
		text = cuba_events.99.d_3
		trigger = {
			NOT = {
				has_country_flag = CUB_officersimprisoned
				has_country_flag = CUB_officerskilled
				has_country_flag = CUB_officerspardon
			}
		}
	}
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.99 option cuba_events.99.a"
		name = cuba_events.99.a

		add_stability = 0.05
		army_experience = 100
		add_political_power = 10
		if = {
			limit = { has_country_flag = CUB_officerspardon }
			add_political_power = 25
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
					has_country_flag = CUB_officerspardon
				}
			}
			army_experience = 25
		}
	}
}

country_event = {
	id = cuba_events.100
	title = cuba_events.100.t
	desc = cuba_events.100.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.100 option cuba_events.100.a"
		name = cuba_events.100.a

		add_ideas = CUB_offensivearmy
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.100 option cuba_events.100.b"
		name = cuba_events.100.b

		add_ideas = CUB_defensivearmy
	}
}

country_event = {
	id = cuba_events.101
	title = cuba_events.101.t
	desc = cuba_events.101.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.101 option cuba_events.101.a"
		name = cuba_events.101.a

		add_ideas = CUB_artilleryproduction
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.101 option cuba_events.101.b"
		name = cuba_events.101.b

		add_ideas = CUB_accurateguns
	}
}

country_event = { #Airforce expansion
	id = cuba_events.102
	title = cuba_events.102.t
	desc = cuba_events.102.d
	picture = GFX_report_event_CUB_airforce
	is_triggered_only = yes

	option = { # small
		log = "[GetLogInfo]: event cuba_events.102 option cuba_events.102.a"
		name = cuba_events.102.a

		air_experience = 25
		if = {
			limit = {
				315 = {
					NOT = {
						free_building_slots = { building = air_base size > 1 }
					}
				}
				820 = {
					free_building_slots = { building = air_base size > 1 }
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		else_if = {
			limit = {
				315 = {
					free_building_slots = { building = air_base size > 1 }
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		else_if = {
			limit = {
				315 = {
					free_building_slots = { building = air_base size > 0 }
				}
				315 = {
					free_building_slots = { building = air_base size < 2 }
				}
				820 = {
					free_building_slots = { building = air_base size > 0 }
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}
		else = {
			air_experience = 30
		}
	}

	option = { # medium
		log = "[GetLogInfo]: event cuba_events.102 option cuba_events.102.b"
		name = cuba_events.102.b

		air_experience = 40
		add_political_power = -25
		add_timed_idea = {
			idea = CUB_airinvest1
			days = 200
		}
		if = {
			limit = {
				315 = {
					NOT = {
						free_building_slots = { building = air_base size > 1 }
					}
				}
				820 = {
					free_building_slots = { building = air_base size > 1 }
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		else_if = {
			limit = {
				315 = {
					free_building_slots = { building = air_base size > 1 }
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		else_if = {
			limit = {
				315 = {
					free_building_slots = { building = air_base size > 0 }
				}
				315 = {
					free_building_slots = { building = air_base size < 2 }
				}
				820 = {
					free_building_slots = { building = air_base size > 0 }
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}
		else = {
			air_experience = 30
		}
	}

	option = { # large
		log = "[GetLogInfo]: event cuba_events.102 option cuba_events.102.c"
		name = cuba_events.102.c

		air_experience = 60
		add_political_power = -50
		add_timed_idea = {
			idea = CUB_airinvest2
			days = 400
		}
		if = {
			limit = {
				315 = {
					NOT = {
						free_building_slots = { building = air_base size > 1 }
					}
				}
				820 = {
					free_building_slots = { building = air_base size > 1 }
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = { building = air_base size > 1 }
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = { building = air_base size > 0 }
				}
				315 = {
					free_building_slots = { building = air_base size < 2 }
				}
				820 = {
					free_building_slots = { building = air_base size > 0 }
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = { building = air_base size < 1 }
				}
				820 = {
					free_building_slots = { building = air_base size < 1 }
				}
			}
			air_experience = 30
		}
	}
	after = {
		country_event = cuba_events.103
	}
}

country_event = { # acquiring planes
	id = cuba_events.103
	title = cuba_events.103.t
	desc = cuba_events.103.d
	picture = GFX_report_event_CUB_airforce2
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.103 option cuba_events.103.a"
		name = cuba_events.103.a

		trigger = {
			OR = {
				CUB = {
					any_allied_country = {
						is_faction_leader = yes
						NOT = {
							tag = USA
							tag = APG
							tag = WCA
						}
					}
				}
				is_in_faction_with = USA
				is_in_faction_with = WCA
				is_in_faction_with = APG
				AND = {
					country_exists = USA
					CUB = {
						has_socialist_government = no
					}
				}
				AND = {
					country_exists = WCA
					CUB = {
						has_socialist_government = yes
					}
				}
				AND = {
					NOT = {
						AND = {
							country_exists = WCA
							CUB = {
								has_socialist_government = yes
							}
						}
						AND = {
							country_exists = USA
							CUB = {
								has_socialist_government = no
							}
						}
					}
					country_exists = APG
				}
			}
		}

		country_event = cuba_events.117
	}

	option = { #invest in domestic air industry
		log = "[GetLogInfo]: event cuba_events.103 option cuba_events.103.b"
		name = cuba_events.103.b

		add_political_power = -20
		add_tech_bonus = {
			name = cuba_events.103.t
			bonus = 1
			uses = 2
			category = light_fighter
			category = cas_bomber
		}
	}
}

country_event = { #purchasing other nation's
	id = cuba_events.117
	title = cuba_events.117.t
	desc = cuba_events.117.d
	picture = GFX_report_event_CUB_airforce2
	is_triggered_only = yes

	option = { #Fighters and CAS others
		log = "[GetLogInfo]: event cuba_events.117 option cuba_events.117.a"
		name = cuba_events.117.a

		trigger = {
			CUB = {
				any_allied_country = {
					is_faction_leader = yes
					NOT = {
						tag = USA
						tag = APG
						tag = WCA
					}
				}
			}
		}

		add_political_power = -20
		every_country = {
			limit = {
				is_faction_leader = yes
				is_in_faction_with = CUB
				NOT = {
					tag = USA
					tag = APG
					tag = WCA
				}
			}
			country_event = { id = cuba_events.118 days = 4 }
		}
	}

	option = { #Fighters and CAS usa/WCA/APG
		log = "[GetLogInfo]: event cuba_events.117 option cuba_events.117.b"
		name = cuba_events.117.b
		trigger = {
			OR = {
				is_in_faction_with = USA
				is_in_faction_with = WCA
				is_in_faction_with = APG
				AND = {
					country_exists = USA
					CUB = {
						has_socialist_government = no
					}
				}
				AND = {
					country_exists = WCA
					CUB = {
						has_socialist_government = yes
					}
				}
				AND = {
					NOT = {
						AND = {
							country_exists = WCA
							CUB = {
								has_socialist_government = yes
							}
						}
						AND = {
							country_exists = USA
							CUB = {
								has_socialist_government = no
							}
						}
					}
					country_exists = APG
				}
			}
		}

		add_political_power = -20
		if = {
			limit = {
				OR = {
					is_in_faction_with = USA
					AND = {
						country_exists = USA
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
			USA = {
				country_event = { id = cuba_events.118 days = 4 }
			}
		}
		else_if = {
			limit = {
				OR = {
					is_in_faction_with = WCA
					AND = {
						country_exists = WCA
						CUB = {
							has_socialist_government = yes
						}
					}
				}
			}
			WCA = {
				country_event = { id = cuba_events.118 days = 4 }
			}
		}
		else_if = {
			limit = {
				OR = {
					is_in_faction_with = APG
					AND = {
						NOT = {
							AND = {
								country_exists = WCA
								CUB = {
									has_socialist_government = yes
								}
							}
							AND = {
								country_exists = USA
								CUB = {
									has_socialist_government = no
								}
							}
						}
						country_exists = APG
					}
				}
			}
			APG = {
				country_event = { id = cuba_events.118 days = 4 }
			}
		}
	}
}

country_event = { #purchasing other Aircraft - response
	id = cuba_events.118
	title = cuba_events.118.t
	desc = cuba_events.118.d
	picture = GFX_report_event_CUB_airforce2
	is_triggered_only = yes

	option = { #yes
		log = "[GetLogInfo]: event cuba_events.118 option cuba_events.118.a"
		name = cuba_events.118.a
		ai_chance = { base = 75 }

		add_political_power = 20
		CUB = {
			country_event = cuba_events.119
		}
		add_timed_idea = {
			idea = CUB_americanaircraftneg
			days = 30
		}
	}

	option = { #no
		log = "[GetLogInfo]: event cuba_events.118 option cuba_events.118.b"
		name = cuba_events.118.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				CUB = {
					is_ai = no
				}
			}
		}

		CUB = {
			country_event = cuba_events.120
		}
	}
}

country_event = { #purchasing other Aircraft - other accepts
	id = cuba_events.119
	title = cuba_events.119.t
	desc = cuba_events.119.d
	picture = GFX_report_event_CUB_airforce2
	is_triggered_only = yes

	option = { #yay!
		log = "[GetLogInfo]: event cuba_events.119 option cuba_events.119.a"
		name = cuba_events.119.a

		add_equipment_to_stockpile = {
			type = small_plane_airframe
			amount = 50
			producer = FROM
		}
		add_tech_bonus = {
			name = cuba_events.119.t
			bonus = 1
			uses = 1
			category = light_fighter
			category = cas_bomber
		}
	}
}

country_event = { #purchasing other Aircraft - other says no
	id = cuba_events.120
	title = cuba_events.120.t
	desc = cuba_events.120.d
	picture = GFX_report_event_CUB_airforce2
	is_triggered_only = yes

	option = { #damn!
		log = "[GetLogInfo]: event cuba_events.120 option cuba_events.120.a"
		name = cuba_events.120.a

		add_political_power = -20
		add_tech_bonus = {
			name = cuba_events.120.t
			bonus = 1
			uses = 2
			category = light_fighter
			category = cas_bomber
		}
	}
}

### Diplomatic
country_event = { #WIF politics influenced
	id = cuba_events.121
	title = cuba_events.121.t
	desc = cuba_events.121.d
	picture = GFX_report_event_WIF_Flag
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.121 option cuba_events.121.a"
		name = cuba_events.121.a

		add_political_power = -10
		add_stability = -0.01
		add_opinion_modifier = {
			target = CUB
			modifier = CUB_influence_neg
		}
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
	}
}

country_event = { #Federation Relations
	id = cuba_events.122
	title = cuba_events.122.t
	desc = {
		text = cuba_events.122.d_1
		trigger = {
			OR = {
				AND = {
					WIF = {
						has_socialist_government = yes
					}
					has_socialist_government = no
				}
				AND = {
					has_socialist_government = yes
					WIF = {
						has_socialist_government = no
					}
				}
			}
		}
	}
	desc = {
		text = cuba_events.122.d_2
		trigger = {
			OR = {
				AND = {
					WIF = {
						has_socialist_government = yes
					}
					has_socialist_government = yes
				}
				AND = {
					has_socialist_government = no
					WIF = {
						has_socialist_government = no
					}
				}
			}
		}
	}
	picture = GFX_report_event_WIF_Flag
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.122 option cuba_events.122.a"
		trigger = {
			OR = {
				AND = {
					WIF = {
						has_socialist_government = yes
					}
					has_socialist_government = no
				}
				AND = {
					has_socialist_government = yes
					WIF = {
						has_socialist_government = no
					}
				}
			}
		}
		name = cuba_events.122.a

		WIF = {
			country_event = { id = cuba_events.121 days = 1 }
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.122 option cuba_events.122.b"
		trigger = {
			OR = {
				AND = {
					WIF = {
						has_socialist_government = yes
					}
					has_socialist_government = yes
				}
				AND = {
					has_socialist_government = no
					WIF = {
						has_socialist_government = no
					}
				}
			}
		}
		name = cuba_events.122.b

		WIF = {
			country_event = { id = cuba_events.131 days = 1 }
		}
	}
}

country_event = { #Local Relations
	id = cuba_events.123
	title = cuba_events.123.t
	desc = {
		text = cuba_events.123.d_1
		trigger = {
			any_other_country = {
				exists = yes
				has_war = no
				OR = {
					tag = DOM
					tag = HAI
					tag = YUC
					tag = MEX
					tag = GUA
					tag = ELS
					tag = COL
					tag = PUE
					tag = HON
					tag = NIC
					tag = COS
					tag = PAN
					tag = VEN
					tag = CEN
				}
				OR = {
					AND = {
						CUB = {
							has_socialist_government = yes
						}
						has_socialist_government = yes
					}
					AND = {
						has_socialist_government = no
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}
	}
	desc = {
		text = cuba_events.123.d_2
		trigger = {
			NOT = {
				any_other_country = {
					exists = yes
					has_war = no
					OR = {
						tag = DOM
						tag = HAI
						tag = YUC
						tag = MEX
						tag = GUA
						tag = ELS
						tag = COL
						tag = PUE
						tag = HON
						tag = NIC
						tag = COS
						tag = PAN
						tag = VEN
						tag = CEN
					}
					OR = {
						AND = {
							CUB = {
								has_socialist_government = yes
							}
							has_socialist_government = yes
						}
						AND = {
							has_socialist_government = no
							CUB = {
								has_socialist_government = no
							}
						}
					}
				}
			}
		}
	}
	picture = GFX_report_event_CUB_caribmap
	is_triggered_only = yes

	option = {# Only Both nonsocialist or both socialist Ideology
		log = "[GetLogInfo]: event cuba_events.123 option cuba_events.123.a"
		name = cuba_events.123.a
		trigger = {
			any_other_country = {
				exists = yes
				has_war = no
				OR = {
					tag = DOM
					tag = HAI
					tag = YUC
					tag = MEX
					tag = GUA
					tag = ELS
					tag = COL
					tag = PUE
					tag = HON
					tag = NIC
					tag = COS
					tag = PAN
					tag = VEN
					tag = CEN
				}
				OR = {
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = yes
						}
					}
					AND = {
						has_socialist_government = no
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}
		hidden_effect = {
			country_event = { id = cuba_events.1340 days = 14 }
		}
		every_other_country = {
			limit = {
				exists = yes
				has_war = no
				OR = {
					tag = DOM
					tag = HAI
					tag = YUC
					tag = MEX
					tag = GUA
					tag = ELS
					tag = COL
					tag = PUE
					tag = HON
					tag = NIC
					tag = COS
					tag = PAN
					tag = VEN
					tag = CEN
				}
				OR = {
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = yes
						}
					}
					AND = {
						has_socialist_government = no
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
			country_event = { id = cuba_events.134 days = 1 }
		}
	}

	option = { #All Ideologies
		log = "[GetLogInfo]: event cuba_events.123 option cuba_events.123.b"
		name = cuba_events.123.b

		hidden_effect = {
			country_event = { id = cuba_events.1340 days = 14 }
		}
		every_other_country = {
			limit = {
				exists = yes
				has_war = no
				OR = {
					tag = DOM
					tag = HAI
					tag = YUC
					tag = MEX
					tag = GUA
					tag = ELS
					tag = COL
					tag = PUE
					tag = HON
					tag = NIC
					tag = COS
					tag = PAN
					tag = VEN
					tag = CEN
				}
			}
			country_event = { id = cuba_events.134 days = 1 }
		}
	}

	option = { #Denounce
		log = "[GetLogInfo]: event cuba_events.123 option cuba_events.123.c"
		name = cuba_events.123.c
		trigger = {
			any_other_country = {
				exists = yes
				OR = {
					tag = DOM
					tag = HAI
					tag = YUC
					tag = MEX
					tag = GUA
					tag = ELS
					tag = COL
					tag = PUE
					tag = HON
					tag = NIC
					tag = COS
					tag = PAN
					tag = VEN
					tag = CEN
				}
				OR = {
					AND = {
						has_socialist_government = no
						CUB = {
							has_socialist_government = yes
						}
					}
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}

		add_stability = 0.03
		add_war_support = 0.03
		add_political_power = 30
		every_other_country = {
			limit = {
				exists = yes
				has_war = no
				OR = {
					tag = DOM
					tag = HAI
					tag = YUC
					tag = MEX
					tag = GUA
					tag = ELS
					tag = COL
					tag = PUE
					tag = HON
					tag = NIC
					tag = COS
					tag = PAN
					tag = VEN
					tag = CEN
				}
				OR = {
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = yes
						}
					}
					AND = {
						has_socialist_government = no
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
			country_event = { id = cuba_events.137 days = 1 }
			add_opinion_modifier = {
				target = CUB
				modifier = CUB_summitdenounce
			}
		}
	}
}

country_event = { #American Relations
	id = cuba_events.124
	title = cuba_events.124.t
	desc = {
		text = cuba_events.124.d_1
		trigger = {
			OR = {
				is_in_faction_with = USA
				is_in_faction_with = WCA
				is_in_faction_with = APG
				is_in_faction_with = ACC
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba_events.124.d_2
		trigger = {
			has_socialist_government = yes
			country_exists = WCA
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = WCA
				is_in_faction_with = APG
				is_in_faction_with = ACC
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba_events.124.d_3
		trigger = {
			has_socialist_government = no
			country_exists = USA
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = WCA
				is_in_faction_with = APG
				is_in_faction_with = ACC
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba_events.124.d_4
		trigger = {
			has_socialist_government = yes
			USA = {
				exists = yes
				has_government = social_democrat
			}
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = WCA
				is_in_faction_with = APG
				is_in_faction_with = ACC
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba_events.124.d_5
		trigger = {
			has_socialist_government = no
			country_exists = ACC
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = WCA
				is_in_faction_with = APG
				is_in_faction_with = ACC
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba_events.124.d_6
		trigger = {
			has_socialist_government = yes
			ACC = {
				exists = yes
				has_government = social_democrat
			}
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = WCA
				is_in_faction_with = APG
				is_in_faction_with = ACC
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba_events.124.d_7
		trigger = {
			has_socialist_government = no
			country_exists = APG
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = WCA
				is_in_faction_with = APG
				is_in_faction_with = ACC
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba_events.124.d_8
		trigger = {
			has_socialist_government = no
			country_exists = NEE
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = WCA
				is_in_faction_with = APG
				is_in_faction_with = ACC
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba_events.124.d_9
		trigger = {
			has_socialist_government = yes
			NEE = {
				exists = yes
				has_government = social_democrat
			}
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = WCA
				is_in_faction_with = APG
				is_in_faction_with = ACC
				is_in_faction_with = NEE
			}
		}
	}

	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.124 option cuba_events.124.a"
		name = cuba_events.124.a
		trigger = {
			country_exists = WCA
			OR = {
				has_socialist_government = yes
				is_in_faction_with = WCA
			}
		}

		WCA = {
			country_event = { id = cuba_events.1240 days = 1 }
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.124 option cuba_events.124.b"
		name = cuba_events.124.b
		trigger = {
			country_exists = USA
			OR = {
				has_socialist_government = no
				USA = {
					has_government = social_democrat
				}
				is_in_faction_with = USA
			}
		}

		USA = {
			country_event = { id = cuba_events.1240 days = 1 }
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.124 option cuba_events.124.c"
		name = cuba_events.124.c
		trigger = {
			country_exists = APG
			has_socialist_government = no
			is_in_faction_with = APG
		}

		APG = {
			country_event = { id = cuba_events.1240 days = 1 }
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.124 option cuba_events.124.d"
		name = cuba_events.124.d
		trigger = {
			country_exists = ACC
			OR = {
				has_socialist_government = no
				ACC = {
					has_government = social_democrat
				}
				is_in_faction_with = ACC
			}
		}

		ACC = {
			country_event = { id = cuba_events.1240 days = 1 }
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.124 option cuba_events.124.e"
		name = cuba_events.124.e
		trigger = {
			country_exists = NEE
			OR = {
				has_socialist_government = no
				is_in_faction_with = NEE
			}
		}

		NEE = {
			country_event = { id = cuba_events.1240 days = 1 }
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.124 option cuba_events.124.f"
		name = cuba_events.124.f
		ai_chance = { base = 0 }

		add_political_power = 30
	}
}

country_event = { #Cuba extends a hand
	id = cuba_events.1240
	title = cuba_events.1240.t
	desc = {
		text = cuba_events.1240.d_1
		trigger = {
			OR = {
				AND = {
					has_socialist_government = yes
					CUB = {
						has_socialist_government = yes
					}
				}
				AND = {
					has_socialist_government = no
					CUB = {
						has_socialist_government = no
					}
				}
			}
		}
	}
	desc = {
		text = cuba_events.1240.d_2
		trigger = {
			OR = {
				AND = {
					has_socialist_government = no
					CUB = {
						has_socialist_government = no
					}
				}
				AND = {
					has_socialist_government = yes
					CUB = {
						has_socialist_government = yes
					}
				}
			}
		}
	}
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {	#Accept
		log = "[GetLogInfo]: event cuba_events.1240 option cuba_events.1240.a"
		name = cuba_events.1240.a
		ai_chance = {
			base = 50
			modifier = {
				add = 50
				OR = {
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = yes
						}
					}
					AND = {
						has_socialist_government = no
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}
		add_political_power = 20
		set_country_flag = CUB_Alliance_Option
		CUB = {
			country_event = { id = cuba_events.1241 days = 1 }
		}
	}

	option = {	#Refuse
		log = "[GetLogInfo]: event cuba_events.1240 option cuba_events.1240.b"
		name = cuba_events.1240.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				OR = {
					AND = {
						CUB = {
							has_socialist_government = yes
						}
						has_socialist_government = no
					}
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}
		CUB = {
			country_event = { id = cuba_events.1242 days = 1 }
		}
	}

	option = {	#Refuse hard
		log = "[GetLogInfo]: event cuba_events.1240 option cuba_events.1240.c"
		name = cuba_events.1240.c
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				OR = {
					AND = {
						CUB = {
							has_socialist_government = yes
						}
						has_socialist_government = no
					}
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}
		CUB = {
			country_event = { id = cuba_events.1243 days = 1 }
		}
	}
}

country_event = { #America accepts our hand
	id = cuba_events.1241
	title = cuba_events.1241.t
	desc = cuba_events.1241.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {	#Accept
		log = "[GetLogInfo]: event cuba_events.1241 option cuba_events.1241.a"
		name = cuba_events.1241.a

		add_political_power = 30
	}
}

country_event = { #America rejects
	id = cuba_events.1242
	title = cuba_events.1242.t
	desc = cuba_events.1242.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1242 option cuba_events.1242.a"
		name = cuba_events.1242.a

		add_political_power = -30
	}
}

country_event = { #America refuses our hand
	id = cuba_events.1243
	title = cuba_events.1243.t
	desc = cuba_events.1243.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {	#Emergency Mobilisation
		log = "[GetLogInfo]: event cuba_events.1243 option cuba_events.1243.a"
		name = cuba_events.1243.a
		increase_conscription = yes
		add_timed_idea = {
			idea = CUB_Emergency_Mobilisation
			days = 100
		}
		add_stability = -0.15
	}

	option = {	#Let's not make a rash decision
		log = "[GetLogInfo]: event cuba_events.1243 option cuba_events.1243.b"
		name = cuba_events.1243.b

		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
	}
}

country_event = { #European Relations
	id = cuba_events.125
	title = cuba_events.125.t
	desc = cuba_events.125.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {	#Germany
		log = "[GetLogInfo]: event cuba_events.125 option cuba_events.125.a"
		name = cuba_events.125.a
		trigger = {
			country_exists = GER
			NOT = { has_war_with = GER }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_AUS }
			}
		}
		add_opinion_modifier = {
			target = GER
			modifier = CUB_diplomatic_ties
		}
		GER = {
			add_opinion_modifier = {
				target = CUB
				modifier = CUB_diplomatic_ties
			}
		}
		add_timed_idea = {
			idea = CUB_euro_trade
			days = 100
		}
		set_country_flag = CUB_GER
	}

	option = {	#Austria
		log = "[GetLogInfo]: event cuba_events.125 option cuba_events.125.b"
		name = cuba_events.125.b
		trigger = {
			country_exists = AUS
			NOT = { has_war_with = AUS }
			OR = {
				has_war_with = GER
				NOT = { country_exists = GER }
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_GER }
			}
		}
		add_opinion_modifier = {
			target = AUS
			modifier = CUB_diplomatic_ties
		}
		AUS = {
			add_opinion_modifier = {
				target = CUB
				modifier = CUB_diplomatic_ties
			}
		}
		add_timed_idea = {
			idea = CUB_euro_trade
			days = 100
		}
		set_country_flag = CUB_AUS
	}
}

country_event = { #European Relations - Socialist
	id = cuba_events.1250
	title = cuba_events.125.t
	desc = cuba_events.1250.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {	#France
		log = "[GetLogInfo]: event cuba_events.1250 option cuba_events.1250.a"
		name = cuba_events.1250.a
		add_opinion_modifier = {
			target = FRA
			modifier = CUB_diplomatic_ties
		}
		FRA = {
			add_opinion_modifier = {
				target = CUB
				modifier = CUB_diplomatic_ties
			}
		}
		add_timed_idea = {
			idea = CUB_euro_trade
			days = 100
		}
		set_country_flag = CUB_FRA
	}
}

country_event = { #European Relations - None Available
	id = cuba_events.1251
	title = cuba_events.125.t
	desc = cuba_events.1251.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {	#Smoll Boys
		log = "[GetLogInfo]: event cuba_events.1251 option cuba_events.1251.a"
		name = cuba_events.1251.a

		add_timed_idea = {
			idea = CUB_euro_trade
			days = 100
		}
	}
}

country_event = { #New Markets
	id = cuba_events.126
	title = cuba_events.126.t
	desc = cuba_events.126.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.126 option cuba_events.126.a"
		name = cuba_events.126.a

		#Set Variable
		set_temp_variable = { cub_new_market_temp = 0 }

		#Check who could possibly be an export partner
		if = {
			limit = {
				MEX = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 5 }
		}
		if = {
			limit = {
				GUA = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 2 }
		}
		if = {
			limit = {
				ELS = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				HON = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				NIC = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				YUC = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				NIC = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				COS = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				PAN = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				COL = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 4 }
		}
		if = {
			limit = {
				ECU = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 2 }
		}
		if = {
			limit = {
				PRU = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 3 }
		}
		if = {
			limit = {
				CHL = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 3 }
		}
		if = {
			limit = {
				BRA = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 5 }
		}
		if = {
			limit = {
				ARG = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 5 }
		}
		if = {
			limit = {
				FOP = {
					same_government_type_as_ROOT = yes
					owns_state = 278
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 5 }
		}
		if = {
			limit = {
				FOP = {
					same_government_type_as_ROOT = yes
					NOT = { owns_state = 278 }
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				URG = {
					same_government_type_as_ROOT = yes
					NOT = { has_war_with = CUB }
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 2 }
		}

		#Check which idea to add
		if = {
			limit = {
				check_variable = { cub_new_market_temp > 5 }
				check_variable = { cub_new_market_temp < 13 }
			}
			add_ideas = CUB_new_market_1
		}
		else_if = {
			limit = {
				check_variable = { cub_new_market_temp > 12 }
				check_variable = { cub_new_market_temp < 20 }
			}
			add_ideas = CUB_new_market_2
		}
		else_if = {
			limit = {
				check_variable = { cub_new_market_temp > 19 }
				check_variable = { cub_new_market_temp < 25 }
			}
			add_ideas = CUB_new_market_3
		}
		else_if = {
			limit = { check_variable = { cub_new_market_temp > 24 } }
			add_ideas = CUB_new_market_4
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.126 option cuba_events.126.b"
		name = cuba_events.126.b
		ai_chance = { base = 0 }
		add_political_power = 30
	}
}

country_event = { #Alliance with the USA/WCA/AUS
	id = cuba_events.127
	title = cuba_events.127.t
	desc = cuba_events.127.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.127 option cuba_events.127.a"
		name = cuba_events.127.a
		trigger = {
			APG = {
				has_country_flag = CUB_Alliance_Option
			}
		}

		if = {
			limit = {
				APG = {
					is_faction_leader = yes
				}
			}
			APG = {
				country_event = cuba_events.1283
			}
		}
		else_if = {
			limit = {
				APG = {
					is_in_faction = yes
					is_faction_leader = no
				}
			}
			APG = {
				country_event = cuba_events.1284
			}
		}
		else_if = {
			limit = {
				APG = {
					is_in_faction = no
				}
			}
			APG = {
				country_event = cuba_events.1287
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.127 option cuba_events.127.b"
		name = cuba_events.127.b
		trigger = {
			WCA = {
				has_country_flag = CUB_Alliance_Option
			}
		}

		if = {
			limit = {
				WCA = {
					is_in_faction = yes
					is_faction_leader = no
				}
			}
			WCA = {
				country_event = cuba_events.1284
			}
		}
		else_if = {
			limit = {
				WCA = {
					is_in_faction = no
				}
			}
			WCA = {
				country_event = cuba_events.1287
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.127 option cuba_events.127.c"
		name = cuba_events.127.c
		trigger = {
			USA = {
				has_country_flag = CUB_Alliance_Option
			}
		}

		if = {
			limit = {
				USA = {
					is_in_faction = yes
					is_faction_leader = no
				}
			}
			USA = {
				country_event = cuba_events.1284
			}
		}
		else_if = {
			limit = {
				USA = {
					is_in_faction = no
				}
			}
			USA = {
				country_event = cuba_events.1287
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.127 option cuba_events.127.e"
		name = cuba_events.127.e
		trigger = {
			ACC = {
				has_country_flag = CUB_Alliance_Option
			}
		}

		if = {
			limit = {
				ACC = {
					is_in_faction = yes
					is_faction_leader = no
				}
			}
			ACC = {
				country_event = cuba_events.1284
			}
		}
		else_if = {
			limit = {
				ACC = {
					is_in_faction = no
				}
			}
			ACC = {
				country_event = cuba_events.1287
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.127 option cuba_events.127.f"
		name = cuba_events.127.f
		trigger = {
			NEE = {
				has_country_flag = CUB_Alliance_Option
			}
		}

		if = {
			limit = {
				NEE = {
					is_in_faction = yes
					is_faction_leader = no
				}
			}
			NEE = {
				country_event = cuba_events.1284
			}
		}
		else_if = {
			limit = {
				NEE = {
					is_in_faction = no
				}
			}
			NEE = {
				country_event = cuba_events.1287
			}
		}
	}
}

country_event = { #Alliance with others
	id = cuba_events.128
	title = cuba_events.128.t
	desc = cuba_events.128.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.128 option cuba_events.128.a"
		name = cuba_events.128.a
		trigger = {
			has_country_flag = CUB_GER
			GER = {
				is_faction_leader = yes
				NOT = { has_war_with = CUB }
			}
			OR = {
				is_ai = no
				NOT = {
					AND = {
						has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_ENT }
						OR = {
							AND = {
								has_country_flag = CUB_canada_ally
								CAN = {
									is_faction_leader = yes
									NOT = { has_war_with = CUB }
								}
								NOT = {
									AND = {
										has_democratic_government = yes
										has_global_flag = USA_civil_war_over_flag
										country_exists = WCA
									}
								}
							}
							AND = {
								has_democratic_government = yes
								has_global_flag = USA_civil_war_over_flag
								WCA = {
									exists = yes
								}
								CAN = {
									is_faction_leader = yes
									NOT = { has_war_with = CUB }
								}
							}
						}
					}
					AND = {
						has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_AUS }
						has_country_flag = CUB_AUS
						AUS = {
							is_faction_leader = yes
							NOT = { has_war_with = CUB }
						}
					}
					AND = {
						has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_CEN }
						has_elected_government = yes
						COS = {
							has_government = social_democrat
							is_faction_leader = yes
							NOT = { has_war_with = CUB }
						}
					}
				}
			}
		}

		GER = {
			country_event = cuba_events.1280
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.128 option cuba_events.128.b"
		name = cuba_events.128.b
		trigger = {
			has_country_flag = CUB_FRA
			INT = {
				is_faction_leader = yes
				NOT = { has_war_with = CUB }
			}
		}

		INT = {
			country_event = cuba_events.1280
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.128 option cuba_events.128.c"
		name = cuba_events.128.c
		trigger = {
			has_country_flag = CUB_canada_ally
			CAN = {
				is_faction_leader = yes
				NOT = { has_war_with = CUB }
			}
			NOT = {
				AND = {
					has_democratic_government = yes
					has_global_flag = USA_civil_war_over_flag
					country_exists = WCA
				}
			}
			OR = {
				is_ai = no
				NOT = {
					OR = {
						AND = {
							has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_GER }
							has_country_flag = CUB_GER
							GER = {
								is_faction_leader = yes
								NOT = { has_war_with = CUB }
							}
						}
						AND = {
							has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_AUS }
							has_country_flag = CUB_AUS
							AUS = {
								is_faction_leader = yes
								NOT = { has_war_with = CUB }
							}
						}
						AND = {
							has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_CEN }
							has_elected_government = yes
							COS = {
								has_government = social_democrat
								is_faction_leader = yes
								NOT = { has_war_with = CUB }
							}
						}
					}
				}
			}
		}

		CAN = {
			country_event = cuba_events.1280
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.128 option cuba_events.128.e"
		name = cuba_events.128.e
		trigger = {
			has_elected_government = yes
			COS = {
				has_government = social_democrat
				is_faction_leader = yes
				NOT = { has_war_with = CUB }
			}
			OR = {
				is_ai = no
				NOT = {
					OR = {
						AND = {
							has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_GER }
							has_country_flag = CUB_GER
							GER = {
								is_faction_leader = yes
								NOT = { has_war_with = CUB }
							}
						}
						AND = {
							has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_ENT }
							OR = {
								AND = {
									has_country_flag = CUB_canada_ally
									CAN = {
										is_faction_leader = yes
										NOT = { has_war_with = CUB }
									}
									NOT = {
										AND = {
											has_democratic_government = yes
											has_global_flag = USA_civil_war_over_flag
											country_exists = WCA
										}
									}
								}
								AND = {
									has_democratic_government = yes
									has_global_flag = USA_civil_war_over_flag
									WCA = {
										exists = yes
									}
									CAN = {
										is_faction_leader = yes
										NOT = { has_war_with = CUB }
									}
								}
							}
						}
						AND = {
							has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_AUS }
							has_country_flag = CUB_AUS
							AUS = {
								is_faction_leader = yes
								NOT = { has_war_with = CUB }
							}
						}
					}
				}
			}
		}

		COS = {
			country_event = cuba_events.1280
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.128 option cuba_events.128.f"
		name = cuba_events.128.f
		trigger = {
			has_country_flag = CUB_AUS
			AUS = {
				OR = {
					is_faction_leader = yes
					has_country_flag = AUS_intervened_in_weltkrieg
				}
				NOT = { has_war_with = CUB }
			}
		}

		AUS = {
			country_event = cuba_events.1280
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.128 option cuba_events.128.g"
		name = cuba_events.128.g
		trigger = {
			has_democratic_government = yes
			has_global_flag = USA_civil_war_over_flag
			WCA = {
				exists = yes
			}
			CAN = {
				is_faction_leader = yes
				NOT = { has_war_with = CUB }
			}
			OR = {
				is_ai = no
				NOT = {
					OR = {
						AND = {
							has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_GER }
							has_country_flag = CUB_GER
							GER = {
								is_faction_leader = yes
								NOT = { has_war_with = CUB }
							}
						}
						AND = {
							has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_AUS }
							has_country_flag = CUB_AUS
							AUS = {
								is_faction_leader = yes
								NOT = { has_war_with = CUB }
							}
						}
						AND = {
							has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_CEN }
							has_elected_government = yes
							COS = {
								has_government = social_democrat
								is_faction_leader = yes
								NOT = { has_war_with = CUB }
							}
						}
					}
				}
			}
		}

		CAN = {
			country_event = cuba_events.1280
		}
	}
}

country_event = { #Cuba joins Faction - Request
	id = cuba_events.1280
	title = cuba_events.1280.t
	desc = cuba_events.1280.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1280 option cuba_events.1280.a"
		name = cuba_events.1280.a
		add_to_faction = FROM
		FROM = { country_event = { id = cuba_events.1282 days = 1 } }
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.1280 option cuba_events.1280.b"
		name = cuba_events.1280.b
		ai_chance = { base = 0 }
		FROM = { country_event = { id = cuba_events.1281 days = 1 } }
	}
}

country_event = { #Cuba joins Faction - Refused
	id = cuba_events.1281
	title = cuba_events.1281.t
	desc = cuba_events.1281.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1281 option cuba_events.1281.a"
		name = cuba_events.1281.a
	}
}

country_event = { #Cuba joins Faction - Accepted
	id = cuba_events.1282
	title = cuba_events.1282.t
	desc = cuba_events.1282.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1282 option cuba_events.1282.a"
		name = cuba_events.1282.a
		effect_tooltip = { FROM = { add_to_faction = ROOT } }
	}
}

country_event = { #Cuba joins Faction - Request (Americans)
	id = cuba_events.1283
	title = cuba_events.1280.t
	desc = cuba_events.1284.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1283 option cuba_events.1280.a"
		name = cuba_events.1280.a

		add_to_faction = CUB
		hidden_effect = {
			CUB = {
				country_event = { id = cuba_events.1282 days = 1 }
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.1283 option cuba_events.1280.b"
		name = cuba_events.1280.b
		ai_chance = { base = 0 }

		CUB = {
			country_event = { id = cuba_events.1281 days = 1 }
		}
	}
}

country_event = { #Cuba joins Faction - Request (Americans not faction leader)
	id = cuba_events.1284
	title = cuba_events.1280.t
	desc = cuba_events.1284.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1284 option cuba_events.1284.a"
		name = cuba_events.1284.a
		faction_leader = { country_event = { id = cuba_events.1285 days = 1 } }
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.1284 option cuba_events.1280.b"
		name = cuba_events.1280.b
		ai_chance = { base = 0 }
		FROM = { country_event = { id = cuba_events.1281 days = 1 } }
	}
}

country_event = { #America advocates on Cuba's behalf
	id = cuba_events.1285
	title = cuba_events.1285.t
	desc = cuba_events.1285.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1285 option cuba_events.1285.a"
		name = cuba_events.1285.a
		add_to_faction = FROM.FROM
		FROM.FROM = { country_event = { id = cuba_events.1282 days = 1 } }
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.1285 option cuba_events.1280.b"
		name = cuba_events.1280.b
		ai_chance = { base = 0 }
		FROM = { country_event = { id = cuba_events.1286 days = 1 } }
		FROM.FROM = { country_event = { id = cuba_events.1281 days = 1 } }
	}
}

country_event = {
	id = cuba_events.1286
	title = cuba_events.1286.t
	desc = cuba_events.1286.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1286 option cuba_events.1286.a"
		name = cuba_events.1286.a
		add_political_power = -5
	}
}

country_event = { #Cuba partners with America (no faction)
	id = cuba_events.1287
	title = cuba_events.1287.t
	desc = cuba_events.1287.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1287 option cuba_events.1287.a"
		name = cuba_events.1287.a

		hidden_effect = {
			CUB = {
				country_event = { id = cuba_events.1288 days = 1 }
			}
		}
		give_guarantee = CUB
		add_opinion_modifier = { target = CUB modifier = CUB_ampartner }
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.1287 option cuba_events.1280.b"
		name = cuba_events.1280.b
		ai_chance = { base = 0 }

		CUB = {
			country_event = { id = cuba_events.1281 days = 1 }
		}
	}
}

country_event = { #Cuba-American partner - Accepted
	id = cuba_events.1288
	title = cuba_events.1288.t
	desc = cuba_events.1288.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1288 option cuba_events.1288.a"
		name = cuba_events.1288.a

		give_guarantee = FROM
		give_military_access = FROM
		add_opinion_modifier = { target = FROM modifier = CUB_ampartner }
		custom_effect_tooltip = CUB_amjoinlater_tt
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_joinmurica_decision }
		}
	}
}

country_event = {
	id = cuba_events.129
	title = cuba_events.129.t
	desc = cuba_events.129.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.129 option cuba_events.129.a"
		name = cuba_events.129.a
		army_experience = 20
		navy_experience = 20
		air_experience = 20
		add_opinion_modifier = { target = CUB modifier = CUB_milint_opinion }
	}
}

country_event = { #Cuban-WIF Positive Event
	id = cuba_events.131
	title = cuba_events.131.t
	desc = cuba_events.131.d
	picture = GFX_report_event_generic_diplomacy3
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.131 option cuba_events.131.a"
		name = cuba_events.131.a
		ai_chance = { base = 95 }

		add_political_power = 10
		reverse_add_opinion_modifier = {
			target = CUB
			modifier = CUB_wifecon
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		CUB = {
			country_event = { id = cuba_events.132 days = 1 }
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.131 option cuba_events.131.b"
		name = cuba_events.131.b
		ai_chance = { base = 5 }
		CUB = {
			country_event = { id = cuba_events.133 days = 1 }
		}
	}
}

country_event = { #WIF accepts
	id = cuba_events.132
	title = cuba_events.132.t
	desc = cuba_events.132.d
	picture = GFX_report_event_generic_diplomacy3
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.132 option cuba_events.132.a"
		name = cuba_events.132.a

		add_political_power = -10
		reverse_add_opinion_modifier = {
			target = WIF
			modifier = CUB_wifecon
		}
		hidden_effect = {
			country_event = { id = cuba_events.1320 days = 30 }
		}
	}
}

country_event = { #WIF benefits for cuba
	id = cuba_events.1320
	title = cuba_events.1320.t
	desc = cuba_events.1320.d
	picture = GFX_report_event_WIF_Flag
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1320 option cuba_events.1320.a"
		name = cuba_events.1320.a

		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
}

country_event = { #WIF Declines
	id = cuba_events.133
	title = cuba_events.133.t
	desc = cuba_events.133.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.133 option cuba_events.133.a"
		name = cuba_events.133.a
	}
}

country_event = { #Cuban Neighbor Summit
	id = cuba_events.134
	title = cuba_events.134.t
	desc = cuba_events.134.d
	picture = GFX_report_event_generic_diplomacy4
	is_triggered_only = yes

	option = { #Attend
		log = "[GetLogInfo]: event cuba_events.134 option cuba_events.134.a"
		name = cuba_events.134.a
		ai_chance = { base = 90 }

		if = {
			limit = {
				NOT = { has_global_flag = CUB_someoneshowedup }
			}
			set_global_flag = CUB_someoneshowedup
		}
		set_country_flag = CUB_conf_showedup
	}

	option = { #Dont Attend
		log = "[GetLogInfo]: event cuba_events.134 option cuba_events.134.b"
		name = cuba_events.134.b
		ai_chance = {
			base = 10
			modifier = {
				factor = 20
				OR = {
					AND = {
						CUB = {
							has_socialist_government = yes
						}
						ROOT = {
							has_socialist_government = no
						}
					}
					AND = {
						ROOT = {
							has_socialist_government = yes
						}
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}

		set_country_flag = CUB_refusedshowedup
		if = {
			limit = {
				NOT = { has_global_flag = CUB_someonedidnotshowedup }
			}
			set_global_flag = CUB_someonedidnotshowedup
		}
	}
}

country_event = { #no shows
	id = cuba_events.1340
	title = cuba_events.1340.t
	desc = {
		text = cuba_events.1340.d_1
		trigger = {
			has_global_flag = CUB_someoneshowedup
		}
	}
	desc = {
		text = cuba_events.1340.d_2
		trigger = {
			NOT = { has_global_flag = CUB_someoneshowedup }
		}
	}
	desc = {
		text = cuba_events.1340.d_3
		trigger = {
			NOT = { has_global_flag = CUB_someonedidnotshowedup }
		}
	}
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1340 option cuba_events.1340.a"
		name = cuba_events.1340.a
		trigger = {
			has_global_flag = CUB_someonedidnotshowedup
		}

		hidden_effect = {
			if = {
				limit = { has_global_flag = CUB_someoneshowedup }
				country_event = { id = cuba_events.135 days = 3 }
			}
		}

		every_other_country = {
			limit = { has_country_flag = CUB_refusedshowedup }
			add_opinion_modifier = {
				target = CUB
				modifier = CUB_summitbad
			}
			hidden_effect = {
				country_event = { id = cuba_events.1341 days = 1 }
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.1340 option cuba_events.1340.b"
		name = cuba_events.1340.b
		trigger = {
			NOT = { has_global_flag = CUB_someonedidnotshowedup }
		}

		hidden_effect = {
			country_event = { id = cuba_events.135 days = 3 }
		}
	}
}

country_event = { #no shows notice
	id = cuba_events.1341
	title = cuba_events.1341.t
	desc = cuba_events.1341.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1341 option cuba_events.1341.a"
		name = cuba_events.1341.a

		reverse_add_opinion_modifier = {
			target = CUB
			modifier = KR_diplomatic_row
		}
	}
}

country_event = { #Cuban Neighbor Summit Final
	id = cuba_events.135
	title = cuba_events.135.t
	desc = cuba_events.135.d
	picture = GFX_report_event_generic_diplomacy4
	is_triggered_only = yes

	option = { #Success
		log = "[GetLogInfo]: event cuba_events.135 option cuba_events.135.a"
		name = cuba_events.135.a

		add_political_power = 50
		add_stability = 0.01

		every_other_country = {
			limit = { has_country_flag = CUB_conf_showedup }
			add_opinion_modifier = {
				target = CUB
				modifier = CUB_summit
			}
			hidden_effect = {
				country_event = { id = cuba_events.136 days = 1 }
			}
		}
	}
}

country_event = { #Notice of Summit End
	id = cuba_events.136
	title = cuba_events.136.t
	desc = cuba_events.136.d
	picture = GFX_report_event_generic_diplomacy4
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.136 option cuba_events.136.a"
		name = cuba_events.136.a

		add_political_power = 50
		reverse_add_opinion_modifier = {
			target = CUB
			modifier = CUB_summit
		}
		every_other_country = {
			limit = { has_country_flag = CUB_conf_showedup }
			reverse_add_opinion_modifier = {
				target = ROOT
				modifier = CUB_summit
			}
		}
	}
}

country_event = { #Notice of Cuban Denouncement
	id = cuba_events.137
	title = cuba_events.137.t
	desc = cuba_events.137.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.137 option cuba_events.137.a"
		name = cuba_events.137.a

		reverse_add_opinion_modifier = {
			target = CUB
			modifier = CUB_summitdenounce
		}
	}
}

country_event = { #Civil war raging US relations
	id = cuba_events.138
	title = cuba_events.138.t
	desc = {
		text = cuba_events.138.d_1
		trigger = {
			has_country_flag = CUB_USpuppet
		}
	}
	desc = {
		text = cuba_events.138.d_2
		trigger = {
			NOT = { has_country_flag = CUB_USpuppet }
		}
	}
	is_triggered_only = yes

	option = { #Active Stance
		log = "[GetLogInfo]: event cuba_events.138 option cuba_events.138.a"
		name = cuba_events.138.a

		if = {
			limit = { has_socialist_government = yes }
			hidden_effect = {
				country_event = cuba_events.140
			}
		}
		else_if = {
			limit = { has_socialist_government = no }
			hidden_effect = {
				country_event = cuba_events.141
			}
		}
	}

	option = { #Wait and See
		log = "[GetLogInfo]: event cuba_events.138 option cuba_events.138.b"
		name = cuba_events.138.b
		trigger = {
			OR = {
				is_ai = no
				NOT = { has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_USA } }
				NOT = { has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_WCA } }
				NOT = { has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_APG } }
				NOT = { has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_ENT } }
			}
		}

		if = {
			limit = { has_country_flag = CUB_USpuppet }
			hidden_effect = {
				USA = {
					country_event = cuba_events.143
				}
			}
		}
		hidden_effect = {
			country_event = { id = cuba_events.142 days = 90 }
		}
	}

	option = { #Do nothing
		log = "[GetLogInfo]: event cuba_events.138 option cuba_events.138.c"
		name = cuba_events.138.c

		trigger = {
			NOT = { has_country_flag = CUB_USpuppet }
			OR = {
				is_ai = no
				NOT = { has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_USA } }
				NOT = { has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_WCA } }
				NOT = { has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_APG } }
				NOT = { has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_ENT } }
			}
		}
		add_political_power = 10
		add_stability = 0.01
	}
}

country_event = { #Supplying CA nations notice
	id = cuba_events.139
	title = cuba_events.139.t
	desc = cuba_events.139.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.139 option cuba_events.139.a"
		name = cuba_events.139.a
	}
}

country_event = { #socialist active stance
	id = cuba_events.140
	title = cuba_events.140.t
	desc = {
		text = cuba_events.140.d_1
		trigger = {
			country_exists = WCA
		}
	}
	desc = {
		text = cuba_events.140.d_2
		trigger = {
			NOT = { country_exists = WCA }
		}
	}
	is_triggered_only = yes

	option = { #support WCA
		log = "[GetLogInfo]: event cuba_events.140 option cuba_events.140.a"
		name = cuba_events.140.a

		trigger = {
			country_exists = WCA
		}
		add_ideas = CUB_acwvolwca_idea
		WCA = {
			set_country_flag = CUB_Alliance_Option
			add_opinion_modifier = { target = ROOT modifier = KR_supported_us }
		}
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_waited_promotesoc_WCAdecision }
		}
	}

	option = { #anti-AUS WCA gone
		log = "[GetLogInfo]: event cuba_events.140 option cuba_events.140.b"
		name = cuba_events.140.b

		trigger = {
			country_exists = APG
			NOT = { country_exists = WCA }
		}
		country_event = { id = cuba_events.151 days = 1 }
	}

	option = { #support socdem USA
		log = "[GetLogInfo]: event cuba_events.140 option cuba_events.140.c"
		name = cuba_events.140.c

		trigger = {
			country_exists = USA
			has_government = radical_socialist
			USA = {
				has_government = social_democrat
			}
			NOT = { country_exists = WCA }
		}
		add_ideas = CUB_acwvolusa_idea
		USA = {
			set_country_flag = CUB_Alliance_Option
			add_opinion_modifier = { target = ROOT modifier = KR_supported_us }
		}
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_waited_promotenonsoc_USAdecision }
		}
	}

	option = { #support socdem ACC
		log = "[GetLogInfo]: event cuba_events.140 option cuba_events.140.d"
		name = cuba_events.140.d

		trigger = {
			country_exists = ACC
			has_government = radical_socialist
			ACC = {
				has_government = social_democrat
			}
			NOT = { country_exists = WCA }
		}
		add_ideas = CUB_acwvolusa_idea
		ACC = {
			set_country_flag = CUB_Alliance_Option
			add_opinion_modifier = { target = ROOT modifier = KR_supported_us }
		}
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_waited_promotenonsoc_ACCdecision }
		}
	}

	option = { #bring socialist dissidents to cuba
		log = "[GetLogInfo]: event cuba_events.140 option cuba_events.140.e"
		name = cuba_events.140.e

		trigger = {
			NOT = { country_exists = WCA }
		}
		every_country = {
			limit = {
				OR = {
					controls_state = 261
					controls_state = 359
					controls_state = 360
					controls_state = 391
					controls_state = 393
					controls_state = 395
					controls_state = 396
					controls_state = 929
				}
			}
			country_event = { id = cuba_events.152 days = 1 }
		}
	}
}

country_event = { #non-socialist active stance
	id = cuba_events.141
	title = cuba_events.141.t
	desc = {
		text = cuba_events.141.d_1
		trigger = {
			has_country_flag = CUB_USpuppet
		}
	}
	desc = {
		text = cuba_events.141.d_2
		trigger = {
			NOT = { has_country_flag = CUB_USpuppet }
		}
	}
	is_triggered_only = yes

	option = { #support the Feds
		log = "[GetLogInfo]: event cuba_events.141 option cuba_events.141.a"
		name = cuba_events.141.a

		trigger = {
			country_exists = USA
			NOT = { has_country_flag = CUB_USpuppet }
		}
		add_ideas = CUB_acwvolusa_idea
		USA = {
			set_country_flag = CUB_Alliance_Option
			add_opinion_modifier = { target = ROOT modifier = KR_supported_us }
		}
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_waited_promotenonsoc_USAdecision }
		}
	}

	option = { #support the Feds - double down
		log = "[GetLogInfo]: event cuba_events.141 option cuba_events.141.b"
		name = cuba_events.141.b

		trigger = {
			country_exists = USA
			has_country_flag = CUB_USpuppet
		}
		add_ideas = CUB_acwvolusa_idea
		USA = {
			set_country_flag = CUB_Alliance_Option
			add_opinion_modifier = { target = ROOT modifier = KR_supported_us }
		}
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_waited_promotenonsoc_USAdecision }
		}
	}

	option = { #anti-WCA
		log = "[GetLogInfo]: event cuba_events.141 option cuba_events.141.c"
		name = cuba_events.141.c

		trigger = {
			country_exists = WCA
			NOT = { country_exists = USA }
			OR = {
				APG = { exists = no }
				is_ai = no
				NOT = { has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_APG } }
			}
		}
		country_event = { id = cuba_events.159 days = 1 }
	}

	option = { #AUS
		log = "[GetLogInfo]: event cuba_events.141 option cuba_events.141.d"
		name = cuba_events.141.d

		trigger = {
			country_exists = APG
			NOT = { country_exists = USA }
			OR = {
				CAN = { exists = no }
				is_ai = no
				NOT = { has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_ENT } }
			}
		}
		add_ideas = CUB_acwvolapg_idea
		APG = {
			set_country_flag = CUB_Alliance_Option
			add_opinion_modifier = { target = ROOT modifier = KR_supported_us }
		}
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_waited_promotenonsoc_APGdecision }
		}
	}
}

country_event = { #hidden wait and see decision triggering
	id = cuba_events.142
	hidden = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.142 option 1"
		hidden_effect = {
			activate_targeted_decision = { target = THIS decision = CUB_waited_promotesoc_WCAdecision }
			activate_targeted_decision = { target = THIS decision = CUB_waited_promotenonsoc_USAdecision }
			activate_targeted_decision = { target = THIS decision = CUB_waited_promotenonsoc_ACCdecision }
			activate_targeted_decision = { target = THIS decision = CUB_waited_promotenonsoc_APGdecision }
			activate_targeted_decision = { target = THIS decision = CUB_waited_promotesoc_noWCAdecision }
		}
	}
}

country_event = { #Cuba being non-commital
	id = cuba_events.143
	title = cuba_events.143.t
	desc = cuba_events.143.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.143 option cuba_events.143.a"
		name = cuba_events.143.a
	}
}

country_event = { #WCA/USA/APG notice of cuban ind help
	id = cuba_events.144
	title = cuba_events.144.t
	desc = {
		text = cuba_events.144.d_1
		trigger = {
			tag = WCA
		}
	}
	desc = {
		text = cuba_events.144.d_2
		trigger = {
			NOT = { tag = WCA }
		}
	}
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.144 option cuba_events.144.a"
		name = cuba_events.144.a
		trigger = {
			tag = WCA
		}
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.144 option cuba_events.144.b"
		name = cuba_events.144.b
		trigger = {
			NOT = { tag = WCA }
		}
	}
	after = {
		add_timed_idea = {
			idea = CUB_indag_support_idea
			days = 90
		}
	}
}

country_event = { # asking Cuba for more
	id = cuba_events.145
	title = cuba_events.145.t
	desc = cuba_events.145.d

	is_triggered_only = yes

	trigger = {
		NOT = { has_global_flag = USA_civil_war_over_flag }
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.145 option cuba_events.145.a"
		name = cuba_events.145.a
		CUB = { country_event = { id = cuba_events.146 days = 1 } }
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.145 option cuba_events.145.b"
		name = cuba_events.145.b
	}
}

country_event = { #WCA asking Cuba for more part 2
	id = cuba_events.146
	title = cuba_events.146.t
	desc = cuba_events.146.d

	is_triggered_only = yes

	option = { #yes
		log = "[GetLogInfo]: event cuba_events.146 option cuba_events.146.a"
		name = cuba_events.146.a
		add_political_power = 75
		add_timed_idea = {
			idea = CUB_indag_support_2_idea
			days = 360
		}
		FROM = { country_event = { id = cuba_events.147 days = 1 } }
	}

	option = { #no
		log = "[GetLogInfo]: event cuba_events.146 option cuba_events.146.b"
		name = cuba_events.146.b
		FROM = { country_event = { id = cuba_events.148 days = 1 } }
	}
}

country_event = { #WCA/APG/usa notice of cuban acceptance
	id = cuba_events.147
	title = cuba_events.147.t
	desc = cuba_events.147.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.147 option cuba_events.147.a"
		name = cuba_events.147.a
		set_country_flag = CUB_Alliance_Option
		add_political_power = -75
		add_timed_idea = {
			idea = CUB_indag_support_idea
			days = 360
		}
	}
}

country_event = { #WCA/APG/usa notice of cuban declining
	id = cuba_events.148
	title = cuba_events.148.t
	desc = cuba_events.148.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.148 option cuba_events.148.a"
		name = cuba_events.148.a
		add_political_power = -10
	}
}

country_event = { #cuba hurting stab
	id = cuba_events.149
	title = cuba_events.149.t
	desc = cuba_events.149.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.149 option cuba_events.149.a"
		name = cuba_events.149.a
		add_stability = -0.01
	}
}

country_event = { #preparing war with People's Government
	id = cuba_events.151
	title = cuba_events.151.t
	desc = cuba_events.151.d
	is_triggered_only = yes

	option = { #war
		log = "[GetLogInfo]: event cuba_events.151 option cuba_events.151.a"
		name = cuba_events.151.a
		trigger = {
			is_valid_peace_target = yes
		}
		ai_chance = { base = 10 }
		hidden_effect = {
			country_event = { id = cuba_events.155 days = 45 }
		}
	}

	option = { #Sab campaign
		log = "[GetLogInfo]: event cuba_events.151 option cuba_events.151.b"
		name = cuba_events.151.b
		ai_chance = { base = 90 }
		hidden_effect = {
			country_event = { id = cuba_events.156 days = 30 }
		}
	}
}

country_event = { #cuba announces intention to attract refugees
	id = cuba_events.152
	title = cuba_events.152.t
	desc = cuba_events.152.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.152 option cuba_events.152.a"
		name = cuba_events.152.a

		add_stability = -0.01
		set_variable = { CUB_refugees = 0 }
		hidden_effect = {
			country_event = { id = cuba_events.153 days = 30 }
		}
	}
}

country_event = { #refugees to soccub part 2
	id = cuba_events.153
	title = cuba_events.153.t
	desc = cuba_events.153.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.153 option cuba_events.153.a"
		name = cuba_events.153.a

		add_stability = 0.02
		add_manpower = -5000
		add_to_variable = { var = CUB_refugees value = 1 }
		set_global_flag = CUB_refugee1
		hidden_effect = {
			country_event = { id = cuba_events.154 days = 60 }
		}
	}
}

country_event = { #cuban refugees added
	id = cuba_events.1530
	title = cuba_events.1530.t
	desc = cuba_events.1530.d
	fire_only_once = yes

	trigger = {
		tag = CUB
		has_global_flag = CUB_refugee1
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.1530 option cuba_events.1530.a"
		name = cuba_events.1530.a

		if = {
			limit = { check_variable = { CUB_refugees = 1 } }
			add_manpower = 4000
		}
		else_if = {
			limit = { check_variable = { CUB_refugees = 2 } }
			add_manpower = 8000
		}
		else_if = {
			limit = { check_variable = { CUB_refugees = 3 } }
			add_manpower = 12000
		}
		else_if = {
			limit = { check_variable = { CUB_refugees > 3 } }
			add_manpower = 16000
		}
	}
}

country_event = { #refugees to soccub part 3
	id = cuba_events.154
	title = cuba_events.154.t
	desc = cuba_events.154.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.154 option cuba_events.154.a"
		name = cuba_events.154.a

		set_global_flag = CUB_refugee2
		add_stability = 0.01
		add_manpower = -2000
		hidden_effect = {
			CUB = {
				country_event = cuba_events.1540
			}
		}
	}
}

country_event = { #cuban refugees added 2
	id = cuba_events.1540
	title = cuba_events.1540.t
	desc = cuba_events.1540.d
	fire_only_once = yes

	trigger = {
		tag = CUB
		has_global_flag = CUB_refugee2
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.1540 option cuba_events.1540.a"
		name = cuba_events.1540.a

		if = {
			limit = { check_variable = { CUB_refugees = 1 } }
			add_manpower = 2000
		}
		else_if = {
			limit = { check_variable = { CUB_refugees = 2 } }
			add_manpower = 4000
		}
		else_if = {
			limit = { check_variable = { CUB_refugees = 3 } }
			add_manpower = 6000
		}
		else_if = {
			limit = { check_variable = { CUB_refugees > 3 } }
			add_manpower = 8000
		}
	}
}

country_event = { #War with the People's Government
	id = cuba_events.155
	title = cuba_events.155.t
	desc = cuba_events.155.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.155 option cuba_events.155.a"
		name = cuba_events.155.a

		declare_war_on = { target = APG type = annex_everything }
		add_manpower = 10000
		add_war_support = 0.05
		hidden_effect = {
			APG = {
				country_event = cuba_events.158
			}
		}
	}
}

country_event = { #cuban sab campaign ready
	id = cuba_events.156
	title = cuba_events.156.t
	desc = cuba_events.156.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.156 option cuba_events.156.a"
		name = cuba_events.156.a

		hidden_effect = {
			if = {
				limit = { has_socialist_government = yes }
				APG = {
					country_event = cuba_events.157
				}
			}
			else = {
				WCA = {
					country_event = cuba_events.157
				}
			}
		}
	}
}

country_event = { #notice of cuba sab
	id = cuba_events.157
	title = cuba_events.157.t
	desc = cuba_events.157.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.157 option cuba_events.157.a"
		name = cuba_events.157.a

		add_stability = -0.02
		add_political_power = -20
		if = {
			limit = { tag = WCA }
			every_owned_state = {
				limit = {
					OR = {
						state = 261
						state = 360
						state = 393
						state = 394
						state = 395
						state = 396
					}
				}
				damage_building = {
					type = infrastructure
					damage = 0.25
				}
			}
		}
		if = {
			limit = { tag = APG }
			every_owned_state = {
				limit = {
					OR = {
						state = 365
						state = 366
						state = 371
						state = 375
					}
				}
				damage_building = {
					type = infrastructure
					damage = 0.25
				}
			}
		}
		hidden_effect = {
			country_event = { id = cuba_events.165 days = 30 }
		}
	}
}

country_event = { #APG notice of cuba war
	id = cuba_events.158
	title = cuba_events.158.t
	desc = cuba_events.158.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.158 option cuba_events.158.a"
		name = cuba_events.158.a
	}
}

country_event = { #anti-WCA
	id = cuba_events.159
	title = cuba_events.159.t
	desc = cuba_events.159.d
	is_triggered_only = yes

	option = { #support Canada
		log = "[GetLogInfo]: event cuba_events.159 option cuba_events.159.a"
		name = cuba_events.159.a
		trigger = {
			is_valid_peace_target = yes
		}
		if = {
			limit = {
				CAN = {
					has_war_with = WCA
				}
			}
			hidden_effect = {
				CAN = {
					country_event = { id = cuba_events.160 days = 1 }
				}
			}
		}
		if = {
			limit = {
				NOT = {
					CAN = {
						has_war_with = WCA
					}
				}
			}
			hidden_effect = {
				CAN = {
					country_event = { id = cuba_events.161 days = 1 }
				}
			}
		}
	}

	option = { #Sab campaign
		log = "[GetLogInfo]: event cuba_events.159 option cuba_events.159.b"
		name = cuba_events.159.b
		trigger = {
			OR = {
				is_valid_peace_target = no
				is_ai = no
				NOT = { has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_ENT } }
			}
		}

		hidden_effect = {
			country_event = { id = cuba_events.156 days = 30 }
		}
	}
}

country_event = { #Canada-Cuba in war with WCA
	id = cuba_events.160
	title = cuba_events.160.t
	desc = cuba_events.160.d
	is_triggered_only = yes

	option = { #yes
		log = "[GetLogInfo]: event cuba_events.160 option cuba_events.160.a"
		name = cuba_events.160.a

		hidden_effect = {
			CUB = {
				country_event = { id = cuba_events.162 days = 1 }
			}
		}
	}

	option = { #no
		log = "[GetLogInfo]: event cuba_events.160 option cuba_events.160.b"
		name = cuba_events.160.b

		hidden_effect = {
			CUB = {
				country_event = { id = cuba_events.163 days = 1 }
			}
		}
	}
}

country_event = { #Canada-Cuba not in war with WCA
	id = cuba_events.161
	title = cuba_events.161.t
	desc = cuba_events.161.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.161 option cuba_events.161.a"
		name = cuba_events.161.a
		ai_chance = { base = 100 }
		hidden_effect = {
			CUB = {
				country_event = { id = cuba_events.164 days = 1 }
			}
		}
		add_opinion_modifier = {
			target = CUB
			modifier = CUB_diplomatic_ties
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.161 option cuba_events.161.b"
		name = cuba_events.161.b
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_ENT }
			}
		}
		hidden_effect = {
			CUB = {
				country_event = { id = cuba_events.166 days = 1 }
			}
		}
	}
}

country_event = { #CAN say yes (war with WCA)
	id = cuba_events.162
	title = cuba_events.162.t
	desc = cuba_events.162.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.162 option cuba_events.162.a"
		name = cuba_events.162.a

		add_to_war = {
			targeted_alliance = CAN
			enemy = WCA
		}
		set_country_flag = CUB_canada_ally
		add_opinion_modifier = {
			target = CAN
			modifier = CUB_diplomatic_ties
		}
		hidden_effect = {
			CAN = {
				country_event = { id = cuba_events.1620 days = 1 }
			}
		}
	}
}

country_event = { #Cuba joins war
	id = cuba_events.1620
	title = cuba_events.1620.t
	desc = cuba_events.1620.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1620 option cuba_events.1620.a"
		name = cuba_events.1620.a

		add_opinion_modifier = {
			target = CUB
			modifier = CUB_diplomatic_ties
		}
	}
}

country_event = { #CAN says support
	id = cuba_events.163
	title = cuba_events.163.t
	desc = cuba_events.163.d
	is_triggered_only = yes

	option = { #alright
		log = "[GetLogInfo]: event cuba_events.163 option cuba_events.163.a"
		name = cuba_events.163.a

		set_country_flag = CUB_canada_ally
		add_ideas = CUB_canantiwcasupport
		add_opinion_modifier = {
			target = CAN
			modifier = CUB_diplomatic_ties
		}
		hidden_effect = {
			CAN = {
				country_event = { id = cuba_events.1630 days = 1 }
			}
		}
	}

	option = { #direspect smh
		log = "[GetLogInfo]: event cuba_events.163 option cuba_events.163.b"
		name = cuba_events.163.b

		trigger = {
			OR = {
				is_ai = no
				NOT = { has_game_rule = { rule = CUB_forpol option = CUB_FORPOL_ENT } }
			}
		}

		add_opinion_modifier = {
			target = CAN
			modifier = KR_displeased
		}
		hidden_effect = {
			CAN = {
				country_event = { id = cuba_events.1631 days = 1 }
			}
		}
	}
}

country_event = { #Cuba say yes to support
	id = cuba_events.1630
	title = cuba_events.1630.t
	desc = cuba_events.1630.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1630 option cuba_events.1630.a"
		name = cuba_events.1630.a

		add_ideas = CUB_canantiwcasupport2
		add_opinion_modifier = {
			target = CUB
			modifier = CUB_diplomatic_ties
		}
	}
}

country_event = { #Cuba angry
	id = cuba_events.1631
	title = cuba_events.1631.t
	desc = cuba_events.1631.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.1631 option cuba_events.1631.a"
		name = cuba_events.1631.a

		add_opinion_modifier = {
			target = CUB
			modifier = KR_displeased
		}
	}
}

country_event = { #CAN say yes
	id = cuba_events.164
	title = cuba_events.164.t
	desc = cuba_events.164.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.164 option cuba_events.164.a"
		name = cuba_events.164.a

		set_country_flag = CUB_canada_ally
		set_country_flag = CUB_canada_promise
		add_opinion_modifier = {
			target = CAN
			modifier = CUB_diplomatic_ties
		}
	}
}

country_event = { #War breaks out w/ promise
	id = cuba_events.1640
	title = cuba_events.1640.t
	desc = cuba_events.1640.d
	fire_only_once = yes

	trigger = {
		tag = CUB
		is_valid_peace_target = yes
		has_country_flag = CUB_canada_promise
		CAN = {
			has_war_with = WCA
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.1640 option cuba_events.1640.a"
		name = cuba_events.1640.a

		add_to_war = {
			targeted_alliance = CAN
			enemy = WCA
		}
		hidden_effect = {
			CAN = {
				country_event = { id = cuba_events.1620 days = 1 }
			}
		}
	}
}

country_event = { #Cuban saboteurs uncovered
	id = cuba_events.165
	title = cuba_events.165.t
	desc = cuba_events.165.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.165 option cuba_events.165.a"
		name = cuba_events.165.a
		declare_war_on = { target = CUB type = annex_everything }
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.165 option cuba_events.165.b"
		name = cuba_events.165.b
	}
	after = {
		add_opinion_modifier = {
			target = CUB
			modifier = CUB_sabotage
		}
	}
}

country_event = { #CAN says no
	id = cuba_events.166
	title = cuba_events.166.t
	desc = cuba_events.166.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.166 option cuba_events.166.a"
		name = cuba_events.166.a
	}
}

country_event = { #notice of USA death as puppet
	id = cuba_events.199
	title = cuba_events.199.t
	desc = cuba_events.199.d
	fire_only_once = yes

	trigger = {
		tag = CUB
		has_country_flag = CUB_USpuppet
		NOT = { country_exists = USA }
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.199 option cuba_events.199.a"
		name = cuba_events.199.a

		add_political_power = -50
	}
}

### Democratic Flavor Tree
country_event = { #Start
	id = cuba_events.200
	title = cuba_events.200.t
	desc = cuba_events.200.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.200 option cuba_events.200.a"
		name = cuba_events.200.a

		complete_national_focus = CUB_democracy_survives
	}
}

country_event = { # Start of constitutional convention
	id = cuba_events.201
	title = cuba_events.201.t
	desc = cuba_events.201.d
	is_triggered_only = yes

	option = { #succ
		log = "[GetLogInfo]: event cuba_events.201 option cuba_events.201.a"
		name = cuba_events.201.a

		add_political_power = 30
		modify_country_flag = { flag = cubsuccconstscore value = 1 }
	}
	option = { #lib
		log = "[GetLogInfo]: event cuba_events.201 option cuba_events.201.b"
		name = cuba_events.201.b

		add_stability = 0.03
		modify_country_flag = { flag = cublibconstscore value = 1 }
	}
	after = {
		hidden_effect = {
			country_event = { id = cuba_events.202 days = 3 }
		}
	}
}

country_event = { # convention issue 2
	id = cuba_events.202
	title = cuba_events.202.t
	desc = cuba_events.202.d
	is_triggered_only = yes

	option = { #radical
		log = "[GetLogInfo]: event cuba_events.202 option cuba_events.202.a"
		name = cuba_events.202.a

		add_political_power = 30
		modify_country_flag = { flag = cubsuccconstscore value = 1 }
	}
	option = { #conservative
		log = "[GetLogInfo]: event cuba_events.202 option cuba_events.202.b"
		name = cuba_events.202.b

		add_stability = 0.03
		modify_country_flag = { flag = cublibconstscore value = 1 }
	}
	after = {
		hidden_effect = {
			country_event = { id = cuba_events.203 days = 3 }
		}
	}
}

country_event = { # convention issue 3
	id = cuba_events.203
	title = cuba_events.203.t
	desc = cuba_events.203.d
	is_triggered_only = yes

	option = { #radical
		log = "[GetLogInfo]: event cuba_events.203 option cuba_events.203.a"
		name = cuba_events.203.a
		modify_country_flag = { flag = cubsuccconstscore value = 1 }
	}

	option = { #conservative
		log = "[GetLogInfo]: event cuba_events.203 option cuba_events.203.b"
		name = cuba_events.203.b
		modify_country_flag = { flag = cublibconstscore value = 1 }
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = {
						flag = cubsuccconstscore
						value > 2
					}
				}
				add_political_power = 50
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cubsuccconstscore
						value > 1
					}
					has_country_flag = {
						flag = cublibconstscore
						value > 0
					}
				}
				add_stability = 0.02
				add_political_power = 30
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cublibconstscore
						value > 2
					}
				}
				add_stability = 0.03
				add_political_power = 20
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cublibconstscore
						value > 1
					}
					has_country_flag = {
						flag = cubsuccconstscore
						value > 0
					}
				}
				add_stability = 0.05
			}
		}
	}
}

### Authoritarian Focuses
country_event = { #Start
	id = cuba_events.204
	title = cuba_events.204.t
	desc = cuba_events.204.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.204 option cuba_events.204.a"
		name = cuba_events.204.a

		complete_national_focus = CUB_authoritarianism_normal
	}
}

###US Lapdog Focuses
country_event = { #Start
	id = cuba_events.205
	title = cuba_events.205.t
	desc = cuba_events.205.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.205 option cuba_events.205.a"
		name = cuba_events.205.a

		hidden_effect = {
			country_event = { id = cuba_events.206 days = 30 }
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		complete_national_focus = CUB_puppet_begin
	}
}

country_event = { #Vazquez Assassination
	id = cuba_events.206
	title = cuba_events.206.t
	desc = cuba_events.206.d
	is_triggered_only = yes

	option = {#
		log = "[GetLogInfo]: event cuba_events.206 option cuba_events.206.a"
		name = cuba_events.206.a
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.1
		}
		retire_character = CUB_clemente_vazquez_bello
		promote_character = CUB_carlos_mendieta_montefur
		hidden_effect = {
			country_event = { id = cuba_events.207 days = 2 }
		}
	}
}

country_event = { #Maintain Regime?
	id = cuba_events.207
	title = cuba_events.207.t
	desc = {
		text = cuba_events.207.d_1
		trigger = {
			NOT = { has_country_flag = CUB_brokefreefromUS }
		}
	}
	desc = {
		text = cuba_events.207.d_2
		trigger = {
			has_country_flag = CUB_brokefreefromUS
		}
	}
	is_triggered_only = yes

	option = {#Maintain
		log = "[GetLogInfo]: event cuba_events.207 option cuba_events.207.a"
		name = cuba_events.207.a
		trigger = {
			NOT = { has_country_flag = CUB_brokefreefromUS }
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
			}
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		complete_national_focus = CUB_auth_continue
	}

	option = {#Democratize
		log = "[GetLogInfo]: event cuba_events.207 option cuba_events.207.b"
		name = cuba_events.207.b
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
				}
			}
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.05
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.15
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.05
		}
		set_politics = {
			ruling_party = market_liberal
			elections_allowed = no
		}
		promote_character = CUB_jose_agripino_barnet_y_vinajeras
		hidden_effect = {
			country_event = { id = cuba_events.247 days = 4 }
		}
		complete_national_focus = CUB_democratize_auth
	}

	option = {#Anti-US
		log = "[GetLogInfo]: event cuba_events.207 option cuba_events.207.c"
		name = cuba_events.207.c
		trigger = {
			has_country_flag = CUB_brokefreefromUS
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
			}
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.05
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.05
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.15
		}
		set_politics = {
			ruling_party = social_liberal
			elections_allowed = no
		}
		hidden_effect = {
			country_event = { id = cuba_events.247 days = 4 }
		}
		complete_national_focus = CUB_nomorelapdop
	}
}

country_event = { # Start of constitutional convention
	id = cuba_events.208
	title = cuba_events.208.t
	desc = cuba_events.208.d
	is_triggered_only = yes

	option = { #radical
		log = "[GetLogInfo]: event cuba_events.208 option cuba_events.208.a"
		name = cuba_events.208.a

		add_political_power = 30
		modify_country_flag = { flag = cubradconstscore value = 1 }
	}
	option = { #conservative
		log = "[GetLogInfo]: event cuba_events.208 option cuba_events.208.b"
		name = cuba_events.208.b

		add_stability = 0.03
		modify_country_flag = { flag = cubconconstscore value = 1 }
	}
	after = {
		hidden_effect = {
			country_event = { id = cuba_events.209 days = 3 }
		}
	}
}

country_event = { # convention issue 2
	id = cuba_events.209
	title = cuba_events.209.t
	desc = cuba_events.209.d
	is_triggered_only = yes

	option = { #radical
		log = "[GetLogInfo]: event cuba_events.209 option cuba_events.209.a"
		name = cuba_events.209.a

		add_political_power = 30
		modify_country_flag = { flag = cubradconstscore value = 1 }
	}
	option = { #conservative
		log = "[GetLogInfo]: event cuba_events.209 option cuba_events.209.b"
		name = cuba_events.209.b

		add_stability = 0.03
		modify_country_flag = { flag = cubconconstscore value = 1 }
	}
	after = {
		hidden_effect = {
			country_event = { id = cuba_events.210 days = 3 }
		}
	}
}

country_event = { # convention issue 3
	id = cuba_events.210
	title = cuba_events.210.t
	desc = cuba_events.210.d
	is_triggered_only = yes

	option = { #radical
		log = "[GetLogInfo]: event cuba_events.210 option cuba_events.210.a"
		name = cuba_events.210.a
		modify_country_flag = { flag = cubradconstscore value = 1 }
	}

	option = { #conservative
		log = "[GetLogInfo]: event cuba_events.210 option cuba_events.210.b"
		name = cuba_events.210.b
		modify_country_flag = { flag = cubconconstscore value = 1 }
	}
	after = {
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = {
						flag = cubradconstscore
						value > 2
					}
				}
				add_political_power = 50
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cubradconstscore
						value > 1
					}
					has_country_flag = {
						flag = cubconconstscore
						value > 0
					}
				}
				add_stability = 0.02
				add_political_power = 30
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cubconconstscore
						value > 2
					}
				}
				add_stability = 0.03
				add_political_power = 20
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cubconconstscore
						value > 1
					}
					has_country_flag = {
						flag = cubradconstscore
						value > 0
					}
				}
				add_stability = 0.05
			}
		}
	}
}

###Leftist Focuses
country_event = { #Start
	id = cuba_events.211
	title = cuba_events.211.t
	desc = cuba_events.211.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.211 option cuba_events.211.a"
		name = cuba_events.211.a

		complete_national_focus = CUB_orthodox_syndicalism
		hidden_effect = {
			country_event = { id = cuba_events.212 days = 3 }
		}
	}
}

country_event = { #completer
	id = cuba_events.212
	title = {
		text = cuba_events.212.t_1
		trigger = {
			OR = {
				has_government = totalist
				AND = {
					has_government = syndicalist
					has_country_flag = no_congress
				}
			}
		}
	}
	title = {
		text = cuba_events.212.t_2
		trigger = {
			OR = {
				has_government = radical_socialist
				AND = {
					has_government = syndicalist
					NOT = { has_country_flag = no_congress }
				}
			}
		}
	}
	desc = {
		text = cuba_events.212.d_1
		trigger = {
			OR = {
				has_government = totalist
				AND = {
					has_government = syndicalist
					has_country_flag = no_congress
				}
			}
		}
	}
	desc = {
		text = cuba_events.212.d_2
		trigger = {
			OR = {
				has_government = radical_socialist
				AND = {
					has_government = syndicalist
					NOT = { has_country_flag = no_congress }
				}
			}
		}
	}
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.212 option cuba_events.212.a"
		name = cuba_events.212.a

		if = {
			limit = {
				OR = {
					has_government = totalist
					AND = {
						has_government = syndicalist
						has_country_flag = no_congress
					}
				}
			}
			complete_national_focus = CUB_syndienodem
		}
		if = {
			limit = {
				OR = {
					has_government = radical_socialist
					AND = {
						has_government = syndicalist
						NOT = { has_country_flag = no_congress }
					}
				}
			}
			complete_national_focus = CUB_syndiedem
		}
	}
}

###Mella Focuses
country_event = { #Start
	id = cuba_events.213
	title = cuba_events.213.t
	desc = {
		text = cuba_events.213.d_1
		trigger = {
			NOT = { has_country_flag = mellaradsocdeal }
		}
	}
	desc = {
		text = cuba_events.213.d_2
		trigger = {
			has_country_flag = mellaradsocdeal
		}
	}
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.213 option cuba_events.213.a"
		name = cuba_events.213.a

		complete_national_focus = CUB_mella_begin
	}
}

country_event = {
	id = cuba_events.214
	title = cuba_events.214.t
	desc = cuba_events.214.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.214 option cuba_events.214.a"
		name = cuba_events.214.a

		if = {
			limit = {
				check_variable = {
					var = CUB_socdeal_mella_count
					value = 3
					compare = greater_than_or_equals
				}
			}
			add_popularity = { ideology = totalist popularity = 0.05 }
			add_popularity = { ideology = radical_socialist popularity = -0.05 }
		}
		else = {
			add_popularity = { ideology = radical_socialist popularity = 0.05 }
			add_popularity = { ideology = totalist popularity = -0.05 }
		}
		set_temp_variable = { coalition_partner_var = token:totalist }
		remove_from_coalition = yes
		add_ideas = CUB_opensocialistconflict
		hidden_effect = {
			country_event = { id = cuba_events.2140 days = 7 }
		}
	}
}

country_event = {
	id = cuba_events.2140
	title = cuba_events.2140.t
	desc = {
		text = cuba_events.2140.d_1
		trigger = {
			check_variable = {
				var = CUB_socdeal_blas_count
				value = 3
				compare = greater_than_or_equals
			}
		}
	}
	desc = {
		text = cuba_events.2140.d_2
		trigger = {
			NOT = {
				check_variable = {
					var = CUB_socdeal_blas_count
					value = 3
					compare = greater_than_or_equals
				}
			}
		}
	}
	is_triggered_only = yes

	option = { #mella1
		log = "[GetLogInfo]: event cuba_events.2140 option cuba_events.2140.a"
		name = cuba_events.2140.a
		ai_chance = { base = 0 }
		trigger = {
			check_variable = {
				var = CUB_socdeal_blas_count
				value = 3
				compare = greater_than_or_equals
			}
		}
		add_stability = -0.05
		add_war_support = -0.05
		add_political_power = -50
		set_politics = {
			ruling_party = totalist
			elections_allowed = yes
		}
		hidden_effect = {
			country_event = { id = cuba_events.2141 days = 1 }
		}
	}

	option = { #mella2
		log = "[GetLogInfo]: event cuba_events.2140 option cuba_events.2140.b"
		name = cuba_events.2140.b
		trigger = {
			check_variable = {
				var = CUB_socdeal_mella_count
				value = 3
				compare = greater_than_or_equals
			}
			NOT = {
				check_variable = {
					var = CUB_socdeal_mella_count
					value = 5
					compare = greater_than_or_equals
				}
			}
		}
		set_politics = {
			ruling_party = totalist
			elections_allowed = yes
		}
		hidden_effect = {
			country_event = { id = cuba_events.2141 days = 1 }
		}
	}

	option = { #mella3
		log = "[GetLogInfo]: event cuba_events.2140 option cuba_events.2140.c"
		name = cuba_events.2140.c
		trigger = {
			check_variable = {
				var = CUB_socdeal_mella_count
				value = 5
				compare = greater_than_or_equals
			}
		}

		add_stability = 0.05
		add_war_support = 0.05
		add_political_power = 50
		set_politics = {
			ruling_party = totalist
			elections_allowed = yes
		}
		hidden_effect = {
			country_event = { id = cuba_events.2141 days = 1 }
		}
	}

	option = { #blas1
		log = "[GetLogInfo]: event cuba_events.2140 option cuba_events.2140.e"
		name = cuba_events.2140.e
		ai_chance = { base = 0 }
		trigger = {
			check_variable = {
				var = CUB_socdeal_mella_count
				value = 3
				compare = greater_than_or_equals
			}
		}

		add_stability = -0.05
		add_war_support = -0.05
		add_political_power = -50
		hidden_effect = {
			country_event = { id = cuba_events.2142 days = 1 }
		}
	}

	option = { #blas2
		log = "[GetLogInfo]: event cuba_events.2140 option cuba_events.2140.f"
		name = cuba_events.2140.f
		trigger = {
			check_variable = {
				var = CUB_socdeal_blas_count
				value = 3
				compare = greater_than_or_equals
			}
			NOT = {
				check_variable = {
					var = CUB_socdeal_blas_count
					value = 5
					compare = greater_than_or_equals
				}
			}
		}
		hidden_effect = {
			country_event = { id = cuba_events.2142 days = 1 }
		}
	}

	option = { #blas3
		log = "[GetLogInfo]: event cuba_events.2140 option cuba_events.2140.g"
		name = cuba_events.2140.g
		trigger = {
			check_variable = {
				var = CUB_socdeal_blas_count
				value = 5
				compare = greater_than_or_equals
			}
		}

		add_stability = 0.05
		add_war_support = 0.05
		add_political_power = 50
		hidden_effect = {
			country_event = { id = cuba_events.2142 days = 1 }
		}
	}
}

country_event = {
	id = cuba_events.2141
	title = cuba_events.2141.t
	desc = cuba_events.2141.d
	is_triggered_only = yes

	option = { #mella
		log = "[GetLogInfo]: event cuba_events.2141 option cuba_events.2141.a"
		name = cuba_events.2141.a
		retire_character = CUB_juan_blas_hernandez
		promote_character = CUB_alberto_bayo_giroud
		remove_ideas = CUB_opensocialistconflict
	}
}

country_event = {
	id = cuba_events.2142
	title = cuba_events.2142.t
	desc = cuba_events.2142.d
	is_triggered_only = yes

	option = { #mella
		log = "[GetLogInfo]: event cuba_events.2142 option cuba_events.2142.a"
		name = cuba_events.2142.a
		retire_character = CUB_julio_mella_mcpartland
		promote_character = CUB_sandalio_junco_camellon
		remove_ideas = CUB_opensocialistconflict
	}
}

country_event = {
	id = cuba_events.215
	title = cuba_events.215.t
	desc = cuba_events.215.d
	is_triggered_only = yes

	option = { #mella
		log = "[GetLogInfo]: event cuba_events.215 option cuba_events.215.a"
		name = cuba_events.215.a
		set_country_flag = CUB_melstrongarmblasag
		add_to_variable = { var = CUB_socdeal_mella_count value = 1 }
	}

	option = { #blas
		log = "[GetLogInfo]: event cuba_events.215 option cuba_events.215.b"
		name = cuba_events.215.b
		add_to_variable = { var = CUB_socdeal_blas_count value = 1 }
	}

	after = {
		hidden_effect = {
			country_event = cuba_events.2150
		}
	}
}

country_event = {
	id = cuba_events.2150
	title = cuba_events.2150.t
	desc = cuba_events.2150.d
	is_triggered_only = yes

	option = { #mella
		log = "[GetLogInfo]: event cuba_events.2150 option cuba_events.2150.a"
		name = cuba_events.2150.a
		set_country_flag = CUB_melstrongarmblaspol
		add_to_variable = { var = CUB_socdeal_mella_count value = 1 }
	}

	option = { #blas
		log = "[GetLogInfo]: event cuba_events.2150 option cuba_events.2150.b"
		name = cuba_events.2150.b
		add_to_variable = { var = CUB_socdeal_blas_count value = 1 }
	}

	after = {
		hidden_effect = {
			country_event = cuba_events.2151
		}
	}
}

country_event = {
	id = cuba_events.2151
	title = cuba_events.2151.t
	desc = cuba_events.2151.d
	is_triggered_only = yes

	option = { #mella
		log = "[GetLogInfo]: event cuba_events.2151 option cuba_events.2151.a"
		name = cuba_events.2151.a
		set_country_flag = CUB_melstrongarmblasmil
		add_to_variable = { var = CUB_socdeal_mella_count value = 1 }
	}

	option = { #blas
		log = "[GetLogInfo]: event cuba_events.2151 option cuba_events.2151.b"
		name = cuba_events.2151.b
		add_to_variable = { var = CUB_socdeal_blas_count value = 1 }
	}

	after = {
		set_country_flag = CUB_melladealtrcomp
	}
}

country_event = {
	id = cuba_events.216
	title = cuba_events.216.t
	desc = cuba_events.216.d
	is_triggered_only = yes

	option = { #mella
		log = "[GetLogInfo]: event cuba_events.216 option cuba_events.216.a"
		name = cuba_events.216.a

		add_to_variable = { var = CUB_socdeal_mella_count value = 2 }
		add_ideas = CUB_mellatranssociety
	}

	option = { #blas
		log = "[GetLogInfo]: event cuba_events.216 option cuba_events.216.b"
		name = cuba_events.216.b

		add_to_variable = { var = CUB_socdeal_blas_count value = 2 }
		add_ideas = CUB_blastranssociety
	}

	option = { #compromise
		log = "[GetLogInfo]: event cuba_events.216 option cuba_events.216.c"
		name = cuba_events.216.c

		add_to_variable = { var = CUB_socdeal_mella_count value = 1 }
		add_to_variable = { var = CUB_socdeal_blas_count value = 1 }
		add_ideas = CUB_comptranssociety
	}
}

###Revolutionary Democracy Focuses
country_event = { #Start
	id = cuba_events.217
	title = cuba_events.217.t
	desc = cuba_events.217.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.217 option cuba_events.217.a"
		name = cuba_events.217.a

		complete_national_focus = CUB_revdem_begin
	}
}

###National Populist Focuses

country_event = { #Start
	id = cuba_events.218
	title = cuba_events.218.t
	desc = cuba_events.218.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.218 option cuba_events.218.a"
		name = cuba_events.218.a

		complete_national_focus = CUB_autenticfoc_begin
	}
}

country_event = { #Natpop uprising
	id = cuba_events.2180
	title = cuba_events.2180.t
	desc = cuba_events.2180.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.2180 option cuba_events.2180.a"
		name = cuba_events.2180.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.1
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.05
		}
		set_politics = {
			ruling_party = national_populist
			elections_allowed = yes
		}
		hidden_effect = {
			country_event = { id = cuba_events.2181 days = 14 }
		}
	}
}

country_event = { #Natpop betrayal
	id = cuba_events.2181
	title = cuba_events.2181.t
	desc = cuba_events.2181.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.2181 option cuba_events.2181.a"
		name = cuba_events.2181.a
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		add_popularity = {
			ideology = national_populist
			popularity = -0.1
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.2181 option cuba_events.2181.b"
		name = cuba_events.2181.b
		ai_chance = { base = 0 }
	}
}

country_event = { #Refounding the DNA
	id = cuba_events.219
	title = cuba_events.219.t
	desc = cuba_events.219.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.219 option cuba_events.219.a"
		name = cuba_events.219.a

		add_popularity = {
			ideology = social_conservative
			popularity = 0.1
		}
	}
}

country_event = { #Opening back up the political sphere
	id = cuba_events.2190
	title = cuba_events.2190.t
	desc = cuba_events.2190.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.2190 option cuba_events.2190.a"
		name = cuba_events.2190.a

		set_country_flag = CUB_autopenagain
		add_political_power = 25
		add_popularity = {
			ideology = social_democrat
			popularity = 0.05
		}
	}
}

country_event = { #Grau corruption
	id = cuba_events.2200
	title = cuba_events.2200.t
	desc = {
		text = cuba_events.2200.d_1
		trigger = {
			has_government = authoritarian_democrat
		}
	}
	desc = {
		text = cuba_events.2200.d_2
		trigger = {
			NOT = { has_government = authoritarian_democrat }
		}
	}
	picture = GFX_report_event_CUB_menocal
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.2200 option cuba_events.2200.a"
		name = cuba_events.2200.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_AUTDEM }
			}
		}
		add_stability = -0.1
		set_country_flag = CUB_nomoreauttents
		promote_character = CUB_carlos_prio_socarras
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
		}
		if = {
			limit = { NOT = { has_country_flag = CUB_autopenagain } }
			country_event = { id = cuba_events.2190 days = 15 }
		}
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.2200 option cuba_events.2200.b"
		name = cuba_events.2200.b
		trigger = {
			has_government = authoritarian_democrat
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_SOCCON }
			}
		}
	}
}

### Flavor ###
country_event = { #syndie cuba considers changing flag
	id = cuba_events.222
	title = cuba_events.222.t
	desc = cuba_events.222.d
	picture = GFX_report_event_CUB_flag
	is_triggered_only = yes

	option = { #yes!
		log = "[GetLogInfo]: event cuba_events.222 option cuba_events.222.a"
		name = cuba_events.222.a

		add_stability = 0.01
		set_country_flag = CUB_movedholiday
		hidden_effect = {
			set_cosmetic_tag = CUB_SYN
		}
	}

	option = { #no
		log = "[GetLogInfo]: event cuba_events.222 option cuba_events.222.b"
		name = cuba_events.222.b

		add_political_power = 10
	}
}

country_event = { #Santeria rumors
	id = cuba_events.223
	title = cuba_events.223.t
	desc = cuba_events.223.d
	picture = GFX_report_event_CUB_santeria
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.223 option cuba_events.223.a"
		name = cuba_events.223.a

		add_political_power = -10
		add_stability = 0.01
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.223 option cuba_events.223.b"
		name = cuba_events.223.b

		add_political_power = 10
		add_stability = -0.01
	}
}

country_event = { #German Spy
	id = cuba_events.224
	title = cuba_events.224.t
	desc = {
		text = cuba_events.224.d_1
		trigger = {
			has_war_with = GER
		}
	}
	desc = {
		text = cuba_events.224.d_2
		trigger = {
			NOT = { has_war_with = GER }
		}
	}
	picture = GFX_report_event_CUB_enrique_luning
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		country_exists = GER
		NOT = { is_in_faction_with = GER }
	}

	option = { #allow him to stand trial
		log = "[GetLogInfo]: event cuba_events.224 option cuba_events.224.a"
		name = cuba_events.224.a
		trigger = {
			NOT = { has_war_with = GER }
		}

		reverse_add_opinion_modifier = {
			target = GER
			modifier = CUB_luning_killed
		}
		add_political_power = -10
		add_stability = 0.01
	}

	option = { #deport him
		log = "[GetLogInfo]: event cuba_events.224 option cuba_events.224.b"
		name = cuba_events.224.b
		trigger = {
			NOT = { has_war_with = GER }
		}

		reverse_add_opinion_modifier = {
			target = GER
			modifier = CUB_luning_spared
		}
		add_political_power = 10
		add_stability = -0.01
	}

	option = { #execute him
		log = "[GetLogInfo]: event cuba_events.224 option cuba_events.224.c"
		name = cuba_events.224.c
		trigger = {
			has_war_with = GER
		}

		add_political_power = -20
		add_stability = 0.02
	}

	option = { #prison
		log = "[GetLogInfo]: event cuba_events.224 option cuba_events.224.d"
		name = cuba_events.224.d
		trigger = {
			has_war_with = GER
		}

		add_political_power = 20
		add_stability = -0.02
	}
}

country_event = { #Capablanca Death
	id = cuba_events.225
	title = cuba_events.225.t
	desc = cuba_events.225.d
	picture = GFX_report_event_CUB_capablanca
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.225 option cuba_events.225.a"
		name = cuba_events.225.a

		add_stability = -0.01
	}
}

news_event = { #May 20th Ind Day
	id = cuba_events.226
	immediate = { log = "[GetLogInfo]: event cuba_events.226" }
	immediate = {
		hidden_effect = {
			news_event = { days = 365 id = cuba_events.227 }
		}
	}
	title = cuba_events.226.t
	desc = cuba_events.226.d
	picture = GFX_news_event_CUB_flagcrowd
	is_triggered_only = yes

	option = {
		name = cuba_events.226.a
		add_stability = 0.01
	}
}

news_event = { #May 20th Ind Day 2
	id = cuba_events.227
	immediate = { log = "[GetLogInfo]: event cuba_events.227" }
	immediate = {
		hidden_effect = {
			news_event = { days = 365 id = cuba_events.227 }
		}
	}
	title = cuba_events.226.t
	desc = cuba_events.227.d
	picture = GFX_news_event_CUB_flagcrowd
	is_triggered_only = yes
	trigger = {
		NOT = { has_country_flag = CUB_movedholiday }
	}

	option = {
		name = cuba_events.226.a
		add_stability = 0.01
	}
}

news_event = { #October 10th Ind Day
	id = cuba_events.229
	immediate = { log = "[GetLogInfo]: event cuba_events.229" }
	immediate = {
		hidden_effect = {
			news_event = { days = 365 id = cuba_events.230 }
		}
	}
	title = cuba_events.226.t
	desc = cuba_events.229.d
	picture = GFX_news_event_CUB_flagcrowd
	fire_only_once = yes
	trigger = {
		tag = CUB
		date > 1936.10.7
		date < 1936.10.13
		has_country_flag = CUB_movedholiday
	}

	option = {
		name = cuba_events.226.a
		add_stability = 0.01
	}
}

news_event = { #October 10th Ind Day 2
	id = cuba_events.230
	immediate = { log = "[GetLogInfo]: event cuba_events.230" }
	immediate = {
		hidden_effect = {
			news_event = { days = 365 id = cuba_events.230 }
		}
	}
	title = cuba_events.226.t
	desc = cuba_events.230.d
	picture = GFX_news_event_CUB_flagcrowd
	is_triggered_only = yes

	option = {
		name = cuba_events.226.a
		add_stability = 0.01
	}
}

country_event = { #Junco succeeds Pena
	id = cuba_events.232
	title = cuba_events.232.t
	desc = {
		text = cuba_events.232.d_1
		trigger = {
			has_socialist_government = no
		}
	}
	desc = {
		text = cuba_events.232.d_2
		trigger = {
			has_government = totalist
			NOT = { has_country_flag = CUB_postmellacnoc }
		}
	}
	desc = {
		text = cuba_events.232.d_3
		trigger = {
			has_government = totalist
			has_country_flag = CUB_postmellacnoc
		}
	}
	desc = {
		text = cuba_events.232.d_4
		trigger = {
			OR = {
				has_government = syndicalist
				has_government = radical_socialist
			}
		}
	}
	picture = GFX_report_event_soviet_soldiers_tank
	is_triggered_only = yes
	fire_only_once = yes

	option = { #allow the transition
		log = "[GetLogInfo]: event cuba_events.232 option cuba_events.232.a"
		name = cuba_events.232.a
		promote_character = CUB_sandalio_junco_camellon
	}

	option = { #maintain pena
		log = "[GetLogInfo]: event cuba_events.232 option cuba_events.232.b"
		name = cuba_events.232.b
		trigger = {
			has_government = totalist
			NOT = { can_be_country_leader = CUB_julio_mella_mcpartland }
		}
		add_political_power = -20
		add_stability = -0.02
	}
}

country_event = { #Tina Modotti
	id = cuba_events.233
	title = cuba_events.233.t
	desc = cuba_events.233.d
	picture = GFX_report_event_CUB_tina
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.233 option cuba_events.233.a"
		name = cuba_events.233.a
		add_political_power = -50
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.233 option cuba_events.233.b"
		name = cuba_events.233.b
		add_stability = -0.05
		add_war_support = -0.05
		add_political_power = -50
		retire_character = CUB_julio_mella_mcpartland
		add_country_leader_role = {
			character = CUB_tina_modotti
			country_leader = {
				desc = CUB_tina_modotti_leader_desc
				ideology = totalist_subtype
			}
			promote_leader = yes
		}
	}
}

country_event = { #Radsoc election
	id = cuba_events.234
	title = cuba_events.234.t
	desc = cuba_events.234.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	trigger = {
		has_completed_focus = CUB_revdem_6
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.234 option cuba_events.234.a"
		name = cuba_events.234.a
		ai_chance = { base = 35 }
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = yes
		}
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.234 option cuba_events.234.b"
		name = cuba_events.234.b
		trigger = {
			OR = {
				is_in_faction = no
				faction_leader = { has_socialist_government = no }
			}
		}
		ai_chance = {
			base = 35
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
			}
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.234 option cuba_events.234.c"
		name = cuba_events.234.c
		trigger = {
			OR = {
				is_in_faction = no
				faction_leader = { has_socialist_government = no }
			}
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC }
			}
		}
		set_politics = {
			ruling_party = social_liberal
			elections_allowed = yes
		}
	}
}

country_event = { #Main election
	id = cuba_events.235
	title = cuba_events.234.t
	desc = cuba_events.235.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	trigger = {
		has_country_flag = CUB_electionman_flag
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.235 option cuba_events.235.a"
		name = cuba_events.235.a
		ai_chance = {
			base = 35
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = CUB_path option = DEFAULT } }
				NOT = { has_game_rule = { rule = CUB_path option = CUB_PATH_MARLIB } }
			}
		}
		set_politics = {
			ruling_party = market_liberal
			elections_allowed = yes
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.235 option cuba_events.235.b"
		name = cuba_events.235.b
		ai_chance = {
			base = 35
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = CUB_path option = DEFAULT } }
				NOT = { has_game_rule = { rule = CUB_path option = CUB_PATH_SOCDEM } }
			}
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.235 option cuba_events.235.c"
		name = cuba_events.235.c
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = CUB_path option = DEFAULT } }
				NOT = { has_game_rule = { rule = CUB_path option = CUB_PATH_SOCLIB } }
			}
		}
		set_politics = {
			ruling_party = social_liberal
			elections_allowed = yes
		}
	}
	after = {
		if = {
			limit = { has_country_flag = CUB_elec_post }
			country_event = { id = cuba_events.238 days = 1 }
		}
		clr_country_flag = CUB_electionman_flag
	}
}

country_event = { #Syndie election
	id = cuba_events.236
	title = cuba_events.234.t
	desc = cuba_events.236.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	trigger = {
		has_completed_focus = CUB_syndiedem
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.236 option cuba_events.236.a"
		name = cuba_events.236.a
		ai_chance = {
			base = 45
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = CUB_path option = DEFAULT } }
				NOT = { has_game_rule = { rule = CUB_path option = CUB_PATH_RADSOC } }
			}
		}
		hidden_effect = {
			set_politics = {
				ruling_party = radical_socialist
				elections_allowed = yes
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.236 option cuba_events.236.b"
		name = cuba_events.236.b
		ai_chance = {
			base = 45
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = CUB_path option = DEFAULT } }
				NOT = { has_game_rule = { rule = CUB_path option = CUB_PATH_SYNDIE } }
			}
		}
		set_politics = {
			ruling_party = syndicalist
			elections_allowed = yes
		}
		promote_character = CUB_antonio_guiteras_holmes
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.236 option cuba_events.236.c"
		name = cuba_events.236.c
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = CUB_path option = DEFAULT } }
				NOT = { has_game_rule = { rule = CUB_path option = CUB_PATH_TOTALIST } }
			}
		}
		set_politics = {
			ruling_party = totalist
			elections_allowed = no
		}
		if = {
			limit = { has_country_leader = { character = CUB_julio_mella_mcpartland } }
			promote_character = CUB_lazaro_pena_gonzalez
			hidden_effect = {
				set_country_flag = CUB_postmellacnoc
				country_event = { id = cuba_events.232 days = 14 }
			}
		}
		hidden_effect = {
			country_event = { id = cuba_events.237 days = 4 }
		}
	}
}

country_event = { #Totalist switching to dictatorship
	id = cuba_events.237
	title = cuba_events.237.t
	desc = cuba_events.237.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.237 option cuba_events.237.a"
		name = cuba_events.237.a
		if = {
			limit = { NOT = { has_completed_focus = CUB_syndienodem } }
			complete_national_focus = CUB_syndienodem
		}
	}
}

country_event = { # Cabinet Decision for repeat
	id = cuba_events.238
	title = cuba_events.238.t
	desc = cuba_events.238.d
	picture = GFX_report_event_CUB_cabinet
	is_triggered_only = yes

	option = { # Unity Cabinet
		log = "[GetLogInfo]: event cuba_events.238 option cuba_events.238.a"
		name = cuba_events.238.a

		if = {
			limit = { has_government = social_democrat }
			add_political_power = -20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.05
			}
		}
		else_if = {
			limit = { has_government = social_liberal }
			add_political_power = -20
			add_popularity = {
				ideology = social_liberal
				popularity = 0.05
			}
		}
		else_if = {
			limit = { has_government = market_liberal }
			add_political_power = -20
			add_popularity = {
				ideology = market_liberal
				popularity = 0.05
			}
		}
		clr_country_flag = CUB_elec_post
	}

	option = { #Mixed Cabinet
		log = "[GetLogInfo]: event cuba_events.238 option cuba_events.238.b"
		name = cuba_events.238.b

		if = {
			limit = { has_government = social_democrat }
			add_political_power = 20
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		else_if = {
			limit = { has_government = social_liberal }
			add_political_power = 20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		else_if = {
			limit = { has_government = market_liberal }
			add_political_power = 20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
		}
	}

	option = { # Mixed Cabinet Forever
		log = "[GetLogInfo]: event cuba_events.238 option cuba_events.238.c"
		name = cuba_events.238.c

		if = {
			limit = { has_government = social_democrat }
			add_political_power = 40
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		else_if = {
			limit = { has_government = social_liberal }
			add_political_power = 40
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		else_if = {
			limit = { has_government = market_liberal }
			add_political_power = 40
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
		}
		clr_country_flag = CUB_elec_post
	}
}

country_event = { #US puppet election
	id = cuba_events.239
	title = cuba_events.239.t
	desc = cuba_events.239.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	trigger = {
		OR = {
			has_completed_focus = CUB_nomorelapdop_7
			has_completed_focus = CUB_democratize_auth_8
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.239 option cuba_events.239.a"
		name = cuba_events.239.a
		ai_chance = {
			base = 35
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = CUB_path option = DEFAULT } }
				NOT = { has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB } }
			}
		}

		set_politics = {
			ruling_party = market_liberal
			elections_allowed = yes
		}
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.239 option cuba_events.239.b"
		name = cuba_events.239.b
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = CUB_path option = DEFAULT } }
				NOT = { has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB } }
			}
		}

		set_politics = {
			ruling_party = social_liberal
			elections_allowed = yes
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.239 option cuba_events.239.c"
		name = cuba_events.239.c
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = CUB_path option = DEFAULT } }
				NOT = { has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM } }
			}
		}

		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
		}
	}
}

country_event = { #Let Machado Return?
	id = cuba_events.240
	title = cuba_events.240.t
	desc = cuba_events.240.d
	picture = GFX_report_event_CUB_gmachado
	is_triggered_only = yes

	option = { #yes
		log = "[GetLogInfo]: event cuba_events.240 option cuba_events.240.a"
		name = cuba_events.240.a
		ai_chance = { base = 70 }
		add_political_power = 10
		add_war_support = -0.01
	}

	option = { #no
		log = "[GetLogInfo]: event cuba_events.240 option cuba_events.240.b"
		name = cuba_events.240.b
		ai_chance = { base = 30 }
		add_political_power = -10
		add_war_support = 0.01
	}
}

country_event = { #Amadeo Roldn Gardes Death
	id = cuba_events.241
	title = cuba_events.241.t
	desc = cuba_events.241.d
	picture = GFX_report_event_CUB_amadeoroldan
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.241 option cuba_events.241.a"
		name = cuba_events.241.a

		add_political_power = -5
	}
}

country_event = { #Alejandro Garca Caturla Death
	id = cuba_events.242
	title = cuba_events.242.t
	desc = cuba_events.242.d
	picture = GFX_report_event_CUB_alejandrogarcia
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.242 option cuba_events.242.a"
		name = cuba_events.242.a

		add_political_power = -5
	}
}

country_event = { #notice of ending trade ties
	id = cuba_events.243
	title = cuba_events.243.t
	desc = cuba_events.243.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.243 option cuba_events.243.a"
		name = cuba_events.243.a

		add_political_power = -5
	}
}

country_event = { #autogyro craze
	id = cuba_events.244
	title = cuba_events.244.t
	desc = cuba_events.244.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_autogyro

	option = {
		log = "[GetLogInfo]: event cuba_events.244 option cuba_events.244.a"
		name = cuba_events.244.a

		air_experience = 5
	}
}

country_event = { #Afro-cuban jazz
	id = cuba_events.245
	title = cuba_events.245.t
	desc = cuba_events.245.d
	picture = GFX_report_event_CUB_afroband
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.245 option cuba_events.245.a"
		name = cuba_events.245.a

		add_political_power = -5
	}
}

country_event = { #Ask Jose Marti Zayas-Bazan to take new commission
	id = cuba_events.246
	title = cuba_events.246.t
	desc = cuba_events.246.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.246 option cuba_events.246.a"
		name = cuba_events.246.a

		hidden_effect = {
			country_event = { id = cuba_events.248 days = 2 }
		}
	}
}

country_event = { #Ask Alberto Herrera Franchi and Jose Marti Zayas-Bazan to take new commission
	id = cuba_events.247
	title = cuba_events.246.t
	desc = cuba_events.247.d
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.247 option cuba_events.247.a"
		name = cuba_events.247.a

		hidden_effect = {
			country_event = { id = cuba_events.248 days = 2 }
		}
		set_country_flag = CUB_herreraalso
	}
}

country_event = { #yay
	id = cuba_events.248
	title = cuba_events.248.t
	desc = {
		text = cuba_events.248.d_1
		trigger = {
			NOT = { has_country_flag = CUB_herreraalso }
		}
	}
	desc = {
		text = cuba_events.248.d_2
		trigger = {
			has_country_flag = CUB_herreraalso
		}
	}
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.248 option cuba_events.248.a"
		name = cuba_events.248.a
		show_unit_leaders_tooltip = CUB_jose_francisco_marti_zayas_bazan
		hidden_effect = {
			CUB_jose_francisco_marti_zayas_bazan = {
				set_character_flag = CUB_recruited
				set_nationality = ROOT
			}
		}
		if = {
			limit = { has_country_flag = CUB_herreraalso }
			show_unit_leaders_tooltip = CUB_jose_francisco_marti_zayas_bazan
			hidden_effect = { CUB_add_herrera_as_general = yes }
		}
	}
}

country_event = { #autentico puppet election
	id = cuba_events.250
	title = cuba_events.250.t
	desc = cuba_events.250.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	trigger = {
		has_completed_focus = CUB_autenticfoc_4
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.250 option cuba_events.250.a"
		name = cuba_events.250.a
		trigger = {
			NOT = { has_country_flag = CUB_nomoreauttents }
		}

		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
		}
	}
	option = {
		log = "[GetLogInfo]: event cuba_events.250 option cuba_events.250.b"
		name = cuba_events.250.b
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
		}
		promote_character = CUB_carlos_prio_socarras
		hidden_effect = {
			if = {
				limit = { NOT = { has_country_flag = CUB_autopenagain } }
				country_event = { id = cuba_events.2190 days = 15 }
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event cuba_events.250 option cuba_events.250.c"
		name = cuba_events.250.c
		trigger = {
			has_country_flag = CUB_autopenagain
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
		if = {
			limit = { NOT = { has_country_leader = { character = CUB_manuel_bisbe_alberni } } }
			set_country_flag = CUB_trejostepsdown
			promote_character = CUB_manuel_bisbe_alberni
		}
	}
}

country_event = { #Menocal Death
	id = cuba_events.251
	title = cuba_events.251.t
	desc = {
		text = cuba_events.251.d_1
		trigger = {
			NOT = { has_country_leader = { character = CUB_carlos_prio_socarras } }
		}
	}
	desc = {
		text = cuba_events.251.d_2
		trigger = {
			has_country_leader = { character = CUB_carlos_prio_socarras }
		}
	}
	picture = GFX_report_event_CUB_menocal

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.251 option cuba_events.251.a"
		name = cuba_events.251.a
		promote_character = CUB_carlos_prio_socarras
		retire_character = CUB_mario_garcia_menocal
	}
}

country_event = { #Carmelo Gonzlez Arias killed on eve of election
	id = cuba_events.254
	title = cuba_events.254.t
	desc = cuba_events.254.d
	picture = GFX_report_event_CUB_officer_death
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.254 option cuba_events.254.a"
		name = cuba_events.254.a
		add_political_power = -15
		add_stability = -0.02
	}
}

country_event = { #Peru denounces
	id = cuba_events.255
	title = cuba_events.255.t
	desc = cuba_events.255.d
	picture = GFX_report_event_PRU_haya_de_la_torre
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.255 option cuba_events.255.a"
		name = cuba_events.255.a
		hidden_effect = {
			CUB = {
				country_event = { id = cuba_events.256 days = 1 }
			}
		}
	}
}

country_event = { #Peru denounces (CUB)
	id = cuba_events.256
	title = cuba_events.256.t
	desc = cuba_events.256.d
	picture = GFX_report_event_PRU_haya_de_la_torre
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.256 option cuba_events.256.a"
		name = cuba_events.256.a
		hidden_effect = {
			PRU = {
				country_event = { id = cuba_events.257 days = 1 }
			}
		}
		add_opinion_modifier = {
			target = PRU
			modifier = KR_diplomatic_row
		}
	}
}

country_event = { #Peru denounces end
	id = cuba_events.257
	title = cuba_events.257.t
	desc = cuba_events.257.d
	picture = GFX_report_event_PRU_haya_de_la_torre
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.257 option cuba_events.257.a"
		name = cuba_events.257.a
		add_political_power = 10
		add_opinion_modifier = {
			target = CUB
			modifier = KR_diplomatic_row
		}
	}
}

### Cuba takes GITMO ###
country_event = {# United states in disarray - Cuba's reaction
	id = cuba_events.400
	title = cuba_events.400.t
	desc = {
		text = cuba_events.400.d_1
		trigger = {
			NOT = { has_country_flag = CUB_brokefreefromUS }
		}
	}
	desc = {
		text = cuba_events.400.d_2
		trigger = {
			has_country_flag = CUB_brokefreefromUS
		}
	}
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes

	trigger = {
		tag = CUB
		has_global_flag = USA_civil_war_begun_flag
		USA = { tag = GTM }
		NOT = { has_idea = CUB_american_puppet_idea }
	}

	mean_time_to_happen = {
		days = 5
	}

	option = {# Seize the naval base
		log = "[GetLogInfo]: event cuba_events.400 option cuba_events.400.a"
		name = cuba_events.400.a
		ai_chance = {
			base = 100
			modifier = {
				add = -40
				has_government = authoritarian_democrat
			}
		}
		USA = {
			country_event = cuba_events.401
		}
		GTM_end_lease = yes
	}

	option = {# don't seize the naval base
		log = "[GetLogInfo]: event cuba_events.400 option cuba_events.400.b"
		name = cuba_events.400.b
		ai_chance = {
			base = 0
			modifier = {
				add = 40
				has_government = authoritarian_democrat
			}
		}
		add_stability = -0.02
		reverse_add_opinion_modifier = { target = USA modifier = KR_pleased }
	}

	after = {
		if = {
			limit = { has_idea = CUB_american_influence }
			remove_ideas = CUB_american_influence
		}
		else_if = {
			limit = { has_idea = CUB_american_influence_2 }
			remove_ideas = CUB_american_influence_2
		}
	}
}

country_event = {# Cuba Seizes Guantanamo naval base
	id = cuba_events.401
	title = cuba_events.401.t
	desc = cuba_events.401.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.401 option cuba_events.401.a"
		name = cuba_events.401.a
		custom_effect_tooltip = gitmo_ended_tt
	}
}

country_event = {# US puppet cuba considers breaking free
	id = cuba_events.402
	title = cuba_events.400.t
	desc = cuba_events.402.d
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes

	trigger = {
		tag = CUB
		has_global_flag = USA_civil_war_begun_flag
		has_idea = CUB_american_puppet_idea
	}

	mean_time_to_happen = {
		days = 5
	}

	option = {# break free
		log = "[GetLogInfo]: event cuba_events.402 option cuba_events.402.a"
		name = cuba_events.402.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_AUTDEM }
					has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_MARLIB }
				}
			}
		}
		add_political_power = 50
		USA = {
			country_event = cuba_events.403
		}
		remove_ideas = CUB_american_puppet_idea
		reverse_add_opinion_modifier = { target = USA modifier = KR_disapproves_of_govt }
		add_opinion_modifier = { target = USA modifier = KR_disapproves_of_govt }
		set_country_flag = CUB_brokefreefromUS
	}

	option = {# stay loyal
		log = "[GetLogInfo]: event cuba_events.402 option cuba_events.402.b"
		name = cuba_events.402.b
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_game_rule = { rule = CUB_path option = CUB_PATH_COUP_SOCLIB }
			}
		}
		add_stability = -0.05
		USA = {
			country_event = cuba_events.404
		}
		reverse_add_opinion_modifier = { target = USA modifier = KR_loyal_subject }
		add_opinion_modifier = { target = USA modifier = KR_loyal_subject }
		swap_ideas = {
			remove_idea = CUB_american_puppet_idea
			add_idea = CUB_american_loyal_idea
		}
	}
}

country_event = {# Cuba breaks free - US notice
	id = cuba_events.403
	title = cuba_events.403.t
	desc = cuba_events.403.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event cuba_events.403 option cuba_events.403.a"
		name = cuba_events.403.a
		add_political_power = -20
		add_stability = -0.01
	}
}

country_event = {# Cuba stays loyal free - US notice & offering them gitmo
	id = cuba_events.404
	title = cuba_events.404.t
	desc = cuba_events.404.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = { #Give
		log = "[GetLogInfo]: event cuba_events.404 option cuba_events.404.a"
		name = cuba_events.404.a
		GTM_end_lease = yes
		CUB = {
			country_event = cuba_events.405
		}
		reverse_add_opinion_modifier = { target = CUB modifier = KR_returned_land }
	}

	option = {#Keep
		log = "[GetLogInfo]: event cuba_events.404 option cuba_events.404.b"
		name = cuba_events.404.b
		add_political_power = -10
	}
}

country_event = {# US gives Cuba gitmo - US notice
	id = cuba_events.405
	title = cuba_events.405.t
	desc = cuba_events.405.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = { #great!
		log = "[GetLogInfo]: event cuba_events.405 option cuba_events.405.a"
		name = cuba_events.405.a
		custom_effect_tooltip = gitmo_ended2_tt
	}
}

country_event = {# Puppet Cuba USA ded
	id = cuba_events.406
	title = cuba_events.406.t
	desc = cuba_events.406.d
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes

	trigger = {
		tag = CUB
		NOT = { country_exists = USA }
		OR = {
			has_idea = CUB_american_puppet_idea
			has_idea = CUB_american_loyal_idea
		}
	}

	mean_time_to_happen = {
		days = 5
	}

	option = { #great!
		log = "[GetLogInfo]: event cuba_events.406 option cuba_events.406.a"
		name = cuba_events.406.a
		add_political_power = -50
		add_stability = -0.05
		if = {
			limit = { has_idea = CUB_american_puppet_idea }
			remove_ideas = CUB_american_puppet_idea
		}
		else = {
			remove_ideas = CUB_american_loyal_idea
		}
		if = {
			limit = {
				GTM = {
					tag = USA
				}
			}
			GTM_end_lease = yes
		}
	}
}

country_event = {# Denounce/Support Socialists
	id = cuba_events.407
	immediate = {
		if = {
			limit = {
				OR = {
					has_democratic_government = yes
					has_government = paternal_autocrat
				}
			}
			hidden_effect = {
				country_event = { id = cuba_events.240 days = 18 }
			}
		}
	}
	title = cuba_events.407.t
	desc = {
		text = cuba_events.407.d_1
		trigger = {
			has_socialist_government = no
		}
	}
	desc = {
		text = cuba_events.407.d_2
		trigger = {
			has_socialist_government = yes
		}
	}

	fire_only_once = yes

	trigger = {
		tag = CUB
		has_global_flag = USA_civil_war_begun_flag
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {#
		log = "[GetLogInfo]: event cuba_events.407 option cuba_events.407.a"
		name = cuba_events.407.a

		if = {
			limit = { has_socialist_government = yes }
			reverse_add_opinion_modifier = { target = WCA modifier = KR_supported_us }
			reverse_add_opinion_modifier = { target = APG modifier = KR_supported_our_enemies }
		}
		else = {
			reverse_add_opinion_modifier = { target = WCA modifier = KR_supported_our_enemies }
		}
	}
}

